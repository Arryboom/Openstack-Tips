/* yui/anim-color/anim-color-min.js */
YUI.add("anim-color",function(e,t){var n=Number;e.Anim.getUpdatedColorValue=function(t,r,i,s,o){return t=e.Color.re_RGB.exec(e.Color.toRGB(t)),r=e.Color.re_RGB.exec(e.Color.toRGB(r)),(!t||t.length<3||!r||r.length<3)&&e.error("invalid from or to passed to color behavior"),"rgb("+[Math.floor(o(i,n(t[1]),n(r[1])-n(t[1]),s)),Math.floor(o(i,n(t[2]),n(r[2])-n(t[2]),s)),Math.floor(o(i,n(t[3]),n(r[3])-n(t[3]),s))].join(", ")+")"},e.Anim.behaviors.color={set:function(t,n,r,i,s,o,u){t._node.setStyle(n,e.Anim.getUpdatedColorValue(r,i,s,o,u))},get:function(e,t){var n=e._node.getComputedStyle(t);return n=n==="transparent"?"rgb(255, 255, 255)":n,n}},e.each(["backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],function(t){e.Anim.behaviors[t]=e.Anim.behaviors.color})},"3.10.3",{requires:["anim-base"]});

/* yui/anim-xy/anim-xy-min.js */
YUI.add("anim-xy",function(e,t){var n=Number;e.Anim.behaviors.xy={set:function(e,t,r,i,s,o,u){e._node.setXY([u(s,n(r[0]),n(i[0])-n(r[0]),o),u(s,n(r[1]),n(i[1])-n(r[1]),o)])},get:function(e){return e._node.getXY()}}},"3.10.3",{requires:["anim-base","node-screen"]});

/* yui/anim-curve/anim-curve-min.js */
YUI.add("anim-curve",function(e,t){e.Anim.behaviors.curve={set:function(t,n,r,i,s,o,u){r=r.slice.call(r),i=i.slice.call(i);var a=u(s,0,100,o)/100;i.unshift(r),t._node.setXY(e.Anim.getBezier(i,a))},get:function(e){return e._node.getXY()}},e.Anim.getBezier=function(e,t){var n=e.length,r=[],i,s;for(i=0;i<n;++i)r[i]=[e[i][0],e[i][1]];for(s=1;s<n;++s)for(i=0;i<n-s;++i)r[i][0]=(1-t)*r[i][0]+t*r[parseInt(i+1,10)][0],r[i][1]=(1-t)*r[i][1]+t*r[parseInt(i+1,10)][1];return[r[0][0],r[0][1]]}},"3.10.3",{requires:["anim-xy"]});

/* yui/anim-easing/anim-easing-min.js */
YUI.add("anim-easing",function(e,t){var n={easeNone:function(e,t,n,r){return n*e/r+t},easeIn:function(e,t,n,r){return n*(e/=r)*e+t},easeOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeBoth:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInStrong:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutStrong:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeBothStrong:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},elasticIn:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s))+t)},elasticOut:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-o)*2*Math.PI/s)+n+t)},elasticBoth:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r/2)===2?t+n:(s||(s=r*.3*1.5),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),e<1?-0.5*i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)*.5+n+t)},backIn:function(e,t,n,r,i){return i===undefined&&(i=1.70158),e===r&&(e-=.001),n*(e/=r)*e*((i+1)*e-i)+t},backOut:function(e,t,n,r,i){return typeof i=="undefined"&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},backBoth:function(e,t,n,r,i){return typeof i=="undefined"&&(i=1.70158),(e/=r/2)<1?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},bounceIn:function(t,n,r,i){return r-e.Easing.bounceOut(i-t,0,r,i)+n},bounceOut:function(e,t,n,r){return(e/=r)<1/2.75?n*7.5625*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},bounceBoth:function(t,n,r,i){return t<i/2?e.Easing.bounceIn(t*2,0,r,i)*.5+n:e.Easing.bounceOut(t*2-i,0,r,i)*.5+r*.5+n}};e.Easing=n},"3.10.3",{requires:["anim-base"]});

/* yui/anim-node-plugin/anim-node-plugin-min.js */
YUI.add("anim-node-plugin",function(e,t){var n=function(t){t=t?e.merge(t):{},t.node=t.host,n.superclass.constructor.apply(this,arguments)};n.NAME="nodefx",n.NS="fx",e.extend(n,e.Anim),e.namespace("Plugin"),e.Plugin.NodeFX=n},"3.10.3",{requires:["node-pluginhost","anim-base"]});

/* yui/anim-scroll/anim-scroll-min.js */
YUI.add("anim-scroll",function(e,t){var n=Number;e.Anim.behaviors.scroll={set:function(e,t,r,i,s,o,u){var a=e._node,f=[u(s,n(r[0]),n(i[0])-n(r[0]),o),u(s,n(r[1]),n(i[1])-n(r[1]),o)];f[0]&&a.set("scrollLeft",f[0]),f[1]&&a.set("scrollTop",f[1])},get:function(e){var t=e._node;return[t.get("scrollLeft"),t.get("scrollTop")]}}},"3.10.3",{requires:["anim-base"]});

/* lp/app/javascript/effects/effects-min.js */

YUI.add('lp.ui.effects',function(Y){var namespace=Y.namespace('lp.ui.effects');var OPENED='lazr-opened';var CLOSED='lazr-closed';namespace.slide_effect_defaults={easing:Y.Easing.easeOut,duration:0.4};function default_to_height(node){return node.get('scrollHeight');}
namespace.reversible_slide_out=function(node,user_cfg){var cfg=Y.merge(namespace.slide_effect_defaults,user_cfg);if(!Y.Object.owns(cfg,'node')||!Y.Lang.isValue(cfg.node)){cfg.node=node;}
node=Y.one(node);cfg.from=cfg.from?cfg.from:{};cfg.from.height=cfg.from.height?cfg.from.height:0;cfg.to=cfg.to?cfg.to:{};cfg.to.height=cfg.to.height?cfg.to.height:default_to_height;var anim=new Y.Anim(cfg);node.addClass(CLOSED);node.setStyles({height:cfg.from.height,overflow:'hidden'});anim.after('reverseChange',function(){if(this.get('running')){this.stop();var current_height=node.getStyle('height');var full_height=node.get('scrollHeight');if(this.get('reverse')){this.set('from',{height:'0px'});this.set('to',{height:current_height});}else{this.set('from',{height:current_height});this.set('to',{height:full_height});}}else{this.set('from',{height:'0px'});this.set('to',{height:default_to_height});if(this.get('reverse')){this.get('node').setStyle('height','auto');}}});anim.on('end',function(){if(this.get('reverse')){node.addClass(CLOSED).removeClass(OPENED);}else{node.addClass(OPENED).removeClass(CLOSED);}});return anim;};namespace.reversible_slide_in=function(node,user_cfg){var anim=namespace.reversible_slide_out(node,user_cfg);anim.set('reverse',true);return anim;};namespace.slide_out=function(node,user_cfg){var cfg=Y.merge(namespace.slide_effect_defaults,user_cfg);if(typeof cfg.node==='undefined'){cfg.node=node;}
node=Y.one(node);if(node===null){Y.fail("A valid node, HTMLElement, or CSS3 selector must be given "+"for the slide_out animation.");return null;}
cfg.from=cfg.from?cfg.from:{};cfg.from.height=cfg.from.height?cfg.from.height:0;cfg.to=cfg.to?cfg.to:{};cfg.to.height=cfg.to.height?cfg.to.height:default_to_height;node.setStyles({height:cfg.from.height,overflow:'hidden',display:'block'});var anim=new Y.Anim(cfg);anim.drawer_closed=true;add_slide_state_events(anim);node.addClass(CLOSED);return anim;};namespace.slide_in=function(node,user_cfg){var cfg=Y.merge(namespace.slide_effect_defaults,user_cfg);if(typeof cfg.node==='undefined'){cfg.node=node;}
node=Y.one(node);if(node===null){Y.fail("A valid node, HTMLElement, or CSS3 selector must be given "+"for the slide_in animation.");return null;}
var default_from_height=node.get('clientHeight');cfg.from=cfg.from?cfg.from:{};cfg.from.height=cfg.from.height?cfg.from.height:default_from_height;cfg.to=cfg.to?cfg.to:{};cfg.to.height=cfg.to.height?cfg.to.height:0;var anim=new Y.Anim(cfg);anim.drawer_closed=false;add_slide_state_events(anim);node.addClass(OPENED);return anim;};function add_slide_state_events(anim){var node=anim.get('node');anim.on('start',function(){if(!this.drawer_closed){node.setStyle('overflow','hidden');}});anim.on('end',function(){if(this.drawer_closed){this.drawer_closed=false;node.setStyle('overflow','visible').addClass(OPENED).removeClass(CLOSED);}else{this.drawer_closed=true;node.addClass(CLOSED).removeClass(OPENED);}});}},null,{"skinnable":true,"requires":["anim","node"]});
/* lp/app/javascript/expander-min.js */

YUI.add('lp.app.widgets.expander',function(Y){var namespace=Y.namespace('lp.app.widgets.expander');var EXPANDER_CREATED='expander:created',EXPANDER_DESTROYED='expander:destroyed',EXPANDER_STATE_CHANGED='expander:state_changed',EXPANDED='expander:expanded',COLLAPSED='expander:collapsed';namespace.EXPANDER_CREATED=EXPANDER_CREATED;namespace.EXPANDER_DESTORYED=EXPANDER_DESTROYED;namespace.EXPANDER_STATE_CHANGED=EXPANDER_STATE_CHANGED;namespace.EXPANDED=EXPANDED;namespace.COLLAPSED=COLLAPSED;function ExpanderRadioController(){ExpanderRadioController.superclass.constructor.apply(this,arguments);}
ExpanderRadioController.NAME="ExpanderRadioController";Y.extend(ExpanderRadioController,Y.Base,{initializer:function(){this.expanders={};var controller=this;Y.on(EXPANDER_CREATED,function(group_id,expander){controller._registerExpander(group_id,expander);});Y.on(EXPANDER_DESTROYED,function(group_id,expander){controller._deregisterExpander(group_id,expander);});Y.on(EXPANDER_STATE_CHANGED,function(group_id,new_state,active_expander){controller._stateChangeProcessor(group_id,new_state,active_expander);});},_stateChangeProcessor:function(group_id,new_state,active_expander){Y.Array.forEach(this.expanders[group_id],function(expander){if(new_state===EXPANDED&&expander!==active_expander){if(expander.isExpanded()){expander.render(false);}}},this);},_registerExpander:function(group_id,expander){if(!this.expanders.hasOwnProperty(group_id)){this.expanders[group_id]=[];}
this.expanders[group_id].push(expander);},_deregisterExpander:function(group_id,expander){if(this.expanders.hasOwnProperty(group_id)){var idx=Y.Array.indexOf(this.expanders[group_id],expander);if(idx!==-1){this.expanders[group_id].splice(idx,1);}}}});if(namespace.expanderRadioController===undefined){namespace.expanderRadioController=new ExpanderRadioController();}
function Expander(icon_node,content_node,config){Expander.superclass.constructor.apply(this);if(!Y.Lang.isObject(icon_node)){throw new Error("No icon node given.");}
if(!Y.Lang.isObject(content_node)){throw new Error("No content node given.");}
if(content_node.hasClass('hide-on-load')){content_node.removeClass('hide-on-load');content_node.addClass(this.css_classes.hidden);}
this.icon_node=icon_node;this.content_node=content_node;if(Y.Lang.isValue(config)){this.config=config;}else{this.config={};}
this.loaded=!Y.Lang.isValue(this.config.loader);if(Y.Object.owns(config,'animate_node')&&Y.Lang.isValue(this.config.animate_node)){this._animate_node=Y.one(this.config.animate_node);}else{this._animate_node=this.content_node;}
if(this.config.no_animation!==true){this._animation=Y.lp.ui.effects.reversible_slide_out(this._animate_node);}else{this._animation=undefined;}
if(Y.Lang.isValue(this.config.group_id)){Y.fire(EXPANDER_CREATED,this.config.group_id,this);}
this.fully_set_up=false;}
Expander.NAME="Expander";namespace.Expander=Expander;Y.extend(Expander,Y.Base,{css_classes:{expanded:'expanded',hidden:'hidden'},destructor:function(){if(Y.Lang.isValue(this.config.group_id)){Y.fire(EXPANDER_DESTROYED,this.config.group_id,this);}},nameSprite:function(expanded){if(expanded){return'treeExpanded';}else{return'treeCollapsed';}},isExpanded:function(){return this.content_node.hasClass(this.css_classes.expanded);},setContentClassIf:function(want_class,class_name){if(want_class){this.content_node.addClass(class_name);}else{this.content_node.removeClass(class_name);}},setExpanded:function(is_expanded){var state_changed=this.isExpanded()!==is_expanded;this.setContentClassIf(is_expanded,this.css_classes.expanded);if(state_changed&&Y.Lang.isValue(this.config.group_id)){Y.fire(EXPANDER_STATE_CHANGED,this.config.group_id,is_expanded?EXPANDED:COLLAPSED,this);}},foldContentNode:function(expand,no_animation){var expander=this;if(no_animation===true||Y.Lang.isUndefined(this._animation)){if(!Y.Lang.isUndefined(this._animation)){this._animation.set('reverse',expand);}
expander.setContentClassIf(!expand,expander.css_classes.hidden);}else{this._animation.set('reverse',!expand);if(expand){expander.setContentClassIf(false,expander.css_classes.hidden);}else{this._animation.once('end',function(){if(this.get('reverse')){expander.setContentClassIf(true,expander.css_classes.hidden);}});}
expander._animation.run();}},revealIcon:function(){this.icon_node.addClass('sprite').removeClass('hidden');},setIcon:function(expand){this.icon_node.removeClass(this.nameSprite(!expand)).addClass(this.nameSprite(expand)).setStyle('cursor','pointer');},receive:function(output,failed){if(failed===true){this.loaded=false;}
var from_height=this._animate_node.getStyle('height');this._animate_node.setContent(output);if(Y.Lang.isUndefined(this._animation)){return;}
var to_height=this._animate_node.get('scrollHeight');if(this._animation.get('running')){this._animation.stop();}
this._animation.set('to',{height:to_height});this._animation.set('from',{height:from_height});this._animation.run();},load:function(){this.loaded=true;this.config.loader(this);},render:function(expanded,no_animation){this.foldContentNode(expanded,no_animation);this.setIcon(expanded);if(expanded&&!this.loaded){this.load();}
this.setExpanded(expanded);},wrapNodeWithLink:function(node){var link_node=Y.Node.create('<a></a>').addClass('js-action').set('href','#').setContent(node.getContent());node.setContent(link_node);},setUp:function(linkify){var expander=this;function click_handler(e){e.halt();expander.render(!expander.isExpanded());}
this.render(this.isExpanded(),true);if(linkify===true){this.wrapNodeWithLink(this.icon_node);}
this.icon_node.on('click',click_handler);this.revealIcon();this.fully_set_up=true;return this;}});function createByCSS(widget_select,icon_select,content_select,linkify,loader){var config={loader:loader};var expander_factory=function(widget){var expander=new Expander(widget.one(icon_select),widget.one(content_select),config);expander.setUp(linkify);};Y.all(widget_select).each(expander_factory);}
namespace.createByCSS=createByCSS;},"0.1",{"requires":["base","event","node","lp.ui.effects"]});
/* lp/app/javascript/lp-min.js */

YUI.add('lp',function(Y){var lp=Y.namespace('lp');lp.launchpad_views={set:function(key,value){var domain=document.location.hostname.replace(/.*(launchpad.*)/,'$1');var future=new Date();future.setYear(future.getFullYear()+1);var config={path:'/',domain:domain,secure:true,expires:future};Y.Cookie.setSub('launchpad_views',key,value,config);},get:function(key){return(Y.Cookie.getSub('launchpad_views',key)!=='false');}};Y.lp.activate_collapsibles=function(){Y.lp.app.widgets.expander.createByCSS('.collapsible','> :first-child','> :first-child + *',true);};var get_hyperlink=function(url){var link=Y.Node.create('<a>junk</a>');link.set('href',url);return link;};Y.lp.get_url_path=function(url){var pathname=get_hyperlink(url).get('pathname');if(!pathname||pathname[0]!=='/'){pathname='/'+pathname;}
if(pathname.length>1&&pathname[1]==='/'){pathname=pathname.substring(1,pathname.length);}
return pathname;};Y.lp.get_url_query=function(url){var link=get_hyperlink(url);var query=link.get('search');if(query.length>0){query=query.slice(1);}
return query;};},"0.1",{"requires":["cookie","lp.app.widgets.expander"]});
/* lp/app/javascript/foldables-min.js */

YUI.add('lp.app.foldables',function(Y){var module=Y.namespace('lp.app.foldables');var VOID_URL='_:void(0);'.replace('_','javascript');var toggleFoldable=function(e){var ELEMENT_NODE=1;var node=e.currentTarget;while(node.get('nextSibling')){node=node.get('nextSibling');if(node.get('nodeType')!==ELEMENT_NODE){continue;}
if(!node.hasClass('foldable')&&!node.hasClass('foldable-quoted')){continue;}
if(node.getStyle('display')==='none'){node.setStyle('display','inline');}else{node.setStyle('display','none');}}};module.activate=function(){var included=Y.all('span.foldable');var quoted=Y.all('span.foldable-quoted');quoted.each(function(n){included.push(n);});included.each(function(span,index,list){if(span.hasClass('foldable-quoted')){var quoted_lines=span.all('br');if(quoted_lines&&quoted_lines.size()<=11){return;}}
var ellipsis=Y.Node.create('<a/>');ellipsis.setStyle('textDecoration','underline');ellipsis.set('href',VOID_URL);ellipsis.on('click',toggleFoldable);ellipsis.appendChild(Y.Node.create('[...]'));span.get('parentNode').insertBefore(ellipsis,span);span.insertBefore(Y.Node.create('<br/>'),span.get('firstChild'));span.setStyle('display','none');if(span.get('nextSibling')){var br=Y.Node.create('<br/>');span.get('parentNode').insertBefore(br,span.get('nextSibling'));}});};},'0.1.0',{requires:['base','node']});
/* lp/app/javascript/sorttable/sorttable-min.js */

YUI.add('lp.app.sorttable',function(Y){var namespace=Y.namespace('lp.app.sorttable');var stIsIE=false;var sort_functions={};var sorttable={init:function(force_refresh){if(!force_refresh){if(arguments.callee.done)return;}
arguments.callee.done=true;if(!document.createElement||!document.getElementsByTagName)return;sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/;forEach(document.getElementsByTagName('table'),function(table){if(table.className.search(/\bsortable\b/)!=-1){sorttable.makeSortable(table);}});},registerSortKeyFunction:function(name,func){sort_functions[name]=func;},makeSortable:function(table){if(table.getElementsByTagName('thead').length==0){the=document.createElement('thead');the.appendChild(table.rows[0]);table.insertBefore(the,table.firstChild);}
if(table.tHead==null)table.tHead=table.getElementsByTagName('thead')[0];if(table.tHead.rows.length!=1)return;sortbottomrows=[];for(var i=0;i<table.rows.length;i++){if(table.rows[i].className.search(/\bsortbottom\b/)!=-1){sortbottomrows[sortbottomrows.length]=table.rows[i];}}
if(sortbottomrows){if(table.tFoot==null){tfo=document.createElement('tfoot');table.appendChild(tfo);}
for(var i=0;i<sortbottomrows.length;i++){tfo.appendChild(sortbottomrows[i]);}
delete sortbottomrows;}
headrow=table.tHead.rows[0].cells;for(var i=0;i<headrow.length;i++){if(!headrow[i].className.match(/\bsorttable_nosort\b/)){mtch=headrow[i].className.match(/\bsorttable_([a-z0-9]+)\b/);if(mtch){override=mtch[1];}
var colspan_offset=0;var td=headrow[i];while(td.previousSibling!=null){td=td.previousSibling;if(td.nodeType!=1){continue}
var colspan=td.getAttribute("colspan");if(colspan){colspan_offset+=parseInt(colspan)-1;}}
headrow[i].sorttable_columnindex=i+colspan_offset;if(mtch&&typeof sorttable["sort_"+override]=='function'){headrow[i].sorttable_sortfunction=sorttable["sort_"+override];}else{headrow[i].sorttable_sortfunction=sorttable.guessType(table,i+colspan_offset);}
var sortkey_function=sorttable.getInnerText;if(mtch&&typeof sort_functions[override]=='function'){sortkey_function=sort_functions[override];}
headrow[i].sortkey_function=sortkey_function;var sort_column=function(sort_column,headrow){if(headrow.className.search(/\bsorttable_sorted\b/)!=-1){sorttable.reverse(headrow.sorttable_tbody);headrow.className=headrow.className.replace('sorttable_sorted','sorttable_sorted_reverse');headrow.removeChild(document.getElementById('sorttable_sortfwdind'));sortrevind=document.createElement('span');sortrevind.id="sorttable_sortrevind";sortrevind.innerHTML=stIsIE?'&nbsp<font face="webdings">5</font>':'&nbsp;&#x25BE;';headrow.appendChild(sortrevind);return;}
if(headrow.className.search(/\bsorttable_sorted_reverse\b/)!=-1){sorttable.reverse(headrow.sorttable_tbody);headrow.className=headrow.className.replace('sorttable_sorted_reverse','sorttable_sorted');headrow.removeChild(document.getElementById('sorttable_sortrevind'));sortfwdind=document.createElement('span');sortfwdind.id="sorttable_sortfwdind";sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':'&nbsp;&#x25BE;';headrow.appendChild(sortfwdind);return;}
theadrow=headrow.parentNode;forEach(theadrow.childNodes,function(cell){if(cell.nodeType==1){cell.className=cell.className.replace('sorttable_sorted_reverse','');cell.className=cell.className.replace('sorttable_sorted','');}});sortfwdind=document.getElementById('sorttable_sortfwdind');if(sortfwdind){sortfwdind.parentNode.removeChild(sortfwdind);}
sortrevind=document.getElementById('sorttable_sortrevind');if(sortrevind){sortrevind.parentNode.removeChild(sortrevind);}
headrow.className+=' sorttable_sorted';sortfwdind=document.createElement('span');sortfwdind.id="sorttable_sortfwdind";sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':'&nbsp;&#x25B4;';headrow.appendChild(sortfwdind);row_array=[];col=headrow.sorttable_columnindex;rows=headrow.sorttable_tbody.rows;for(var j=0;j<rows.length;j++){var cell_col=col;for(var k=0;k<sort_column;k++){var cell_colspan=parseInt(rows[j].cells[k].colSpan);if(cell_colspan>1){cell_col-=cell_colspan-1;}}
var sortkey_func=headrow.sortkey_function;var sortkey=[sortkey_func(rows[j].cells[cell_col],sorttable.getInnerText),rows[j]];row_array[row_array.length]=sortkey;}
row_array.sort(headrow.sorttable_sortfunction);tb=headrow.sorttable_tbody;for(var j=0;j<row_array.length;j++){tb.appendChild(row_array[j][1]);}
delete row_array;};headrow[i].sorttable_tbody=table.tBodies[0];var click_handler=function(i,headrow){return function(e){sort_column(i,headrow);}};dean_addEvent(headrow[i],"click",click_handler(i,headrow[i]));}}},guessType:function(table,column){sortfn=sorttable.sort_alpha;for(var i=0;i<table.tBodies[0].rows.length;i++){text=sorttable.getInnerText(table.tBodies[0].rows[i].cells[column]);if(text!=''){if(text.match(/^-?[�$�]?[\d,.]+%?$/)){return sorttable.sort_numeric;}
possdate=text.match(sorttable.DATE_RE)
if(possdate){first=parseInt(possdate[1]);second=parseInt(possdate[2]);if(first>12){return sorttable.sort_ddmm;}else if(second>12){return sorttable.sort_mmdd;}else{sortfn=sorttable.sort_ddmm;}}}}
return sortfn;},getInnerText:function(node,ignore_sortkey){if(node===undefined){return'';}
var children=node.childNodes;var nr_children=children.length;if(nr_children>0){var str="";for(var i=0;i<nr_children;i++){var ch=children[i];switch(ch.nodeType){case 1:if(ch.className==="sortkey"||ch.className==="revsortkey"){if(Y.Lang.isBoolean(ignore_sortkey)&&ignore_sortkey){continue;}
var key_text=sorttable.getInnerText(ch);var mtch=key_text.match(/\bsorttable_([a-z0-9]+)\b/);if(mtch&&typeof sort_functions[mtch[1]]=='function'){sortkey_function=sort_functions[mtch[1]];key_text=sortkey_function(node,sorttable.getInnerText);}
if(ch.className=="sortkey"){return key_text}else if(ch.className=="revsortkey"){return"-"+key_text;}}}
str+=sorttable.getInnerText(ch);}
return str;}
hasInputs=(typeof node.getElementsByTagName=='function')&&node.getElementsByTagName('input').length;if(node.nodeType===1&&node.getAttribute("sorttable_customkey")!=null){return node.getAttribute("sorttable_customkey");}
else if(typeof node.textContent!='undefined'&&!hasInputs){return node.textContent.replace(/^\s+|\s+$/g,'');}
else if(typeof node.innerText!='undefined'&&!hasInputs){return node.innerText.replace(/^\s+|\s+$/g,'');}
else if(typeof node.text!='undefined'&&!hasInputs){return node.text.replace(/^\s+|\s+$/g,'');}
else{switch(node.nodeType){case 3:if(node.nodeName.toLowerCase()=='input'){return node.value.replace(/^\s+|\s+$/g,'');}
case 4:return node.nodeValue.replace(/^\s+|\s+$/g,'');break;case 1:case 11:var innerText='';for(var i=0;i<node.childNodes.length;i++){innerText+=sorttable.getInnerText(node.childNodes[i]);}
return innerText.replace(/^\s+|\s+$/g,'');break;default:return'';}}},reverse:function(tbody){newrows=[];for(var i=0;i<tbody.rows.length;i++){newrows[newrows.length]=tbody.rows[i];}
for(var i=newrows.length-1;i>=0;i--){tbody.appendChild(newrows[i]);}
delete newrows;},sort_numeric:function(a,b){aa=parseFloat(a[0].replace(/[^0-9.-]/g,''));if(isNaN(aa))aa=0;bb=parseFloat(b[0].replace(/[^0-9.-]/g,''));if(isNaN(bb))bb=0;return aa-bb;},sort_alpha:function(a,b){if(a[0]==b[0])return 0;if(a[0]<b[0])return-1;return 1;},sort_ddmm:function(a,b){mtch=a[0].match(sorttable.DATE_RE);y=mtch[3];m=mtch[2];d=mtch[1];if(m.length==1)m='0'+m;if(d.length==1)d='0'+d;dt1=y+m+d;mtch=b[0].match(sorttable.DATE_RE);y=mtch[3];m=mtch[2];d=mtch[1];if(m.length==1)m='0'+m;if(d.length==1)d='0'+d;dt2=y+m+d;if(dt1==dt2)return 0;if(dt1<dt2)return-1;return 1;},sort_mmdd:function(a,b){mtch=a[0].match(sorttable.DATE_RE);y=mtch[3];d=mtch[2];m=mtch[1];if(m.length==1)m='0'+m;if(d.length==1)d='0'+d;dt1=y+m+d;mtch=b[0].match(sorttable.DATE_RE);y=mtch[3];d=mtch[2];m=mtch[1];if(m.length==1)m='0'+m;if(d.length==1)d='0'+d;dt2=y+m+d;if(dt1==dt2)return 0;if(dt1<dt2)return-1;return 1;},shaker_sort:function(list,comp_func){var b=0;var t=list.length-1;var swap=true;while(swap){swap=false;for(var i=b;i<t;++i){if(comp_func(list[i],list[i+1])>0){var q=list[i];list[i]=list[i+1];list[i+1]=q;swap=true;}}
t--;if(!swap)break;for(var i=t;i>b;--i){if(comp_func(list[i],list[i-1])<0){var q=list[i];list[i]=list[i-1];list[i-1]=q;swap=true;}}
b++;}}}
function dean_addEvent(element,type,handler){if(element.addEventListener){element.addEventListener(type,handler,false);}else{if(!handler.$$guid)handler.$$guid=dean_addEvent.guid++;if(!element.events)element.events={};var handlers=element.events[type];if(!handlers){handlers=element.events[type]={};if(element["on"+type]){handlers[0]=element["on"+type];}}
handlers[handler.$$guid]=handler;element["on"+type]=handleEvent;}};dean_addEvent.guid=1;function removeEvent(element,type,handler){if(element.removeEventListener){element.removeEventListener(type,handler,false);}else{if(element.events&&element.events[type]){delete element.events[type][handler.$$guid];}}};function handleEvent(event){var returnValue=true;event=event||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var handlers=this.events[event.type];for(var i in handlers){this.$$handleEvent=handlers[i];if(this.$$handleEvent(event)===false){returnValue=false;}}
return returnValue;};function fixEvent(event){event.preventDefault=fixEvent.preventDefault;event.stopPropagation=fixEvent.stopPropagation;return event;};fixEvent.preventDefault=function(){this.returnValue=false;};fixEvent.stopPropagation=function(){this.cancelBubble=true;}
if(!Array.forEach){Array.forEach=function(array,block,context){for(var i=0;i<array.length;i++){block.call(context,array[i],i,array);}};}
Function.prototype.forEach=function(object,block,context){for(var key in object){if(typeof this.prototype[key]=="undefined"){block.call(context,object[key],key,object);}}};String.forEach=function(string,block,context){Array.forEach(string.split(""),function(chr,index){block.call(context,chr,index,string);});};var forEach=function(object,block,context){if(object){var resolve=Object;if(object instanceof Function){resolve=Function;}else if(object.forEach instanceof Function){object.forEach(block,context);return;}else if(typeof object=="string"){resolve=String;}else if(typeof object.length=="number"){resolve=Array;}
resolve.forEach(object,block,context);}};namespace.SortTable=sorttable;},"0.1",{"requires":[]});
/* yui/widget-stdmod/widget-stdmod-min.js */
YUI.add("widget-stdmod",function(e,t){function H(t){this._stdModNode=this.get(w),e.before(this._renderUIStdMod,this,O),e.before(this._bindUIStdMod,this,M),e.before(this._syncUIStdMod,this,_)}var n=e.Lang,r=e.Node,i=e.UA,s=e.Widget,o="",u="hd",a="bd",f="ft",l="header",c="body",h="footer",p="fillHeight",d="stdmod",v="Node",m="Content",g="firstChild",y="childNodes",b="ownerDocument",w="contentBox",E="height",S="offsetHeight",x="auto",T="headerContentChange",N="bodyContentChange",C="footerContentChange",k="fillHeightChange",L="heightChange",A="contentUpdate",O="renderUI",M="bindUI",_="syncUI",D="_applyParsedConfig",P=e.Widget.UI_SRC;H.HEADER=l,H.BODY=c,H.FOOTER=h,H.AFTER="after",H.BEFORE="before",H.REPLACE="replace";var B=H.HEADER,j=H.BODY,F=H.FOOTER,I=B+m,q=F+m,R=j+m;H.ATTRS={headerContent:{value:null},footerContent:{value:null},bodyContent:{value:null},fillHeight:{value:H.BODY,validator:function(e){return this._validateFillHeight(e)}}},H.HTML_PARSER={headerContent:function(e){return this._parseStdModHTML(B)},bodyContent:function(e){return this._parseStdModHTML(j)},footerContent:function(e){return this._parseStdModHTML(F)}},H.SECTION_CLASS_NAMES={header:s.getClassName(u),body:s.getClassName(a),footer:s.getClassName(f)},H.TEMPLATES={header:'<div class="'+H.SECTION_CLASS_NAMES[B]+'"></div>',body:'<div class="'+H.SECTION_CLASS_NAMES[j]+'"></div>',footer:'<div class="'+H.SECTION_CLASS_NAMES[F]+'"></div>'},H.prototype={_syncUIStdMod:function(){var e=this._stdModParsed;(!e||!e[I])&&this._uiSetStdMod(B,this.get(I)),(!e||!e[R])&&this._uiSetStdMod(j,this.get(R)),(!e||!e[q])&&this._uiSetStdMod(F,this.get(q)),this._uiSetFillHeight(this.get(p))},_renderUIStdMod:function(){this._stdModNode.addClass(s.getClassName(d)),this._renderStdModSections(),this.after(T,this._afterHeaderChange),this.after(N,this._afterBodyChange),this.after(C,this._afterFooterChange)},_renderStdModSections:function(){n.isValue(this.get(I))&&this._renderStdMod(B),n.isValue(this.get(R))&&this._renderStdMod(j),n.isValue(this.get(q))&&this._renderStdMod(F)},_bindUIStdMod:function(){this.after(k,this._afterFillHeightChange),this.after(L,this._fillHeight),this.after(A,this._fillHeight)},_afterHeaderChange:function(e){e.src!==P&&this._uiSetStdMod(B,e.newVal,e.stdModPosition)},_afterBodyChange:function(e){e.src!==P&&this._uiSetStdMod(j,e.newVal,e.stdModPosition)},_afterFooterChange:function(e){e.src!==P&&this._uiSetStdMod(F,e.newVal,e.stdModPosition)},_afterFillHeightChange:function(e){this._uiSetFillHeight(e.newVal)},_validateFillHeight:function(e){return!e||e==H.BODY||e==H.HEADER||e==H.FOOTER},_uiSetFillHeight:function(e){var t=this.getStdModNode(e),n=this._currFillNode;n&&t!==n&&n.setStyle(E,o),t&&(this._currFillNode=t),this._fillHeight()},_fillHeight:function(){if(this.get(p)){var e=this.get(E);e!=o&&e!=x&&this.fillHeight(this._currFillNode)}},_uiSetStdMod:function(e,t,r){if(n.isValue(t)){var i=this.getStdModNode(e,!0);this._addStdModContent(i,t,r),this.set(e+m,this._getStdModContent(e),{src:P})}else this._eraseStdMod(e);this.fire(A)},_renderStdMod:function(e){var t=this.get(w),n=this._findStdModSection(e);return n||(n=this._getStdModTemplate(e)),this._insertStdModSection(t,e,n),this[e+v]=n,this[e+v]},_eraseStdMod:function(e){var t=this.getStdModNode(e);t&&(t.remove(!0),delete this[e+v])},_insertStdModSection:function(e,t,n){var r=e.get(g);if(t===F||!r)e.appendChild(n);else if(t===B)e.insertBefore(n,r);else{var i=this[F+v];i?e.insertBefore(n,i):e.appendChild(n)}},_getStdModTemplate:function(e){return r.create(H.TEMPLATES[e],this._stdModNode.get(b))},_addStdModContent:function(e,t,n){switch(n){case H.BEFORE:n=0;break;case H.AFTER:n=undefined;break;default:n=H.REPLACE}e.insert(t,n)},_getPreciseHeight:function(e){var t=e?e.get(S):0,n="getBoundingClientRect";if(e&&e.hasMethod(n)){var r=e.invoke(n);r&&(t=r.bottom-r.top)}return t},_findStdModSection:function(e){return this.get(w).one("> ."+H.SECTION_CLASS_NAMES[e])},_parseStdModHTML:function(t){var n=this._findStdModSection(t);return n?(this._stdModParsed||(this._stdModParsed={},e.before(this._applyStdModParsedConfig,this,D)),this._stdModParsed[t+m]=1,n.get("innerHTML")):null},_applyStdModParsedConfig:function(e,t,n){var r=this._stdModParsed;r&&(r[I]=!(I in t)&&I in r,r[R]=!(R in t)&&R in r,r[q]=!(q in t)&&q in r)},_getStdModContent:function(e){return this[e+v]?this[e+v].get(y):null},setStdModContent:function(e,t,n){this.set(e+m,t,{stdModPosition:n})},getStdModNode:function(e,t){var n=this[e+v]||null;return!n&&t&&(n=this._renderStdMod(e)),n},fillHeight:function(e){if(e){var t=this.get(w),r=[this.headerNode,this.bodyNode,this.footerNode],s,o,u=0,a=0,f=!1;for(var l=0,c=r.length;l<c;l++)s=r[l],s&&(s!==e?u+=this._getPreciseHeight(s):f=!0);f&&((i.ie||i.opera)&&e.set(S,0),o=t.get(S)-parseInt(t.getComputedStyle("paddingTop"),10)-parseInt(t.getComputedStyle("paddingBottom"),10)-parseInt(t.getComputedStyle("borderBottomWidth"),10)-parseInt(t.getComputedStyle("borderTopWidth"),10),n.isNumber(o)&&(a=o-u,a>=0&&e.set(S,a)))}}},e.WidgetStdMod=H},"3.10.3",{requires:["base-build","widget"]});

/* yui/widget-position/widget-position-min.js */
YUI.add("widget-position",function(e,t){function d(t){this._posNode=this.get(u),e.after(this._renderUIPosition,this,f),e.after(this._syncUIPosition,this,c),e.after(this._bindUIPosition,this,l)}var n=e.Lang,r=e.Widget,i="xy",s="position",o="positioned",u="boundingBox",a="relative",f="renderUI",l="bindUI",c="syncUI",h=r.UI_SRC,p="xyChange";d.ATTRS={x:{setter:function(e){this._setX(e)},getter:function(){return this._getX()},lazyAdd:!1},y:{setter:function(e){this._setY(e)},getter:function(){return this._getY()},lazyAdd:!1},xy:{value:[0,0],validator:function(e){return this._validateXY(e)}}},d.POSITIONED_CLASS_NAME=r.getClassName(o),d.prototype={_renderUIPosition:function(){this._posNode.addClass(d.POSITIONED_CLASS_NAME)},_syncUIPosition:function(){var e=this._posNode;e.getStyle(s)===a&&this.syncXY(),this._uiSetXY(this.get(i))},_bindUIPosition:function(){this.after(p,this._afterXYChange)},move:function(){var e=arguments,t=n.isArray(e[0])?e[0]:[e[0],e[1]];this.set(i,t)},syncXY:function(){this.set(i,this._posNode.getXY(),{src:h})},_validateXY:function(e){return n.isArray(e)&&n.isNumber(e[0])&&n.isNumber(e[1])},_setX:function(e){this.set(i,[e,this.get(i)[1]])},_setY:function(e){this.set(i,[this.get(i)[0],e])},_getX:function(){return this.get(i)[0]},_getY:function(){return this.get(i)[1]},_afterXYChange:function(e){e.src!=h&&this._uiSetXY(e.newVal)},_uiSetXY:function(e){this._posNode.setXY(e)}},e.WidgetPosition=d},"3.10.3",{requires:["base-build","node-screen","widget"]});

/* yui/widget-position-align/widget-position-align-min.js */
YUI.add("widget-position-align",function(e,t){function c(t){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionAlign is added"),e.after(this._bindUIPosAlign,this,"bindUI"),e.after(this._syncUIPosAlign,this,"syncUI")}var n=e.Lang,r="align",i="alignOn",s="visible",o="boundingBox",u="offsetWidth",a="offsetHeight",f="region",l="viewportRegion";c.ATTRS={align:{value:null},centered:{setter:"_setAlignCenter",lazyAdd:!1,value:!1},alignOn:{value:[],validator:e.Lang.isArray}},c.TL="tl",c.TR="tr",c.BL="bl",c.BR="br",c.TC="tc",c.RC="rc",c.BC="bc",c.LC="lc",c.CC="cc",c.prototype={_posAlignUIHandles:null,destructor:function(){this._detachPosAlignUIHandles()},_bindUIPosAlign:function(){this.after("alignChange",this._afterAlignChange),this.after("alignOnChange",this._afterAlignOnChange),this.after("visibleChange",this._syncUIPosAlign)},_syncUIPosAlign:function(){var e=this.get(r);this._uiSetVisiblePosAlign(this.get(s)),e&&this._uiSetAlign(e.node,e.points)},align:function(e,t){return arguments.length?this.set(r,{node:e,points:t}):this._syncUIPosAlign(),this},centered:function(e){return this.align(e,[c.CC,c.CC])},_setAlignCenter:function(e){return e&&this.set(r,{node:e===!0?null:e,points:[c.CC,c.CC]}),e},_uiSetAlign:function(t,r){if(!n.isArray(r)||r.length!==2){e.error("align: Invalid Points Arguments");return}var i=this._getRegion(t),s,o,u;if(!i)return;s=r[0],o=r[1];switch(o){case c.TL:u=[i.left,i.top];break;case c.TR:u=[i.right,i.top];break;case c.BL:u=[i.left,i.bottom];break;case c.BR:u=[i.right,i.bottom];break;case c.TC:u=[i.left+Math.floor(i.width/2),i.top];break;case c.BC:u=[i.left+Math.floor(i.width/2),i.bottom];break;case c.LC:u=[i.left,i.top+Math.floor(i.height/2)];break;case c.RC:u=[i.right,i.top+Math.floor(i.height/2)];break;case c.CC:u=[i.left+Math.floor(i.width/2),i.top+Math.floor(i.height/2)];break;default:}u&&this._doAlign(s,u[0],u[1])},_uiSetVisiblePosAlign:function(e){e?this._attachPosAlignUIHandles():this._detachPosAlignUIHandles()},_attachPosAlignUIHandles:function(){if(this._posAlignUIHandles)return;var t=this.get(o),n=e.bind(this._syncUIPosAlign,this),r=[];e.Array.each(this.get(i),function(i){var s=i.eventName,o=e.one(i.node)||t;s&&r.push(o.on(s,n))}),this._posAlignUIHandles=r},_detachPosAlignUIHandles:function(){var t=this._posAlignUIHandles;t&&((new e.EventHandle(t)).detach(),this._posAlignUIHandles=null)},_doAlign:function(e,t,n){var r=this._posNode,i;switch(e){case c.TL:i=[t,n];break;case c.TR:i=[t-r.get(u),n];break;case c.BL:i=[t,n-r.get(a)];break;case c.BR:i=[t-r.get(u),n-r.get(a)];break;case c.TC:i=[t-r.get(u)/2,n];break;case c.BC:i=[t-r.get(u)/2,n-r.get(a)];break;case c.LC:i=[t,n-r.get(a)/2];break;case c.RC:i=[t-r.get(u),n-r.get(a)/2];break;case c.CC:i=[t-r.get(u)/2,n-r.get(a)/2];break;default:}i&&this.move(i)},_getRegion:function(t){var n;return t?(t=e.Node.one(t),t&&(n=t.get(f))):n=this._posNode.get(l),n},_afterAlignChange:function(e){var t=e.newVal;t&&this._uiSetAlign(t.node,t.points)},_afterAlignOnChange:function(e){this._detachPosAlignUIHandles(),this.get(s)&&this._attachPosAlignUIHandles()}},e.WidgetPositionAlign=c},"3.10.3",{requires:["widget-position"]});

/* yui/widget-stack/widget-stack-min.js */
YUI.add("widget-stack",function(e,t){function O(t){this._stackNode=this.get(f),this._stackHandles={},e.after(this._renderUIStack,this,l),e.after(this._syncUIStack,this,h),e.after(this._bindUIStack,this,c)}var n=e.Lang,r=e.UA,i=e.Node,s=e.Widget,o="zIndex",u="shim",a="visible",f="boundingBox",l="renderUI",c="bindUI",h="syncUI",p="offsetWidth",d="offsetHeight",v="parentNode",m="firstChild",g="ownerDocument",y="width",b="height",w="px",E="shimdeferred",S="shimresize",x="visibleChange",T="widthChange",N="heightChange",C="shimChange",k="zIndexChange",L="contentUpdate",A="stacked";O.ATTRS={shim:{value:r.ie==6},zIndex:{value:0,setter:"_setZIndex"}},O.HTML_PARSER={zIndex:function(e){return this._parseZIndex(e)}},O.SHIM_CLASS_NAME=s.getClassName(u),O.STACKED_CLASS_NAME=s.getClassName(A),O.SHIM_TEMPLATE='<iframe class="'+O.SHIM_CLASS_NAME+'" frameborder="0" title="Widget Stacking Shim" src="javascript:false" tabindex="-1" role="presentation"></iframe>',O.prototype={_syncUIStack:function(){this._uiSetShim(this.get(u)),this._uiSetZIndex(this.get(o))},_bindUIStack:function(){this.after(C,this._afterShimChange),this.after(k,this._afterZIndexChange)},_renderUIStack:function(){this._stackNode.addClass(O.STACKED_CLASS_NAME)},_parseZIndex:function(e){var t;return!e.inDoc()||e.getStyle("position")==="static"?t="auto":t=e.getComputedStyle("zIndex"),t==="auto"?null:t},_setZIndex:function(e){return n.isString(e)&&(e=parseInt(e,10)),n.isNumber(e)||(e=0),e},_afterShimChange:function(e){this._uiSetShim(e.newVal)},_afterZIndexChange:function(e){this._uiSetZIndex(e.newVal)},_uiSetZIndex:function(e){this._stackNode.setStyle(o,e)},_uiSetShim:function(e){e?(this.get(a)?this._renderShim():this._renderShimDeferred(),r.ie==6&&this._addShimResizeHandlers()):this._destroyShim()},_renderShimDeferred:function(){this._stackHandles[E]=this._stackHandles[E]||[];var e=this._stackHandles[E],t=function(e){e.newVal&&this._renderShim()};e.push(this.on(x,t))},_addShimResizeHandlers:function(){this._stackHandles[S]=this._stackHandles[S]||[];var e=this.sizeShim,t=this._stackHandles[S];t.push(this.after(x,e)),t.push(this.after(T,e)),t.push(this.after(N,e)),t.push(this.after(L,e))},_detachStackHandles:function(e){var t=this._stackHandles[e],n;if(t&&t.length>0)while(n=t.pop())n.detach()},_renderShim:function(){var e=this._shimNode,t=this._stackNode;e||(e=this._shimNode=this._getShimTemplate(),t.insertBefore(e,t.get(m)),this._detachStackHandles(E),this.sizeShim())},_destroyShim:function(){this._shimNode&&(this._shimNode.get(v).removeChild(this._shimNode),this._shimNode=null,this._detachStackHandles(E),this._detachStackHandles(S))},sizeShim:function(){var e=this._shimNode,t=this._stackNode;e&&r.ie===6&&this.get(a)&&(e.setStyle(y,t.get(p)+w),e.setStyle(b,t.get(d)+w))},_getShimTemplate:function(){return i.create(O.SHIM_TEMPLATE,this._stackNode.get(g))}},e.WidgetStack=O},"3.10.3",{requires:["base-build","widget"],skinnable:!0});

/* yui/widget-position-constrain/widget-position-constrain-min.js */
YUI.add("widget-position-constrain",function(e,t){function m(t){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionConstrain is added"),e.after(this._bindUIPosConstrained,this,a)}var n="constrain",r="constrain|xyChange",i="constrainChange",s="preventOverlap",o="align",u="",a="bindUI",f="xy",l="x",c="y",h=e.Node,p="viewportRegion",d="region",v;m.ATTRS={constrain:{value:null,setter:"_setConstrain"},preventOverlap:{value:!1}},v=m._PREVENT_OVERLAP={x:{tltr:1,blbr:1,brbl:1,trtl:1},y:{trbr:1,tlbl:1,bltl:1,brtr:1}},m.prototype={getConstrainedXY:function(e,t){t=t||this.get(n);var r=this._getRegion(t===!0?null:t),i=this._posNode.get(d);return[this._constrain(e[0],l,i,r),this._constrain(e[1],c,i,r)]},constrain:function(e,t){var r,i,s=t||this.get(n);s&&(r=e||this.get(f),i=this.getConstrainedXY(r,s),(i[0]!==r[0]||i[1]!==r[1])&&this.set(f,i,{constrained:!0}))},_setConstrain:function(e){return e===!0?e:h.one(e)},_constrain:function(e,t,n,r){if(r){this.get(s)&&(e=this._preventOverlap(e,t,n,r));var i=t==l,o=i?r.width:r.height,u=i?n.width:n.height,a=i?r.left:r.top,f=i?r.right-u:r.bottom-u;if(e<a||e>f)u<o?e<a?e=a:e>f&&(e=f):e=a}return e},_preventOverlap:function(e,t,n,r){var i=this.get(o),s=t===l,a,f,c,h,p,d;return i&&i.points&&v[t][i.points.join(u)]&&(f=this._getRegion(i.node),f&&(a=s?n.width:n.height,c=s?f.left:f.top,h=s?f.right:f.bottom,p=s?f.left-r.left:f.top-r.top,d=s?r.right-f.right:r.bottom-f.bottom),e>c?d<a&&p>a&&(e=c-a):p<a&&d>a&&(e=h)),e},_bindUIPosConstrained:function(){this.after(i,this._afterConstrainChange),this._enableConstraints(this.get(n))},_afterConstrainChange:function(e){this._enableConstraints(e.newVal)},_enableConstraints:function(e){e?(this.constrain(),this._cxyHandle=this._cxyHandle||this.on(r,this._constrainOnXYChange)):this._cxyHandle&&(this._cxyHandle.detach(),this._cxyHandle=null)},_constrainOnXYChange:function(e){e.constrained||(e.newVal=this.getConstrainedXY(e.newVal))},_getRegion:function(e){var t;return e?(e=h.one(e),e&&(t=e.get(d))):t=this._posNode.get(p),t}},e.WidgetPositionConstrain=m},"3.10.3",{requires:["widget-position"]});

/* yui/overlay/overlay-min.js */
YUI.add("overlay",function(e,t){e.Overlay=e.Base.create("overlay",e.Widget,[e.WidgetStdMod,e.WidgetPosition,e.WidgetStack,e.WidgetPositionAlign,e.WidgetPositionConstrain])},"3.10.3",{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:!0});

/* lp/app/overlay/overlay-min.js */

YUI.add('lp.ui.overlay',function(Y){var ns=Y.namespace('lp.ui');var TAB=9,CANCEL='cancel',BOUNDING_BOX='boundingBox',CONTENT_BOX='contentBox',BINDUI="bindUI",TABBABLE_SELECTOR='a, button, input, select, textarea';var PrettyOverlay;PrettyOverlay=function(cfg){if(cfg&&arguments[0].zIndex===undefined){arguments[0].zIndex=1000;}
PrettyOverlay.superclass.constructor.apply(this,arguments);Y.after(this._bindUIPrettyOverlay,this,BINDUI);};PrettyOverlay.NAME='pretty-overlay';PrettyOverlay.ATTRS={progress:{value:100},progressbar:{value:true},steptitle:{value:null}};Y.extend(PrettyOverlay,Y.Overlay,{_blocking_div:null,_doc_kp_handler:null,_green_bar:null,initializer:function(){this._green_bar=Y.Node.create(['<div class="steps">','<div class="step-on" style="width:20%;">','</div></div>'].join(""));this._blocking_div=Y.Node.create('<div class="blocking-div"></div>');this.after("renderedChange",function(){var bounding_box=this.get(BOUNDING_BOX);var content_box=this.get(CONTENT_BOX);var content_box_container=bounding_box.one(".content_box_container");if(content_box_container){content_box_container.appendChild(content_box);}
this._setupCloseFacilities();});this.after('visibleChange',function(e){this._setupCloseFacilities();});this.publish(CANCEL,{defaultFn:this._defaultCancel});},_afterSteptitleChange:function(e){var progress_bar=this.get(BOUNDING_BOX).one(".steps");if(!progress_bar){return;}
var h2=progress_bar.one("h2");if(!h2){h2=Y.Node.create("<h2></h2>");progress_bar.appendChild(h2);progress_bar.addClass("contains-steptitle");}
while(h2.hasChildNodes()){h2.removeChild(h2.get("firstChild"));}
h2.appendChild(document.createTextNode(this.get("steptitle")));},_afterProgressChange:function(e){var width=parseInt(this.get("progress"),10);if(width<0){width=0;}
if(width>100){width=100;}
if(this.get("progressbar")&&this.get(CONTENT_BOX).one(".steps")){var progress_steps=this.get(CONTENT_BOX).one(".step-on");progress_steps.setStyle("width",width+"%");}},_setupCloseFacilities:function(){var self=this;var visible=this.get('visible');if(visible){Y.one('body').appendChild(this._blocking_div);this._doc_kp_handler=Y.on('key',function(){self.fire(CANCEL);},document,'down:27');}else{this._removeBlockingDiv();}},_removeBlockingDiv:function(){if(this._blocking_div){var blocking_div=Y.one(this._blocking_div);if(blocking_div){var parent=blocking_div.get('parentNode');if(parent){parent.removeChild(this._blocking_div);}}}},destructor:function(){this._removeBlockingDiv();if(this._doc_kp_handler){this._doc_kp_handler.detach();}},_bindUIPrettyOverlay:function(){var self=this;var close_button=this.get(BOUNDING_BOX).one('.close a');close_button.on('click',function(e){e.halt();self.fire(CANCEL);});this._blocking_div.on('click',function(e){e.halt();self.fire(CANCEL);});var bounding_box=this.get(BOUNDING_BOX);bounding_box.on('click',function(e){bounding_box.blur();});bounding_box.delegate("keydown",this._handleTab,TABBABLE_SELECTOR,this);this.after('steptitleChange',this._afterSteptitleChange);this.after('progressChange',this._afterProgressChange);},_defaultCancel:function(e){this.hide();this._doc_kp_handler.detach();},_getTabNodes:function(){var bounding_box=this.get(BOUNDING_BOX);var all_tab_nodes=bounding_box.all(TABBABLE_SELECTOR);var tab_nodes=new Y.NodeList([]);all_tab_nodes.each(function(item,index,node_list){var displayed=item.get('region').height>0;var visible=item.getComputedStyle('visibility')==='visible';if(displayed&&visible){tab_nodes.push(item);}});return tab_nodes;},_handleTab:function(e){if(e.keyCode===TAB){var tab_nodes=this._getTabNodes();var max_index=tab_nodes.size()-1;var next=(e.shiftKey)?-1:1;var next_index=tab_nodes.indexOf(e.currentTarget)+next;if(next_index>max_index){tab_nodes.item(0).focus();e.halt();}else if(next_index<0){tab_nodes.item(max_index).focus();e.halt();}}},_insertStdModSection:function(content_box,section,section_node){PrettyOverlay.superclass._insertStdModSection.apply(this,arguments);if(section===Y.WidgetStdMod.HEADER&&this.get("progressbar"))
{var nxt=section_node.next();if(nxt){content_box.insertBefore(this._green_bar,nxt);}else{content_box.appendChild(this._green_bar);}}
this._afterProgressChange();if(this.get('steptitle')){this._afterSteptitleChange();}}});PrettyOverlay.prototype.BOUNDING_TEMPLATE=['<div class="pretty-overlay-window">','<div class="content_box_container" id="yui3-pretty-overlay-modal">','<div class="close">','<a href="#" title="Close" class="close-button">(x)</a>','</div>','</div>','</div>'].join('');ns.PrettyOverlay=PrettyOverlay;},"0.1",{"skinnable":true,"requires":["oop","overlay","event","widget","widget-stack","widget-position"]});
/* yui/querystring-stringify-simple/querystring-stringify-simple-min.js */
YUI.add("querystring-stringify-simple",function(e,t){var n=e.namespace("QueryString"),r=encodeURIComponent;n.stringify=function(t,n){var i=[],s=n&&n.arrayKey?!0:!1,o,u,a;for(o in t)if(t.hasOwnProperty(o))if(e.Lang.isArray(t[o]))for(u=0,a=t[o].length;u<a;u++)i.push(r(s?o+"[]":o)+"="+r(t[o][u]));else i.push(r(o)+"="+r(t[o]));return i.join("&")}},"3.10.3",{requires:["yui-base"]});

/* yui/io-base/io-base-min.js */
YUI.add("io-base",function(e,t){function o(t){var n=this;n._uid="io:"+s++,n._init(t),e.io._map[n._uid]=n}var n=["start","complete","end","success","failure","progress"],r=["status","statusText","responseText","responseXML"],i=e.config.win,s=0;o.prototype={_id:0,_headers:{"X-Requested-With":"XMLHttpRequest"},_timeout:{},_init:function(t){var r=this,i,s;r.cfg=t||{},e.augment(r,e.EventTarget);for(i=0,s=n.length;i<s;++i)r.publish("io:"+n[i],e.merge({broadcast:1},t)),r.publish("io-trn:"+n[i],t)},_create:function(t,n){var r=this,s={id:e.Lang.isNumber(n)?n:r._id++,uid:r._uid},o=t.xdr?t.xdr.use:null,u=t.form&&t.form.upload?"iframe":null,a;return o==="native"&&(o=e.UA.ie&&!l?"xdr":null,r.setHeader("X-Requested-With")),a=o||u,s=a?e.merge(e.IO.customTransport(a),s):e.merge(e.IO.defaultTransport(),s),s.notify&&(t.notify=function(e,t,n){r.notify(e,t,n)}),a||i&&i.FormData&&t.data instanceof i.FormData&&(s.c.upload.onprogress=function(e){r.progress(s,e,t)},s.c.onload=function(e){r.load(s,e,t)},s.c.onerror=function(e){r.error(s,e,t)},s.upload=!0),s},_destroy:function(t){i&&!t.notify&&!t.xdr&&(u&&!t.upload?t.c.onreadystatechange=null:t.upload?(t.c.upload.onprogress=null,t.c.onload=null,t.c.onerror=null):e.UA.ie&&!t.e&&t.c.abort()),t=t.c=null},_evt:function(t,r,i){var s=this,o,u=i.arguments,a=s.cfg.emitFacade,f="io:"+t,l="io-trn:"+t;this.detach(l),r.e&&(r.c={status:0,statusText:r.e}),o=[a?{id:r.id,data:r.c,cfg:i,arguments:u}:r.id],a||(t===n[0]||t===n[2]?u&&o.push(u):(r.evt?o.push(r.evt):o.push(r.c),u&&o.push(u))),o.unshift(f),s.fire.apply(s,o),i.on&&(o[0]=l,s.once(l,i.on[t],i.context||e),s.fire.apply(s,o))},start:function(e,t){this._evt(n[0],e,t)},complete:function(e,t){this._evt(n[1],e,t)},end:function(e,t){this._evt(n[2],e,t),this._destroy(e)},success:function(e,t){this._evt(n[3],e,t),this.end(e,t)},failure:function(e,t){this._evt(n[4],e,t),this.end(e,t)},progress:function(e,t,r){e.evt=t,this._evt(n[5],e,r)},load:function(e,t,r){e.evt=t.target,this._evt(n[1],e,r)},error:function(e,t,r){e.evt=t,this._evt(n[4],e,r)},_retry:function(e,t,n){return this._destroy(e),n.xdr.use="flash",this.send(t,n,e.id)},_concat:function(e,t){return e+=(e.indexOf("?")===-1?"?":"&")+t,e},setHeader:function(e,t){t?this._headers[e]=t:delete this._headers[e]},_setHeaders:function(t,n){n=e.merge(this._headers,n),e.Object.each(n,function(e,r){e!=="disable"&&t.setRequestHeader(r,n[r])})},_startTimeout:function(e,t){var n=this;n._timeout[e.id]=setTimeout(function(){n._abort(e,"timeout")},t)},_clearTimeout:function(e){clearTimeout(this._timeout[e]),delete this._timeout[e]},_result:function(e,t){var n;try{n=e.c.status}catch(r){n=0}n>=200&&n<300||n===304||n===1223?this.success(e,t):this.failure(e,t)},_rS:function(e,t){var n=this;e.c.readyState===4&&(t.timeout&&n._clearTimeout(e.id),setTimeout(function(){n.complete(e,t),n._result(e,t)},0))},_abort:function(e,t){e&&e.c&&(e.e=t,e.c.abort())},send:function(t,n,i){var s,o,u,a,f,c,h=this,p=t,d={};n=n?e.Object(n):{},s=h._create(n,i),o=n.method?n.method.toUpperCase():"GET",f=n.sync,c=n.data,e.Lang.isObject(c)&&!c.nodeType&&!s.upload&&e.QueryString&&e.QueryString.stringify&&(n.data=c=e.QueryString.stringify(c));if(n.form){if(n.form.upload)return h.upload(s,t,n);c=h._serialize(n.form,c)}c||(c="");if(c)switch(o){case"GET":case"HEAD":case"DELETE":p=h._concat(p,c),c="";break;case"POST":case"PUT":n.headers=e.merge({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},n.headers)}if(s.xdr)return h.xdr(p,s,n);if(s.notify)return s.c.send(s,t,n);!f&&!s.upload&&(s.c.onreadystatechange=function(){h._rS(s,n)});try{s.c.open(o,p,!f,n.username||null,n.password||null),h._setHeaders(s.c,n.headers||{}),h.start(s,n),n.xdr&&n.xdr.credentials&&l&&(s.c.withCredentials=!0),s.c.send(c);if(f){for(u=0,a=r.length;u<a;++u)d[r[u]]=s.c[r[u]];return d.getAllResponseHeaders=function(){return s.c.getAllResponseHeaders()},d.getResponseHeader=function(e){return s.c.getResponseHeader(e)},h.complete(s,n),h._result(s,n),d}}catch(v){if(s.xdr)return h._retry(s,t,n);h.complete(s,n),h._result(s,n)}return n.timeout&&h._startTimeout(s,n.timeout),{id:s.id,abort:function(){return s.c?h._abort(s,"abort"):!1},isInProgress:function(){return s.c?s.c.readyState%4:!1},io:h}}},e.io=function(t,n){var r=e.io._map["io:0"]||new o;return r.send.apply(r,[t,n])},e.io.header=function(t,n){var r=e.io._map["io:0"]||new o;r.setHeader(t,n)},e.IO=o,e.io._map={};var u=i&&i.XMLHttpRequest,a=i&&i.XDomainRequest,f=i&&i.ActiveXObject,l=u&&"withCredentials"in new XMLHttpRequest;e.mix(e.IO,{_default:"xhr",defaultTransport:function(t){if(!t){var n={c:e.IO.transports[e.IO._default](),notify:e.IO._default==="xhr"?!1:!0};return n}e.IO._default=t},transports:{xhr:function(){return u?new XMLHttpRequest:f?new ActiveXObject("Microsoft.XMLHTTP"):null},xdr:function(){return a?new XDomainRequest:null},iframe:function(){return{}},flash:null,nodejs:null},customTransport:function(t){var n={c:e.IO.transports[t]()};return n[t==="xdr"||t==="flash"?"xdr":"notify"]=!0,n}}),e.mix(e.IO.prototype,{notify:function(e,t,n){var r=this;switch(e){case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e},e="failure";default:r[e].apply(r,[t,n])}}})},"3.10.3",{requires:["event-custom-base","querystring-stringify-simple"]});

/* yui/datatype-xml-parse/datatype-xml-parse-min.js */
YUI.add("datatype-xml-parse",function(e,t){var n=e.Lang;e.mix(e.namespace("XML"),{parse:function(e){var t=null;if(n.isString(e))try{n.isUndefined(ActiveXObject)||(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e))}catch(r){try{n.isUndefined(DOMParser)||(t=(new DOMParser).parseFromString(e,"text/xml")),n.isUndefined(Windows.Data.Xml.Dom)||(t=new Windows.Data.Xml.Dom.XmlDocument,t.loadXml(e))}catch(i){}}return n.isNull(t)||n.isNull(t.documentElement)||t.documentElement.nodeName==="parsererror",t}}),e.namespace("Parsers").xml=e.XML.parse,e.namespace("DataType"),e.DataType.XML=e.XML},"3.10.3");

/* yui/io-xdr/io-xdr-min.js */
YUI.add("io-xdr",function(e,t){function a(e,t,n){var r='<object id="io_swf" type="application/x-shockwave-flash" data="'+e+'" width="0" height="0">'+'<param name="movie" value="'+e+'">'+'<param name="FlashVars" value="yid='+t+"&uid="+n+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",i=s.createElement("div");s.body.appendChild(i),i.innerHTML=r}function f(t,n,r){return n==="flash"&&(t.c.responseText=decodeURI(t.c.responseText)),r==="xml"&&(t.c.responseXML=e.DataType.XML.parse(t.c.responseText)),t}function l(e,t){return e.c.abort(e.id,t)}function c(e){return u?i[e.id]!==4:e.c.isInProgress(e.id)}var n=e.publish("io:xdrReady",{fireOnce:!0}),r={},i={},s=e.config.doc,o=e.config.win,u=o&&o.XDomainRequest;e.mix(e.IO.prototype,{_transport:{},_ieEvt:function(e,t){var n=this,r=e.id,s="timeout";e.c.onprogress=function(){i[r]=3},e.c.onload=function(){i[r]=4,n.xdrResponse("success",e,t)},e.c.onerror=function(){i[r]=4,n.xdrResponse("failure",e,t)},e.c.ontimeout=function(){i[r]=4,n.xdrResponse(s,e,t)},e.c[s]=t[s]||0},xdr:function(t,n,i){var s=this;return i.xdr.use==="flash"?(r[n.id]=i,o.setTimeout(function(){try{n.c.send(t,{id:n.id,uid:n.uid,method:i.method,data:i.data,headers:i.headers})}catch(e){s.xdrResponse("transport error",n,i),delete r[n.id]}},e.io.xdr.delay)):u?(s._ieEvt(n,i),n.c.open(i.method||"GET",t),setTimeout(function(){n.c.send(i.data)},0)):n.c.send(t,n,i),{id:n.id,abort:function(){return n.c?l(n,i):!1},isInProgress:function(){return n.c?c(n.id):!1},io:s}},xdrResponse:function(e,t,n){n=r[t.id]?r[t.id]:n;var s=this,o=u?i:r,a=n.xdr.use,l=n.xdr.dataType;switch(e){case"start":s.start(t,n);break;case"success":s.success(f(t,a,l),n),delete o[t.id];break;case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e};case"failure":s.failure(f(t,a,l),n),delete o[t.id]}},_xdrReady:function(t,r){e.fire(n,t,r)},transport:function(t){t.id==="flash"&&(a(e.UA.ie?t.src+"?d="+(new Date).valueOf().toString():t.src,e.id,t.uid),e.IO.transports.flash=function(){return s.getElementById("io_swf")})}}),e.io.xdrReady=function(t,n){var r=e.io._map[n];e.io.xdr.delay=0,r._xdrReady.apply(r,[t,n])},e.io.xdrResponse=function(t,n,r){var i=e.io._map[n.uid];i.xdrResponse.apply(i,[t,n,r])},e.io.transport=function(t){var n=e.io._map["io:0"]||new e.IO;t.uid=n._uid,n.transport.apply(n,[t])},e.io.xdr={delay:100}},"3.10.3",{requires:["io-base","datatype-xml-parse"]});

/* yui/io-form/io-form-min.js */
YUI.add("io-form",function(e,t){var n=encodeURIComponent;e.IO.stringify=function(t,n){n=n||{};var r=e.IO.prototype._serialize({id:t,useDisabled:n.useDisabled},n.extra&&typeof n.extra=="object"?e.QueryString.stringify(n.extra):n.extra);return r},e.mix(e.IO.prototype,{_serialize:function(t,r){var i=[],s=t.useDisabled||!1,o=0,u=typeof t.id=="string"?t.id:t.id.getAttribute("id"),a,f,l,c,h,p,d,v,m,g;u||(u=e.guid("io:"),t.id.setAttribute("id",u)),f=e.config.doc.getElementById(u);if(!f||!f.elements)return r||"";for(p=0,d=f.elements.length;p<d;++p){a=f.elements[p],h=a.disabled,l=a.name;if(s?l:l&&!h){l=n(l)+"=",c=n(a.value);switch(a.type){case"select-one":a.selectedIndex>-1&&(g=a.options[a.selectedIndex],i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"select-multiple":if(a.selectedIndex>-1)for(v=a.selectedIndex,m=a.options.length;v<m;++v)g=a.options[v],g.selected&&(i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"radio":case"checkbox":a.checked&&(i[o++]=l+c);break;case"file":case undefined:case"reset":case"button":break;case"submit":default:i[o++]=l+c}}}return r&&(i[o++]=r),i.join("&")}},!0)},"3.10.3",{requires:["io-base","node-base"]});

/* yui/io-upload-iframe/io-upload-iframe-min.js */
YUI.add("io-upload-iframe",function(e,t){function u(t,n,r){var i=e.Node.create('<iframe src="#" id="io_iframe'+t.id+'" name="io_iframe'+t.id+'" />');i._node.style.position="absolute",i._node.style.top="-1000px",i._node.style.left="-1000px",e.one("body").appendChild(i),e.on("load",function(){r._uploadComplete(t,n)},"#io_iframe"+t.id)}function a(t){e.Event.purgeElement("#io_iframe"+t,!1),e.one("body").removeChild(e.one("#io_iframe"+t))}var n=e.config.win,r=e.config.doc,i=r.documentMode&&r.documentMode>=8,s=decodeURIComponent,o=e.IO.prototype.end;e.mix(e.IO.prototype,{_addData:function(t,n){e.Lang.isObject(n)&&(n=e.QueryString.stringify(n));var i=[],o=n.split("="),u,a;for(u=0,a=o.length-1;u<a;u++)i[u]=r.createElement("input"),i[u].type="hidden",i[u].name=s(o[u].substring(o[u].lastIndexOf("&")+1)),i[u].value=u+1===a?s(o[u+1]):s(o[u+1].substring(0,o[u+1].lastIndexOf("&"))),t.appendChild(i[u]);return i},_removeData:function(e,t){var n,r;for(n=0,r=t.length;n<r;n++)e.removeChild(t[n])},_setAttrs:function(t,n,r){t.setAttribute("action",r),t.setAttribute("method","POST"),t.setAttribute("target","io_iframe"+n),t.setAttribute(e.UA.ie&&!i?"encoding":"enctype","multipart/form-data")},_resetAttrs:function(t,n){e.Object.each(n,function(e,n){e?t.setAttribute(n,e):t.removeAttribute(n)})},_startUploadTimeout:function(e,t){var r=this;r._timeout[e.id]=n.setTimeout(function(){e.status=0,e.statusText="timeout",r.complete(e,t),r.end(e,t)},t.timeout)},_clearUploadTimeout:function(e){var t=this;n.clearTimeout(t._timeout[e]),delete t._timeout[e]},_uploadComplete:function(t,r){var i=this,s=e.one("#io_iframe"+t.id).get("contentWindow.document"),o=s.one("body"),u;r.timeout&&i._clearUploadTimeout(t.id);try{o?(u=o.one("pre:first-child"),t.c.responseText=u?u.get("text"):o.get("text")):t.c.responseXML=s._node}catch(f){t.e="upload failure"}i.complete(t,r),i.end(t,r),n.setTimeout(function(){a(t.id)},0)},_upload:function(t,n,i){var s=this,o=typeof i.form.id=="string"?r.getElementById(i.form.id):i.form.id,u={action:o.getAttribute("action"),target:o.getAttribute("target")},f;return s._setAttrs(o,t.id,n),i.data&&(f=s._addData(o,i.data)),i.timeout&&s._startUploadTimeout(t,i),o.submit(),s.start(t,i),i.data&&s._removeData(o,f),{id:t.id,abort:function(){t.status=0,t.statusText="abort";if(!e.one("#io_iframe"+t.id))return!1;a(t.id),s.complete(t,i),s.end(t,i,u)},isInProgress:function(){return e.one("#io_iframe"+t.id)?!0:!1},io:s}},upload:function(e,t,n){return u(e,n,this),this._upload(e,t,n)},end:function(e,t,n){if(t&&t.form&&t.form.upload){var r=this;r._resetAttrs(f,n)}return o.call(this,e,t)}})},"3.10.3",{requires:["io-base","node-base"]});

/* yui/queue-promote/queue-promote-min.js */
YUI.add("queue-promote",function(e,t){e.mix(e.Queue.prototype,{indexOf:function(t){return e.Array.indexOf(this._q,t)},promote:function(e){var t=this.indexOf(e);t>-1&&this._q.unshift(this._q.splice(t,1)[0])},remove:function(e){var t=this.indexOf(e);t>-1&&this._q.splice(t,1)}})},"3.10.3",{requires:["yui-base"]});

/* yui/io-queue/io-queue-min.js */
YUI.add("io-queue",function(e,t){function r(e,t){return n.queue.apply(n,[e,t])}var n=e.io._map["io:0"]||new e.IO;e.mix(e.IO.prototype,{_q:new e.Queue,_qActiveId:null,_qInit:!1,_qState:1,_qShift:function(){var e=this,t=e._q.next();e._qActiveId=t.id,e._qState=0,e.send(t.uri,t.cfg,t.id)},queue:function(t,n){var r=this,i={uri:t,cfg:n,id:this._id++};return r._qInit||(e.on("io:complete",function(e,t){r._qNext(e)},r),r._qInit=!0),r._q.add(i),r._qState===1&&r._qShift(),i},_qNext:function(e){var t=this;t._qState=1,t._qActiveId===e&&t._q.size()>0&&t._qShift()},qPromote:function(e){this._q.promote(e)},qRemove:function(e){this._q.remove(e)},qEmpty:function(){this._q=new e.Queue},qStart:function(){var e=this;e._qState=1,e._q.size()>0&&e._qShift()},qStop:function(){this._qState=0},qSize:function(){return this._q.size()}},!0),r.start=function(){n.qStart()},r.stop=function(){n.qStop()},r.promote=function(e){n.qPromote(e)},r.remove=function(e){n.qRemove(e)},r.size=function(){n.qSize()},r.empty=function(){n.qEmpty()},e.io.queue=r},"3.10.3",{requires:["io-base","queue-promote"]});

/* lp/app/inlinehelp/inlinehelp-min.js */

YUI.add('lp.app.inlinehelp',function(Y){var module=Y.namespace('lp.app.inlinehelp');var HELP_LINK_SELECTOR='a[target=help]';var HELP_CSS='help';var CLICK_DELEGATE=false;module._show_help=function(e){e.preventDefault();var target_link=e.currentTarget;var overlay=new module.InlineHelpOverlay({'contentUrl':target_link.get('href'),'centered':true,'constrain':true,'zIndex':1050});overlay.render();};module.init_help=function(){var links=Y.all(HELP_LINK_SELECTOR);links.addClass(HELP_CSS);var body=Y.one('body');if(CLICK_DELEGATE!==false){CLICK_DELEGATE.detach();}
CLICK_DELEGATE=body.delegate('click',module._show_help,HELP_LINK_SELECTOR);};module.InlineHelpOverlay=Y.Base.create('inlinehelp-overlay',Y.lp.ui.PrettyOverlay,[],{_getContent:function(){var help_page=Y.Node.create('<iframe/>');help_page.set('src',this.get('contentUrl'));this.set('bodyContent',help_page);},initializer:function(cfg){this._getContent();},hide:function(){this.constructor.superclass.hide.call(this);this.get('boundingBox').setStyle('display','none');},show:function(){this.constructor.superclass.show.call(this);this.get('boundingBox').setStyle('display','block');}},{ATTRS:{contentUrl:{value:''},progressbar:{value:false}}});},"0.1",{"requires":['lp.ui.overlay','io']});
/* yui/json-parse/json-parse-min.js */
YUI.add("json-parse",function(e,t){var n=e.config.global.JSON;e.namespace("JSON").parse=function(e,t,r){return n.parse(typeof e=="string"?e:e+"",t,r)}},"3.10.3",{requires:["yui-base"]});

/* yui/json-stringify/json-stringify-min.js */
YUI.add("json-stringify",function(e,t){var n=":",r=e.config.global.JSON;e.mix(e.namespace("JSON"),{dateToString:function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+n+t(e.getUTCMinutes())+n+t(e.getUTCSeconds())+"Z"},stringify:function(){return r.stringify.apply(r,arguments)},charCacheThreshold:100})},"3.10.3",{requires:["yui-base"]});

/* yui/array-extras/array-extras-min.js */
YUI.add("array-extras",function(e,t){var n=e.Array,r=e.Lang,i=Array.prototype;n.lastIndexOf=r._isNative(i.lastIndexOf)?function(e,t,n){return n||n===0?e.lastIndexOf(t,n):e.lastIndexOf(t)}:function(e,t,n){var r=e.length,i=r-1;if(n||n===0)i=Math.min(n<0?r+n:n,r);if(i>-1&&r>0)for(;i>-1;--i)if(i in e&&e[i]===t)return i;return-1},n.unique=function(e,t){var n=0,r=e.length,i=[],s,o,u,a;e:for(;n<r;n++){a=e[n];for(s=0,u=i.length;s<u;s++){o=i[s];if(t){if(t.call(e,a,o,n,e))continue e}else if(a===o)continue e}i.push(a)}return i},n.filter=r._isNative(i.filter)?function(e,t,n){return i.filter.call(e,t,n)}:function(e,t,n){var r=0,i=e.length,s=[],o;for(;r<i;++r)r in e&&(o=e[r],t.call(n,o,r,e)&&s.push(o));return s},n.reject=function(e,t,r){return n.filter(e,function(e,n,i){return!t.call(r,e,n,i)})},n.every=r._isNative(i.every)?function(e,t,n){return i.every.call(e,t,n)}:function(e,t,n){for(var r=0,i=e.length;r<i;++r)if(r in e&&!t.call(n,e[r],r,e))return!1;return!0},n.map=r._isNative(i.map)?function(e,t,n){return i.map.call(e,t,n)}:function(e,t,n){var r=0,s=e.length,o=i.concat.call(e);for(;r<s;++r)r in e&&(o[r]=t.call(n,e[r],r,e));return o},n.reduce=r._isNative(i.reduce)?function(e,t,n,r){return i.reduce.call(e,function(e,t,i,s){return n.call(r,e,t,i,s)},t)}:function(e,t,n,r){var i=0,s=e.length,o=t;for(;i<s;++i)i in e&&(o=n.call(r,o,e[i],i,e));return o},n.find=function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e))return e[r];return null},n.grep=function(e,t){return n.filter(e,function(e,n){return t.test(e)})},n.partition=function(e,t,r){var i={matches:[],rejects:[]};return n.each(e,function(n,s){var u=t.call(r,n,s,e)?i.matches:i.rejects;u.push(n)}),i},n.zip=function(e,t){var r=[];return n.each(e,function(e,n){r.push([e,t[n]])}),r},n.flatten=function(e){var t=[],i,s,o;if(!e)return t;for(i=0,s=e.length;i<s;++i)o=e[i],r.isArray(o)?t.push.apply(t,n.flatten(o)):t.push(o);return t}},"3.10.3",{requires:["yui-base"]});

/* yui/querystring-parse/querystring-parse-min.js */
YUI.add("querystring-parse",function(e,t){var n=e.namespace("QueryString"),r=function(t){return function r(i,s){var o,u,a,f,l;return arguments.length!==2?(i=i.split(t),r(n.unescape(i.shift()),n.unescape(i.join(t)))):(i=i.replace(/^\s+|\s+$/g,""),e.Lang.isString(s)&&(s=s.replace(/^\s+|\s+$/g,""),isNaN(s)||(u=+s,s===u.toString(10)&&(s=u))),o=/(.*)\[([^\]]*)\]$/.exec(i),o?(f=o[2],a=o[1],f?(l={},l[f]=s,r(a,l)):r(a,[s])):(l={},i&&(l[i]=s),l))}},i=function(t,n){return t?e.Lang.isArray(t)?t.concat(n):!e.Lang.isObject(t)||!e.Lang.isObject(n)?[t].concat(n):s(t,n):n},s=function(e,t){for(var n in t)n&&t.hasOwnProperty(n)&&(e[n]=i(e[n],t[n]));return e};n.parse=function(t,n,s){return e.Array.reduce(e.Array.map(t.split(n||"&"),r(s||"=")),{},i)},n.unescape=function(e){return decodeURIComponent(e.replace(/\+/g," "))}},"3.10.3",{requires:["yui-base","array-extras"]});

/* yui/querystring-stringify/querystring-stringify-min.js */
YUI.add("querystring-stringify",function(e,t){var n=e.namespace("QueryString"),r=[],i=e.Lang;n.escape=encodeURIComponent,n.stringify=function(e,t,s){var o,u,a,f,l,c,h=t&&t.sep?t.sep:"&",p=t&&t.eq?t.eq:"=",d=t&&t.arrayKey?t.arrayKey:!1;if(i.isNull(e)||i.isUndefined(e)||i.isFunction(e))return s?n.escape(s)+p:"";if(i.isBoolean(e)||Object.prototype.toString.call(e)==="[object Boolean]")e=+e;if(i.isNumber(e)||i.isString(e))return n.escape(s)+p+n.escape(e);if(i.isArray(e)){c=[],s=d?s+"[]":s,f=e.length;for(a=0;a<f;a++)c.push(n.stringify(e[a],t,s));return c.join(h)}for(a=r.length-1;a>=0;--a)if(r[a]===e)throw new Error("QueryString.stringify. Cyclical reference");r.push(e),c=[],o=s?s+"[":"",u=s?"]":"";for(a in e)e.hasOwnProperty(a)&&(l=o+a+u,c.push(n.stringify(e[a],t,l)));return r.pop(),c=c.join(h),!c&&s?s+"=":c}},"3.10.3",{requires:["yui-base"]});

/* lp/app/javascript/client-min.js */

YUI.add('lp.client',function(Y){var NOTIFICATION_INFO={'level10':{'selector':'.debug.message','css_class':'debug message'},'level20':{'selector':'.informational.message','css_class':'informational message'},'level30':{'selector':'.warning.message','css_class':'warning message'},'level40':{'selector':'.error.message','css_class':'error message'}};var update_cached_object=function(cache_name,cache,entry){var fields_changed=[];var name;var html_name;for(name in cache){if(cache.hasOwnProperty(name)){var old_value=cache[name];var new_value=entry.get(name);if(name!=='lp_html'){if(old_value!==new_value){fields_changed.push(name);cache[name]=new_value;var field_updated_event_name='lp:'+cache_name+':'+name+':changed';var new_value_html=entry.getHTML(name);var event={name:name,old_value:old_value,new_value:new_value,new_value_html:new_value_html,entry:entry};Y.fire(field_updated_event_name,event);}}
else{for(html_name in old_value){if(old_value.hasOwnProperty(html_name)){old_value[html_name]=new_value[html_name];}}}}}
if(fields_changed.length>0){var event_name='lp:'+cache_name+':changed';var event_={fields_changed:fields_changed,entry:entry};Y.fire(event_name,event_);}};var module=Y.namespace('lp.client');module.HTTP_CREATED=201;module.HTTP_SEE_ALSO=303;module.HTTP_NOT_FOUND=404;module.XHTML='application/xhtml+xml';module.GET='get';module.POST='post';module.PATCH='patch';module.log_object=function(o,name){var result;var format=function(value){if(typeof value==='string'){value=value.substring(0,200);return'"'+value+'"';}else if(typeof value==='function'){return String(value).split(" {")[0];}else if(value instanceof Array){return'Array of length '+value.length;}else{return String(value);}};var introspect=function(collection){var items=[];var keys=[];var key;var index;for(key in collection){if(collection.hasOwnProperty(key)){keys.push(key);}}
keys.sort();for(index in keys){if(keys.hasOwnProperty(index)){key=keys[index];var value;try{value=format(collection[key]);}catch(e){value=e.message;}
items.push(key+'='+value);}}
return items.join(',\n  ');};if(o===null||typeof o==='string'||typeof o==='function'){result=format(o);}else{result='(direct-attributes)\n  '+introspect(o);if(o.getAttrs!==undefined){result+='\n(get()-attributes)\n  '+introspect(o.getAttrs());}}
if(name!==undefined){result=name+': '+result;}
Y.log(result);};module.get_io_provider=function(io_provider){if(io_provider===undefined){return Y;}
return io_provider;};module.get_configured_io_provider=function(config,key){if(key===undefined){key='io_provider';}
if(config===undefined||config[key]===undefined){return Y;}
return config[key];};module.append_qs=function(qs,key,value){var elems=(qs&&qs.length>0)?[qs]:[];var enc=encodeURIComponent;if(Y.Lang.isArray(value)){var index;for(index=0;index<value.length;index++){elems.push(enc(key)+"="+enc(value[index]));}}else if(Y.Lang.isObject(value)){elems.push(enc(key)+"="+enc(Y.JSON.stringify(value)));}else{elems.push(enc(key)+"="+enc(value));}
return elems.join("&");};module.normalize_uri=function(uri){var host_start=uri.indexOf('//');if(host_start!==-1){var host_end=uri.indexOf('/',host_start+2);return uri.substring(host_end,uri.length);}
var base="/api/devel";if(uri.indexOf(base.substring(1,base.length))===0){return'/'+uri;}
if(uri.indexOf(base)!==0){if(uri.indexOf('/')!==0){uri=base+'/'+uri;}else{uri=base+uri;}}
return uri;};module.get_absolute_uri=function(uri){var location=document.location;uri=module.normalize_uri(uri);return location.protocol+'//'+location.host+uri;};module.get_field_uri=function(base_uri,field_name){base_uri=module.normalize_uri(base_uri);field_name=escape(field_name);if(base_uri.charAt(base_uri.length-1)==='/'){return base_uri+field_name;}else{return base_uri+'/'+field_name;}};module.get_view_url=function(entry,view_name,namespace,query){var entry_url=Y.lp.get_url_path(entry.get('web_link'));var querystring=Y.QueryString.stringify(query);if(querystring!==''){querystring='?'+querystring;}
return(entry_url+'/'+view_name+'/++'+
namespace+'++'+querystring);};module.get_form_url=function(entry,view_name){return module.get_view_url(entry,view_name,'form');};module.load_model=function(entry,view_name,config,query){var url=module.get_view_url(entry,view_name,'model',query);var old_on_success=config.on.success;var on=config.on;on.success=module.wrap_resource_on_success;var y_config={on:on,'arguments':[entry.lp_client,url,old_on_success,false]};var io_provider=module.get_configured_io_provider(config);io_provider.io(url,y_config);};module.add_accept=function(config,headers){if(headers===undefined){headers={};}
var accept=config.accept||'application/json';headers.Accept=accept;return headers;};module.start_and_size=function(data,start,size){if(start!==undefined){data=module.append_qs(data,"ws.start",start);}
if(size!==undefined){data=module.append_qs(data,"ws.size",size);}
return data;};module.update_cache=function(entry){if(!entry){return;}
var original_uri=entry.uri;var full_uri=module.get_absolute_uri(original_uri);var name;var cached_object;for(name in LP.cache){if(LP.cache.hasOwnProperty(name)){cached_object=LP.cache[name];if(!Y.Lang.isValue(cached_object)){continue;}
if(cached_object.self_link===full_uri){Y.log(name+' cached object has been updated.');update_cached_object(name,cached_object,entry);}}}};module.wrap_resource_on_success=function(ignore,response,args){var client=args[0];var uri=args[1];var callback=args[2];var update_cache=args[3];var method=args[4];var representation,wrapped;if(callback){var media_type=response.getResponseHeader('Content-Type');if(media_type.substring(0,16)==='application/json'){representation=Y.JSON.parse(response.responseText);if(Y.Lang.isValue(representation)&&Y.Object.owns(representation,'self_link')&&Y.Lang.isValue(representation.self_link)&&method!==module.PATCH){uri=representation.self_link;}
var notifications=response.getResponseHeader('X-Lazr-Notifications');if(notifications!==null&&notifications!==""){module.display_notifications(notifications);}
wrapped=client.wrap_resource(uri,representation);var result=callback(wrapped);if(update_cache){module.update_cache(wrapped);}
return result;}else{return callback(response.responseText);}}};module.display_notifications=function(notifications){if(notifications===undefined){return;}
if(notifications==='null'||notifications===null||notifications===""){module.remove_notifications();return;}
var notifications_by_level={'level10':{'notifications':[]},'level20':{'notifications':[]},'level30':{'notifications':[]},'level40':{'notifications':[]}};notifications=Y.JSON.parse(notifications);Y.each(notifications,function(notification,key){var level=notification[0];var message=notification[1];notifications_by_level['level'+level].notifications.push(message);});var last_message=null;Y.each(notifications_by_level,function(info,key){Y.each(info.notifications,function(notification){var css_class=NOTIFICATION_INFO[key].css_class;var node=Y.Node.create("<div class='"+css_class+"'/>");node.set('innerHTML',notification);if(last_message===null){var div=Y.one('div#request-notifications');div.insert(node);}else{last_message.insert(node,'after');}
last_message=node;});});};module.remove_notifications=function(){Y.each(NOTIFICATION_INFO,function(info){var nodes=Y.all('div#request-notifications div'+info.selector);nodes.each(function(node){var parent=node.get('parentNode');parent.removeChild(node);});});};module.HostedFile=function(client,uri,content_type,contents){this.lp_client=client;this.uri=uri;this.content_type=content_type;this.contents=contents;this.io_provider=client.io_provider;};module.HostedFile.prototype={'lp_save':function(config){var on=config.on;var disposition='attachment; filename="'+this.filename+'"';var hosted_file=this;var args=hosted_file;var y_config={method:"PUT",'on':on,'headers':{"Content-Type":hosted_file.content_type,"Content-Disposition":disposition},'arguments':args,'data':hosted_file.contents,'sync':this.lp_client.sync};this.io_provider.io(module.normalize_uri(hosted_file.uri),y_config);},'lp_delete':function(config){var on=config.on;var hosted_file=this;var args=hosted_file;var y_config={method:"DELETE",on:on,'arguments':args,sync:this.lp_client.sync};this.io_provider.io(hosted_file.uri,y_config);}};module.Resource=function(){};module.Resource.prototype={'init':function(client,representation,uri){this.lp_client=client;this.uri=uri;var key;for(key in representation){if(representation.hasOwnProperty(key)){this[key]=representation[key];}}},'lookup_value':function(key){return this[key];},'follow_link':function(link_name,config){var on=config.on;var uri=this.lookup_value(link_name+'_link');if(uri===undefined){uri=this.lookup_value(link_name+'_collection_link');}
if(uri===undefined){throw new Error("No such link: "+link_name);}
var on_success=on.success;var old_on_failure=on.failure;on.failure=function(ignore,response,args){var client=args[0];var original_url=args[1];if(response.status===module.HTTP_NOT_FOUND||response.status===module.HTTP_SEE_ALSO){var file=new module.HostedFile(client,original_url);return on_success(file);}else if(old_on_failure!==undefined){return old_on_failure(ignore,response,args);}};this.lp_client.get(uri,{on:on});},'named_get':function(operation_name,config){return this.lp_client.named_get(this.uri,operation_name,config);},'named_post':function(operation_name,config){return this.lp_client.named_post(this.uri,operation_name,config);}};module.Root=function(client,representation,uri){this.init(client,representation,uri);};module.Root.prototype=new module.Resource();module.Collection=function(client,representation,uri){var index,entry;this.init(client,representation,uri);for(index=0;index<this.entries.length;index++){entry=this.entries[index];this.entries[index]=new module.Entry(client,entry,entry.self_link);}};module.Collection.prototype=new module.Resource();module.Collection.prototype.lp_slice=function(on,start,size){return this.lp_client.get(this.uri,{on:on,start:start,size:size});};module.Entry=function(client,representation,uri){this.lp_client=client;this.uri=uri;this.dirty_attributes=[];var key;for(key in representation){if(representation.hasOwnProperty(key)){this.addAttr(key,{value:representation[key]});this.on(key+"Change",this.mark_as_dirty);}}};module.Entry.prototype=new module.Resource();Y.augment(module.Entry,Y.Attribute);module.Entry.prototype.mark_as_dirty=function(event){if(event.newVal!==event.prevVal){this.dirty_attributes.push(event.attrName);}};module.Entry.prototype.lp_save=function(config){var representation={};var entry=this;Y.each(this.dirty_attributes,function(attribute,key){representation[attribute]=entry.get(attribute);});var headers={};if(this.get('http_etag')!==undefined){headers['If-Match']=this.get('http_etag');}
var uri=module.normalize_uri(this.get('self_link'));this.lp_client.patch(uri,representation,config,headers);this.dirty_attributes=[];};module.Entry.prototype.lookup_value=function(key){return this.get(key);};module.Entry.prototype.getHTML=function(key){var lp_html=this.get('lp_html');if(lp_html){var value=lp_html[key];if(value===undefined){value=lp_html[key+'_link'];}
if(value!==undefined){var result=Y.Node.create("<span/>");result.setContent(value);return result;}}
return null;};module.Launchpad=function(config){this.io_provider=module.get_configured_io_provider(config);this.sync=((config&&Y.Object.owns(config,'sync'))?config.sync:false);};module.Launchpad.prototype={'get':function(uri,config){var on=Y.merge(config.on);var start=config.start;var size=config.size;var data=config.data;var headers=module.add_accept(config);uri=module.normalize_uri(uri);if(data===undefined){data="";}
if(start!==undefined||size!==undefined){data=module.start_and_size(data,start,size);}
var old_on_success=on.success;var update_cache=false;on.success=module.wrap_resource_on_success;var client=this;var y_config={on:on,'arguments':[client,uri,old_on_success,update_cache,module.GET],'headers':headers,data:data,sync:this.sync};return this.io_provider.io(uri,y_config);},'named_get':function(uri,operation_name,config){var parameters=config.parameters;var data=module.append_qs("","ws.op",operation_name);var name;for(name in parameters){if(parameters.hasOwnProperty(name)){data=module.append_qs(data,name,parameters[name]);}}
config.data=data;return this.get(uri,config);},'named_post':function(uri,operation_name,config){var on=Y.merge(config.on);var parameters=config.parameters;var data;var name;uri=module.normalize_uri(uri);data=module.append_qs(data,"ws.op",operation_name);for(name in parameters){if(parameters.hasOwnProperty(name)){data=module.append_qs(data,name,parameters[name]);}}
var old_on_success=on.success;on.success=function(unknown,response,args){if(response.status===module.HTTP_CREATED){var new_location=response.getResponseHeader("Location");return client.get(new_location,{on:{success:old_on_success,failure:on.failure}});}
return module.wrap_resource_on_success(undefined,response,args,module.POST);};var client=this;var update_cache=false;var y_config={method:"POST",on:on,'arguments':[client,uri,old_on_success,update_cache],data:data,sync:this.sync};this.io_provider.io(uri,y_config);},'patch':function(uri,representation,config,headers){var on=Y.merge(config.on);var data=Y.JSON.stringify(representation);uri=module.normalize_uri(uri);var old_on_success=on.success;var update_cache=true;on.success=module.wrap_resource_on_success;var args=[this,uri,old_on_success,update_cache,module.PATCH];var extra_headers={"X-HTTP-Method-Override":"PATCH","Content-Type":"application/json","X-Content-Type-Override":"application/json"};var name;if(headers!==undefined){for(name in headers){if(headers.hasOwnProperty(name)){extra_headers[name]=headers[name];}}}
extra_headers=module.add_accept(config,extra_headers);var y_config={'method':"POST",'on':on,'headers':extra_headers,'arguments':args,'data':data,'sync':this.sync};this.io_provider.io(uri,y_config);},'wrap_resource':function(uri,representation){var key;var new_representation;if(representation===null||representation===undefined){return representation;}
if(representation.resource_type_link===undefined){if(representation.total_size!==undefined||representation.total_size_link!==undefined){return new module.Collection(this,representation,uri);}else if(Y.Lang.isObject(representation)){if(Y.Lang.isArray(representation)){new_representation=[];}
else{new_representation={};}
for(key in representation){if(representation.hasOwnProperty(key)){var value=representation[key];if(Y.Lang.isValue(value)){value=this.wrap_resource(value.self_link,value);}
new_representation[key]=value;}}
return new_representation;}else{return representation;}}else if(representation.resource_type_link.search(/\/#service-root$/)!==-1){return new module.Root(this,representation,uri);}else if(representation.total_size===undefined){return new module.Entry(this,representation,uri);}else{return new module.Collection(this,representation,uri);}}};module.ErrorHandler=Y.Base.create('client-error-handler',Y.Base,[],{clearProgressUI:function(){},showError:function(error_msg){},handleError:function(ioId,response){return false;},getFailureHandler:function(){var self=this;return function(ioId,o){self.clearProgressUI();if(self.handleError(ioId,o)){return;}
if(o.status===503){self.showError('Timeout error, please try again in a few minutes.');}else if(o.status>=500){var server_error='Server error, please contact an administrator.';var oops_id=self.get_oops_id(o);if(oops_id){server_error=server_error+' OOPS ID:'+oops_id;}
self.showError(server_error);}else if(o.status===412){self.showError(o.status+' '+o.statusText);}else{self.showError(self.get_generic_error(o));}};},get_oops_id:function(response){return response.getResponseHeader('X-Lazr-OopsId');},get_generic_error:function(response){return response.responseText;}});module.FormErrorHandler=Y.Base.create('client-form-error-handler',module.ErrorHandler,[],{clearFormErrors:function(){Y.all('.error.message').remove(true);Y.all('.error .message').remove(true);Y.all('div.error').removeClass('error');},handleError:function(ioId,response){if(response.status===400&&response.statusText==='Validation'){var response_info=Y.JSON.parse(response.responseText);var error_summary=response_info.error_summary;var form_wide_errors=response_info.form_wide_errors;var errors=response_info.errors;this.handleFormValidationError(error_summary,form_wide_errors,errors);return true;}
return false;},handleFormValidationError:function(error_summary,form_wide_errors,errors){var form=this.get('form');if(!Y.Lang.isValue(form)){form=Y.one("[name='launchpadform']");}
if(!Y.Lang.isValue(form)){return;}
var form_content=form.one('table.form');if(!Y.Lang.isValue(form_content)){form_content=form;}
var error_summary_node=Y.Node.create('<p class="error message"></p>').set('text',error_summary);form_content.insertBefore(error_summary_node,form_content);if(form_wide_errors.length>0){var form_error_node=Y.Node.create('<div class="error message"></div>');Y.Array.each(form_wide_errors,function(message){form_error_node.appendChild(Y.Node.create('<p></p>').set('text',message));});form_content.insertBefore(form_error_node,form_content);}
Y.each(errors,function(message,field_name){var label=Y.one('label[for="'+field_name+'"]');if(Y.Lang.isValue(label)){label.ancestor('div').addClass('error');var field=label.next('div');var error_node=Y.Node.create('<div class="message"></div>').set('text',message);field.insert(error_node,'after');}});},get_oops_id:function(response){var oops_re=/code class="oopsid">(OOPS-[^<]*)/;var result=response.responseText.match(oops_re);if(result===null){return null;}
return result[1];},get_generic_error:function(response){if(response.status!==403){return"Sorry, you don't have permission to make this change.";}
else{return response.status+' '+response.statusText;}}},{ATTRS:{form:{value:null}}});},"0.1",{requires:["attribute","base","io","querystring","json-parse","json-stringify","lp"]});YUI.add('lp.client.plugins',function(Y){var module=Y.namespace('lp.client.plugins');module.PATCHPlugin=Y.Base.create('client-plugin-patch',Y.Plugin.Base,[],{extra_config:null,initializer:function(config){if(!Y.Lang.isString(config.patch)){Y.error("missing config: 'patch' containing the attribute name");}
if(!Y.Lang.isString(config.resource)){Y.error("missing config: 'resource' containing the URL to patch");}
this.extra_config=config||{};this.extra_config.accept='application/json;include=lp_html';this.original_save=config.host._saveData;this.doBefore("_saveData",this.doPATCH);this.error_handler=new Y.lp.client.ErrorHandler();this.error_handler.clearProgressUI=function(){config.host._uiClearWaiting();};this.error_handler.showError=function(error_msg){config.host.showError(error_msg);};},doPATCH:function(){var owner=this.get("host"),original_save=this.original_save;owner._uiSetWaiting();var client=new Y.lp.client.Launchpad();var formatter=Y.bind(this.get('formatter'),this);var attribute=this.get('patch');var patch_payload;var val=owner.getInput();patch_payload={};patch_payload[attribute]=val;var callbacks={on:{success:function(entry){owner._uiClearWaiting();var new_value=formatter(entry,attribute);original_save.apply(owner,[new_value]);},failure:this.error_handler.getFailureHandler()}};var cfg=Y.merge(callbacks,this.extra_config);client.patch(this.get('resource'),patch_payload,cfg);return new Y.Do.Halt();},_defaultFormatter:function(result,attribute){if(Y.Lang.isString(result)){return result;}else{if(this.get('use_html')){return Y.Node.create(result.getHTML(attribute).get('innerHTML'));}else{return result.get(attribute);}}}},{NAME:'PATCHPlugin',NS:'patcher',ATTRS:{patch:{},resource:{},use_html:false,formatter:{valueFn:function(){return this._defaultFormatter;}}}});},"0.1",{requires:["base","plugin","dump","json","lp.client"]});
/* lp/app/javascript/lp-links-min.js */

YUI.add('lp.app.links',function(Y){var namespace=Y.namespace('lp.app.links');function harvest_links(links_holder,link_class,link_type){var link_info=[];Y.all('.'+link_class).each(function(link){var href=link.getAttribute('href');if(Y.Array.indexOf(link_info,href)<0){link_info.push(href);}});if(link_info.length>0){links_holder[link_type]=link_info;}}
function process_links(link_info,link_class,link_type){if(!Y.Lang.isValue(link_info[link_type])){return;}
var invalid_links=link_info[link_type].invalid||{};var valid_links=link_info[link_type].valid||{};Y.all('.'+link_class).each(function(link){var href=link.getAttribute('href');if(invalid_links.hasOwnProperty(href)){var invalid_link_msg=invalid_links[href];link.removeClass(link_class);link.addClass('invalid-link');link.setAttribute('title',invalid_link_msg);link.on('click',function(e){e.halt();alert(invalid_link_msg);});}else if(valid_links.hasOwnProperty(href)){var valid_link_msg=valid_links[href];link.setAttribute('title',valid_link_msg);}});}
Y.lp.app.links.check_valid_lp_links=function(io_provider){var links_to_check={};harvest_links(links_to_check,'branch-short-link','branch_links');harvest_links(links_to_check,'bug-link','bug_links');if(Y.Object.size(links_to_check)===0){return;}
var json_link_info=Y.JSON.stringify(links_to_check);var qs='';qs=Y.lp.client.append_qs(qs,'link_hrefs',json_link_info);var config={on:{failure:function(id,response,args){if(Y.Lang.isValue(console)){console.log("Link Check Error: "+args+': '
+response.status+' - '+
response.statusText+' - '
+response.responseXML);}},success:function(id,response){var link_info=Y.JSON.parse(response.responseText);process_links(link_info,'branch-short-link','branch_links');process_links(link_info,'bug-link','bug_links');}}};var uri='+check-links';var on=Y.merge(config.on);var client=this;var y_config={method:"POST",headers:{'Accept':'application/json'},on:on,'arguments':[client,uri],data:qs};Y.lp.client.get_io_provider(io_provider).io(uri,y_config);};},"0.1",{"requires":["base","node","io","dom","json","lp.client"]});
/* lp/app/javascript/longpoll-min.js */

YUI.add('lp.app.longpoll',function(Y){var namespace=Y.namespace('lp.app.longpoll');namespace.longpoll_start_event='lp.app.longpoll.start';namespace.longpoll_fail_event='lp.app.longpoll.failure';namespace.longpoll_longdelay='lp.app.longpoll.longdelay';namespace.longpoll_shortdelay='lp.app.longpoll.shortdelay';namespace._manager=null;namespace.MAX_SHORT_DELAY_FAILED_ATTEMPTS=5;namespace.SHORT_DELAY=1000;namespace.LONG_DELAY=3*60*1000;function LongPollManager(config){LongPollManager.superclass.constructor.apply(this,arguments);}
LongPollManager.NAME="longPollManager";Y.extend(LongPollManager,Y.Base,{initializer:function(cfg){this._started=false;this._failed_attempts=0;this._repoll=true;this._sequence=0;},setConnectionInfos:function(key,uri){this.key=key;this.uri=uri;},_io:function(uri,config){Y.io(uri,config);},successPoll:function(id,response){try{var data=Y.JSON.parse(response.responseText);if(!data.hasOwnProperty('event_key')){throw new Error("Response has no event_key");}
Y.fire(data.event_key,data);return true;}
catch(e){Y.fire(namespace.longpoll_fail_event,e);return false;}},failurePoll:function(){Y.fire(namespace.longpoll_fail_event);},_pollDelay:function(){this._failed_attempts=this._failed_attempts+1;if(this._failed_attempts>=namespace.MAX_SHORT_DELAY_FAILED_ATTEMPTS){Y.fire(namespace.longpoll_longdelay);return namespace.LONG_DELAY;}
else{return namespace.SHORT_DELAY;}},repoll:function(failed){if(!failed){if(this._failed_attempts>=namespace.MAX_SHORT_DELAY_FAILED_ATTEMPTS){Y.fire(namespace.longpoll_shortdelay);}
this._failed_attempts=0;if(this._repoll){this.poll();}}
else{var delay=this._pollDelay();if(this._repoll){Y.later(delay,this,this.poll);}}},poll:function(){var that=this;var config={method:"GET",sync:false,on:{failure:function(id,response){if(Y.Lang.isValue(response)&&Y.Lang.isValue(response.status)&&(response.status===408||response.status===504)){that.repoll(false);}
else{that.failurePoll();that.repoll(true);}},success:function(id,response){var res=that.successPoll(id,response);that.repoll(res);}}};this._sequence=this._sequence+1;var queue_uri=this.uri+"?uuid="+this.key+"&sequence="+this._sequence;if(!this._started){Y.fire(namespace.longpoll_start_event);this._started=true;}
this._io(queue_uri,config);}});namespace.LongPollManager=LongPollManager;namespace.getLongPollManager=function(){if(!Y.Lang.isValue(namespace._manager)){namespace._manager=new namespace.LongPollManager();}
return namespace._manager;};namespace.setupLongPollManager=function(){if(Y.Object.owns(LP.cache,'longpoll')&&Y.Lang.isValue(LP.cache.longpoll)){var key=LP.cache.longpoll.key;var uri=LP.cache.longpoll.uri;var longpollmanager=namespace.getLongPollManager();longpollmanager.setConnectionInfos(key,uri);longpollmanager.poll();return longpollmanager;}};},"0.1",{"requires":["base","event","json","io"]});
/* lp/app/javascript/mustache-min.js */

YUI.add('lp.mustache',function(Y){var Mustache=function(){var regexCache={};var Renderer=function(){};Renderer.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(template,context,partials,in_recursion){if(!in_recursion){this.context=context;this.buffer=[];}
if(!this.includes("",template)){if(in_recursion){return template;}else{this.send(template);return;}}
template=this.render_pragmas(template);var html=this.render_section(template,context,partials);if(html===false){html=this.render_tags(template,context,partials,in_recursion);}
if(in_recursion){return html;}else{this.sendLines(html);}},send:function(line){if(line!==""){this.buffer.push(line);}},sendLines:function(text){if(text){var lines=text.split("\n");for(var i=0;i<lines.length;i++){this.send(lines[i]);}}},render_pragmas:function(template){if(!this.includes("%",template)){return template;}
var that=this;var regex=this.getCachedRegex("render_pragmas",function(otag,ctag){return new RegExp(otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+ctag,"g");});return template.replace(regex,function(match,pragma,options){if(!that.pragmas_implemented[pragma]){throw({message:"This implementation of mustache doesn't understand the '"+
pragma+"' pragma"});}
that.pragmas[pragma]={};if(options){var opts=options.split("=");that.pragmas[pragma][opts[0]]=opts[1];}
return"";});},render_partial:function(name,context,partials){name=this.trim(name);if(!partials||partials[name]===undefined){throw({message:"unknown_partial '"+name+"'"});}
if(typeof(context[name])!="object"){return this.render(partials[name],context,partials,true);}
return this.render(partials[name],context[name],partials,true);},render_section:function(template,context,partials){if(!this.includes("#",template)&&!this.includes("^",template)){return false;}
var that=this;var regex=this.getCachedRegex("render_section",function(otag,ctag){return new RegExp("^([\\s\\S]*?)"+
otag+"(\\^|\\#)\\s*(.+)\\s*"+
ctag+"\n*([\\s\\S]*?)"+
otag+"\\/\\s*\\3\\s*"+
ctag+"\\s*([\\s\\S]*)$","g");});return template.replace(regex,function(match,before,type,name,content,after){var renderedBefore=before?that.render_tags(before,context,partials,true):"",renderedAfter=after?that.render(after,context,partials,true):"",renderedContent,value=that.find(name,context);if(type==="^"){if(!value||that.is_array(value)&&value.length===0){renderedContent=that.render(content,context,partials,true);}else{renderedContent="";}}else if(type==="#"){if(that.is_array(value)){renderedContent=that.map(value,function(row){return that.render(content,that.create_context(row),partials,true);}).join("");}else if(that.is_object(value)){renderedContent=that.render(content,that.create_context(value),partials,true);}else if(typeof value==="function"){renderedContent=value.call(context,content,function(text){return that.render(text,context,partials,true);});}else if(value){renderedContent=that.render(content,context,partials,true);}else{renderedContent="";}}
return renderedBefore+renderedContent+renderedAfter;});},render_tags:function(template,context,partials,in_recursion){var that=this;var new_regex=function(){return that.getCachedRegex("render_tags",function(otag,ctag){return new RegExp(otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+ctag+"+","g");});};var regex=new_regex();var tag_replace_callback=function(match,operator,name){switch(operator){case"!":return"";case"=":that.set_delimiters(name);regex=new_regex();return"";case">":return that.render_partial(name,context,partials);case"{":return that.find(name,context);default:return that.escape(that.find(name,context));}};var lines=template.split("\n");for(var i=0;i<lines.length;i++){lines[i]=lines[i].replace(regex,tag_replace_callback,this);if(!in_recursion){this.send(lines[i]);}}
if(in_recursion){return lines.join("\n");}},set_delimiters:function(delimiters){var dels=delimiters.split(" ");this.otag=this.escape_regex(dels[0]);this.ctag=this.escape_regex(dels[1]);},escape_regex:function(text){if(!arguments.callee.sRE){var specials=['/','.','*','+','?','|','(',')','[',']','{','}','\\'];arguments.callee.sRE=new RegExp('(\\'+specials.join('|\\')+')','g');}
return text.replace(arguments.callee.sRE,'\\$1');},find:function(name,context){name=this.trim(name);function is_kinda_truthy(bool){return bool===false||bool===0||bool;}
var value;if(is_kinda_truthy(context[name])){value=context[name];}else if(is_kinda_truthy(this.context[name])){value=this.context[name];}
if(typeof value==="function"){return value.apply(context);}
if(value!==undefined){return value;}
return"";},includes:function(needle,haystack){return haystack.indexOf(this.otag+needle)!=-1;},escape:function(s){s=String(s===null?"":s);return s.replace(/&(?!\w+;)|["'<>\\]/g,function(s){switch(s){case"&":return"&amp;";case'"':return'&quot;';case"'":return'&#39;';case"<":return"&lt;";case">":return"&gt;";default:return s;}});},create_context:function(_context){if(this.is_object(_context)){return _context;}else{var iterator=".";if(this.pragmas["IMPLICIT-ITERATOR"]){iterator=this.pragmas["IMPLICIT-ITERATOR"].iterator;}
var ctx={};ctx[iterator]=_context;return ctx;}},is_object:function(a){return a&&typeof a=="object";},is_array:function(a){return Object.prototype.toString.call(a)==='[object Array]';},trim:function(s){return s.replace(/^\s*|\s*$/g,"");},map:function(array,fn){if(typeof array.map=="function"){return array.map(fn);}else{var r=[];var l=array.length;for(var i=0;i<l;i++){r.push(fn(array[i]));}
return r;}},getCachedRegex:function(name,generator){var byOtag=regexCache[this.otag];if(!byOtag){byOtag=regexCache[this.otag]={};}
var byCtag=byOtag[this.ctag];if(!byCtag){byCtag=byOtag[this.ctag]={};}
var regex=byCtag[name];if(!regex){regex=byCtag[name]=generator(this.otag,this.ctag);}
return regex;}};return({name:"mustache.js",version:"0.4.0-dev",to_html:function(template,view,partials,send_fun){var renderer=new Renderer();if(send_fun){renderer.send=send_fun;}
renderer.render(template,view||{},partials);if(!send_fun){return renderer.buffer.join("\n");}}});}();var module=Y.namespace('lp.mustache');module.name=Mustache.name;module.version=Mustache.version;module.to_html=Mustache.to_html;},"0.4-dev",{"requires":[]});
/* lp/app/javascript/formoverlay/formoverlay-min.js */

YUI.add('lp.ui.formoverlay',function(Y){var ns=Y.namespace("lp.ui");var getCN=Y.ClassNameManager.getClassName,NAME='lazr-formoverlay',RENDERUI="renderUI",BINDUI="bindUI";function FormOverlay(config){FormOverlay.superclass.constructor.apply(this,arguments);Y.after(this._renderUIFormOverlay,this,RENDERUI);Y.after(this._bindUIFormOverlay,this,BINDUI);Y.after(this._bindDestroyOnHide,this,BINDUI);}
FormOverlay.NAME=NAME;FormOverlay.C_FORM_HEADER=getCN(NAME,'form-header');FormOverlay.C_FORM=getCN(NAME,'form');FormOverlay.C_CANCEL=getCN(NAME,'cancel');FormOverlay.C_ERRORS=getCN(NAME,'errors');FormOverlay.C_ACTIONS=getCN(NAME,'actions');FormOverlay.FORM_HEADER_TEMPLATE='<div class="'+FormOverlay.C_FORM_HEADER+'" />';FormOverlay.FORM_TEMPLATE='<form class="'+FormOverlay.C_FORM+'" />';FormOverlay.SUBMIT_TEMPLATE='<input type="submit" value="Submit" />';FormOverlay.CANCEL_TEMPLATE='<button type="button"'+'class="'+FormOverlay.C_CANCEL+'">Cancel</button>';FormOverlay.ERROR_TEMPLATE='<div class="'+FormOverlay.C_ERRORS+'" />';FormOverlay.ATTRS={form_header:{value:''},form_content:{value:''},form_submit_button:{value:null},form_cancel_button:{value:null},form_submit_callback:{value:null},io_provider:{value:Y},destroy_on_hide:{value:false,writeOnce:"initOnly"},show_close_button:{value:false,writeOnce:"initOnly"}};Y.extend(FormOverlay,Y.lp.ui.PrettyOverlay,{initializer:function(){},_renderUIFormOverlay:function(){this.form_header_node=Y.Node.create(FormOverlay.FORM_HEADER_TEMPLATE);this.form_node=Y.Node.create(FormOverlay.FORM_TEMPLATE);if(this.get("form_submit_button")===null){this.set("form_submit_button",Y.Node.create(FormOverlay.SUBMIT_TEMPLATE));}
if(this.get("form_cancel_button")===null&&!this.get('show_close_button')){this.set("form_cancel_button",Y.Node.create(FormOverlay.CANCEL_TEMPLATE));}
this.error_node=Y.Node.create(FormOverlay.ERROR_TEMPLATE);var close_button=this.get('boundingBox').one('.close a');if(this.get('show_close_button')){close_button.setStyle('visibility','inherit');}
this._setFormContent();},_bindUIFormOverlay:function(){Y.on("submit",Y.bind(this._onFormSubmit,this),this.form_node);if(Y.Lang.isValue(this.get("form_cancel_button"))){Y.on("click",Y.bind(function(e){this.hide();},this),this.get("form_cancel_button"));}
this.on("visibleChange",function(e){if(e.newVal){if(this.get('centered')){this.centered();}
this._focusChild();}});},_bindDestroyOnHide:function(){if(this.get('destroy_on_hide')){this.after('visibleChange',function(e){if(!e.newVal){this.destroy();}});}},_setFormContent:function(){this.form_header_node.set('innerHTML',this.get('form_header'));var form_content=this.get('form_content');if(form_content instanceof Y.Node){this.form_node.appendChild(form_content);}else{this.form_node.set("innerHTML",form_content);}
this.form_node.appendChild(this.error_node);var wrapper_div=Y.Node.create('<div/>');wrapper_div.addClass(FormOverlay.C_ACTIONS);wrapper_div.appendChild(this.get("form_submit_button"));if(Y.Lang.isValue(this.get("form_cancel_button"))){wrapper_div.appendChild(this.get("form_cancel_button"));}
this.form_node.appendChild(wrapper_div);var body_node=Y.Node.create('<div/>');body_node.appendChild(this.form_header_node);body_node.appendChild(this.form_node);this.setStdModContent(Y.WidgetStdMod.BODY,body_node,Y.WidgetStdMod.REPLACE);},_focusChild:function(){var all_inputs=this.form_node.all('input,select,textarea,button');var sane_inputs=[];all_inputs.each(function(item,index,node_list){var displayed=item.get('region').height>0;var visible=item.getComputedStyle('visibility')==='visible';var not_input_hidden=!(item.get('tagName')==='INPUT'&&item.get('type')==='hidden');if(displayed&&visible&&not_input_hidden){sane_inputs.push(item);}});if(sane_inputs.length>0){sane_inputs[0].focus();}else{this.get('boundingBox').one('.close-button').focus();}},_onFormSubmit:function(e){this.clearError();var submit_callback=this.get("form_submit_callback");if(submit_callback){e.halt(true);var data=this.getFormData();submit_callback(data,this.get("io_provider"));}},getFormData:function(){var data={};var addData=function(key,value){if(data[key]===undefined){data[key]=[value];}else{data[key].push(value);}};var getOptionValue=function(option){if(option.attributes.value&&option.attributes.value.specified){return option.value;}else{return option.text;}};var select_idx;var num_options;var option;var form_elem=Y.Node.getDOMNode(this.form_node);var elem_idx;var num_elems;for(elem_idx=0,num_elems=form_elem.elements.length;elem_idx<num_elems;++elem_idx){var elem=form_elem.elements[elem_idx];if(elem.name&&!elem.disabled){switch(elem.type){case'select-one':if(elem.selectedIndex>-1){option=elem.options[elem.selectedIndex];addData(elem.name,getOptionValue(option));}
break;case'select-multiple':if(elem.selectedIndex>-1){for(select_idx=elem.selectedIndex,num_options=elem.options.length;select_idx<num_options;++select_idx){option=elem.options[select_idx];if(option.selected){addData(elem.name,getOptionValue(option));}}}
break;case'radio':case'checkbox':if(elem.checked){addData(elem.name,elem.value);}
break;case'file':case undefined:case'reset':case'button':break;case'submit':break;default:addData(elem.name,elem.value);}}}
return data;},showError:function(error_msgs){this.error_node.empty(true);var error_content;if(Y.Lang.isString(error_msgs)){error_content=Y.Node.create('<p></p>').set('text',error_msgs);}else{error_content=Y.Node.create('<p>The following errors were encountered:</p><ul></ul>');var error_list=error_content.one('ul');var li_nodes=new Y.NodeList([]);Y.each(error_msgs,function(error_msg){li_nodes.push(Y.Node.create('<li></li>').set('text',error_msg));});error_list.append(li_nodes);}
this.error_node.appendChild(error_content);},clearError:function(){this.error_node.empty(true);},loadFormContentAndRender:function(url){var on_success=function(id,response,overlay){overlay.set('form_content',response.responseText);overlay.renderUI();overlay.bindUI();};var on_failure=function(id,response,overlay){overlay.set('form_content',"Sorry, an error occurred while loading the form.");overlay.renderUI();};var cfg={on:{success:on_success,failure:on_failure},"arguments":this};this.get("io_provider").io(url,cfg);}});ns.FormOverlay=FormOverlay;},"0.1",{"skinnable":true,"requires":["lp.ui.overlay"]});
/* lp/app/javascript/extras/extras-min.js */

YUI.add('lp.extras',function(Y){var namespace=Y.namespace("lp.extras"),NodeList=Y.NodeList;NodeList.map=function(instance,fn,context){return Y.Array.map(Y.Array.map(Y.Array(NodeList.getDOMNodes(instance)),Y.one),function(node){return fn.call(context||node,node);});};NodeList.prototype.map=function(fn,context){return NodeList.map(this,fn,context);};var attrgetter=function(name){return function(thing){return thing[name];};};var attrselect=function(name){return function(things){return Y.Array.map(Y.Array(things),attrgetter(name));};};var attrcaller=function(name){var args=Y.Array(arguments).splice(1);return function(thing){return thing[name].apply(thing,args);};};namespace.attrgetter=attrgetter;namespace.attrselect=attrselect;namespace.attrcaller=attrcaller;},"0.1",{requires:["array-extras","node"]});
/* lp/app/javascript/anim/anim-min.js */

YUI.add('lp.anim',function(Y){var namespace=Y.namespace('lp.anim'),testspace=Y.namespace('lp.anim.test'),attrcaller=Y.lp.extras.attrcaller;var flash_in;flash_in=function(cfg){var acfg=Y.merge(flash_in.defaults,cfg);var anim=new Anim(acfg);return anim;};flash_in.defaults={duration:1,easing:Y.Easing.easeIn,from:{backgroundColor:'#FFFF00'},to:{backgroundColor:'#FFFFFF'}};var green_flash;green_flash=function(cfg){return flash_in(Y.merge(green_flash.defaults,cfg));};green_flash.defaults={from:{backgroundColor:'#90EE90'}};var red_flash;red_flash=function(cfg){return flash_in(Y.merge(red_flash.defaults,cfg));};red_flash.defaults={from:{backgroundColor:'#FF6666'}};var resolveNodeListFrom=function(protonode){if(Y.Lang.isString(protonode)){return Y.all(protonode);}else if(protonode instanceof Y.Node){return new Y.NodeList([protonode]);}else if(protonode instanceof Y.NodeList){return protonode;}
throw('Not a selector, Node, or NodeList');};var Anim=function(config){var nodelist=resolveNodeListFrom(config.node);this._anims=nodelist.map(function(node){var ncfg=Y.merge(config,{node:node});var anim=new Y.Anim(ncfg);var to=ncfg.to;if(Y.Lang.isObject(to)&&Y.Lang.isFunction(to.backgroundColor)){var bg=to.backgroundColor.call(anim,anim.get('node'));if(bg==='transparent'){Y.error("Can not animate to a 'transparent' background "+"in '"+anim+"'");}}
var original_bg=null;anim.on('start',function(){original_bg=anim.get('node').getStyle('backgroundColor');});anim.on('end',function(){anim.get('node').setStyle('backgroundColor',original_bg);});return anim;});};Anim.prototype={run:function(){Y.each(this._anims,attrcaller("run"));},on:function(){var args=arguments;Y.each(this._anims,function(anim){anim.on.apply(anim,args);});}};namespace.Anim=Anim;namespace.flash_in=flash_in;namespace.green_flash=green_flash;namespace.red_flash=red_flash;testspace.resolveNodeListFrom=resolveNodeListFrom;},"0.1",{"requires":["base","node","anim","lp.extras"]});
/* lp/app/javascript/choiceedit/choiceedit-min.js */

YUI.add('lp.ui.choiceedit',function(Y){var CHOICESOURCE='ichoicesource',CHOICELIST='ichoicelist',NULLCHOICESOURCE='inullchoicesource',C_EDITICON='editicon',C_VALUELOCATION='value',C_NULLTEXTLOCATION='nulltext',C_ADDICON='addicon',SAVE='save',RENDERUI="renderUI",BINDUI="bindUI",SYNCUI="syncUI",NOTHING={};var ChoiceSource;ChoiceSource=function(){ChoiceSource.superclass.constructor.apply(this,arguments);Y.after(this._bindUIChoiceSource,this,BINDUI);Y.after(this._syncUIChoiceSource,this,SYNCUI);};ChoiceSource.NAME=CHOICESOURCE;ChoiceSource.HTML_PARSER={value_location:'.'+C_VALUELOCATION,editicon:'.'+C_EDITICON};ChoiceSource.ATTRS={items:{value:[]},value:{value:null},title:{value:""},value_location:{value:null,setter:function(v){return Y.one(v);}},editicon:{value:null,setter:function(v){return Y.one(v);}},actionicon:{getter:function(){return this.get('editicon');}},elementToFlash:{value:null,setter:function(v){return Y.one(v);}},flashEnabled:{value:true},backgroundColor:{value:null},clickable_content:{value:true},zIndex:{value:1000}};Y.extend(ChoiceSource,Y.Widget,{initializer:function(cfg){this.publish(SAVE);},_setupClickableContent:function(){var content=this.get('contentBox');content.detachAll();var edit_icon=this.get('editicon');if(Y.Lang.isValue(edit_icon)){edit_icon.detachAll();}
var value=this.get('clickable_content');var clickable_element;if(value){clickable_element=content;}else{content.addClass('no-click');clickable_element=edit_icon;}
clickable_element.on("click",this.onClick,this);},_bindUIChoiceSource:function(){this._setupClickableContent();var that=this;this.after("clickable_contentChange",function(e){that._setupClickableContent();});this.after("valueChange",function(e){that.syncUI();if(that.get('flashEnabled')){that._showSucceeded();}});},_syncUIChoiceSource:function(){var items=this.get("items");var value=this.get("value");var node=this.get("value_location");var i;for(i=0;i<items.length;i++){if(items[i].value===value){node.set("innerHTML",items[i].source_name||items[i].name);}}},_chosen_value:NOTHING,getInput:function(){if(this._chosen_value!==NOTHING){return this._chosen_value;}else{return this.get("value");}},onClick:function(e){this._choice_list=new Y.ChoiceList({value:this.get("value"),title:this.get("title"),items:this.get("items"),value_location:this.get("value_location"),progressbar:false,zIndex:this.get("zIndex")});var that=this;this._choice_list.on("valueChosen",function(e){that._chosen_value=e.details[0];that._saveData(e.details[0]);});this._choice_list._mouseX=e.clientX+window.pageXOffset;this._choice_list._mouseY=e.clientY+window.pageYOffset;this._choice_list.render();e.halt();},_saveData:function(newvalue){this.set("value",newvalue);this.fire(SAVE);},_showSucceeded:function(){this._uiAnimateFlash(Y.lp.anim.green_flash);},_showFailed:function(){this._uiAnimateFlash(Y.lp.anim.red_flash);},_uiAnimateFlash:function(flash_fn){var node=this.get('elementToFlash');if(node===null){node=this.get('contentBox');}
var cfg={node:node};if(this.get('backgroundColor')!==null){cfg.to={backgroundColor:this.get('backgroundColor')};}
var anim=flash_fn(cfg);anim.run();},_uiSetWaiting:function(){var actionicon=this.get("actionicon");actionicon.original_src=actionicon.get("src");actionicon.set("src","https://launchpad.net/@@/spinner");},_uiClearWaiting:function(){var actionicon=this.get("actionicon");actionicon.set("src",actionicon.original_src);}});Y.ChoiceSource=ChoiceSource;var ChoiceList;ChoiceList=function(){ChoiceList.superclass.constructor.apply(this,arguments);};ChoiceList.NAME=CHOICELIST;ChoiceList.ATTRS={items:{value:[]},value:{value:null},title:{value:""},value_location:{value:null},display_items_list:{value:null}};Y.extend(ChoiceList,Y.lp.ui.PrettyOverlay,{initializer:function(cfg){this.publish("valueChosen");this.after("renderedChange",this._positionCorrectly);Y.after(this._renderUIChoiceList,this,RENDERUI);Y.after(this._bindUIChoiceList,this,BINDUI);},_renderUIChoiceList:function(){this.set("align",{node:this.get("value_location"),points:[Y.WidgetPositionAlign.TL,Y.WidgetPositionAlign.TL]});this.set('headerContent',Y.Node.create("<h2></h2>").set('text',this.get("title")));this.set("display_items_list",Y.Node.create("<ul>"));var display_items_list=this.get("display_items_list");var items=this.get("items");var value=this.get("value");var li;var i;for(i=0;i<items.length;i++){var desc_node=null;if(Y.Lang.isString(items[i].description)&&items[i].description!==''){desc_node=Y.Node.create('<span></span>').setContent(items[i].description);var desc_css_class=items[i].description_css_class;if(Y.Lang.isValue(desc_css_class)){desc_node.addClass(desc_css_class);}}
if(items[i].disabled){li=Y.Node.create('<li><span class="disabled">'+
items[i].name+'</span></li>');if(desc_node!==null){li.one('span').appendChild(desc_node);}}else if(items[i].value===value){li=Y.Node.create('<li><span class="current">'+
items[i].name+'</span></li>');if(desc_node!==null){li.one('span').appendChild(desc_node);}}else{li=Y.Node.create('<li><a href="#'+items[i].value+'">'+'<span class="choice-link">'+items[i].name+'</span></a></li>');li.one('a')._value=items[i].value;if(desc_node!==null){li.one('a').appendChild(desc_node);}}
if(items[i].css_class!==undefined){li.addClass(items[i].css_class);}else{li.addClass('unstyled');}
display_items_list.appendChild(li);}
this.setStdModContent(Y.WidgetStdMod.BODY,display_items_list,Y.WidgetStdMod.REPLACE);this.move(-10000,0);},_bindUIChoiceList:function(){var display_items_list=this.get("display_items_list");var that=this;Y.delegate("click",function(e){var target=e.currentTarget;var value=target._value;var items=that.get("items");var i;for(i=0;i<items.length;i++){if(items[i].value===value){that.fire("valueChosen",items[i].value);that.destroy();e.halt();break;}}},display_items_list,"li a");},destructor:function(){var bb=this.get("boundingBox");var parent=bb.get("parentNode");if(parent){parent.removeChild(bb);}},_positionCorrectly:function(e){var boundingBox=this.get('boundingBox');var client_width=document.body.clientWidth;var offset_width=boundingBox.get('offsetWidth');var selectedListItem=boundingBox.one('span.current');var valueX=this._mouseX-(boundingBox.get('offsetWidth')/2);var valueY;if(Y.Lang.isValue(selectedListItem)){valueY=(this._mouseY-
this.get("headerContent").get('offsetHeight')-
selectedListItem.get('offsetTop')-
(selectedListItem.get('offsetHeight')/2));}else{valueY=this._mouseY-(boundingBox.get('offsetHeight')/2);}
if(valueX>client_width-offset_width){valueX=client_width-offset_width;}
if(valueX<0){valueX=0;}
if(valueY<0){valueY=0;}
this.move(valueX,valueY);this.get('boundingBox').one('.close-button').focus();},_findPosition:function(obj){var curleft=0,curtop=0;if(obj.get("offsetParent")){do{curleft+=obj.get("offsetLeft");curtop+=obj.get("offsetTop");obj=obj.get("offsetParent");}while(Y.Lang.isValue(obj));}
return[curleft,curtop];}});Y.augment(ChoiceList,Y.Event.Target);Y.ChoiceList=ChoiceList;var NullChoiceSource;NullChoiceSource=function(){NullChoiceSource.superclass.constructor.apply(this,arguments);};NullChoiceSource.NAME=NULLCHOICESOURCE;NullChoiceSource.HTML_PARSER={value_location:'.'+C_VALUELOCATION,editicon:'.'+C_EDITICON,null_text_location:'.'+C_NULLTEXTLOCATION,addicon:'.'+C_ADDICON};NullChoiceSource.ATTRS={null_text_location:{},addicon:{},actionicon:{getter:function(){if(Y.Lang.isValue(this.get('value'))){return this.get('editicon');}else{return this.get('addicon');}}},items:{value:[],getter:function(v){if(!Y.Lang.isValue(this.get("value"))){v=Y.Array.filter(v,function(item){return(Y.Lang.isValue(item.value));});}
var i;for(i=0;i<v.length;i++){if(!Y.Lang.isValue(v[i].value)&&v[i].name.indexOf('<img')===-1){v[i].name=['<img src="https://launchpad.net/@@/remove" ','     style="margin-right: 0.5em; border: none; ','            vertical-align: middle" />','<span style="text-decoration: underline; ','             display: inline;','             color: green;">',v[i].name,'</span>'].join('');}}
return v;},clone:"deep"}};Y.extend(NullChoiceSource,ChoiceSource,{initializer:function(cfg){var addicon=this.get('addicon');addicon.original_src=addicon.get("src");var old_uiClearWaiting=this._uiClearWaiting;this._uiClearWaiting=function(){old_uiClearWaiting.call(this);if(Y.Lang.isValue(this.get('value'))){this.get('null_text_location').setStyle('display','none');this.get('addicon').setStyle('display','none');this.get('value_location').setStyle('display','inline');this.get('editicon').setStyle('display','inline');}else{this.get('null_text_location').setStyle('display','inline');this.get('addicon').setStyle('display','inline');this.get('value_location').setStyle('display','none');this.get('editicon').setStyle('display','none');}};}});Y.NullChoiceSource=NullChoiceSource;},"0.2",{"skinnable":true,"requires":["oop","event","event-delegate","node","widget","widget-position","widget-stdmod","overlay","lp.ui.overlay","lp.anim"]});
/* yui/dump/dump-min.js */
YUI.add("dump",function(e,t){var n=e.Lang,r="{...}",i="f(){...}",s=", ",o=" => ",u=function(e,t){var u,a,f=[],l=n.type(e);if(!n.isObject(e))return e+"";if(l=="date")return e;if(e.nodeType&&e.tagName)return e.tagName+"#"+e.id;if(e.document&&e.navigator)return"window";if(e.location&&e.body)return"document";if(l=="function")return i;t=n.isNumber(t)?t:3;if(l=="array"){f.push("[");for(u=0,a=e.length;u<a;u+=1)n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s);f.length>1&&f.pop(),f.push("]")}else if(l=="regexp")f.push(e.toString());else{f.push("{");for(u in e)if(e.hasOwnProperty(u))try{f.push(u+o),n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s)}catch(c){f.push("Error: "+c.message)}f.length>1&&f.pop(),f.push("}")}return f.join("")};e.dump=u,n.dump=u},"3.10.3",{requires:["yui-base"]});

/* lp/app/javascript/ui/ui-min.js */

YUI.add('lp.ui-base',function(Y){var UI=Y.namespace('lp.ui');var getCN=Y.ClassNameManager.getClassName;UI.OK_BUTTON='<button type="button" class="lazr-pos lazr-btn">Ok</button>';UI.CANCEL_BUTTON='<button type="button" class="lazr-neg lazr-btn">Cancel</button>';UI.SEARCH_BUTTON='<button type="button" class="lazr-search lazr-btn">Search</button>';UI.PREVIOUS_BUTTON='<button type="button" class="lazr-prev lazr-btn">Previous</button>';UI.NEXT_BUTTON='<button type="button" class="lazr-next lazr-btn">Next</button>';UI.CSS_EVEN=getCN('lazr','even');UI.CSS_ODD=getCN('lazr','odd');UI.disableTabIndex=function(widget_class){if(widget_class===undefined){throw"disableTabIndex() must be called after ATTRS "+"is set on the widget.";}
widget_class.ATTRS.tabIndex={readOnly:true,value:-1};};UI.CSS_WAITING='lazr-waiting';UI.waiting=function(node){node.addClass(UI.CSS_WAITING);};UI.clear_waiting=function(node){node.removeClass(UI.CSS_WAITING);};},"0.1",{"skinnable":true,"requires":["classnamemanager"]});
/* lp/app/activator/activator-min.js */

YUI.add('lp.ui.activator',function(Y){var ACTIVATOR='activator',getCN=Y.ClassNameManager.getClassName,MESSAGE_HEADER_TEMPLATE='<div></div>',MESSAGE_BODY_TEMPLATE='<div></div>',MESSAGE_CLOSE_BUTTON_TEMPLATE='<button>Close</button>',ACT='act',C_HIDDEN=getCN(ACTIVATOR,'hidden'),C_ACT=getCN(ACTIVATOR,'act'),C_DATA_BOX=getCN(ACTIVATOR,'data-box'),C_MESSAGE_BOX=getCN(ACTIVATOR,'message-box'),C_MESSAGE_CLOSE=getCN(ACTIVATOR,'message-close'),C_MESSAGE_HEADER=getCN(ACTIVATOR,'message-header'),C_MESSAGE_BODY=getCN(ACTIVATOR,'message-body'),C_PROCESSING=getCN(ACTIVATOR,'processing'),C_CANCEL=getCN(ACTIVATOR,'cancellation'),C_SUCCESS=getCN(ACTIVATOR,'success'),C_FAILURE=getCN(ACTIVATOR,'failure'),ALL_STATUSES=[C_SUCCESS,C_FAILURE,C_CANCEL,C_PROCESSING];var Activator=function(){Activator.superclass.constructor.apply(this,arguments);};Activator.NAME=ACTIVATOR;Activator.ATTRS={};Y.extend(Activator,Y.Widget,{message_box:null,data_box:null,action_element:null,_setStatusClass:function(css_class){Y.Array.each(ALL_STATUSES,function(old_class,i){this.get('contentBox').removeClass(old_class);},this);this.get('contentBox').addClass(css_class);},_renderMessage:function(title,message_node){this.message_box.set('innerHTML','');if(message_node===undefined){this.message_box.addClass(C_HIDDEN);}else{this.message_box.removeClass(C_HIDDEN);var message_close_button=Y.Node.create(MESSAGE_CLOSE_BUTTON_TEMPLATE);message_close_button.addClass(C_MESSAGE_CLOSE);message_close_button.addClass('lazr-btn');message_close_button.on('click',function(e){this.message_box.addClass(C_HIDDEN);},this);var message_header=Y.Node.create(MESSAGE_HEADER_TEMPLATE);message_header.appendChild(message_close_button);message_header.appendChild(Y.Node.create(title));message_header.addClass(C_MESSAGE_HEADER);var message_body=Y.Node.create(MESSAGE_BODY_TEMPLATE);message_body.appendChild(message_node);message_body.addClass(C_MESSAGE_BODY);this.message_box.appendChild(message_header);this.message_box.appendChild(message_body);}},renderSuccess:function(data_node,message_node){if(data_node!==undefined){this.data_box.set('innerHTML','');this.data_box.appendChild(data_node);}
this._setStatusClass(C_SUCCESS);this._renderMessage('Message',message_node);var anim=Y.lp.anim.green_flash({node:this.animation_node});anim.run();},renderFailure:function(message_node){this._renderMessage('Error',message_node);this._setStatusClass(C_FAILURE);var anim=Y.lp.anim.red_flash({node:this.animation_node});anim.run();},renderCancellation:function(message_node){this._renderMessage('Message',message_node);this._setStatusClass(C_CANCEL);var anim=Y.lp.anim.red_flash({node:this.animation_node});anim.run();},renderProcessing:function(message_node){this._renderMessage('Message',message_node);this._setStatusClass(C_PROCESSING);},initializer:function(cfg){this.publish(ACT);if(cfg===undefined||cfg.contentBox===undefined){throw new Error("Missing contentBox argument for Activator.");}
this.message_box=this.get('contentBox').one('.'+C_MESSAGE_BOX);if(this.message_box===null){throw new Error("Can't find element with CSS class "+
C_MESSAGE_BOX+".");}
this.data_box=this.get('contentBox').one('.'+C_DATA_BOX);if(this.data_box===null){throw new Error("Can't find element with CSS class "+
C_DATA_BOX+".");}
this.action_element=this.get('contentBox').one('.'+C_ACT);if(this.action_element===null){throw new Error("Can't find element with CSS class "+
C_ACT+".");}
this.animation_node=cfg.animationNode;if(this.animation_node===undefined){this.animation_node=this.get('contentBox');}},renderUI:function(){this.action_element.removeClass(C_HIDDEN);this.get('contentBox').prepend('&thinsp;');},bindUI:function(){var activator=this;Y.on('click',function(e){activator.fire(ACT);e.preventDefault();},this.action_element);},syncUI:function(){}});Y.lp.ui.disableTabIndex(Activator);Y.namespace('lp.ui.activator');Y.lp.ui.activator.Activator=Activator;},"0.1",{"skinnable":true,"requires":["oop","event","node","widget","lp.anim","lp.ui-base"]});
/* yui/escape/escape-min.js */
YUI.add("escape",function(e,t){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},r={html:function(e){return(e+"").replace(/[&<>"'\/`]/g,r._htmlReplacer)},regex:function(e){return(e+"").replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")},_htmlReplacer:function(e){return n[e]}};r.regexp=r.regex,e.Escape=r},"3.10.3",{requires:["yui-base"]});

/* yui/plugin/plugin-min.js */
YUI.add("plugin",function(e,t){function n(t){!this.hasImpl||!this.hasImpl(e.Plugin.Base)?n.superclass.constructor.apply(this,arguments):n.prototype.initializer.apply(this,arguments)}n.ATTRS={host:{writeOnce:!0}},n.NAME="plugin",n.NS="plugin",e.extend(n,e.Base,{_handles:null,initializer:function(e){this._handles=[]},destructor:function(){if(this._handles)for(var e=0,t=this._handles.length;e<t;e++)this._handles[e].detach()},doBefore:function(e,t,n){var r=this.get("host"),i;return e in r?i=this.beforeHostMethod(e,t,n):r.on&&(i=this.onHostEvent(e,t,n)),i},doAfter:function(e,t,n){var r=this.get("host"),i;return e in r?i=this.afterHostMethod(e,t,n):r.after&&(i=this.afterHostEvent(e,t,n)),i},onHostEvent:function(e,t,n){var r=this.get("host").on(e,t,n||this);return this._handles.push(r),r},afterHostEvent:function(e,t,n){var r=this.get("host").after(e,t,n||this);return this._handles.push(r),r},beforeHostMethod:function(t,n,r){var i=e.Do.before(n,this.get("host"),t,r||this);return this._handles.push(i),i},afterHostMethod:function(t,n,r){var i=e.Do.after(n,this.get("host"),t,r||this);return this._handles.push(i),i},toString:function(){return this.constructor.NAME+"["+this.constructor.NS+"]"}}),e.namespace("Plugin").Base=n},"3.10.3",{requires:["base-base"]});

/* lp/app/javascript/picker/picker-min.js */

YUI.add('lp.ui.picker-base',function(Y){var ns=Y.namespace('lp.ui.picker');var getCN=Y.ClassNameManager.getClassName;ns.Picker=Y.Base.create('picker',Y.lp.ui.PrettyOverlay,[],{_search_input:null,_search_button:null,_filter_box:null,_results_box:null,_search_slot_box:null,_batches_box:null,_prev_button:null,_next_button:null,_error_box:null,initializer:function(cfg){this.publish('search',{defaultFn:this._defaultSearch});this.publish('validate',{defaultFn:this._defaultValidate});this.publish('save',{defaultFn:this._defaultSave});this.subscribe('cancel',this._defaultCancel);if(this.get('picker_activator')){var elements=Y.all(this.get('picker_activator'));elements.on('click',function(e){e.halt();this.show();},this);elements.addClass(this.get('picker_activator_css_class'));}
if(!Y.Lang.isUndefined(cfg)){if(Y.Object.owns(cfg,'associated_field_id')&&Y.Lang.isValue(cfg.associated_field_id)){this.plug(TextFieldPickerPlugin,{input_element:'[id="'+cfg.associated_field_id+'"]'});}}},_syncSearchSlotUI:function(){var search_slot=this.get('search_slot');this._search_slot_box.set('innerHTML','');if(search_slot!==null){this._search_slot_box.appendChild(search_slot);}},_syncFooterSlotUI:function(){var footer_slot=this.get('footer_slot');this._footer_slot_box.set('innerHTML','');if(footer_slot!==null){this._footer_slot_box.appendChild(footer_slot);}},_getBatches:function(){var batches=this.get('batches');if(batches===null){var batch_count=this.get('batch_count');if(batch_count===null){batches=[];}
else{batches=[];if(batch_count>1){var i;for(i=0;i<batch_count;i++){batches.push({value:i,name:i+1});}}}}
return batches;},_syncBatchesUI:function(){var batches=this._getBatches();Y.Event.purgeElement(this._batches_box,true);this._batches_box.set('innerHTML','');if(batches.length===0){this._prev_button=null;this._next_button=null;return;}
this._prev_button=Y.Node.create(Y.lp.ui.PREVIOUS_BUTTON);this._prev_button.on('click',function(e){var selected=this.get('selected_batch')-1;this.set('selected_batch',selected);this.fire('search',this.get('current_search_string'),batches[selected].value);},this);this._batches_box.appendChild(this._prev_button);Y.Array.each(batches,function(data,i){var batch_item=Y.Node.create('<span></span>');batch_item.appendChild(document.createTextNode(data.name));this._batches_box.appendChild(batch_item);batch_item.on('click',function(e){this.set('selected_batch',i);this.fire('search',this.get('current_search_string'),data.value);},this);},this);this._next_button=Y.Node.create(Y.lp.ui.NEXT_BUTTON);this._batches_box.appendChild(this._next_button);this._next_button.on('click',function(e){var selected=this.get('selected_batch')+1;this.set('selected_batch',selected);this.fire('search',this.get('current_search_string'),batches[selected].value);},this);},_syncSelectedBatchUI:function(){var idx=this.get('selected_batch');var items=this._batches_box.all('span');if(items.size()){var selected_batch_class=getCN('picker','selected-batch');this._prev_button.set('disabled',idx===0);items.removeClass(selected_batch_class);items.item(idx).addClass(selected_batch_class);this._next_button.set('disabled',idx+1===items.size());}},_text_or_link:function(text,href,css){var result;if(href){result=Y.Node.create('<a></a>').addClass(css);result.set('text',text).set('href',href);Y.on('click',function(e){e.halt();window.open(href);},result);}else{result=document.createTextNode(text);}
return result;},_renderTitleUI:function(data){var li_title=Y.Node.create('<a href="#"></a>').addClass(getCN('picker','result-title')).addClass('js-action');li_title.on('click',function(e,value){e.preventDefault();},this,data);if(data.title===undefined){return li_title;}
var title=this._text_or_link(data.title,data.title_link,data.link_css);li_title.appendChild(title);if(data.alt_title){var alt_link=null;if(!data.details){if(data.alt_title_link){alt_link=Y.Node.create('<a></a>').addClass(data.link_css).addClass('lesser');alt_link.set('text'," Details...").set('href',data.alt_title_link);Y.on('click',function(e){e.halt();window.open(data.alt_title_link);},alt_link);}}
li_title.appendChild('&nbsp;(');var alt_title_node=Y.Node.create('<span></span>').set('text',data.alt_title);li_title.appendChild(alt_title_node);li_title.appendChild(')');if(alt_link!==null){li_title.appendChild(Y.Node.create('&nbsp;&nbsp;'));li_title.appendChild(alt_link);}}
return li_title;},_renderTitleBadgesUI:function(data){var badges=null;if(data.badges){badges=Y.Node.create('<div>Affiliation:</div>').addClass('badge');var already_processed=[];Y.each(data.badges,function(badge_info){var badge_url=badge_info.url;var badge_alt=badge_info.label+' '+badge_info.role;if(Y.Array.indexOf(already_processed,badge_info.label)<0){already_processed.push(badge_info.label);var badge=Y.Node.create('<img></img>').addClass('badge').set('src',badge_url).set('alt',Y.Escape.html(badge_alt));badges.appendChild(badge);}});}else if(data.target_type){badges=Y.Node.create('<div></div>').set('text',data.target_type).addClass('badge');}
return badges;},_renderDescriptionUI:function(data){var li_desc=Y.Node.create('<div><br /></div>').addClass(getCN('picker','result-description'));if(data.description){li_desc.replaceChild(document.createTextNode(data.description),li_desc.one('br'));}
return li_desc;},_renderDetailsUI:function(data){if(!data.details&&!data.badges){return null;}
var details_node=Y.Node.create('<div></div>').addClass('sprite').addClass(getCN('picker','result-description'));if(Y.Lang.isArray(data.details)){var data_node=Y.Node.create('<div></div>');var escaped_details=[];Y.Array.each(data.details,function(detail){escaped_details.push(Y.Escape.html(detail));});data_node.append(Y.Node.create(escaped_details.join('<br />')));details_node.append(data_node);}
if(Y.Lang.isArray(data.badges)){var already_processed=[];Y.each(data.badges,function(badge_info){if(Y.Array.indexOf(already_processed,badge_info.label)<0){already_processed.push(badge_info.label);var affiliation=Y.Node.create('<div></div>').addClass('affiliation');var badge_text=badge_info.label+' '+badge_info.role;var badge=Y.Node.create('<img></img>').set('src',badge_info.url).set('alt',Y.Escape.html(badge_text));affiliation.appendChild(badge);affiliation.appendChild(Y.Node.create('Affiliation'));details_node.append(affiliation);var affiliation_text=Y.Node.create('<div></div>').addClass('affiliation-text');affiliation_text.appendChild(Y.Node.create(badge_text));details_node.append(affiliation_text);}});}
var links=[];links.push(Y.Node.create('<a class="sprite yes save" href="#"></a>').set('text','Select '+data.title));links[0].on('click',function(e,value){e.preventDefault();this.fire('validate',value);},this,data);links.push(this._text_or_link('View details',data.alt_title_link,data.link_css));var link_list=Y.Node.create('<ul></ul>').addClass('horizontal');Y.Array.each(links,function(link,i){var li=Y.Node.create('<li></li>');li.append(link);link_list.append(li);});details_node.append(link_list);return details_node;},_syncResultsUI:function(){var results=this.get('results');Y.Event.purgeElement(this._results_box,true);this._results_box.set('innerHTML','');this._filter_box.set('innerHTML','');var expander_id=this.get('boundingBox').get('id');Y.Array.each(results,function(data,i){var li_badges=this._renderTitleBadgesUI(data);var li_title=this._renderTitleUI(data);var li_desc=this._renderDescriptionUI(data);var li_details=this._renderDetailsUI(data);var li=Y.Node.create('<li></li>').addClass(i%2?Y.lp.ui.CSS_ODD:Y.lp.ui.CSS_EVEN);if(data.css){li.addClass(data.css);}
if(data.image){li.appendChild(Y.Node.create('<img />').set('src',data.image));}
if(li_badges!==null){li.appendChild(li_badges);}
li.appendChild(li_title);li.appendChild(li_desc);if(li_details){if(li_desc.get('text')===''){li_desc.set('text','More information...');}
li.appendChild(li_details);li.expander=new Y.lp.app.widgets.expander.Expander(li_desc,li_details,{group_id:expander_id});li.expander.setUp(true);li_title.on('click',function(e,value){this.fire('validate',value);},this,data);}else{li.on('click',function(e,value){this.fire('validate',value);},this,data);}
this._results_box.appendChild(li);},this);var no_results_class=getCN('picker','no-results');if(this._search_input.get('value')&&!results.length){var msg=Y.Node.create('<li></li>');msg.appendChild(document.createTextNode(Y.Lang.sub(this.get('no_results_search_message'),{query:this._search_input.get('value')})));this._results_box.appendChild(msg);this._results_box.addClass(no_results_class);this._syncFilterUI();}else{this._results_box.removeClass(no_results_class);if(results.length){var filters=this.get('filter_options');var current_filter_value=this.get('current_filter_value');if(filters.length>0&&!Y.Lang.isValue(current_filter_value)){this.set('current_filter_value',filters[0].title);}
this._syncFilterUI();}}},_syncProgressUI:function(){var results=this.get('results');if(results.length){this.set('progress',100);}else{this.set('progress',50);}},_syncFilterUI:function(){var filters=this.get('filter_options');if(filters.length===0){return;}
var current_filter_value=this.get('current_filter_value');if(!Y.Lang.isValue(current_filter_value)){return;}
var filter_msg=Y.Lang.sub('Showing <strong>{filter}</strong> matches for "{search_terms}".',{filter:current_filter_value,search_terms:this._search_input.get('value')});this._filter_box.appendChild(Y.Node.create(filter_msg));var filter_node=Y.Node.create('<div>Filter by:&nbsp;</div>');var picker=this;Y.Array.each(filters,function(filter,i){var filter_link=Y.Node.create('<a></a>').set('href','#').set('text',filter.title).set('title',filter.description);if(filter.title===current_filter_value){filter_link.addClass('invalid-link');}else{filter_link.addClass('js-action');filter_link.on('click',function(e){e.halt();picker.set('current_filter_value',filter.title);var search_string=Y.Lang.trim(picker._search_input.get('value'));picker._performSearch(search_string,filter.name);});}
filter_node.append(filter_link);if(i<filters.length-2){filter_node.append(Y.Node.create(',&nbsp;'));}else if(i===filters.length-2){filter_node.append(Y.Node.create(',&nbsp;or&nbsp;'));}});this._filter_box.appendChild(filter_node);},_syncSearchModeUI:function(){var search_mode=this.get('search_mode');this._search_input.set('disabled',search_mode);this._search_button.set('disabled',search_mode);var search_class=getCN('picker','search-mode');if(search_mode){this.get('boundingBox').addClass(search_class);}else{this.get('boundingBox').removeClass(search_class);this._search_input.blur();this._search_input.focus();}},_syncErrorUI:function(){var error=this.get('error');this._error_box.set('innerHTML','');var error_class=getCN('picker','error-mode');if(error===null){this.get('boundingBox').removeClass(error_class);}else{this._error_box.appendChild(document.createTextNode(error));this.get('boundingBox').addClass(error_class);}},renderUI:function(){this._search_button=Y.Node.create(Y.lp.ui.SEARCH_BUTTON);var search_box=Y.Node.create(['<div>','<input type="text" size="20" name="search" ','autocomplete="off"/>','<div></div></div>'].join(""));this._search_input=search_box.one('input');this._search_input.addClass(getCN('picker','search'));this._error_box=search_box.one('div');this._error_box.addClass(getCN('picker','error'));search_box.insertBefore(this._search_button,this._search_input);search_box.addClass(getCN('picker','search-box'));this._search_slot_box=Y.Node.create('<div></div>');this._search_slot_box.addClass(getCN('picker','search-slot'));search_box.appendChild(this._search_slot_box);this._filter_box=Y.Node.create('<div></div>');this._filter_box.addClass(getCN('picker','filter'));this._results_box=Y.Node.create('<ul></ul>');this._results_box.addClass(getCN('picker','results'));this._batches_box=Y.Node.create('<div></div>');this._batches_box.addClass(getCN('picker','batches'));this._footer_slot_box=Y.Node.create('<div></div>');this._footer_slot_box.addClass(getCN('picker','footer-slot'));var body=Y.Node.create('<div></div>');body.appendChild(search_box);body.appendChild(this._filter_box);body.appendChild(this._results_box);body.appendChild(this._batches_box);body.appendChild(this._footer_slot_box);body.addClass('yui3-widget-bd');this.setStdModContent(Y.WidgetStdMod.BODY,body,Y.WidgetStdMod.REPLACE);},bindUI:function(){Y.on('click',this._defaultSearchUserAction,this._search_button,this);Y.on('key',this._defaultSearchUserAction,this._search_input,'down:13',this);this.after('visibleChange',function(e){var change=e.details[0];if(change.newVal===true&&change.prevVal===false){this.set('centered',true);this._search_input.focus();}},this);this.after('resultsChange',function(e){this._syncResultsUI();this._syncProgressUI();this.set('search_mode',false);},this);this.after('search_slotChange',function(e){this._syncSearchSlotUI();},this);this.after('footer_slotChange',function(e){this._syncFooterSlotUI();},this);var doBatchesChange=function(e){this._syncBatchesUI();this._syncSelectedBatchUI();};this.after('batchesChange',doBatchesChange,this);this.after('resultsChange',doBatchesChange,this);this.after('selected_batchChange',function(e){this._syncSelectedBatchUI();},this);this.after('search_modeChange',function(e){this._syncSearchModeUI();},this);this.after('errorChange',function(e){this._syncErrorUI();});},syncUI:function(){this._syncResultsUI();this._syncProgressUI();this._syncSearchModeUI();this._syncBatchesUI();this._syncSelectedBatchUI();this._syncErrorUI();this._search_input.focus();},show_extra_content:function(extra_content,header,steptitle,progress){if(Y.Lang.isValue(header)){if(!Y.Lang.isValue(this.get('saved_header'))){this.set('saved_header',this.get('headerContent'));}
this.set('headerContent',Y.Node.create("<h2></h2>").set('text',header));}
if(Y.Lang.isValue(steptitle)){if(!Y.Lang.isValue(this.get('saved_steptitle'))){this.set('saved_steptitle',this.get('steptitle'));}
this.set('steptitle',steptitle);}
if(Y.Lang.isValue(progress)){if(!Y.Lang.isValue(this.get('saved_progress'))){this.set('saved_progress',this.get('progress'));}
this.set('progress',progress);}
var contentBox=this.get('contentBox');var original_content=contentBox.one('.yui3-widget-bd');var extra_content_id=extra_content.get('id');if(!Y.Lang.isValue(contentBox.one('#'+extra_content_id))){extra_content.addClass('important-notice-popup');original_content.insert(extra_content,'before');}
this._fade_in(extra_content,original_content);},hide_extra_content:function(extra_content_node,use_animation){var saved_header=this.get('saved_header');if(Y.Lang.isValue(saved_header)){this.set('headerContent',saved_header);this.set('saved_header',null);}
var saved_steptitle=this.get('saved_steptitle');if(Y.Lang.isValue(saved_steptitle)){this.set('steptitle',saved_steptitle);this.set('saved_steptitle',null);}
var saved_progress=this.get('saved_progress');if(Y.Lang.isValue(saved_progress)){this.set('progress',saved_progress);this.set('saved_progress',null);}
var content_node=this.get('contentBox').one('.yui3-widget-bd');this._fade_in(content_node,extra_content_node,use_animation);},_fade_in:function(content_node,old_content,use_animation){content_node.removeClass('hidden');if(old_content===null){content_node.removeClass('transparent');content_node.setStyle('opacity',1);content_node.show();return;}
old_content.addClass('hidden');if(!Y.Lang.isValue(use_animation)){use_animation=this.get('use_animation');}
if(!use_animation){old_content.setStyle('opacity',1);return;}
content_node.addClass('transparent');content_node.setStyle('opacity',0);var fade_in=new Y.Anim({node:content_node,to:{opacity:1},duration:0.8});fade_in.run();},_clear:function(){this.set('current_search_string','');this.set('error','');this.set('results',[]);this.set('batches',null);this.set('batch_count',null);this.set('selected_batch',0);this.set('current_filter_value',null);this._search_input.set('value','');this._results_box.set('innerHTML','');this._filter_box.set('innerHTML','');},_defaultSearchUserAction:function(e){e.preventDefault();this.set('current_filter_value',null);var search_string=Y.Lang.trim(this._search_input.get('value'));this._performSearch(search_string);},_performSearch:function(search_string,filter_name){if(search_string.length<this.get('min_search_chars')){this.set('error',this.get('search_text_too_short_message'));}else{var current_search_string=this.get('current_search_string');if(current_search_string!==search_string){this.set('selected_batch',0);}
this.set('current_search_string',search_string);this.fire('search',search_string,undefined,undefined,filter_name);}},_defaultSearch:function(e){this.set('error',null);this.set('search_mode',true);},_defaultCancel:function(e){Y.lp.ui.PrettyOverlay.prototype._defaultCancel.apply(this,arguments);this.set('search_mode',false);if(this.get('clear_on_cancel')){this._clear();}},_defaultSave:function(e){this._performDefaultSave();},_performDefaultSave:function(){this.hide();if(this.get('clear_on_save')){this._clear();}},_defaultValidate:function(e){this.fire('save',e);},_defaultSelectBatch:function(e){this.set('search_mode',true);}},{ATTRS:{clear_on_save:{value:true},clear_on_cancel:{value:false},picker_activator:{},picker_activator_css_class:{value:'js-action'},min_search_chars:{value:3},current_search_string:{value:''},current_filter_value:{value:null},filter_options:{value:[]},selected_value:{value:null},selected_value_metadata:{value:null},results:{value:[]},search_slot:{value:null},footer_slot:{value:null},batches:{value:null},batch_count:{value:null},selected_batch:{value:0,getter:function(value){return value||0;},validator:function(value){var batches=this._getBatches();return Y.Lang.isNumber(value)&&value>=0&&value<batches.length;}},search_mode:{value:false},error:{value:null},no_results_search_message:{value:'No items matched "{query}".'},search_text_too_short_message:{getter:function(){return Y.Lang.sub("Please enter at least {min} characters.",{min:this.get('min_search_chars')});}},use_animation:{value:true}}});ns.Picker.SAVE_RESULT=0;function TextFieldPickerPlugin(config){TextFieldPickerPlugin.superclass.constructor.apply(this,arguments);}
TextFieldPickerPlugin.NAME='TextFieldPickerPlugin';TextFieldPickerPlugin.NS='txtpicker';Y.extend(TextFieldPickerPlugin,Y.Plugin.Base,{initializer:function(config){var input=Y.one(config.input_element);this.doAfter('save',function(e){var result=e.details[ns.Picker.SAVE_RESULT];this.get('host').setAttrs({selected_value_metadata:result.metadata,selected_value:result.value});input.set("value",result.value||'');input.blur();input.focus();});this.doAfter('show',function(){var selected_value=null;if(input.get("value")){selected_value=input.get("value");}
this.get('host')._search_input.set('value',selected_value||'');this.get('host').set('selected_value',selected_value);});}});ns.TextFieldPickerPlugin=TextFieldPickerPlugin;},"0.1",{"skinnable":true,"requires":["oop","escape","event","event-focus","base","node","plugin","lang","widget","widget-stdmod","lp.ui.overlay","lp.anim","lp.ui-base","lp.app.widgets.expander"]});
/* lp/app/javascript/client-min.js */

YUI.add('lp.client',function(Y){var NOTIFICATION_INFO={'level10':{'selector':'.debug.message','css_class':'debug message'},'level20':{'selector':'.informational.message','css_class':'informational message'},'level30':{'selector':'.warning.message','css_class':'warning message'},'level40':{'selector':'.error.message','css_class':'error message'}};var update_cached_object=function(cache_name,cache,entry){var fields_changed=[];var name;var html_name;for(name in cache){if(cache.hasOwnProperty(name)){var old_value=cache[name];var new_value=entry.get(name);if(name!=='lp_html'){if(old_value!==new_value){fields_changed.push(name);cache[name]=new_value;var field_updated_event_name='lp:'+cache_name+':'+name+':changed';var new_value_html=entry.getHTML(name);var event={name:name,old_value:old_value,new_value:new_value,new_value_html:new_value_html,entry:entry};Y.fire(field_updated_event_name,event);}}
else{for(html_name in old_value){if(old_value.hasOwnProperty(html_name)){old_value[html_name]=new_value[html_name];}}}}}
if(fields_changed.length>0){var event_name='lp:'+cache_name+':changed';var event_={fields_changed:fields_changed,entry:entry};Y.fire(event_name,event_);}};var module=Y.namespace('lp.client');module.HTTP_CREATED=201;module.HTTP_SEE_ALSO=303;module.HTTP_NOT_FOUND=404;module.XHTML='application/xhtml+xml';module.GET='get';module.POST='post';module.PATCH='patch';module.log_object=function(o,name){var result;var format=function(value){if(typeof value==='string'){value=value.substring(0,200);return'"'+value+'"';}else if(typeof value==='function'){return String(value).split(" {")[0];}else if(value instanceof Array){return'Array of length '+value.length;}else{return String(value);}};var introspect=function(collection){var items=[];var keys=[];var key;var index;for(key in collection){if(collection.hasOwnProperty(key)){keys.push(key);}}
keys.sort();for(index in keys){if(keys.hasOwnProperty(index)){key=keys[index];var value;try{value=format(collection[key]);}catch(e){value=e.message;}
items.push(key+'='+value);}}
return items.join(',\n  ');};if(o===null||typeof o==='string'||typeof o==='function'){result=format(o);}else{result='(direct-attributes)\n  '+introspect(o);if(o.getAttrs!==undefined){result+='\n(get()-attributes)\n  '+introspect(o.getAttrs());}}
if(name!==undefined){result=name+': '+result;}
Y.log(result);};module.get_io_provider=function(io_provider){if(io_provider===undefined){return Y;}
return io_provider;};module.get_configured_io_provider=function(config,key){if(key===undefined){key='io_provider';}
if(config===undefined||config[key]===undefined){return Y;}
return config[key];};module.append_qs=function(qs,key,value){var elems=(qs&&qs.length>0)?[qs]:[];var enc=encodeURIComponent;if(Y.Lang.isArray(value)){var index;for(index=0;index<value.length;index++){elems.push(enc(key)+"="+enc(value[index]));}}else if(Y.Lang.isObject(value)){elems.push(enc(key)+"="+enc(Y.JSON.stringify(value)));}else{elems.push(enc(key)+"="+enc(value));}
return elems.join("&");};module.normalize_uri=function(uri){var host_start=uri.indexOf('//');if(host_start!==-1){var host_end=uri.indexOf('/',host_start+2);return uri.substring(host_end,uri.length);}
var base="/api/devel";if(uri.indexOf(base.substring(1,base.length))===0){return'/'+uri;}
if(uri.indexOf(base)!==0){if(uri.indexOf('/')!==0){uri=base+'/'+uri;}else{uri=base+uri;}}
return uri;};module.get_absolute_uri=function(uri){var location=document.location;uri=module.normalize_uri(uri);return location.protocol+'//'+location.host+uri;};module.get_field_uri=function(base_uri,field_name){base_uri=module.normalize_uri(base_uri);field_name=escape(field_name);if(base_uri.charAt(base_uri.length-1)==='/'){return base_uri+field_name;}else{return base_uri+'/'+field_name;}};module.get_view_url=function(entry,view_name,namespace,query){var entry_url=Y.lp.get_url_path(entry.get('web_link'));var querystring=Y.QueryString.stringify(query);if(querystring!==''){querystring='?'+querystring;}
return(entry_url+'/'+view_name+'/++'+
namespace+'++'+querystring);};module.get_form_url=function(entry,view_name){return module.get_view_url(entry,view_name,'form');};module.load_model=function(entry,view_name,config,query){var url=module.get_view_url(entry,view_name,'model',query);var old_on_success=config.on.success;var on=config.on;on.success=module.wrap_resource_on_success;var y_config={on:on,'arguments':[entry.lp_client,url,old_on_success,false]};var io_provider=module.get_configured_io_provider(config);io_provider.io(url,y_config);};module.add_accept=function(config,headers){if(headers===undefined){headers={};}
var accept=config.accept||'application/json';headers.Accept=accept;return headers;};module.start_and_size=function(data,start,size){if(start!==undefined){data=module.append_qs(data,"ws.start",start);}
if(size!==undefined){data=module.append_qs(data,"ws.size",size);}
return data;};module.update_cache=function(entry){if(!entry){return;}
var original_uri=entry.uri;var full_uri=module.get_absolute_uri(original_uri);var name;var cached_object;for(name in LP.cache){if(LP.cache.hasOwnProperty(name)){cached_object=LP.cache[name];if(!Y.Lang.isValue(cached_object)){continue;}
if(cached_object.self_link===full_uri){Y.log(name+' cached object has been updated.');update_cached_object(name,cached_object,entry);}}}};module.wrap_resource_on_success=function(ignore,response,args){var client=args[0];var uri=args[1];var callback=args[2];var update_cache=args[3];var method=args[4];var representation,wrapped;if(callback){var media_type=response.getResponseHeader('Content-Type');if(media_type.substring(0,16)==='application/json'){representation=Y.JSON.parse(response.responseText);if(Y.Lang.isValue(representation)&&Y.Object.owns(representation,'self_link')&&Y.Lang.isValue(representation.self_link)&&method!==module.PATCH){uri=representation.self_link;}
var notifications=response.getResponseHeader('X-Lazr-Notifications');if(notifications!==null&&notifications!==""){module.display_notifications(notifications);}
wrapped=client.wrap_resource(uri,representation);var result=callback(wrapped);if(update_cache){module.update_cache(wrapped);}
return result;}else{return callback(response.responseText);}}};module.display_notifications=function(notifications){if(notifications===undefined){return;}
if(notifications==='null'||notifications===null||notifications===""){module.remove_notifications();return;}
var notifications_by_level={'level10':{'notifications':[]},'level20':{'notifications':[]},'level30':{'notifications':[]},'level40':{'notifications':[]}};notifications=Y.JSON.parse(notifications);Y.each(notifications,function(notification,key){var level=notification[0];var message=notification[1];notifications_by_level['level'+level].notifications.push(message);});var last_message=null;Y.each(notifications_by_level,function(info,key){Y.each(info.notifications,function(notification){var css_class=NOTIFICATION_INFO[key].css_class;var node=Y.Node.create("<div class='"+css_class+"'/>");node.set('innerHTML',notification);if(last_message===null){var div=Y.one('div#request-notifications');div.insert(node);}else{last_message.insert(node,'after');}
last_message=node;});});};module.remove_notifications=function(){Y.each(NOTIFICATION_INFO,function(info){var nodes=Y.all('div#request-notifications div'+info.selector);nodes.each(function(node){var parent=node.get('parentNode');parent.removeChild(node);});});};module.HostedFile=function(client,uri,content_type,contents){this.lp_client=client;this.uri=uri;this.content_type=content_type;this.contents=contents;this.io_provider=client.io_provider;};module.HostedFile.prototype={'lp_save':function(config){var on=config.on;var disposition='attachment; filename="'+this.filename+'"';var hosted_file=this;var args=hosted_file;var y_config={method:"PUT",'on':on,'headers':{"Content-Type":hosted_file.content_type,"Content-Disposition":disposition},'arguments':args,'data':hosted_file.contents,'sync':this.lp_client.sync};this.io_provider.io(module.normalize_uri(hosted_file.uri),y_config);},'lp_delete':function(config){var on=config.on;var hosted_file=this;var args=hosted_file;var y_config={method:"DELETE",on:on,'arguments':args,sync:this.lp_client.sync};this.io_provider.io(hosted_file.uri,y_config);}};module.Resource=function(){};module.Resource.prototype={'init':function(client,representation,uri){this.lp_client=client;this.uri=uri;var key;for(key in representation){if(representation.hasOwnProperty(key)){this[key]=representation[key];}}},'lookup_value':function(key){return this[key];},'follow_link':function(link_name,config){var on=config.on;var uri=this.lookup_value(link_name+'_link');if(uri===undefined){uri=this.lookup_value(link_name+'_collection_link');}
if(uri===undefined){throw new Error("No such link: "+link_name);}
var on_success=on.success;var old_on_failure=on.failure;on.failure=function(ignore,response,args){var client=args[0];var original_url=args[1];if(response.status===module.HTTP_NOT_FOUND||response.status===module.HTTP_SEE_ALSO){var file=new module.HostedFile(client,original_url);return on_success(file);}else if(old_on_failure!==undefined){return old_on_failure(ignore,response,args);}};this.lp_client.get(uri,{on:on});},'named_get':function(operation_name,config){return this.lp_client.named_get(this.uri,operation_name,config);},'named_post':function(operation_name,config){return this.lp_client.named_post(this.uri,operation_name,config);}};module.Root=function(client,representation,uri){this.init(client,representation,uri);};module.Root.prototype=new module.Resource();module.Collection=function(client,representation,uri){var index,entry;this.init(client,representation,uri);for(index=0;index<this.entries.length;index++){entry=this.entries[index];this.entries[index]=new module.Entry(client,entry,entry.self_link);}};module.Collection.prototype=new module.Resource();module.Collection.prototype.lp_slice=function(on,start,size){return this.lp_client.get(this.uri,{on:on,start:start,size:size});};module.Entry=function(client,representation,uri){this.lp_client=client;this.uri=uri;this.dirty_attributes=[];var key;for(key in representation){if(representation.hasOwnProperty(key)){this.addAttr(key,{value:representation[key]});this.on(key+"Change",this.mark_as_dirty);}}};module.Entry.prototype=new module.Resource();Y.augment(module.Entry,Y.Attribute);module.Entry.prototype.mark_as_dirty=function(event){if(event.newVal!==event.prevVal){this.dirty_attributes.push(event.attrName);}};module.Entry.prototype.lp_save=function(config){var representation={};var entry=this;Y.each(this.dirty_attributes,function(attribute,key){representation[attribute]=entry.get(attribute);});var headers={};if(this.get('http_etag')!==undefined){headers['If-Match']=this.get('http_etag');}
var uri=module.normalize_uri(this.get('self_link'));this.lp_client.patch(uri,representation,config,headers);this.dirty_attributes=[];};module.Entry.prototype.lookup_value=function(key){return this.get(key);};module.Entry.prototype.getHTML=function(key){var lp_html=this.get('lp_html');if(lp_html){var value=lp_html[key];if(value===undefined){value=lp_html[key+'_link'];}
if(value!==undefined){var result=Y.Node.create("<span/>");result.setContent(value);return result;}}
return null;};module.Launchpad=function(config){this.io_provider=module.get_configured_io_provider(config);this.sync=((config&&Y.Object.owns(config,'sync'))?config.sync:false);};module.Launchpad.prototype={'get':function(uri,config){var on=Y.merge(config.on);var start=config.start;var size=config.size;var data=config.data;var headers=module.add_accept(config);uri=module.normalize_uri(uri);if(data===undefined){data="";}
if(start!==undefined||size!==undefined){data=module.start_and_size(data,start,size);}
var old_on_success=on.success;var update_cache=false;on.success=module.wrap_resource_on_success;var client=this;var y_config={on:on,'arguments':[client,uri,old_on_success,update_cache,module.GET],'headers':headers,data:data,sync:this.sync};return this.io_provider.io(uri,y_config);},'named_get':function(uri,operation_name,config){var parameters=config.parameters;var data=module.append_qs("","ws.op",operation_name);var name;for(name in parameters){if(parameters.hasOwnProperty(name)){data=module.append_qs(data,name,parameters[name]);}}
config.data=data;return this.get(uri,config);},'named_post':function(uri,operation_name,config){var on=Y.merge(config.on);var parameters=config.parameters;var data;var name;uri=module.normalize_uri(uri);data=module.append_qs(data,"ws.op",operation_name);for(name in parameters){if(parameters.hasOwnProperty(name)){data=module.append_qs(data,name,parameters[name]);}}
var old_on_success=on.success;on.success=function(unknown,response,args){if(response.status===module.HTTP_CREATED){var new_location=response.getResponseHeader("Location");return client.get(new_location,{on:{success:old_on_success,failure:on.failure}});}
return module.wrap_resource_on_success(undefined,response,args,module.POST);};var client=this;var update_cache=false;var y_config={method:"POST",on:on,'arguments':[client,uri,old_on_success,update_cache],data:data,sync:this.sync};this.io_provider.io(uri,y_config);},'patch':function(uri,representation,config,headers){var on=Y.merge(config.on);var data=Y.JSON.stringify(representation);uri=module.normalize_uri(uri);var old_on_success=on.success;var update_cache=true;on.success=module.wrap_resource_on_success;var args=[this,uri,old_on_success,update_cache,module.PATCH];var extra_headers={"X-HTTP-Method-Override":"PATCH","Content-Type":"application/json","X-Content-Type-Override":"application/json"};var name;if(headers!==undefined){for(name in headers){if(headers.hasOwnProperty(name)){extra_headers[name]=headers[name];}}}
extra_headers=module.add_accept(config,extra_headers);var y_config={'method':"POST",'on':on,'headers':extra_headers,'arguments':args,'data':data,'sync':this.sync};this.io_provider.io(uri,y_config);},'wrap_resource':function(uri,representation){var key;var new_representation;if(representation===null||representation===undefined){return representation;}
if(representation.resource_type_link===undefined){if(representation.total_size!==undefined||representation.total_size_link!==undefined){return new module.Collection(this,representation,uri);}else if(Y.Lang.isObject(representation)){if(Y.Lang.isArray(representation)){new_representation=[];}
else{new_representation={};}
for(key in representation){if(representation.hasOwnProperty(key)){var value=representation[key];if(Y.Lang.isValue(value)){value=this.wrap_resource(value.self_link,value);}
new_representation[key]=value;}}
return new_representation;}else{return representation;}}else if(representation.resource_type_link.search(/\/#service-root$/)!==-1){return new module.Root(this,representation,uri);}else if(representation.total_size===undefined){return new module.Entry(this,representation,uri);}else{return new module.Collection(this,representation,uri);}}};module.ErrorHandler=Y.Base.create('client-error-handler',Y.Base,[],{clearProgressUI:function(){},showError:function(error_msg){},handleError:function(ioId,response){return false;},getFailureHandler:function(){var self=this;return function(ioId,o){self.clearProgressUI();if(self.handleError(ioId,o)){return;}
if(o.status===503){self.showError('Timeout error, please try again in a few minutes.');}else if(o.status>=500){var server_error='Server error, please contact an administrator.';var oops_id=self.get_oops_id(o);if(oops_id){server_error=server_error+' OOPS ID:'+oops_id;}
self.showError(server_error);}else if(o.status===412){self.showError(o.status+' '+o.statusText);}else{self.showError(self.get_generic_error(o));}};},get_oops_id:function(response){return response.getResponseHeader('X-Lazr-OopsId');},get_generic_error:function(response){return response.responseText;}});module.FormErrorHandler=Y.Base.create('client-form-error-handler',module.ErrorHandler,[],{clearFormErrors:function(){Y.all('.error.message').remove(true);Y.all('.error .message').remove(true);Y.all('div.error').removeClass('error');},handleError:function(ioId,response){if(response.status===400&&response.statusText==='Validation'){var response_info=Y.JSON.parse(response.responseText);var error_summary=response_info.error_summary;var form_wide_errors=response_info.form_wide_errors;var errors=response_info.errors;this.handleFormValidationError(error_summary,form_wide_errors,errors);return true;}
return false;},handleFormValidationError:function(error_summary,form_wide_errors,errors){var form=this.get('form');if(!Y.Lang.isValue(form)){form=Y.one("[name='launchpadform']");}
if(!Y.Lang.isValue(form)){return;}
var form_content=form.one('table.form');if(!Y.Lang.isValue(form_content)){form_content=form;}
var error_summary_node=Y.Node.create('<p class="error message"></p>').set('text',error_summary);form_content.insertBefore(error_summary_node,form_content);if(form_wide_errors.length>0){var form_error_node=Y.Node.create('<div class="error message"></div>');Y.Array.each(form_wide_errors,function(message){form_error_node.appendChild(Y.Node.create('<p></p>').set('text',message));});form_content.insertBefore(form_error_node,form_content);}
Y.each(errors,function(message,field_name){var label=Y.one('label[for="'+field_name+'"]');if(Y.Lang.isValue(label)){label.ancestor('div').addClass('error');var field=label.next('div');var error_node=Y.Node.create('<div class="message"></div>').set('text',message);field.insert(error_node,'after');}});},get_oops_id:function(response){var oops_re=/code class="oopsid">(OOPS-[^<]*)/;var result=response.responseText.match(oops_re);if(result===null){return null;}
return result[1];},get_generic_error:function(response){if(response.status!==403){return"Sorry, you don't have permission to make this change.";}
else{return response.status+' '+response.statusText;}}},{ATTRS:{form:{value:null}}});},"0.1",{requires:["attribute","base","io","querystring","json-parse","json-stringify","lp"]});YUI.add('lp.client.plugins',function(Y){var module=Y.namespace('lp.client.plugins');module.PATCHPlugin=Y.Base.create('client-plugin-patch',Y.Plugin.Base,[],{extra_config:null,initializer:function(config){if(!Y.Lang.isString(config.patch)){Y.error("missing config: 'patch' containing the attribute name");}
if(!Y.Lang.isString(config.resource)){Y.error("missing config: 'resource' containing the URL to patch");}
this.extra_config=config||{};this.extra_config.accept='application/json;include=lp_html';this.original_save=config.host._saveData;this.doBefore("_saveData",this.doPATCH);this.error_handler=new Y.lp.client.ErrorHandler();this.error_handler.clearProgressUI=function(){config.host._uiClearWaiting();};this.error_handler.showError=function(error_msg){config.host.showError(error_msg);};},doPATCH:function(){var owner=this.get("host"),original_save=this.original_save;owner._uiSetWaiting();var client=new Y.lp.client.Launchpad();var formatter=Y.bind(this.get('formatter'),this);var attribute=this.get('patch');var patch_payload;var val=owner.getInput();patch_payload={};patch_payload[attribute]=val;var callbacks={on:{success:function(entry){owner._uiClearWaiting();var new_value=formatter(entry,attribute);original_save.apply(owner,[new_value]);},failure:this.error_handler.getFailureHandler()}};var cfg=Y.merge(callbacks,this.extra_config);client.patch(this.get('resource'),patch_payload,cfg);return new Y.Do.Halt();},_defaultFormatter:function(result,attribute){if(Y.Lang.isString(result)){return result;}else{if(this.get('use_html')){return Y.Node.create(result.getHTML(attribute).get('innerHTML'));}else{return result.get(attribute);}}}},{NAME:'PATCHPlugin',NS:'patcher',ATTRS:{patch:{},resource:{},use_html:false,formatter:{valueFn:function(){return this._defaultFormatter;}}}});},"0.1",{requires:["base","plugin","dump","json","lp.client"]});
/* yui/event-simulate/event-simulate-min.js */
YUI.add("event-simulate",function(e,t){(function(){function d(t,u,a,f,l,c,h,p,d,v,m){t||e.error("simulateKeyEvent(): Invalid target.");if(r(u)){u=u.toLowerCase();switch(u){case"textevent":u="keypress";break;case"keyup":case"keydown":case"keypress":break;default:e.error("simulateKeyEvent(): Event type '"+u+"' not supported.")}}else e.error("simulateKeyEvent(): Event type must be a string.");i(a)||(a=!0),i(f)||(f=!0),s(l)||(l=e.config.win),i(c)||(c=!1),i(h)||(h=!1),i(p)||(p=!1),i(d)||(d=!1),o(v)||(v=0),o(m)||(m=0);var g=null;if(n(e.config.doc.createEvent)){try{g=e.config.doc.createEvent("KeyEvents"),g.initKeyEvent(u,a,f,l,c,h,p,d,v,m)}catch(y){try{g=e.config.doc.createEvent("Events")}catch(b){g=e.config.doc.createEvent("UIEvents")}finally{g.initEvent(u,a,f),g.view=l,g.altKey=h,g.ctrlKey=c,g.shiftKey=p,g.metaKey=d,g.keyCode=v,g.charCode=m}}t.dispatchEvent(g)}else s(e.config.doc.createEventObject)?(g=e.config.doc.createEventObject(),g.bubbles=a,g.cancelable=f,g.view=l,g.ctrlKey=c,g.altKey=h,g.shiftKey=p,g.metaKey=d,g.keyCode=m>0?m:v,t.fireEvent("on"+u,g)):e.error("simulateKeyEvent(): No event simulation framework present.")}function v(t,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x){t||e.error("simulateMouseEvent(): Invalid target."),r(f)?!u[f.toLowerCase()]&&!a[f]&&e.error("simulateMouseEvent(): Event type '"+f+"' not supported."):e.error("simulateMouseEvent(): Event type must be a string."),i(l)||(l=!0),i(c)||(c=f!=="mousemove"),s(h)||(h=e.config.win),o(p)||(p=1),o(d)||(d=0),o(v)||(v=0),o(m)||(m=0),o(g)||(g=0),i(y)||(y=!1),i(b)||(b=!1),i(w)||(w=!1),i(E)||(E=!1),o(S)||(S=0),x=x||null;var T=null;if(n(e.config.doc.createEvent))T=e.config.doc.createEvent("MouseEvents"),T.initMouseEvent?T.initMouseEvent(f,l,c,h,p,d,v,m,g,y,b,w,E,S,x):(T=e.config.doc.createEvent("UIEvents"),T.initEvent(f,l,c),T.view=h,T.detail=p,T.screenX=d,T.screenY=v,T.clientX=m,T.clientY=g,T.ctrlKey=y,T.altKey=b,T.metaKey=E,T.shiftKey=w,T.button=S,T.relatedTarget=x),x&&!T.relatedTarget&&(f==="mouseout"?T.toElement=x:f==="mouseover"&&(T.fromElement=x)),t.dispatchEvent(T);else if(s(e.config.doc.createEventObject)){T=e.config.doc.createEventObject(),T.bubbles=l,T.cancelable=c,T.view=h,T.detail=p,T.screenX=d,T.screenY=v,T.clientX=m,T.clientY=g,T.ctrlKey=y,T.altKey=b,T.metaKey=E,T.shiftKey=w;switch(S){case 0:T.button=1;break;case 1:T.button=4;break;case 2:break;default:T.button=0}T.relatedTarget=x,t.fireEvent("on"+f,T)}else e.error("simulateMouseEvent(): No event simulation framework present.")}function m(t,u,a,f,h,p){t||e.error("simulateUIEvent(): Invalid target."),r(u)?(u=u.toLowerCase(),l[u]||e.error("simulateUIEvent(): Event type '"+u+"' not supported.")):e.error("simulateUIEvent(): Event type must be a string.");var d=null;i(a)||(a=u in c),i(f)||(f=u==="submit"),s(h)||(h=e.config.win),o(p)||(p=1),n(e.config.doc.createEvent)?(d=e.config.doc.createEvent("UIEvents"),d.initUIEvent(u,a,f,h,p),t.dispatchEvent(d)):s(e.config.doc.createEventObject)?(d=e.config.doc.createEventObject(),d.bubbles=a,d.cancelable=f,d.view=h,d.detail=p,t.fireEvent("on"+u,d)):e.error("simulateUIEvent(): No event simulation framework present.")}function g(t,n,r,i,s,o,u,a,f,l,c,h,d,v,m,g){var y;(!e.UA.ios||e.UA.ios<2)&&e.error("simulateGestureEvent(): Native gesture DOM eventframe is not available in this platform."),t||e.error("simulateGestureEvent(): Invalid target."),e.Lang.isString(n)?(n=n.toLowerCase(),p[n]||e.error("simulateTouchEvent(): Event type '"+n+"' not supported.")):e.error("simulateGestureEvent(): Event type must be a string."),e.Lang.isBoolean(r)||(r=!0),e.Lang.isBoolean(i)||(i=!0),e.Lang.isObject(s)||(s=e.config.win),e.Lang.isNumber(o)||(o=2),e.Lang.isNumber(u)||(u=0),e.Lang.isNumber(a)||(a=0),e.Lang.isNumber(f)||(f=0),e.Lang.isNumber(l)||(l=0),e.Lang.isBoolean(c)||(c=!1),e.Lang.isBoolean(h)||(h=!1),e.Lang.isBoolean(d)||(d=!1),e.Lang.isBoolean(v)||(v=!1),e.Lang.isNumber(m)||(m=1),e.Lang.isNumber(g)||(g=0),y=e.config.doc.createEvent("GestureEvent"),y.initGestureEvent(n,r,i,s,o,u,a,f,l,c,h,d,v,t,m,g),t.dispatchEvent(y)}function y(t,n,r,i,s,o,u,a,f,l,c,p,d,v,m,g,y,b,w){var E;t||e.error("simulateTouchEvent(): Invalid target."),e.Lang.isString(n)?(n=n.toLowerCase(),h[n]||e.error("simulateTouchEvent(): Event type '"+n+"' not supported.")):e.error("simulateTouchEvent(): Event type must be a string."),n==="touchstart"||n==="touchmove"?m.length===0&&e.error("simulateTouchEvent(): No touch object in touches"):n==="touchend"&&y.length===0&&e.error("simulateTouchEvent(): No touch object in changedTouches"),e.Lang.isBoolean(r)||(r=!0),e.Lang.isBoolean(i)||(i=n!=="touchcancel"),e.Lang.isObject(s)||(s=e.config.win),e.Lang.isNumber(o)||(o=1),e.Lang.isNumber(u)||(u=0),e.Lang.isNumber(a)||(a=0),e.Lang.isNumber(f)||(f=0),e.Lang.isNumber(l)||(l=0),e.Lang.isBoolean(c)||(c=!1),e.Lang.isBoolean(p)||(p=!1),e.Lang.isBoolean(d)||(d=!1),e.Lang.isBoolean(v)||(v=!1),e.Lang.isNumber(b)||(b=1),e.Lang.isNumber(w)||(w=0),e.Lang.isFunction(e.config.doc.createEvent)?(e.UA.android?e.UA.android<4?(E=e.config.doc.createEvent("MouseEvents"),E.initMouseEvent(n,r,i,s,o,u,a,f,l,c,p,d,v,0,t),E.touches=m,E.targetTouches=g,E.changedTouches=y):(E=e.config.doc.createEvent("TouchEvent"),E.initTouchEvent(m,g,y,n,s,u,a,f,l,c,p,d,v)):e.UA.ios?e.UA.ios>=2?(E=e.config.doc.createEvent("TouchEvent"),E.initTouchEvent(n,r,i,s,o,u,a,f,l,c,p,d,v,m,g,y,b,w)):e.error("simulateTouchEvent(): No touch event simulation framework present for iOS, "+e.UA.ios+"."):e.error("simulateTouchEvent(): Not supported agent yet, "+e.UA.userAgent),t.dispatchEvent(E)):e.error("simulateTouchEvent(): No event simulation framework present.")}var t=e.Lang,n=t.isFunction,r=t.isString,i=t.isBoolean,s=t.isObject,o=t.isNumber,u={click:1,dblclick:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,mousemove:1,contextmenu:1},a={MSPointerOver:1,MSPointerOut:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1},f={keydown:1,keyup:1,keypress:1},l={submit:1,blur:1,change:1,focus:1,resize:1,scroll:1,select:1},c={scroll:1,resize:1,reset:1,submit:1,change:1,select
:1,error:1,abort:1},h={touchstart:1,touchmove:1,touchend:1,touchcancel:1},p={gesturestart:1,gesturechange:1,gestureend:1};e.mix(c,u),e.mix(c,f),e.mix(c,h),e.Event.simulate=function(t,n,r){r=r||{},u[n]||a[n]?v(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget):f[n]?d(t,n,r.bubbles,r.cancelable,r.view,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode):l[n]?m(t,n,r.bubbles,r.cancelable,r.view,r.detail):h[n]?e.config.win&&"ontouchstart"in e.config.win&&!e.UA.phantomjs&&!(e.UA.chrome&&e.UA.chrome<6)?y(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.touches,r.targetTouches,r.changedTouches,r.scale,r.rotation):e.error("simulate(): Event '"+n+"' can't be simulated. Use gesture-simulate module instead."):e.UA.ios&&e.UA.ios>=2&&p[n]?g(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.scale,r.rotation):e.error("simulate(): Event '"+n+"' can't be simulated.")}})()},"3.10.3",{requires:["event-base"]});

/* yui/async-queue/async-queue-min.js */
YUI.add("async-queue",function(e,t){e.AsyncQueue=function(){this._init(),this.add.apply(this,arguments)};var n=e.AsyncQueue,r="execute",i="shift",s="promote",o="remove",u=e.Lang.isObject,a=e.Lang.isFunction;n.defaults=e.mix({autoContinue:!0,iterations:1,timeout:10,until:function(){return this.iterations|=0,this.iterations<=0}},e.config.queueDefaults||{}),e.extend(n,e.EventTarget,{_running:!1,_init:function(){e.EventTarget.call(this,{prefix:"queue",emitFacade:!0}),this._q=[],this.defaults={},this._initEvents()},_initEvents:function(){this.publish({execute:{defaultFn:this._defExecFn,emitFacade:!0},shift:{defaultFn:this._defShiftFn,emitFacade:!0},add:{defaultFn:this._defAddFn,emitFacade:!0},promote:{defaultFn:this._defPromoteFn,emitFacade:!0},remove:{defaultFn:this._defRemoveFn,emitFacade:!0}})},next:function(){var e;while(this._q.length){e=this._q[0]=this._prepare(this._q[0]);if(!e||!e.until())break;this.fire(i,{callback:e}),e=null}return e||null},_defShiftFn:function(e){this.indexOf(e.callback)===0&&this._q.shift()},_prepare:function(t){if(a(t)&&t._prepared)return t;var r=e.merge(n.defaults,{context:this,args:[],_prepared:!0},this.defaults,a(t)?{fn:t}:t),i=e.bind(function(){i._running||i.iterations--,a(i.fn)&&i.fn.apply(i.context||e,e.Array(i.args))},this);return e.mix(i,r)},run:function(){var e,t=!0;for(e=this.next();t&&e&&!this.isRunning();e=this.next())t=e.timeout<0?this._execute(e):this._schedule(e);return e||this.fire("complete"),this},_execute:function(e){this._running=e._running=!0,e.iterations--,this.fire(r,{callback:e});var t=this._running&&e.autoContinue;return this._running=e._running=!1,t},_schedule:function(t){return this._running=e.later(t.timeout,this,function(){this._execute(t)&&this.run()}),!1},isRunning:function(){return!!this._running},_defExecFn:function(e){e.callback()},add:function(){return this.fire("add",{callbacks:e.Array(arguments,0,!0)}),this},_defAddFn:function(t){var n=this._q,r=[];e.Array.each(t.callbacks,function(e){u(e)&&(n.push(e),r.push(e))}),t.added=r},pause:function(){return u(this._running)&&this._running.cancel(),this._running=!1,this},stop:function(){return this._q=[],this.pause()},indexOf:function(e){var t=0,n=this._q.length,r;for(;t<n;++t){r=this._q[t];if(r===e||r.id===e)return t}return-1},getCallback:function(e){var t=this.indexOf(e);return t>-1?this._q[t]:null},promote:function(e){var t={callback:e},n;return this.isRunning()?n=this.after(i,function(){this.fire(s,t),n.detach()},this):this.fire(s,t),this},_defPromoteFn:function(e){var t=this.indexOf(e.callback),n=t>-1?this._q.splice(t,1)[0]:null;e.promoted=n,n&&this._q.unshift(n)},remove:function(e){var t={callback:e},n;return this.isRunning()?n=this.after(i,function(){this.fire(o,t),n.detach()},this):this.fire(o,t),this},_defRemoveFn:function(e){var t=this.indexOf(e.callback);e.removed=t>-1?this._q.splice(t,1)[0]:null},size:function(){return this.isRunning()||this.next(),this._q.length}})},"3.10.3",{requires:["event-custom"]});

/* yui/gesture-simulate/gesture-simulate-min.js */
YUI.add("gesture-simulate",function(e,t){function T(n){n||e.error(t+": invalid target node"),this.node=n,this.target=e.Node.getDOMNode(n);var r=this.node.getXY(),i=this._getDims();a=r[0]+i[0]/2,f=r[1]+i[1]/2}var t="gesture-simulate",n=e.config.win&&"ontouchstart"in e.config.win&&!e.UA.phantomjs&&!(e.UA.chrome&&e.UA.chrome<6),r={tap:1,doubletap:1,press:1,move:1,flick:1,pinch:1,rotate:1},i={touchstart:1,touchmove:1,touchend:1,touchcancel:1},s=e.config.doc,o,u=20,a,f,l={HOLD_TAP:10,DELAY_TAP:10,HOLD_PRESS:3e3,MIN_HOLD_PRESS:1e3,MAX_HOLD_PRESS:6e4,DISTANCE_MOVE:200,DURATION_MOVE:1e3,MAX_DURATION_MOVE:5e3,MIN_VELOCITY_FLICK:1.3,DISTANCE_FLICK:200,DURATION_FLICK:1e3,MAX_DURATION_FLICK:5e3,DURATION_PINCH:1e3},c="touchstart",h="touchmove",p="touchend",d="gesturestart",v="gesturechange",m="gestureend",g="mouseup",y="mousemove",b="mousedown",w="click",E="dblclick",S="x",x="y";T.prototype={_toRadian:function(e){return e*(Math.PI/180)},_getDims:function(){var e,t,n;return this.target.getBoundingClientRect?(e=this.target.getBoundingClientRect(),"height"in e?n=e.height:n=Math.abs(e.bottom-e.top),"width"in e?t=e.width:t=Math.abs(e.right-e.left)):(e=this.node.get("region"),t=e.width,n=e.height),[t,n]},_calculateDefaultPoint:function(t){var n;return!e.Lang.isArray(t)||t.length===0?t=[a,f]:(t.length==1&&(n=this._getDims[1],t[1]=n/2),t[0]=this.node.getX()+t[0],t[1]=this.node.getY()+t[1]),t},rotate:function(n,r,i,s,o,u,a){var f,l=i,c=s;if(!e.Lang.isNumber(l)||!e.Lang.isNumber(c)||l<0||c<0)f=this.target.offsetWidth<this.target.offsetHeight?this.target.offsetWidth/4:this.target.offsetHeight/4,l=f,c=f;e.Lang.isNumber(a)||e.error(t+"Invalid rotation detected."),this.pinch(n,r,l,c,o,u,a)},pinch:function(n,r,i,s,o,a,f){var g,y,b=u,w,E=0,S=i,x=s,T,N,C,k,L,A,O,M,_,D={start:[],end:[]},P={start:[],end:[]},H,B;r=this._calculateDefaultPoint(r),(!e.Lang.isNumber(S)||!e.Lang.isNumber(x)||S<0||x<0)&&e.error(t+"Invalid startRadius and endRadius detected.");if(!e.Lang.isNumber(o)||o<=0)o=l.DURATION_PINCH;if(!e.Lang.isNumber(a))a=0;else{a%=360;while(a<0)a+=360}e.Lang.isNumber(f)||(f=0),e.AsyncQueue.defaults.timeout=b,g=new e.AsyncQueue,N=r[0],C=r[1],O=a,M=a+f,D.start=[N+S*Math.sin(this._toRadian(O)),C-S*Math.cos(this._toRadian(O))],D.end=[N+x*Math.sin(this._toRadian(M)),C-x*Math.cos(this._toRadian(M))],P.start=[N-S*Math.sin(this._toRadian(O)),C+S*Math.cos(this._toRadian(O))],P.end=[N-x*Math.sin(this._toRadian(M)),C+x*Math.cos(this._toRadian(M))],k=1,L=s/i,g.add({fn:function(){var t,n,r,i;t={pageX:D.start[0],pageY:D.start[1],clientX:D.start[0],clientY:D.start[1]},n={pageX:P.start[0],pageY:P.start[1],clientX:P.start[0],clientY:P.start[1]},i=this._createTouchList([e.merge({identifier:E++},t),e.merge({identifier:E++},n)]),r={pageX:(D.start[0]+P.start[0])/2,pageY:(D.start[0]+P.start[1])/2,clientX:(D.start[0]+P.start[0])/2,clientY:(D.start[0]+P.start[1])/2},this._simulateEvent(this.target,c,e.merge({touches:i,targetTouches:i,changedTouches:i,scale:k,rotation:O},r)),e.UA.ios>=2&&this._simulateEvent(this.target,d,e.merge({scale:k,rotation:O},r))},timeout:0,context:this}),H=Math.floor(o/b),T=(x-S)/H,A=(L-k)/H,_=(M-O)/H,B=function(t){var n=S+T*t,r=N+n*Math.sin(this._toRadian(O+_*t)),i=C-n*Math.cos(this._toRadian(O+_*t)),s=N-n*Math.sin(this._toRadian(O+_*t)),o=C+n*Math.cos(this._toRadian(O+_*t)),u=(r+s)/2,a=(i+o)/2,f,l,c,p;f={pageX:r,pageY:i,clientX:r,clientY:i},l={pageX:s,pageY:o,clientX:s,clientY:o},p=this._createTouchList([e.merge({identifier:E++},f),e.merge({identifier:E++},l)]),c={pageX:u,pageY:a,clientX:u,clientY:a},this._simulateEvent(this.target,h,e.merge({touches:p,targetTouches:p,changedTouches:p,scale:k+A*t,rotation:O+_*t},c)),e.UA.ios>=2&&this._simulateEvent(this.target,v,e.merge({scale:k+A*t,rotation:O+_*t},c))};for(y=0;y<H;y++)g.add({fn:B,args:[y],context:this});g.add({fn:function(){var t=this._getEmptyTouchList(),n,r,i,s;n={pageX:D.end[0],pageY:D.end[1],clientX:D.end[0],clientY:D.end[1]},r={pageX:P.end[0],pageY:P.end[1],clientX:P.end[0],clientY:P.end[1]},s=this._createTouchList([e.merge({identifier:E++},n),e.merge({identifier:E++},r)]),i={pageX:(D.end[0]+P.end[0])/2,pageY:(D.end[0]+P.end[1])/2,clientX:(D.end[0]+P.end[0])/2,clientY:(D.end[0]+P.end[1])/2},e.UA.ios>=2&&this._simulateEvent(this.target,m,e.merge({scale:L,rotation:M},i)),this._simulateEvent(this.target,p,e.merge({touches:t,targetTouches:t,changedTouches:s,scale:L,rotation:M},i))},context:this}),n&&e.Lang.isFunction(n)&&g.add({fn:n,context:this.node}),g.run()},tap:function(t,r,i,s,o){var u=new e.AsyncQueue,a=this._getEmptyTouchList(),f,h,d,v,m;r=this._calculateDefaultPoint(r);if(!e.Lang.isNumber(i)||i<1)i=1;e.Lang.isNumber(s)||(s=l.HOLD_TAP),e.Lang.isNumber(o)||(o=l.DELAY_TAP),h={pageX:r[0],pageY:r[1],clientX:r[0],clientY:r[1]},f=this._createTouchList([e.merge({identifier:0},h)]),v=function(){this._simulateEvent(this.target,c,e.merge({touches:f,targetTouches:f,changedTouches:f},h))},m=function(){this._simulateEvent(this.target,p,e.merge({touches:a,targetTouches:a,changedTouches:f},h))};for(d=0;d<i;d++)u.add({fn:v,context:this,timeout:d===0?0:o}),u.add({fn:m,context:this,timeout:s});i>1&&!n&&u.add({fn:function(){this._simulateEvent(this.target,E,h)},context:this}),t&&e.Lang.isFunction(t)&&u.add({fn:t,context:this.node}),u.run()},flick:function(n,r,i,s,o){var u;r=this._calculateDefaultPoint(r),e.Lang.isString(i)?(i=i.toLowerCase(),i!==S&&i!==x&&e.error(t+"(flick): Only x or y axis allowed")):i=S,e.Lang.isNumber(s)||(s=l.DISTANCE_FLICK),e.Lang.isNumber(o)?o>l.MAX_DURATION_FLICK&&(o=l.MAX_DURATION_FLICK):o=l.DURATION_FLICK,Math.abs(s)/o<l.MIN_VELOCITY_FLICK&&(o=Math.abs(s)/l.MIN_VELOCITY_FLICK),u={start:e.clone(r),end:[i===S?r[0]+s:r[0],i===x?r[1]+s:r[1]]},this._move(n,u,o)},move:function(t,n,r){var i;e.Lang.isObject(n)?(e.Lang.isArray(n.point)?n.point=this._calculateDefaultPoint(n.point):n.point=this._calculateDefaultPoint([]),e.Lang.isNumber(n.xdist)||(n.xdist=l.DISTANCE_MOVE),e.Lang.isNumber(n.ydist)||(n.ydist=0)):n={point:this._calculateDefaultPoint([]),xdist:l.
DISTANCE_MOVE,ydist:0},e.Lang.isNumber(r)?r>l.MAX_DURATION_MOVE&&(r=l.MAX_DURATION_MOVE):r=l.DURATION_MOVE,i={start:e.clone(n.point),end:[n.point[0]+n.xdist,n.point[1]+n.ydist]},this._move(t,i,r)},_move:function(t,n,r){var i,s,o=u,d,v,m,g=0,y;e.Lang.isNumber(r)?r>l.MAX_DURATION_MOVE&&(r=l.MAX_DURATION_MOVE):r=l.DURATION_MOVE,e.Lang.isObject(n)?(e.Lang.isArray(n.start)||(n.start=[a,f]),e.Lang.isArray(n.end)||(n.end=[a+l.DISTANCE_MOVE,f])):n={start:[a,f],end:[a+l.DISTANCE_MOVE,f]},e.AsyncQueue.defaults.timeout=o,i=new e.AsyncQueue,i.add({fn:function(){var t={pageX:n.start[0],pageY:n.start[1],clientX:n.start[0],clientY:n.start[1]},r=this._createTouchList([e.merge({identifier:g++},t)]);this._simulateEvent(this.target,c,e.merge({touches:r,targetTouches:r,changedTouches:r},t))},timeout:0,context:this}),d=Math.floor(r/o),v=(n.end[0]-n.start[0])/d,m=(n.end[1]-n.start[1])/d,y=function(t){var r=n.start[0]+v*t,i=n.start[1]+m*t,s={pageX:r,pageY:i,clientX:r,clientY:i},o=this._createTouchList([e.merge({identifier:g++},s)]);this._simulateEvent(this.target,h,e.merge({touches:o,targetTouches:o,changedTouches:o},s))};for(s=0;s<d;s++)i.add({fn:y,args:[s],context:this});i.add({fn:function(){var t={pageX:n.end[0],pageY:n.end[1],clientX:n.end[0],clientY:n.end[1]},r=this._createTouchList([e.merge({identifier:g},t)]);this._simulateEvent(this.target,h,e.merge({touches:r,targetTouches:r,changedTouches:r},t))},timeout:0,context:this}),i.add({fn:function(){var t={pageX:n.end[0],pageY:n.end[1],clientX:n.end[0],clientY:n.end[1]},r=this._getEmptyTouchList(),i=this._createTouchList([e.merge({identifier:g},t)]);this._simulateEvent(this.target,p,e.merge({touches:r,targetTouches:r,changedTouches:i},t))},context:this}),t&&e.Lang.isFunction(t)&&i.add({fn:t,context:this.node}),i.run()},_getEmptyTouchList:function(){return o||(o=this._createTouchList([])),o},_createTouchList:function(n){var r=[],i,o=this;return!!n&&e.Lang.isArray(n)?e.UA.android&&e.UA.android>=4||e.UA.ios&&e.UA.ios>=2?(e.each(n,function(t){t.identifier||(t.identifier=0),t.pageX||(t.pageX=0),t.pageY||(t.pageY=0),t.screenX||(t.screenX=0),t.screenY||(t.screenY=0),r.push(s.createTouch(e.config.win,o.target,t.identifier,t.pageX,t.pageY,t.screenX,t.screenY))}),i=s.createTouchList.apply(s,r)):e.UA.ios&&e.UA.ios<2?e.error(t+": No touch event simulation framework present."):(i=[],e.each(n,function(e){e.identifier||(e.identifier=0),e.clientX||(e.clientX=0),e.clientY||(e.clientY=0),e.pageX||(e.pageX=0),e.pageY||(e.pageY=0),e.screenX||(e.screenX=0),e.screenY||(e.screenY=0),i.push({target:o.target,identifier:e.identifier,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}),i.item=function(e){return i[e]}):e.error(t+": Invalid touchPoints passed"),i},_simulateEvent:function(t,r,s){var o;i[r]?n?e.Event.simulate(t,r,s):this._isSingleTouch(s.touches,s.targetTouches,s.changedTouches)?(r={touchstart:b,touchmove:y,touchend:g}[r],s.button=0,s.relatedTarget=null,o=r===g?s.changedTouches:s.touches,s=e.mix(s,{screenX:o.item(0).screenX,screenY:o.item(0).screenY,clientX:o.item(0).clientX,clientY:o.item(0).clientY},!0),e.Event.simulate(t,r,s),r==g&&e.Event.simulate(t,w,s)):e.error("_simulateEvent(): Event '"+r+"' has multi touch objects that can't be simulated in your platform."):e.Event.simulate(t,r,s)},_isSingleTouch:function(e,t,n){return e&&e.length<=1&&t&&t.length<=1&&n&&n.length<=1}},e.GestureSimulation=T,e.GestureSimulation.defaults=l,e.GestureSimulation.GESTURES=r,e.Event.simulateGesture=function(n,i,s,o){n=e.one(n);var u=new e.GestureSimulation(n);i=i.toLowerCase(),!o&&e.Lang.isFunction(s)&&(o=s,s={}),s=s||{};if(r[i])switch(i){case"tap":u.tap(o,s.point,s.times,s.hold,s.delay);break;case"doubletap":u.tap(o,s.point,2);break;case"press":e.Lang.isNumber(s.hold)?s.hold<l.MIN_HOLD_PRESS?s.hold=l.MIN_HOLD_PRESS:s.hold>l.MAX_HOLD_PRESS&&(s.hold=l.MAX_HOLD_PRESS):s.hold=l.HOLD_PRESS,u.tap(o,s.point,1,s.hold);break;case"move":u.move(o,s.path,s.duration);break;case"flick":u.flick(o,s.point,s.axis,s.distance,s.duration);break;case"pinch":u.pinch(o,s.center,s.r1,s.r2,s.duration,s.start,s.rotation);break;case"rotate":u.rotate(o,s.center,s.r1,s.r2,s.duration,s.start,s.rotation)}else e.error(t+": Not a supported gesture simulation: "+i)}},"3.10.3",{requires:["async-queue","event-simulate","node-screen"]});

/* yui/node-event-simulate/node-event-simulate-min.js */
YUI.add("node-event-simulate",function(e,t){e.Node.prototype.simulate=function(t,n){e.Event.simulate(e.Node.getDOMNode(this),t,n)},e.Node.prototype.simulateGesture=function(t,n,r){e.Event.simulateGesture(this,t,n,r)}},"3.10.3",{requires:["node-base","event-simulate","gesture-simulate"]});

/* lp/app/javascript/choice-min.js */

YUI.add('lp.app.choice',function(Y){var namespace=Y.namespace('lp.app.choice');namespace.hook_up_choicesource_spinner=function(widget){Y.after(function(){var icon=this.get('editicon');icon.removeClass('edit');icon.addClass('update-in-progress-message');icon.setStyle('position','relative');icon.setStyle('bottom','2px');},widget,'_uiSetWaiting');Y.after(function(){var icon=this.get('editicon');icon.removeClass('update-in-progress-message');icon.addClass('edit');icon.setStyle('bottom','0px');},widget,'_uiClearWaiting');};namespace.addBinaryChoice=function(config,resource_uri,attribute){var widget=new Y.ChoiceSource(config);widget.plug({fn:Y.lp.client.plugins.PATCHPlugin,cfg:{patch:attribute,resource:resource_uri}});namespace.hook_up_choicesource_spinner(widget);widget.render();};namespace.addEnumChoice=function(config,resource_uri,attribute){var widget=new Y.ChoiceSource(config);widget.plug({fn:Y.lp.client.plugins.PATCHPlugin,cfg:{patch:attribute,resource:resource_uri}});namespace.hook_up_choicesource_spinner(widget);widget.on('save',function(e){var cb=widget.get('contentBox');var value=widget.get('value');Y.Array.each(config.items,function(item){if(item.value===value){cb.one('span').addClass(item.css_class);}else{cb.one('span').removeClass(item.css_class);}});});widget.render();};var default_popup_choice_config={container:Y,render_immediately:true,show_description:false,field_title:null};var wirePopupChoice=function(legacy_node,field_name,choices,cfg,get_value_fn,set_value_fn){var choice_descriptions={};Y.Array.forEach(choices,function(item){choice_descriptions[item.value]=item.description;});var initial_field_value=get_value_fn(legacy_node);var choice_node=Y.Node.create(['<span class="'+field_name+'-content"><span class="value"></span>','<a class="sprite edit editicon action-icon"',' href="#">Edit</a></span>'].join(''));if(cfg.show_description){choice_node.append(Y.Node.create('<div class="formHelp"></div>'));}
legacy_node.insertBefore(choice_node,legacy_node);if(cfg.show_description){choice_node.one('.formHelp').set('text',choice_descriptions[initial_field_value]);}
legacy_node.addClass('hidden');if(!Y.Lang.isValue(cfg.field_title)){cfg.field_title=field_name.replace('_',' ');}
var choice_edit=new Y.ChoiceSource({contentBox:choice_node,value:initial_field_value,title:'Set '+cfg.field_title+" as",items:choices,elementToFlash:choice_node,zIndex:1050});if(cfg.render_immediately){choice_edit.render();}
var update_selected_value_css=function(selected_value){Y.Array.each(choices,function(item){if(item.value===selected_value){choice_node.addClass(item.css_class);}else{choice_node.removeClass(item.css_class);}});};update_selected_value_css(initial_field_value);choice_edit.on('save',function(e){var selected_value=choice_edit.get('value');update_selected_value_css(selected_value);set_value_fn(legacy_node,selected_value);if(cfg.show_description){choice_node.one('.formHelp').set('text',choice_descriptions[selected_value]);}});return choice_edit;};namespace.addPopupChoice=function(field_name,choices,cfg){cfg=Y.merge(default_popup_choice_config,cfg);var legacy_node=cfg.container.one('[id="field.'+field_name+'"]');if(!Y.Lang.isValue(legacy_node)){return;}
var get_fn=function(node){return node.get('value');};var set_fn=function(node,value){node.set('value',value);};return wirePopupChoice(legacy_node,field_name,choices,cfg,get_fn,set_fn);};namespace.addPopupChoiceForRadioButtons=function(field_name,choices,cfg){if(!choices||choices.length===0){Y.error('No choices for the popup.');}
cfg=Y.merge(default_popup_choice_config,cfg);var field_node=cfg.container.one('[name="field.'+field_name+'"]');if(!Y.Lang.isValue(field_node)){return;}
var legacy_node=field_node.ancestor('table.radio-button-widget');if(!Y.Lang.isValue(legacy_node)){return;}
var get_fn=function(node){var field_value=choices[0].value;node.all('input[name="field.'+field_name+'"]').each(function(node){if(node.get('checked')){field_value=node.get('value');}});return field_value;};var set_fn=function(node,value){node.all('input[name="field.'+field_name+'"]').each(function(node){var node_selected=node.get('value')===value;node.set('checked',node_selected);if(node_selected){node.simulate('change');}});};return wirePopupChoice(legacy_node,field_name,choices,cfg,get_fn,set_fn);};},"0.1",{requires:["lp.ui.choiceedit","lp.client.plugins","node-event-simulate"]});
