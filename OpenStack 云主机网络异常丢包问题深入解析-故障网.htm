<!DOCTYPE html>
<!--[if lte IE 6 ]> <html class="ie ie6 lte-ie7 lte-ie8" lang="zh-CN"> <![endif]-->
<!--[if IE 7 ]> <html class="ie ie7 lte-ie7 lte-ie8" lang="zh-CN"> <![endif]-->
<!--[if IE 8 ]> <html class="ie ie8 lte-ie8" lang="zh-CN"> <![endif]-->
<!--[if IE 9 ]> <html class="ie ie9" lang="zh-CN"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html lang="zh-CN"><!--<![endif]--><head>
<style id="znBdcsStyle" type="text/css">.bdcs-container .bdcs-main,.bdcs-container .bdcs-main *{box-sizing:content-box;margin:0;padding:0;float:none;clear:none;overflow:hidden;white-space:nowrap;word-wrap:normal;border:0;background:0 0;width:auto;height:auto;max-width:none;min-width:none;max-height:none;min-height:none;border-radius:0;box-shadow:none;transition:none;text-align:left}.bdcs-container .bdcs-clearfix:after{content:'';display:block;clear:both;height:0}.bdcs-container .bdcs-clearfix{zoom:1}.bdcs-container .bdcs-main{overflow:visible}.bdcs-container .bdcs-search{display:block;overflow:visible;position:relative;border-style:solid}.bdcs-container .bdcs-search-form-input-wrap{display:inline-block}.bdcs-container .bdcs-search-form-input{border-width:1px;border-style:solid;display:inline-block;vertical-align:top;text-indent:5px;background-color:#fff;float:left}.bdcs-container .bdcs-search-form-input:focus{border-width:1px;border-style:solid;outline:0}.bdcs-container .bdcs-search-form-submit-wrap{display:inline-block}.bdcs-container .bdcs-search-form-submit{display:inline-block;cursor:pointer;border-width:1px;border-style:solid;vertical-align:top;text-align:center;width:50px;//_overflow:hidden}.bdcs-container .bdcs-search-form-submit-magnifier{width:45px;padding:0;text-indent:-999em;overflow:hidden;background:url(http://znsv.baidu.com/static/customer-search/component/search/magnifier-icon.png) no-repeat center center;_background:url(http://znsv.baidu.com/static/customer-search/component/search/magnifier-icon_ie6.png) no-repeat center center}div#default-searchbox .default-channel-meun{position:relative;width:75px;display:inline-block;vertical-align:middle;cursor:pointer;background:#fff;float:left;overflow:visible}div#default-searchbox .default-channel-current{border:1px solid;position:relative;width:100%;border-right:0}div#default-searchbox .default-channel-current span{margin-left:8px}div#default-searchbox .default-channel-current i{overflow:hidden;width:0;height:0;border-width:6px 6px 0;border-color:#9E9E9E #fff;border-style:solid;display:block;position:absolute;right:10px;top:11px}div.cse-default-channel-container{display:block;position:absolute;z-index:30061000000}div.cse-default-channel-container .default-channel-list{display:none;width:99%;list-style:none;background:#fff;border:1px solid #DDD;border-top:0;margin:0;padding:0}div.cse-default-channel-container .default-channel-list li{background:0 0;line-height:24px;list-style:none;display:block;padding-left:7px;cursor:pointer}div.cse-default-channel-container .default-channel-list li:hover{background:#DDD}.bdcs-container .bdcs-search-form-input-wrap{}.bdcs-container .bdcs-search-form-input-notspan{margin-left:0px;font-family:Arial,SimSun,sans-serif;color:#000000;font-size:14px;}.bdcs-container .bdcs-search-form-input .icon-nofocus{left:;right:;top:;height:;width:;}.bdcs-container .bdcs-search{width:461px;height:28px;overflow:visible;border-color:#ffffff;border-radius:0px;border-width:0px;box-shadow:none;background-color:none;}.bdcs-container .bdcs-search-form-input{border-color:#FF44AA;margin-right:0px;width:398px;height:26px;line-height:26px;font-family:Arial,SimSun,sans-serif;color:#000000;font-size:14px;border-radius:0px;background-color:#FFFFFF;}.bdcs-container .bdcs-search-form-input:focus{border-color:#f79646;}.bdcs-container .bdcs-search-form-submit-wrap{}.bdcs-container .bdcs-search-form-submit{border-color:#FF44AA;height:26px;width:60px;background-color:#FFFFFF;color:#7700FF;font-family:Arial,SimSun,sans-serif;font-size:14px;border-radius:0px;}.bdcs-container .bdcs-search-form-submit{*height:28px;*margin-top:1px;}.bdcs-container .bdcs-search-form-submit{height:28px;}.bdcs-container .bdcs-search-form-submit{line-height:26px;}.bdcs-container .bdcs-search-form-input{margin-right:-1px;}#bdcs-rec{display:none;}</style><meta http-equiv="Cache-Control" content="no-transform"> 
<meta http-equiv="Cache-Control" content="no-siteapp"> 
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>OpenStack 云主机网络异常丢包问题深入解析-故障网</title>
        <meta name="keywords" content="OpenStack 云主机网络异常丢包问题深入解析">
        <meta name="description" content="前言某云主机在访问外网时，第一次DNS请求数据包在发送过程中被异常丢弃，导致每次访问都会有卡顿5秒才能完成的...">
<script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/hm.txt"></script><script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/push.js"></script><script type="text/javascript" async="" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/js"></script><script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/m.js" type="text/javascript"></script>
        <meta property="og:type" content="news">
        <meta property="og:title" content="OpenStack 云主机网络异常丢包问题深入解析">
        <meta property="og:description" content="OpenStack 云主机网络异常丢包问题深入解析">
        <meta property="og:image" content="http://img2.37txt.cn/mmsns/icdBCpcEToIicNSicqib9WQA1cgd6wWdib1mbzF5HgTnrB3ML3Ihe6Juv6A/0">
        <meta property="og:url" content="http://m.ai-dy.com/wangluoguzhang/201708/26711.html">
        <meta property="og:release_date" content="2017-08-11 20:08:45">
        <link href="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/bootstrap.css" rel="stylesheet" media="screen" type="text/css">
        <!--[if lt IE 8]>
        <link href="/static/2016/bootstrap/css/bootstrap-ie6.css" rel="stylesheet" media="screen" type="text/css" >
        <![endif]-->
	<link href="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/base.css" rel="stylesheet" media="screen" type="text/css">
	<link href="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/nav.css" rel="stylesheet" media="screen" type="text/css">
	<link href="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/layout.css" rel="stylesheet" media="screen" type="text/css">
	<link href="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/page.css" rel="stylesheet" media="screen" type="text/css">		
	<script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/jquery_004.js" type="text/javascript"></script>
	<script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/jquery.js" type="text/javascript"></script>
	<script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/jquery_003.js" type="text/javascript"></script>
	<script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/jquery_002.js" type="text/javascript"></script>
	<script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/common.js" type="text/javascript"></script>
	<script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/article.js" type="text/javascript"></script>
	<script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/adconfig.js" type="text/javascript"></script>
	<script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/hotword.js" type="text/javascript"></script>
    <script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/share.js"></script></head>

    <body class="articlelist articleview">

<div class="top_middle">
    <div class="container float-fix">
        <div class="top_middle_logo">
            <a href="http://www.ai-dy.com/"><img class="logo" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/logo.png"></a>
        </div>
        <div class="top_middle_s">
            <div class="form">
<script type="text/javascript">(function(){document.write(unescape('%3Cdiv id="bdcs"%3E%3C/div%3E'));var bdcs = document.createElement('script');bdcs.type = 'text/javascript';bdcs.async = true;bdcs.src = 'http://znsv.baidu.com/customer_search/api/js?sid=3182666958649728994' + '&plate_url=' + encodeURIComponent(window.location.href) + '&t=' + Math.ceil(new Date()/3600000);var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(bdcs, s);})();</script><div id="bdcs"><div class="bdcs-container"><meta http-equiv="x-ua-compatible" content="IE=9">   <!-- 嵌入式 -->  <div class="bdcs-main bdcs-clearfix" id="default-searchbox">      <div class="bdcs-search bdcs-clearfix" id="bdcs-search-inline">          <form action="http://zhannei.baidu.com/cse/search" method="get" target="_blank" class="bdcs-search-form" autocomplete="off" id="bdcs-search-form">              <input name="s" value="3182666958649728994" type="hidden">              <input name="entry" value="1" type="hidden">                                                                        <input name="q" class="bdcs-search-form-input" id="bdcs-search-form-input" placeholder="请输入关键词" style="height: 28px; line-height: 28px;" type="text">              <input class="bdcs-search-form-submit " id="bdcs-search-form-submit" value="搜索" type="submit">                       </form>      </div>                  </div>                           </div></div>   
  </div>
        </div>
        <div class="txtScroll-top">
            <div class="bd">
                <div class="tempWrap" style="overflow:hidden; position:relative; height:52px"><ul class="infoList" style="height: 234px; position: relative; padding: 0px; margin: 0px; top: -116.893px;"><li class="clone" style="height: 26px;"><span><a href="http://www.ai-dy.com/qitaguzhang/" target="_blank">其他故障</a></span> | <a href="http://www.ai-dy.com/qitaguzhang/201801/52732.html" target="_blank">突发！单纯女孩被渣男骗色，正义哥当街让其出丑！</a></li>
<li style="height: 26px;"><span><a href="http://www.ai-dy.com/qitaguzhang/" target="_blank">其他故障</a></span> | <a href="http://www.ai-dy.com/qitaguzhang/201801/52738.html" target="_blank">盘氏瑶医虚假宣传欺骗消费者 假冒产品谨慎</a></li>
<li style="height: 26px;"><span><a href="http://www.ai-dy.com/qitaguzhang/" target="_blank">其他故障</a></span> | <a href="http://www.ai-dy.com/qitaguzhang/201801/52737.html" target="_blank">投诉苏州盘氏瑶医虚假宣传欺骗消费者，涉嫌使用三无</a></li>
<li style="height: 26px;"><span><a href="http://www.ai-dy.com/qitaguzhang/" target="_blank">其他故障</a></span> | <a href="http://www.ai-dy.com/qitaguzhang/201801/52736.html" target="_blank">突发：俄5万人请愿抗议中国"占领"贝加尔湖 背后发生</a></li>
<li style="height: 26px;"><span><a href="http://www.ai-dy.com/qitaguzhang/" target="_blank">其他故障</a></span> | <a href="http://www.ai-dy.com/qitaguzhang/201801/52735.html" target="_blank">突发惨剧：洞口旁边男子新年第一天持刀将丈母娘和11</a></li>
<li style="height: 26px;"><span><a href="http://www.ai-dy.com/qitaguzhang/" target="_blank">其他故障</a></span> | <a href="http://www.ai-dy.com/qitaguzhang/201801/52733.html" target="_blank">突发：湖南邵东江南明珠小区再度出现电梯故障，小孩被</a></li>
<li style="height: 26px;"><span><a href="http://www.ai-dy.com/qitaguzhang/" target="_blank">其他故障</a></span> | <a href="http://www.ai-dy.com/qitaguzhang/201801/52732.html" target="_blank">突发！单纯女孩被渣男骗色，正义哥当街让其出丑！</a></li>
                <li class="clone" style="height: 26px;"><span><a href="http://www.ai-dy.com/qitaguzhang/" target="_blank">其他故障</a></span> | <a href="http://www.ai-dy.com/qitaguzhang/201801/52738.html" target="_blank">盘氏瑶医虚假宣传欺骗消费者 假冒产品谨慎</a></li><li class="clone" style="height: 26px;"><span><a href="http://www.ai-dy.com/qitaguzhang/" target="_blank">其他故障</a></span> | <a href="http://www.ai-dy.com/qitaguzhang/201801/52737.html" target="_blank">投诉苏州盘氏瑶医虚假宣传欺骗消费者，涉嫌使用三无</a></li></ul></div>
            </div>
<script type="text/javascript">
  $('.txtScroll-top').slide({titCell: ".hd ul", mainCell: ".bd ul", autoPage: true, effect: "topLoop", autoPlay: true, scroll: 1, vis: 2, delayTime: 1000});
</script>
        </div>
    </div>
</div>
<div class="nav_cnt mb30 fixed" id="nav_cnt">
    <div class="container">
        <ul class="navs">
            <li class="nav-item0"><a target="_self" href="http://www.ai-dy.com/" class="home">首页</a></li>
            
    						<li class="nav-item14220"><a target="_self" href="http://www.ai-dy.com/qicheguzhang" title="汽车故障">汽车故障</a></li>												<li class="nav-item14220"><a target="_self" href="http://www.ai-dy.com/youxibaocuo" title="游戏报错">游戏报错</a></li>												<li class="nav-item14220"><a target="_self" href="http://www.ai-dy.com/xitongguzhang" title="系统故障">系统故障</a></li>												<li class="nav-item14220"><a target="_self" href="http://www.ai-dy.com/ruanjianguzhang" title="软件故障">软件故障</a></li>												<li class="nav-item14220"><a target="_self" href="http://www.ai-dy.com/jiadianguzhang" title="家电故障">家电故障</a></li>												<li class="nav-item14220"><a target="_self" href="http://www.ai-dy.com/wangluoguzhang" title="网络故障">网络故障</a></li>												<li class="nav-item14220"><a target="_self" href="http://www.ai-dy.com/diannaoguzhang" title="电脑故障">电脑故障</a></li>												<li class="nav-item14220"><a target="_self" href="http://www.ai-dy.com/shoujiguzhang" title="手机故障">手机故障</a></li>												<li class="nav-item14220"><a target="_self" href="http://www.ai-dy.com/qitaguzhang" title="其他故障">其他故障</a></li>						        </ul>

        <ul class="ft14 sub-nav">
            <li><a href="http://www.ai-dy.com/desktop.php" class="icon icon_desk">保存到桌面</a></li>
            <li><a href="http://m.ai-dy.com/" target="_blank" class="icon icon_mod">手机访问</a></li>
            <li><a onclick="addFavorite(this)" href="javascript:;" class="icon icon_fav">加入收藏</a></li>
        </ul>
    </div>
</div>
<script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/new_pc.js" type="text/javascript"></script><script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/11.js" id="sozz"></script><script charset="utf-8" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/ab77b6ea7f3fbf79.js"></script><div style="display:none"><script src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/z_stat.php" language="JavaScript"></script></div>



        <script type="text/javascript">article.topFixed();</script>
        <div class="container mt1 clear clearfix main-area" style="zoom:1;">
            <div class="pleft">
                <div class="viewbox box-warp mb30">
                    <div class="article-header">
                        <h1 class="title">OpenStack 云主机网络异常丢包问题深入解析</h1>
                        <div class="info">
                            <div class="left">
                                时间:<small>2017-08-11 20:08:45</small>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp; <a href="http://www.ai-dy.com/wangluoguzhang/">网络故障</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;  <!--  <small></small><span class="hidden">浏览:<small><span id="article-count"><script src=/e/public/ViewClick/?classid=3724&id=26711&addclick=1></script></span>次</small></span>  -->
                            </div>
                            <div class="right">
                                <a href="javascript:void(0);" class="icona downsize" title="文字缩小" onclick="article.zoom('-');"></a>
                                <a href="javascript:void(0);" class="icona zoomin" title="文字放大" onclick="article.zoom('+');"></a>
                                <a href="javascript:void(0);" class="icona phone qrcode" title="手机阅读" onmouseover="article.qrcode('http://m.ai-dy.com/wangluoguzhang/201708/26711.html');"><span id="article-qrcode"></span></a>
                            </div>
                        </div>
                    </div>
<div class="clear"></div>
    <div class="mm-sm76890 mmfixed mb10">
<script type="text/javascript">neiye_ding();</script>
    </div>
    <div id="main-content" class="content">
<hr style="height:15px;border:none;border-top:1px dashed #CCCCCC;">
    <div class="clear"></div>
 <h1 style="line-height: 1.75em; margin-bottom: 15px;"><span style="font-size: 18px; color: rgb(0, 122, 170);"><strong>前言</strong></span></h1><p style="line-height: 1.75em; margin-bottom: 15px;">某云主机在访问外网时，第一次DNS请求数据包在发送过程中被异常丢弃，导致每次访问都会有卡顿5秒才能完成的诡异现象，本文主要阐述这一现象背后的根本原因以及分析问题的具体方法。</p><h1 style="line-height: 1.75em; margin-bottom: 15px;"><span style="font-size: 18px;"><strong><span style="color: rgb(0, 122, 170);">问题描述</span></strong></span></h1><p style="line-height: 1.75em; margin-bottom: 15px;">在openstack集群环境下某虚机访问外部网络时会发生延时现象，大概延迟5秒左右才会得到回应，例如使用curl命令访问百度网址结果耗时5秒多才结束：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/nsp402ntw5v.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.3421875" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">首先在虚机上通过抓包发现，在访问百度网址时，DNS请求耗时接近5秒：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/a2vpwffsdm4.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.2890625" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">如
图，前两次的DNS请求分别为A（IPv4）以及AAAA（IPv6）记录的请求报文，但是只收到了A记录请求的回应报文，在等待5秒超时后，虚机又重新
请求解析百度网址的IP地址，此时才收到两条A及AAAA记录回应报文，DNS解析请求成功结束。所以问题的关键是一开始DNS请求只收到了一条A记录回
应报文，另外那条AAAA记录的回应报文去哪儿了，难道被丢了？</p><h1 style="line-height: 1.75em; margin-bottom: 15px;"><span style="font-size: 18px; color: rgb(0, 122, 170);"><strong>分析过程</strong></span></h1><p style="line-height: 1.75em; margin-bottom: 15px;">如果要弄清楚回应报文丢失的原因，我们可以先在计算节点上抓包分析，因为虚机到外网出去的包首先是经过的计算节点，包路径参考下图：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/uggklkxwzqx.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.5328125" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">如图，虚机（instance）出来的包一开始经过的是linux bridge，对应的网桥为qbr，端口分别为tap及qvb口，首先在tap口抓包分析：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/dy50cxui3gu.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.3140625" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">这边tap口跟在虚机里抓的包没啥区别，也没有收到第一次的AAAA回应报文，所以虚机肯定也不可能收到，接下来继续在qvb口抓包分析：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/tcz3fhp4dpw.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.2875" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">这
边也没有AAAA记录回应报文，但是发出去的包只有A记录请求报文，而AAAA记录请求报文却不见了？其实细想一下，肯定是因为linux 
bridge丢弃了第二个AAAA请求报文，这就解释了为什么一直收不到AAAA记录回应报文的原因，不是回来的包丢了，而是出去的包被丢了。至于为什么
出去的AAAA记录请求报文被丢弃，难道是防火墙挡掉了？</p><p style="line-height: 1.75em; margin-bottom: 15px;">首先排查防火墙的原因，因为计算节点上默认设定了安全组规则，是通过iptables实现的，所以先清空防火墙规则：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/ectnj2z32ej.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.4484375" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">在禁用所有防火墙规则后，虚机curl访问百度网址依然有5秒超时的问题，所以排除了防火墙的原因，如果不是防火墙丢掉的包，那么到底是什么原因导致丢包的呢？</p><p style="line-height: 1.75em; margin-bottom: 15px;">既然是linux bridge丢的包，我们先从这边入手，linux网桥有一个bridge-nf-call-iptables开关，可以先尝试将其关闭，目的是将要转发的数据包直接走二层处理，不经过三层，既不受iptables规则的约束：</p><p><span style="font-size: 14px;">[root@scq-bc-ec-cpt-7-57 ~]# echo 0 &gt; /proc/sys/net/bridge/bridge-nf-call-iptables</span></p><p><span style="font-size: 14px;">[root@scq-bc-ec-cpt-7-57 ~]# cat /proc/sys/net/bridge/bridge-nf-call-iptables</span></p><p style="margin-bottom: 15px;"><span style="font-size: 14px;">0</span></p><p style="line-height: 1.75em; margin-bottom: 15px;">此时，从虚机访问百度，5秒超时的问题消失了，这次DNS解析在1秒之内完成：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/t1kmssanuhw.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.359375" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">同时，在计算节点的qvb口抓包分析，DNS的AAAA记录请求及回应报文都有了：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/p4k4ql4qjbo.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.2140625" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">总
结一下，如果关掉计算节点上linux网桥的bridge-nf-call-iptables，DNS请求延时的现象就会消失，但是我们不能这样做，因为
openstack的安全组的实现依赖于它，如果不开启它，基于网桥的iptables规则无法生效，安全组的功能就不能用了，所以真正解决问题的方法是
要找到开启bridge-nf-call-iptables时导致DNS丢包的原因。</p><p style="line-height: 1.75em; margin-bottom: 15px;">这样又回到原点了，但是我们唯一可以确定的是内核丢的包，所以可以先利用dropwatch找一下丢包的点：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/pnmtb5rx0p1.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.153125" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">结
果发现每次在虚机里面尝试curl的时候，dropwatch显示说明都会在nf_hook_slow处出现一次丢包，难道DNS的第二个AAAA记录请
求报文是在这边被丢弃的？nf_hook_slow内核netfilter模块的核心函数，遍历了下内核netfilter模块的相关代码，发现有个地方
比较可疑，包在离开协议栈的时候，会调用__nf_conntrack_confirm，如果连接跟踪确认失败，insert_failed计数会增加，
最后返回NF_DROP：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/jv2zdwk355k.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.171875" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">insert_failed计数器是在/proc/net/stat/nf_conntrack文件里统计的，其内容格式如下：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/icbphtczv4t.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.5234375" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">因为该计数器是每CPU计数器，所以其中每行数值的行号都对应着相应的CPU编号，可以看到，有的CPU计数器是有值的，但不足以证明器是DNS丢包导致增加的，如果要确认，可以尝试在虚机里面curl访问百度网址10次，例如在虚机里面执行如下命令：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><span style="font-size: 14px;"># for i in `seq 1 10`;do curl www.baidu.com; done</span></p><p style="line-height: 1.75em; margin-bottom: 15px;">同时，在计算节点上通过watch命令查看insert_failedl计数器是否不停地的在增加，命令如下：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><span style="font-size: 14px;">watch -n 1 "cat /proc/net/stat/nf_conntrack | awk '{print \$10}'"</span><br></p><p style="line-height: 1.75em; margin-bottom: 15px;">可以发现，在所有curl访问完成后，每次dns解析都会超时5秒，共超时10次，一共执行了50多秒，而insert_failed内核计数器也增加了10，既一共发生了10次丢包：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/edvvflyetog.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.5265625" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">现
在基本可以断定内核丢包的地方是在_nf_conntrack_confirm函数里， 
_nf_conntrack_confirm函数是netfilter连接跟踪实现的核心函数，它主要是对其数据包进行连接跟踪记录确认，并最后调用
_nf_conntrack_hash_insert将新建的连接跟踪记录添加到连接跟踪表中。应该是第二次DNS（AAAA）请求的conntrack
连接跟踪记录没有被确认导致失败返回NF_DROP，所以先分析_nf_conntrack_confirm函数代码，返回NF_DROP的条件如下：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/2tecu0exk3o.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.1953125" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">nf_ct_tuple_equal目的是判断已建立的连接中是否存在完全一致的正向或反向五元组信息，如果存在就表示有冲突，直接跳转到out处代码，为什么要这样做呢？</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/eyozuooq0mz.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.1453125" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">我们再来看一下DNS发出请求的前两个A及AAAA记录请求报文的特点：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/tg2gczpjkbd.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.2015625" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">这
两个包之间的间隔时间非常短，第一个时间戳是22.496379秒，第二个时间戳是22.496433秒，相差无几，可以认为这两个包是并行发出的，而且
其源端口、源IP、目的端口、目的IP也是完全一样的，既五元组信息一致，难道是内核在处理这两个包时，误以为第二个包是超时重传的，所以丢弃了第二个
包？</p><p style="line-height: 1.75em; margin-bottom: 15px;">其实内核真正的目的是这样
的，如果第一个包被确认了并且五元组信息加入到了连接跟踪表中，第二个包进入时会查找连接跟踪表，因为已经有相同的五元组信息在连接跟踪表汇总，所以会查
找成功并根据匹配到的五元组信息进行无条件转发，所以不需要进入到_nf_conntrack_confirm进行再次确认；但是还有一种情况就是如果第
二个包进入时，第一个包还没有来得及被确认或者加入到连接跟踪表中，这时就会存在竞争，第二个包也会进入到_nf_conntrack_confirm进
行再次确认，根据之前分析，因为已经存在该连接跟踪记录，所以就产生了冲突，此时就会发生丢包。</p><h1 style="line-height: 1.75em; margin-bottom: 15px;"><span style="color: rgb(0, 122, 170); font-size: 18px;"><strong>解决方案</strong></span></h1><p style="line-height: 1.75em; margin-bottom: 15px;">如果对数据包不启用连接跟踪，DNS延时问题就会得到解决，一个临时的解决方案是添加防火墙规则对DNS的数据包不执行连接跟踪，规则内容如下：</p><p style="margin-bottom: 15px;"><span style="font-size: 14px;"># iptables -t raw -I PREROUTING -p udp -m udp --dport 53 -j CT –notrack</span></p><p style="margin-bottom: 15px;"><span style="font-size: 14px;"># iptables -t raw -I PREROUTING -p udp -m udp --sport 53 -j CT –notrack</span><br></p><p style="margin-bottom: 15px;">另外，还可以通过客户端的DNS配置来解决，在/etc/resolv.conf文件里增加"options single-request-reopen"选项，使得DNS的A和AAAA记录请求报文使用不同的源端口：</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/bicfpdxfewz.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.21875" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">以
上都是临时的解决方案，只解决了DNS请求延时的问题，如果在虚机中有某个应用通过多线程并发两个或多个udp请求包，第二个包也会有一定概率会被丢弃
的，其实内核netfilter社区很早就已经在尝试解决类似这种前后两个udp包竞争导致丢包的问题，其中最关键的补丁如下：<br style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal;">https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/commit/?id=71d8c47fc653711c41bc3282e5b0e605b3727956</p><p style="line-height: 1.75em; margin-bottom: 15px;"><img class="example-image" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/fhkbil32000.jpg" style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal; border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle;" data-ratio="0.484375" data-w="640" data-type="jpeg"></p><p style="line-height: 1.75em; margin-bottom: 15px;">但
是这个补丁在我们openstack集群环境下测试验证下来，还是有点问题的，在nat模块被加载的情况下它会导致第二个AAAA记录请求报文在被转发
时，源端口发生了变化，这样回来的包目的端口不就对了，DNS请求依然会超时，所以我们重新向netfilter社区提交了修复补丁，详情可以参考如下链
接：<br style="box-sizing: border-box; word-wrap: break-word; word-spacing: normal;">https://patchwork.ozlabs.org/patch/775645/</p><p style="line-height: 1.75em; margin-bottom: 15px;"><span style="color: rgb(136, 136, 136); font-size: 14px;">（本文作者佚名，版权归原作者所有）</span></p><p><br></p><blockquote style="white-space: normal;"><p style="margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 14px; color: rgb(136, 136, 136);">点击阅读原文，看更多OpenStack主题内容</span><br></p></blockquote><p style="white-space: normal;"><br></p><p style="font-size: 16px; white-space: normal; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); background-color: rgb(255, 255, 255); text-align: center; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 14px; color: rgb(136, 136, 136); box-sizing: border-box !important; word-wrap: break-word !important;">长按二维码关注公众号AIX专家俱乐部</span></p><p style="font-size: 16px; white-space: normal; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); background-color: rgb(255, 255, 255); text-align: center; box-sizing: border-box !important; word-wrap: break-word !important;"><img class="" data-ratio="0.39893617021276595" data-s="300,640" src="OpenStack%20%E4%BA%91%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8%E4%B8%A2%E5%8C%85%E9%97%AE%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-%E6%95%85%E9%9A%9C%E7%BD%91_files/djetzzwxmet.png" data-type="png" data-w="376" style="box-sizing: border-box !important; word-wrap: break-word !important; visibility: visible !important; width: auto !important;" width="auto"></p> 
</div>

                  <script type="text/javascript">article.count();</script>


                    <div class="context_bottom">
                        <p class="f14">
                            <span class="c9">« </span>上一篇：<a href="http://www.ai-dy.com/wangluoguzhang/201708/26707.html">网站速度问题：速度影响用户体验，亦关乎SEO搜索排名！</a> <br>
                            <span class="c9">» </span>下一篇：<a href="http://www.ai-dy.com/wangluoguzhang/201708/26714.html">【卓翔网络】六招处理服务器数据意外丢失问题</a> 
                        </p>
                        <div class="bdsharebuttonbox bshareDiv" data-tag="article-share">
                            <a title="分享到微信" href="#" class="bds_weixin" data-cmd="weixin"></a>
                            <a title="分享到新浪微博" href="#" class="bds_tsina" data-cmd="tsina"></a>
                            <a title="分享到QQ空间" href="#" class="bds_qzone" data-cmd="qzone"></a>
                            <a title="打印" href="#" class="bds_print" data-cmd="print"></a>
                            <a href="#" class="bds_more" data-cmd="more"></a>
                        </div>
                    </div>
<script type="text/javascript">
                    window._bd_share_config = {
                        common : {
                            bdText: 'OpenStack 云主机网络异常丢包问题深入解析()',
                            bdDesc: 'OpenStack 云主机网络异常丢包问题深入解析',
                            bdUrl: '',
                            bdPic: 'http://img2.37txt.cn/mmsns/icdBCpcEToIicNSicqib9WQA1cgd6wWdib1mbzF5HgTnrB3ML3Ihe6Juv6A/0',
                            onBeforeClick: function(cmd, config){
                                if (cmd == 'weixin')
                                {
                                    config.bdUrl = 'http://m.ai-dy.com/wangluoguzhang/201708/26711.html';
                                }
                                return config;
                            }
                        },
                        share: [
                            {tag:'share1', bdSnsKey: {}, bdMini: '2', bdMiniList: false, bdStyle: '1', bdSize: '32'},
                            {tag:'article-share', bdSnsKey: {}, bdMini: '2', bdMiniList: false, bdStyle: '1', bdSize: '32'}
                        ]
                    };
                    with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
                    </script>
                    <style type="text/css"></style>
                </div>
                
                <div class="box-warp mb30 float-fix page-mix">
<script type="text/javascript">neiye_di();</script>
                </div>


                <div class="box-warp clearfix">
                    <div class="box-hd">
                        <div class="title_h3">OpenStack 云主机网络异常丢包问题深入解析 [相关推荐]</div>
                        <div class="tags col_right" style="inline"></div>
                    </div>
                    <div class="box-bd">
                        <div class="main_row">
                            <ul class="list-item article-recommend">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pright">
                    <div class="box-warp list-top10 mb30 clearfix">
                    <div class="box-hd">
                        <div class="title_h3 blue_line">频道热点</div>
                    </div>
                    <div class="bd mt20">
                        <ol class="listtop ft14">
                                                 </ol>
                    </div>
                </div>
                <div class="mm-sm336280 mb30">
                <script type="text/javascript">you3001();</script>
                </div>
                <div class="box-warp mb30 clearfix">
                    <div class="box-hd">
                        <div class="title_h3 blue_line">最新图文</div>
                        <span class="more"></span>
                    </div>
                    <div class="box-bd">
                        <div class="list-img">
                            <ol>
                          
                                                         </ol>
                        </div>
                    </div>
                </div>
                <div class="box-warp mb30 clearfix">
                    <div class="box-hd">
                        <div class="title_h3 blue_line">频道推荐</div><span class="more"><a href="http://www.ai-dy.com/wangluoguzhang/">更多</a></span></div>
                    <div class="box-bd">
                        <ul class="list-item">
                        </ul>
                    </div>
                </div>
                
                <div id="sidebar-follow" data-distancetotop="50" style="position: fixed; top: 50px;" class="fixed">
                    <div class="mm-sm336280 mb30">
                <script type="text/javascript">you3002();</script>
                </div>
                </div>
            </div>
        </div>

<script type="text/javascript">$('img.delay').lazyload({effect: 'show'})</script>
<!-- <script type="text/javascript">loadFloatAd('couplet');</script> -->
<!-- <script type="text/javascript">loadFloatAd('lowerRight');</script> -->
<script type="text/javascript">loadFloatAd('lowerLeft');</script>
<!-- <script type="text/javascript">loadFloatAd('top');</script> -->
<div class="footer mt30 clear">
    <div class="footer_copyright">
        <div class="footer_copyright_inner">
            <div class="company-copy float-fix">
                <span class="left">Copyright  2017 , All rights reserved 如需投稿/删帖，请联系3113203565@qq.com</span>
                <span class="right"><a href="http://www.miitbeian.gov.cn/" target="_blank" rel="nofollow">沪ICP备11033414号-1</a>  </span>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">duilian();</script>
<script type="text/javascript">youpiao();</script>
<script type="text/javascript">tujia();</script>

</body></html>