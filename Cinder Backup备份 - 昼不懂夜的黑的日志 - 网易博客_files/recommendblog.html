<!DOCTYPE html>
<!-- saved from url=(0060)http://www.lofter.com/recommendblog?email=tanglei528@163.com -->
<html lang="zh"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LOFTER（乐乎） - 让兴趣，更有趣</title>
  <meta name="keywords" content="图片社交、照片社交、摄影作品、手机摄影、同人文、平面设计、cosplay、达人、女神图片、时尚搭配、二次元">

<meta http-equiv="x-ua-compatible" content="ie=emulateie7">
<meta name="author" content="netease">
<meta name="version" content="1.0">
<meta name="keywords" content="图片社交、照片社交、摄影作品、手机摄影、同人文、平面设计、cosplay、达人、女神图片、时尚搭配、二次元">
<meta name="description" content="">

  <script type="text/javascript">
   (function(window,document){
        
        document.uniqueID!=document.uniqueID&&!!location.hash&&(location.hash=location.hash);
        window.focus();
    })(this,document);
  </script>
<style type="text/css">
html,body{font-family:"Hiragino Sans GB","Microsoft YaHei","微软雅黑",tahoma,arial,simsun,"宋体";text-align:left;font-size:12px;line-height:normal;background-color:transparent;}
*{margin:0;padding:0;}
li{list-style:none;}
a{color:#666;text-decoration:none;}
img{border:0 none;}

.m-iframepostlist .type{background:url(/rsc/img/icon24.png?036) no-repeat 999px 999px;_background:url(/rsc/img/icon.png?036) no-repeat 999px 999px;}
.m-iframepostlist .first{background:url(/rsc/img/addinbanenr.png?003) no-repeat;}

.m-iframepostlist{height:125px;margin-right:-5px;}
.m-iframepostlist li{position:relative;float:left;width:125px;height:125px;margin:0 5px 10px 0;overflow:hidden;background:#ddd;}
.m-iframepostlist a{height:100%;}
.m-iframepostlist a,.m-iframepostlist img,.m-iframepostlist span,.m-iframepostlist strong{display:block;}
.m-iframepostlist .txt{padding:10px 10px 0;}
.m-iframepostlist .txt strong{max-height:42px;_height:21px;margin:0 0 8px;overflow:hidden;font-size:16px;}
.m-iframepostlist .txt span{max-height:69px;overflow:hidden;line-height:23px;}
.m-iframepostlist .type{position:absolute;top:50%;left:50%;width:57px;height:57px;margin:-28px 0 0 -28px;_width:52px;_height:52px;_margin:-26px 0 0 -26px;filter:alpha(opacity=90);}
.m-iframepostlist .movie .type{background-position:0 -2180px;*background-position:0 -2300px;}
.m-iframepostlist .music .type{background-position:0 -2240px;*background-position:0 -2358px;}
.m-iframepostlist .first{text-indent:-999px;overflow:hidden;}
.m-iframepostlist .first-1{background-position:0 0;}
.m-iframepostlist .first-2{background-position:-131px 0;}
.m-iframepostlist .first-3{background-position:-262px 0;}
.m-iframepostlist .first-4{background-position:-393px 0;}
.m-iframepostlist .first-5{background-position:-524px 0;}

.m-iframepostlist .imgwrap{position:absolute;top:50%;}
.m-iframepostlist .imgwrap img{width:125px;}
.m-iframepostlist .imgwrap2{position:relative;}
.m-iframepostlist .firstimg{visibility:hidden;}
.m-iframepostlist .lastimg{position:absolute;top:-50%;}

/*  LOFTER-19450:博客更多文章模块样式更换  */
.m-iframepostlist .blogfirst{text-indent:-999px;overflow:hidden;background:url(/rsc/img/blogfirst.png?003) 0 0 no-repeat;}
</style>
</head>

<body>

<div class="m-iframepostlist">
	<ul class="list" id="ullist">
		<li class="blogfirst" id="joinLink">
			<a target="_blank" id="joinLofterLink" href="http://www.lofter.com/?act=qbpersonalpagelogin_20141014_01">加入LOFTER</a>
		</li>
	<li class="text"><a href="http://tanglei528.lofter.com/post/15a07c_5bc23cf" target="_blank"><span class="txt"><strong>linux 分区</strong><span> 先介绍2种分区表：MBR分区表：（MBR含义：主引导记录）所支持的最大卷：2T （T; terabytes,1TB=1024GB）对分区的设限：最多4个主分区或3个主分区加一个扩展分区。GPT分区表：（GPT含义：GUID分区表）支持最大卷：18EB，（E：exabytes,1EB=1024TB）每个磁盘最多支持128个分区使用 parted 建立大小超过2T的分区1，parted /dev/sdb可以输入p打印磁盘信息，查看分区的情况，找到起始和结束位置。2，mklabel gpt设置分区类型为gpt3，mkpart ...</span></span></a></li><li class="text"><a href="http://tanglei528.lofter.com/post/15a07c_62146f0" target="_blank"><span class="txt"><strong>test</strong><span>虚拟机扩容文档 1、查看新挂载的硬盘 # fdisk -l 2、通过fdisk命令对新挂载磁盘创建分区（本例中为/dev/sdb) # fdisk /dev/sdb 输入n: 键入p: 键入w保存。 fdisk -l查看新建分区: 3.通过pvs查看存在pv： 4.创建pv: 5.查看vg: 6.创建vg.(也可以扩大原有vg） 创建vg：vgcreate vg_data /dev/sdb1 扩大原有vg：vgextend cinder-volumes /dev/sdb1 7.查看创建后（扩大后）的vg： 8.查看...</span></span></a></li><li class="text"><a href="http://tanglei528.lofter.com/post/15a07c_5f913a7" target="_blank"><span class="txt"><strong>jenkins 任务创建与配置</strong><span>创建Jenkins --- 新建 输入名称，然后选择 ‘构建一个自由风格的软件项目’ 点击 Ok 配置在任务列表页面，点击任务名称右下角，选择 配置，在展开的页面执行填写如下信息： 源码管理 选项， 选择 git Repository URL ： 填写 gerrit的项目路径 ##eg：ssh://jenkins@192.168.0.17:29418/demo/demo Credentials : 选择URL里的帐号认证信息(点击 添加 按钮，创建URL里用户的帐号信息 ) 在高级选项里 ： name ： remote 名称 eg: gerrit Refspec ： refs/changes...</span></span></a></li><li class="text"><a href="http://tanglei528.lofter.com/post/15a07c_5f8f922" target="_blank"><span class="txt"><strong>Gerrit nginx 反向代理</strong><span>server {listen 8080;server_name localhost;#charset koi8-r; #access_log /var/log/nginx/log/host.access.log main;location / { auth_basic Gerrit2 Code Review; auth_basic_user_file /home/gerrit2/review-site/etc/gerrit.password; proxy_pass http://192.168.0.17:8081/; proxy_set_header...</span></span></a></li><li class="text"><a href="http://tanglei528.lofter.com/post/15a07c_40cfbdc" target="_blank"><span class="txt"><strong>jenkins 配置</strong><span>默认位置：cd /var/lib/jenkins 修改jenkins默认启动端口：vim /etc/sysconfig/jenkins 2. 用户注册设置 系统管理——》 Configure Global Security 勾选 ‘启用安全’ ，安全域里，把Jenkins专有用户数据库 和 允许用户注册 选中 ，然后保存即可 3. 添加权限系统管理——》 Configure Global Security 在授权策略里，勾选安全矩阵，把自己添加进去，把所有权限勾选上，确保有一个账户能访问所有，不然最终无法进入系统</span></span></a></li></ul>
</div>


<script>
var _postAry = [], _showPostAry = [], _post, _linode, _classname = ['text','img','music','movie'], _texthtml, _blogLink='http://tanglei528.lofter.com/';
_postAry.push({type:1, permalink:'15a07c_6d83aa6',imgurl:'', title:'nova policy 调用流程', content:'以nova举例nova/nova/compute/api.py def check_policy(context, action, target, scope=\'compute\'): _action = \'%s:%s\' % (scope, action) ##eg: scope=compute, action=update nova.policy.enforce(context, _action, target) 从horizon调nova的api， 到该文件:nova/nova/api/openstack/compute/servers.py 所有的policy.enforce...', noticeLinkTitle:'nova policy 调用流...'});
_postAry.push({type:1, permalink:'15a07c_5f82d58',imgurl:'', title:'Icehouse网络配置-VLAN', content:'[ml2] type_drivers = vlan tenant_network_types = vlan mechanism_drivers =openvswitch [ml2_type_vlan] network_vlan_ranges = physnet1:100:200 [ovs] network_vlan_ranges = physnet1:100:200 integration_bridge = br-int bridge_mappings = physnet1:br-em2 交换机配置（H3C）：display current-configuration sys vlan 100...', noticeLinkTitle:'Icehouse网络配置-VL...'});
_postAry.push({type:1, permalink:'15a07c_40cfbdc',imgurl:'', title:'jenkins 配置', content:'默认位置：cd /var/lib/jenkins 修改jenkins默认启动端口：vim /etc/sysconfig/jenkins 2. 用户注册设置 系统管理——》 Configure Global Security 勾选 ‘启用安全’ ，安全域里，把Jenkins专有用户数据库 和 允许用户注册 选中 ，然后保存即可 3. 添加权限系统管理——》 Configure Global Security 在授权策略里，勾选安全矩阵，把自己添加进去，把所有权限勾选上，确保有一个账户能访问所有，不然最终无法进入系统', noticeLinkTitle:'jenkins 配置'});
_postAry.push({type:1, permalink:'15a07c_60594ae',imgurl:'', title:'nova创建实例拷贝镜像', content:'nova/compute/api.py: 行126： CONF.import_opt(\'default_ephemeral_format\', \'nova.virt.driver\') ##注入模块：nova/virt/driver.py 行924： def _create_instance(self, context, instance_type, image_href, kernel_id, ramdisk_id, min_count, max_count, display_name, display_description, key_name, key_data, security_groups...', noticeLinkTitle:'nova创建实例拷贝镜像'});
_postAry.push({type:1, permalink:'15a07c_5f913a7',imgurl:'', title:'jenkins 任务创建与配置', content:'创建Jenkins --- 新建 输入名称，然后选择 ‘构建一个自由风格的软件项目’ 点击 Ok 配置在任务列表页面，点击任务名称右下角，选择 配置，在展开的页面执行填写如下信息： 源码管理 选项， 选择 git Repository URL ： 填写 gerrit的项目路径 ##eg：ssh://jenkins@192.168.0.17:29418/demo/demo Credentials : 选择URL里的帐号认证信息(点击 添加 按钮，创建URL里用户的帐号信息 ) 在高级选项里 ： name ： remote 名称 eg: gerrit Refspec ： refs/changes...', noticeLinkTitle:'jenkins 任务创建与配置'});
_postAry.push({type:1, permalink:'15a07c_62146f0',imgurl:'', title:'test', content:'虚拟机扩容文档 1、查看新挂载的硬盘 # fdisk -l 2、通过fdisk命令对新挂载磁盘创建分区（本例中为/dev/sdb) # fdisk /dev/sdb 输入n: 键入p: 键入w保存。 fdisk -l查看新建分区: 3.通过pvs查看存在pv： 4.创建pv: 5.查看vg: 6.创建vg.(也可以扩大原有vg） 创建vg：vgcreate vg_data /dev/sdb1 扩大原有vg：vgextend cinder-volumes /dev/sdb1 7.查看创建后（扩大后）的vg： 8.查看...', noticeLinkTitle:'test'});
_postAry.push({type:1, permalink:'15a07c_5f8f922',imgurl:'', title:'Gerrit nginx 反向代理', content:'server {listen 8080;server_name localhost;#charset koi8-r; #access_log /var/log/nginx/log/host.access.log main;location / { auth_basic Gerrit2 Code Review; auth_basic_user_file /home/gerrit2/review-site/etc/gerrit.password; proxy_pass http://192.168.0.17:8081/; proxy_set_header...', noticeLinkTitle:'Gerrit nginx 反向...'});
_postAry.push({type:1, permalink:'15a07c_5bc23cf',imgurl:'', title:'linux 分区', content:' 先介绍2种分区表：MBR分区表：（MBR含义：主引导记录）所支持的最大卷：2T （T; terabytes,1TB=1024GB）对分区的设限：最多4个主分区或3个主分区加一个扩展分区。GPT分区表：（GPT含义：GUID分区表）支持最大卷：18EB，（E：exabytes,1EB=1024TB）每个磁盘最多支持128个分区使用 parted 建立大小超过2T的分区1，parted /dev/sdb可以输入p打印磁盘信息，查看分区的情况，找到起始和结束位置。2，mklabel gpt设置分区类型为gpt3，mkpart ...', noticeLinkTitle:'linux 分区'});
_postAry.push({type:1, permalink:'15a07c_5fd3c35',imgurl:'', title:'创建本地yum源', content:'安装httpdyum install -y httpd 配置httpd根据要创建的yum源用途，创建必要的目录，一般按照 软件名称/版本/架构/发行版 来命名 mkdir -p /var/www/html/repos/openstack/havana/x86_64/epel-6/ vi /etc/httpd/conf.d/repos.confDirectory /reposOptions Indexes FollowSymLinksOrder allow,denyAllow from all/Directory 准备rpm软件包...', noticeLinkTitle:'创建本地yum源'});
_postAry.push({type:1, permalink:'15a07c_5fd3c29',imgurl:'', title:'Puppet安装过程出现的问题', content:'1. puppet认证通过之后Warning: Unable to fetch my node definition, but the agent run will continue: Warning: SSL_connect returned=1 errno=0 state=SSLv3 read server session ticket A: sslv3 alert bad certificate Info: Retrieving pluginfacts Error: /File[/var/lib/puppet/facts.d]: Failed to generate additional...', noticeLinkTitle:'Puppet安装过程出现的问题'});

if(_postAry.length >5) {
for(var i=0;i<5;i++) {
var _length = _postAry.length, _index = Math.floor(Math.random()*_length);
_showPostAry.push(_postAry[_index]);
_postAry.splice(_index,1);
}
} else {
_showPostAry = _postAry;
}

for(var i=0,l=_showPostAry.length; i<l; i++) {
_post = _showPostAry[i];
_type = _post.type;
_linode = document.createElement('li');
_linode.className = _classname[_post.type-1];
_anode = document.createElement('a');
_anode.href = _blogLink+'post/'+_post.permalink;
_anode.target = '_blank';
_anode.onclick = function(){
try{
var _img = new Image();
_img.src = 'http://www.lofter.com/statistic.png?act=qbbkgdwz_20141022_01&t=' + new Date().getTime();
}catch(e){}
};

if(_type === 1) {
_texthtml = '<span class="txt"><strong>'+ _post.title +'</strong><span>'+ _post.content +'</span></span>'
} else {
if(!!_post.imgurl) {
if(_type === 2) {
_texthtml = '<span class="imgwrap"><span class="imgwrap2"><img class="firstimg" src="'+_post.imgurl+'" alt="'+_post.noticeLinkTitle+'"/><img class="lastimg" src="'+_post.imgurl+'" alt="'+_post.noticeLinkTitle+'"/></span></span>';
} else if(_type === 3) {
_texthtml = '<span class="imgwrap"><span class="imgwrap2"><img class="firstimg" src="http://imgsize.ph.126.net/?imgurl='+_post.imgurl+'_125x125x0.jpg"/><img class="lastimg" src="http://imgsize.ph.126.net/?imgurl='+_post.imgurl+'_125x125x0.jpg"/></span></span>';
} else if(_type === 4) {
_texthtml = '<span class="imgwrap"><span class="imgwrap2"><img class="firstimg" src="'+_post.imgurl+'"/><img class="lastimg" src="'+_post.imgurl+'"/></span></span>';
}
}
_texthtml += '<span class="type"></span>';
}

_anode.innerHTML = _texthtml;
_linode.appendChild(_anode);
document.getElementById('ullist').appendChild(_linode);
}
</script>


</body></html>