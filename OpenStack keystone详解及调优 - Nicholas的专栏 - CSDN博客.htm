<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
        <link rel="canonical" href="http://blog.csdn.net/zhongbeida_xue/article/details/78654676">

            <meta http-equiv="Cache-Control" content="no-siteapp">
            <link rel="alternate" media="handheld" href="#">

            <meta name="shenma-site-verification" content="5a59773ab8077d4a62bf469ab966a63b_1497598848">

            <title>OpenStack keystone详解及调优 - Nicholas的专栏 - CSDN博客</title>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
            <meta name="description" content="Keystone基本概念介绍UserUser即用户，他们代表可以通过keystone进行访问的人或程序。Users通过认证信息（credentials，如密码、API Keys等）进行验证。TenantTenant即租户，它是各个服务中的一些可以访问的资源集合。例如，在Nova中一个tenant可以是一些机器，在Swift和Glance中一个tenant可以是一些镜">

            <meta name="keywords" content="">
            <script type="text/javascript" async="" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/pr.js"></script><script src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/hm.txt"></script><script type="text/javascript" async="" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/hbfjfdw.js"></script><script src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/blog_static_head.js" type="text/javascript"></script>


        <link rel="Stylesheet" type="text/css" href="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/style.css">

            

            <link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="http://blog.csdn.net/zhongbeida_xue/rss/list">
            <link rel="shortcut icon" href="http://c.csdnimg.cn/public/favicon.ico">
            <link type="text/css" rel="stylesheet" href="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/default.css">



            <link href="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/csdn_public_blog_detail.css" type="text/css" rel="stylesheet">

        <link rel="stylesheet" href="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/csdn_blog_detail.css">

            <!-- 请置于所有广告位代码之前 -->
            <script src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/ds.js"></script>

        <style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style></head><script type="text/javascript" id="useragent-switcher">navigator.__defineGetter__("userAgent", function() {return "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.3.5 (KHTML, like Gecko) Version/11.0.1 Safari/604.3.5"})</script>


<body><div id="MathJax_Message" style="display: none;"></div><div id="BAIDU_DUP_fp_wrapper" style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;"><iframe id="BAIDU_DUP_fp_iframe" src="https://pos.baidu.com/wh/o.htm?ltr=" style="width: 0px; height: 0px; visibility: hidden; display: none;"></iframe></div><svg aria-hidden="true" style="position: absolute; width: 0px; height: 0px; overflow: hidden;"><symbol id="icon-xiajiantou" viewBox="0 0 1024 1024"><path d="M328.208 346.062h368.494c20.393 0 36.887 16.366 36.887 36.757 0 9.484-3.637 18.056-9.483 24.55L541.873 650.522c-12.211 16.105-35.2 19.484-51.438 7.275-2.859-2.08-5.324-4.547-7.274-7.275L298.853 404.772c-12.08-16.106-8.83-39.225 7.404-51.306 6.626-5.066 14.289-7.404 21.95-7.404z"></path></symbol><symbol id="icon-shouji" viewBox="0 0 1024 1024"><path d="M537.754 795.889c-26.41 0-47.893 21.478-47.893 47.892s21.484 47.893 47.893 47.893 47.892-21.479 47.892-47.893-21.483-47.892-47.892-47.892z"></path><path d="M774.697 42.071H300.815c-39.864 0-72.3 32.43-72.3 72.3v795.264c0 39.869 32.43 72.3 72.3 72.3h473.872c39.87 0 72.3-32.431 72.3-72.3v-795.27c0.004-39.864-32.426-72.294-72.29-72.294zM300.815 90.266h473.872a24.125 24.125 0 0 1 24.1 24.1v595.809H276.72v-595.81a24.125 24.125 0 0 1 24.094-24.1z m473.882 843.463H300.815a24.125 24.125 0 0 1-24.1-24.1V762.501h522.072V909.63a24.115 24.115 0 0 1-24.09 24.1z"></path></symbol><symbol id="icon-tianxie" viewBox="0 0 1024 1024"><path d="M121.905 780.19h780.19v97.524h-780.19V780.19zM823.296 298.496l-68.974-68.974-344.795 344.796-34.475 103.448 103.424-34.475zM875.008 246.76l17.237-17.238-68.949-68.949-17.262 17.237-17.237 17.238 68.974 68.973z"></path></symbol><symbol id="icon-sousuo" viewBox="0 0 1024 1024"><path d="M1023.972002 964.002812l-59.981188 59.981189-271.443276-271.459276c-166.600191 136.489602-412.812649 126.986048-568.309361-28.494664-165.624236-165.624236-165.624236-434.187647 0-599.859881 165.624236-165.592238 434.187647-165.592238 599.827883 0 155.52871 155.52871 164.984266 401.789166 28.462666 568.389356L1023.972002 964.002812zM663.364906 184.007375c-132.585785-132.585785-347.327719-132.761777-479.705514-0.43198-132.329797 132.345796-132.121807 347.119729 0.463978 479.705514s347.375717 132.793775 479.705514 0.41598c132.329797-132.281799 132.169805-347.10373-0.463978-479.689514z"></path></symbol><symbol id="icon-guanbi" viewBox="0 0 1024 1024"><path d="M1002.211316 933.90818c24.46369 24.46369 29.007633 59.583246 10.159871 78.447007-18.863761 18.863761-53.983317 14.303819-78.447007-10.159871L21.807724 90.09486C-2.655966 65.631169-7.199909 30.495614 11.647853 11.647853c18.863761-18.863761 53.983317-14.303819 78.447007 10.159871L1002.211316 933.90818z"></path><path d="M933.92418 21.807724C958.38787-2.655966 993.507426-7.199909 1012.371187 11.647853c18.863761 18.863761 14.303819 53.983317-10.159871 78.447007L90.09486 1002.211316c-24.46369 24.46369-59.583246 29.007633-78.447007 10.159871-18.847761-18.863761-14.303819-53.983317 10.159871-78.463007L933.92418 21.807724z"></path></symbol><symbol id="icon-caidan" viewBox="0 0 1024 1024"><path d="M0 132.8a48.496 48.496 0 0 0 48.496 48.496h927.008a48.496 48.496 0 1 0 0-96.992H48.496A48.496 48.496 0 0 0 0 132.8s0-26.784 0 0zM0 512.016a48.48 48.48 0 0 0 48.48 48.48h927.04a48.48 48.48 0 0 0 0-96.96H48.48A48.48 48.48 0 0 0 0 512.016s0-26.784 0 0zM0 891.2a48.496 48.496 0 0 0 48.496 48.496h927.008a48.496 48.496 0 1 0 0-96.992H48.496A48.496 48.496 0 0 0 0 891.2s0-26.784 0 0z"></path></symbol><symbol id="icon-yonghudenglu" viewBox="0 0 1024 1024"><path d="M1022.26704 962.432c-43.888-157.584-162.16-281.216-312.064-340.144 92.8-61.376 153.92-164.496 153.92-281.168C864.12304 153.04 706.04304 0 511.70704 0 317.35504 0 159.19504 153.04 159.19504 341.136c0 116.704 61.152 219.84 154.064 281.184C164.13904 681.024 46.18704 803.792 1.80304 960.16c-7.344 26.016 8.464 52.864 35.36 60.032a52.016 52.016 0 0 0 38.4-4.608 49.072 49.072 0 0 0 23.712-29.568c50.768-178.96 220.352-303.92 412.448-303.92 193.04 0 362.848 125.712 412.944 305.744 7.296 26.048 34.992 41.456 61.952 34.48 26.912-7.04 42.88-33.824 35.648-59.888zM260.25104 341.136c0-134.256 112.816-243.424 251.472-243.424 138.576 0 251.328 109.184 251.328 243.424 0 133.904-112.768 242.864-251.328 242.864-138.672 0-251.472-108.976-251.472-242.864z m0 0"></path></symbol><symbol id="toolbar-csdnlogo" viewBox="0 0 1024 1024"><path d="M533.941333 419.264c14.709333-1.621333 37.290667-3.264 68.352-3.264 51.872 0 93.802667 9.152 119.776 28.416 23.338667 17.952 38.858667 47.008 34.56 89.130667-3.978667 39.189333-24.042667 66.634667-53.312 83.594666C676.544 633.152 642.837333 640 592.106667 640c-29.888 0-58.421333-1.642667-80.106667-4.896l21.941333-215.84z m42.869334 172.938667c4.981333 0.992 11.562667 1.973333 24.533333 1.973333 51.882667 0 88.469333-25.877333 92.16-62.24 5.333333-52.554667-27.125333-70.944-81.802667-70.624-7.072 0-16.917333 0-22.133333 0.970667L576.8 592.213333h0.010667z m223.498666-164.704c210.954667-39.872 229.162667 31.776 222.645334 95.189333L1010.656 640h-66.944l11.210667-106.986667c2.421333-23.562667 17.504-69.653333-55.338667-67.914666-25.184 0.608-37.706667 4.064-37.706667 4.064s-2.186667 28.469333-4.832 49.514666L844.32 640H778.666667l13.024-119.573333" fill="#231916"></path><path d="M226.634667 632.682667c-12.373333 4.341333-38.037333 7.317333-73.909334 7.317333C49.6 640-6.048 590.933333 0.522667 526.090667 8.416 448.810667 90.858667 405.333333 181.141333 405.333333c34.976 0 55.552 2.858667 74.858667 7.637334l-6.208 52.064c-12.821333-4.384-42.890667-8.405333-67.232-8.405334-53.141333 0-98.250667 16.042667-103.424 66.762667-4.608 45.354667 27.061333 67.04 86.816 67.04 20.8 0 51.477333-3.018667 65.653333-7.370667l-4.992 49.6 0.021334 0.021334z" fill="#C92027"></path><path d="M272.714667 580.021333c19.285333 6.762667 59.488 13.504 92 13.504 35.029333 0 54.528-9.333333 56.096-23.797333 1.418667-13.205333-12.928-14.986667-52.490667-24.010667-54.666667-12.896-89.546667-32.842667-86.133333-64.704C286.176 443.989333 337.685333 416 416.725333 416c38.56 0 75.914667 2.613333 95.274667 8.714667l-6.656 46.666666c-12.565333-4.202667-60.672-10.037333-93.205333-10.037333-32.992 0-50.069333 9.973333-51.253334 20.917333-1.493333 13.845333 15.658667 14.485333 58.528 25.450667 58.026667 14.154667 83.402667 34.090667 80.085334 64.992C495.605333 609.109333 449.258667 640 356.714667 640c-38.528 0-71.744-6.762667-90.048-13.525333l6.048-46.453334z" fill="#231916"></path></symbol><symbol id="icon-morentouxiang" viewBox="0 0 1024 1024"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#A0C3FF"></path><path d="M691.2 887.466667c-55.466667-25.6-123.733333-51.2-123.733333-51.2v-38.4c68.266667-25.6 119.466667-89.6 132.266666-166.4 12.8-4.266667 38.4-17.066667 46.933334-55.466667l8.533333-46.933333s4.266667-59.733333-42.666667-46.933334c4.266667-38.4 4.266667-81.066667 4.266667-115.2-4.266667-64-89.6-98.133333-89.6-98.133333l12.8-17.066667s-42.666667-12.8-59.733333-4.266666l12.8-29.866667s-85.333333 0-132.266667 38.4h-4.266667v-17.066667s-145.066667 21.333333-140.8 243.2c-46.933333-12.8-42.666667 46.933333-42.666666 46.933334l8.533333 46.933333c4.266667 38.4 29.866667 51.2 46.933333 55.466667 12.8 81.066667 64 145.066667 132.266667 166.4v38.4s-68.266667 29.866667-123.733333 51.2c-29.866667 12.8-59.733333 34.133333-81.066667 59.733333 68.266667 51.2 157.866667 76.8 256 76.8s187.733333-25.6 264.533333-72.533333c-21.333333-29.866667-51.2-46.933333-85.333333-64z" fill="#4374E0"></path></symbol><symbol id="icon-icon_boke" viewBox="0 0 1024 1024"><path d="M512 1024C229.248 1024 0 794.752 0 512S229.248 0 512 0s512 229.248 512 512-229.248 512-512 512z m298.667-256H213.333v42.667h597.334V768z m-21.334-448L704 234.667 341.333 597.333l-42.666 128 128-42.666L789.333 320z"></path></symbol><symbol id="icon-icon_gitchatx" viewBox="0 0 1024 1024"><path d="M810.667 533.333v-64h-384v85.334h298.666v128h85.334V533.333zM256 810.667h426.667v-85.334h-384V298.667h426.666V384h85.334V213.333H213.333v597.334H256zM512 1024C229.248 1024 0 794.752 0 512S229.248 0 512 0s512 229.248 512 512-229.248 512-512 512z m213.333-298.667v85.334h85.334v-85.334h-85.334z"></path></symbol><symbol id="icon-guanbi1" viewBox="0 0 1024 1024"><path d="M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m160-768L512 416 352 256l-96 96 160 160-160 160 96 96 160-160 160 160 96-96-160-160 160-160-96-96z"></path></symbol></svg><div class="csdn-toolbar csdn-toolbar tb_disnone ">        <div class="container row center-block ">          <ul class="pull-left left-menu clearfix">            <li class="toolbarlogo">              <a href="http://www.csdn.net/" title="CSDN首页" target="_blank">                <img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/yearlogo.png">              </a>            </li>            <li><a href="http://blog.csdn.net/" class="toolbar_to_feed" title="博客" target="_blank">博客</a></li>            <li><a href="http://edu.csdn.net/" title="学院" target="_blank">学院</a></li>            <li><a href="http://download.csdn.net/" title="下载" target="_blank">下载</a></li>            <li><a href="http://gitbook.cn/?ref=csdn" title="GitChat" target="_blank">GitChat</a></li>            <li class="tb_is1090hide"><a href="http://bbs.csdn.net/" title="论坛" target="_blank">论坛</a></li>            <li class="tb_is1150hide"><a href="http://ask.csdn.net/" title="问答" target="_blank">问答</a></li>            <li class="tb_is1210hide"><a href="http://mall.csdn.net/" title="商城" target="_blank">商城</a></li>            <li class="tb_is1270hide"><a href="http://geek.csdn.net/" title="极客头条" target="_blank">头条</a></li>            <li class="tb_is1330hide"><a href="http://huiyi.csdn.net/" title="活动" target="_blank">活动</a></li>            <li class="tb_is1400hide"><a href="http://job.csdn.net/" title="招聘" target="_blank">招聘</a></li>            <li class="tb_is1452hide"><a href="http://www.iteye.com/" title="ITeye" target="_blank">ITeye</a></li>            <li class="tb_is1513hide"><a href="http://www.gitee.com/" title="码云" target="_blank">码云</a></li>            <li class="tb_is1513hide"><a href="http://www.csto.com/" title="CSTO" target="_blank">CSTO</a></li>            <li class="show-more">            <a href="javascript:;" class="show-more-a"><svg width="22" height="4" xmlns="http://www.w3.org/2000/svg"><path d="M2 4a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm9 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm9 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill="#fff" fill-rule="evenodd"></path></svg></a>              <div class="more">                <div class="tb_is1090show"><a href="http://bbs.csdn.net/" target="_blank">论坛</a></div>                <div class="tb_is1150show"><a href="http://ask.csdn.net/" target="_blank">问答</a></div>                <div class="tb_is1210show"><a href="http://mall.csdn.net/" target="_blank">商城</a></div>                <div class="tb_is1270show"><a href="http://geek.csdn.net/" target="_blank">极客头条</a></div>                <div class="tb_is1330show"><a href="http://huiyi.csdn.net/" target="_blank">活动</a></div>                <div class="tb_is1400show"><a href="http://job.csdn.net/" target="_blank">招聘</a></div>                <div class="tb_is1452show"><a href="http://www.iteye.com/" target="_blank">ITeye</a></div>                <div class="tb_is1513show"><a href="http://www.gitee.com/" target="_blank">码云</a></div>                <div class="tb_is1513show"><a href="http://www.csto.com/" target="_blank">CSTO</a></div>              </div>            </li>          </ul>          <div class="pull-right login-wrap unlogin">            <ul class="btns">            <li class="toolbar-tracking csdn-tracking-statistics tracking-click" data-mod="popu_369"><a href="#" style="padding:0" target="_blank"></a></li>              <li>                <div class="search_bar csdn-tracking-statistics tracking-click" data-mod="popu_366">                  <input class="input_search" name="" type="text">                  <a href="http://so.csdn.net/so/" target="_blank" class="btn-nobg-noborder btn-search"><i class="iconfont-toolbar toolbar-sousuo"></i></a>                </div>              </li>              <li class="write-bolg-btn csdn-tracking-statistics tracking-click" data-mod="popu_370"><a class="" href="http://mp.blog.csdn.net/postedit" target="_blank"><i class="iconfont-toolbar toolbar-icon_boke"></i><span>写博客</span></a></li>              <li class="gitChat"><a class="" href="http://gitbook.cn/new/gitchat/activity?utm_source=csdnblog1" target="_blank"><i class="iconfont-toolbar toolbar-icon_gitchatx"></i><span>发Chat</span></a></li>              <li class="userinfo"><a href="https://passport.csdn.net/account/login">登录</a><span></span><a href="https://passport.csdn.net/account/mobileregister?action=mobileRegister">注册</a></li>              <li class="userLogin">                <div class="loginCenter"><a href="http://my.csdn.net/" target="_blank"><img class="login_img" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/100x100.jpg"><div class="toolbar-circle"></div></a></div>                <div class="userControl">                  <div><a href="http://blog.csdn.net/" target="_blank">我的博客</a></div>                  <div><a class="xiaoxi" href="http://msg.csdn.net/" target="_blank">消息<span class="toolbar-newsL">(3)</span></a></div>                  <div><a href="http://my.csdn.net/my/account/changepwd" target="_blank">设置</a></div>                  <div><a href="http://bbs.csdn.net/forums/Service" target="_blank">反馈</a></div>                  <div><a href="http://oldblog.csdn.net/home/help.html" target="_blank">帮助</a></div>                  <div><a href="http://passport.csdn.net/account/logout">退出</a></div>                </div>              </li>            </ul>          </div>        </div>    </div><script class="toolbar-s" type="text/javascript" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/iconfont.js"></script>
        <div class="csdn-tracking-statistics" data-pid="blog" data-view="true" data-mod="ad_popu_72" data-mtp="62" data-order="40" data-con="ad_content_2072">
            <script id="popuLayer_js_q" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/popuLayer.js" defer="defer" type="text/javascript"></script>
            <div id="layerd" style="position: fixed;bottom:0px;right:0px;line-height:0px;z-index:1000">
                <div class="J_close layer_close" style="display:;background-color:#efefef;padding:0px;color:#333;font:12px/24px Helvetica,Tahoma,Arial,sans-serif;text-align:right;">关闭</div><!-- 广告占位容器 -->
                <div id="cpro_u2895327">
                    <!-- 投放代码 -->
                            <div><iframe scrolling="no" src="http://pos.baidu.com/s?hei=250&amp;wid=300&amp;di=u2895327&amp;ltu=http%3A%2F%2Fblog.csdn.net%2Fzhongbeida_xue%2Farticle%2Fdetails%2F78654676&amp;exps=111000&amp;pss=1903x16035&amp;cmi=2&amp;cec=UTF-8&amp;dtm=HTML_POST&amp;pis=-1x-1&amp;cfv=28&amp;ltr=https%3A%2F%2Fwww.baidu.com%2Flink%3Furl%3D6DEyhVYpEg4ecjABaiwz8VamaKiK3Wb60uEbRUGb71GcpJa52wasT45OFY9N7w4rR7xwRjBnuFsR0-U1fkjNHC1XrYM79qo-IsnM0nlcvIq%26wd%3D%26eqid%3Da616d69600037ba3000000055a7bdfb4&amp;col=zh-CN&amp;cpl=1&amp;ari=2&amp;ant=0&amp;tcn=1518067743&amp;dai=3&amp;dc=3&amp;dri=0&amp;chi=1&amp;cja=false&amp;cdo=-1&amp;ps=966x1879&amp;cce=true&amp;ti=OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2&amp;tlm=1518067743&amp;drs=1&amp;ccd=24&amp;pcs=1903x966&amp;tpr=1518067743381&amp;dis=0&amp;psr=1920x1080&amp;par=1920x1040" width="300" height="250" frameborder="0"></iframe></div><script type="text/javascript" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/ojylrgbyk.js"></script>



                </div>
            </div>
            <script>
                document.getElementById("popuLayer_js_q").onload = function () {
                    var styObjd = styObj = { width: "300px", "height": parseInt(250) + 28 };
                    window.CSDN.Layer.PopuLayer("#layerd", { storageName: "layerd", styleObj: styObjd, total: 50, expoire: 1000 * 60 });
                }</script>


        </div>


    <!--new top-->
    <script id="toolbar-tpl-scriptId" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/content_toolbar.js" type="text/javascript" domain="http://blog.csdn.net"></script>

    <link rel="stylesheet" href="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/content_toolbar.css">
    <!--new top-->
    <div id="container">
        
<div id="header">
    <div class="header">
        <div id="blog_title">
            <h2>
                <a href="http://blog.csdn.net/zhongbeida_xue">Nicholas的专栏</a></h2>
            <h3>Unbroken</h3>
            <div class="clear">
            </div>
        </div>
        <div class="clear">
        </div>
        
    
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg">
    </div>
    <div class="navigator">
        <ul>           
                <li id="btnContents"><a href="http://blog.csdn.net/zhongbeida_xue?viewmode=contents"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_mulu'])">
                    <img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/ico_list.gif">目录视图</span></a></li>
                <li id="btnView"><a href="http://blog.csdn.net/zhongbeida_xue?viewmode=list"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_zhaiyao'])">
                    <img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/ico_summary.gif">摘要视图</span></a></li>
                <li id="btnRss"><a href="http://blog.csdn.net/zhongbeida_xue/rss/list"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_RSS'])">
                    <img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/ico_rss.gif">订阅</span></a></li>                   
            

            </ul>
    </div>
</div>
<script type="text/javascript">
    var username = "zhongbeida_xue";
    var _blogger = username;
    var blog_address = "http://blog.csdn.net/zhongbeida_xue";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";  
    var curUserFace = "http://avatar.csdn.net/2_guest.jpg";
</script>

        <div id="body">
            <div id="main">
                <div class="main">
                    <div class="ad_class">



                    </div>

                    

 <script src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/main-1.js"></script>

<script type="text/javascript" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/category.js"></script>

  <script type="text/ecmascript">
      var title="OpenStack keystone详解及调优";
      window.quickReplyflag = true;
      var isBole = false; 
      var fasrc="http://my.csdn.net/my/favorite/miniadd?t=OpenStack+keystone%e8%af%a6%e8%a7%a3%e5%8f%8a%e8%b0%83%e4%bc%98&u=http://blog.csdn.net/zhongbeida_xue/article/details/78654676"
    </script>
<style>
    .texCommend {
        position: absolute;
        background-color: #fff;
        color: #000;
        padding: 5px;
        border: 1px solid #ccc;
        cursor: default;
        text-align: left;
        z-index: 201;
        border-radius: 5px;
        box-shadow: 0 10px 20px #808080;
        font-size: 12px;
        line-height: 1.5;
    }
    .MJX_Assistive_MathML {
        display: none;
    }
    span.MathJax {
        outline: none
    }
</style>
<div id="article_details" class="details">
    
<div class="article_title">   
         <span class="ico ico_type_Repost"></span>

    <h1>
        <span class="link_title"><a href="http://blog.csdn.net/zhongbeida_xue/article/details/78654676">
        OpenStack keystone详解及调优        
           
        </a>
        </span>

         
    </h1>
</div>


    
    <div class="article_manage clearfix">
        <div class="article_r">
            <span class="link_postdate">2017-11-28 14:25</span>
            <span class="link_view" title="阅读次数">242人阅读</span>
            <span class="link_comments" title="评论次数"> <a href="#comments" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_pinglun'])">评论</a>(0)</span>
            <span class="link_collect csdn-tracking-statistics" data-pid="blog" data-mod="popu_171"> <a href="javascript:void(0);" onclick="javascript:collectArticle('OpenStack keystone详解及调优','78654676');return false;" title="收藏" target="_blank">收藏</a></span>
             <span class="link_report"> <a href="#report" onclick="javascript:report(78654676,2);return false;" title="举报">举报</a></span>

        </div>
    </div>    <style type="text/css">        
            .embody{
                padding:10px 10px 10px;
                margin:0 -20px;
                border-bottom:solid 1px #ededed;                
            }
            .embody_b{
                margin:0 ;
                padding:10px 0;
            }
            .embody .embody_t,.embody .embody_c{
                display: inline-block;
                margin-right:10px;
            }
            .embody_t{
                font-size: 12px;
                color:#999;
            }
            .embody_c{
                font-size: 12px;
            }
            .embody_c img,.embody_c em{
                display: inline-block;
                vertical-align: middle;               
            }
             .embody_c img{               
                width:30px;
                height:30px;
            }
            .embody_c em{
                margin: 0 20px 0 10px;
                color:#333;
                font-style: normal;
            }
    </style>
    <script type="text/javascript">
        $(function () {
            try
            {
                var lib = eval("("+$("#lib").attr("value")+")");
                var html = "";
                if (lib.err == 0) {
                    $.each(lib.data, function (i) {
                        var obj = lib.data[i];
                        //html += '<img src="' + obj.logo + '"/>' + obj.name + "&nbsp;&nbsp;";
                        html += ' <a href="' + obj.url + '" target="_blank">';
                        html += ' <img src="' + obj.logo + '">';
                        html += ' <em><b>' + obj.name + '</b></em>';
                        html += ' </a>';
                    });
                    if (html != "") {
                        setTimeout(function () {
                            $("#lib").html(html);                      
                            $("#embody").show();
                        }, 100);
                    }
                }      
            } catch (err)
            { }
            
        });
    </script>
      <div class="category clearfix">
        <div class="category_l">
           <img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/category_icon.jpg">
            <span>分类：</span>
        </div>
        <div class="category_r">
                    <label onclick="GetCategoryArticles('6134460','zhongbeida_xue','top','78654676');">
                        <span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_fenlei']);">Other<em>（160）</em></span>
                      <img class="arrow-down" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/arrow_triangle%2520_down.jpg" style="display:inline;">
                      <img class="arrow-up" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/arrow_triangle_up.jpg" style="display:none;">
                        <div class="subItem">
                            <div class="subItem_t"><a href="http://blog.csdn.net/zhongbeida_xue/article/category/6134460" target="_blank">作者同类文章</a><i class="J_close">X</i></div>
                            <ul class="subItem_l" id="top_6134460">                            
                            </ul>
                        </div>
                    </label>                    
        </div>
    </div>






<div style="clear:both"></div><div style="border:solid 1px #ccc; background:#eee; float:left; min-width:200px;padding:4px 10px;"><p style="text-align:right;margin:0;"><span style="float:left;">目录<a href="#" title="系统根据文章中H1到H6标签自动生成文章目录">(?)</a></span><a href="#" onclick="javascript:return openct(this);" title="展开">[+]</a></p><ol style="display:none;margin-left:14px;padding-left:14px;line-height:160%;"><li><a href="#t0">
Keystone基本概念介绍</a></li><ol><li><a href="#t1">
User</a></li><li><a href="#t2">
Tenant</a></li><li><a href="#t3">
Role</a></li><li><a href="#t4">
Service</a></li><li><a href="#t5">
Endpoint</a></li></ol><li><a href="#t6">
keystone 的访问流程</a></li><ol><li><a href="#t7">
1获取临时Token</a></li><li><a href="#t8">
2获取用户能访问的所有租户</a></li><li><a href="#t9">
3获取指定租户的Token</a></li><li><a href="#t10">
4调用目标服务</a></li><li><a href="#t11">
5验证用户是否有权限执行操作</a></li><li><a href="#t12">
6服务执行用户请求</a></li><li><a href="#t13">
7给用户响应</a></li></ol><li><a href="#t14">
Token详解</a></li><ol><li><a href="#t15">
UUID</a></li><li><a href="#t16">
PKI</a></li><li><a href="#t17">
PKIZ</a></li><li><a href="#t18">
Fernet</a></li><li><a href="#t19">
如何选择 Token</a></li></ol><li><a href="#t20">
keystone性能优化</a></li><ol><li><a href="#t21">
性能瓶颈的解决-1</a></li></ol><li><a href="#t22">
性能瓶颈的解决-2keystone并行化</a></li></ol></div><div style="clear:both"></div><div id="article_content" class="article_content csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post" style="overflow: hidden;">

<h2 id="keystone基本概念介绍" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t0" target="_blank"></a>
Keystone基本概念介绍</h2>
<h3 id="user" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t1" target="_blank"></a>
User</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
User即用户，他们代表可以通过keystone进行访问的人或程序。Users通过认证信息（credentials，如密码、API Keys等）进行验证。</p>
<h3 id="tenant" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t2" target="_blank"></a>
Tenant</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
Tenant即租户，它是各个服务中的一些可以访问的资源集合。例如，在Nova中一个tenant可以是一些机器，在Swift和Glance中一个
tenant可以是一些镜像存储，在Quantum中一个tenant可以是一些网络资源。Users默认的总是绑定到某些tenant上。</p>
<h3 id="role" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t3" target="_blank"></a>
Role</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
Role即角色，Roles代表一组用户可以访问的资源权限，例如Nova中的虚拟机、Glance中的镜像。Users可以被添加到任意一个全局的 或
 
租户内的角色中。在全局的role中，用户的role权限作用于所有的租户，即可以对所有的租户执行role规定的权限；在租户内的role中，用户仅能
在当前租户内执行role规定的权限。</p>
<h3 id="service" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t4" target="_blank"></a>
Service</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
Service即服务，如Nova、Glance、Swift。根据前三个概念（User，Tenant和Role）一个服务可以确认当前用户是否具有访
问其资源的权限。但是当一个user尝试着访问其租户内的service时，他必须知道这个service是否存在以及如何访问这个service，这里
通常使用一些不同的名称表示不同的服务。在上文中谈到的Role，实际上也是可以绑定到某个service的。例如，当swift需要一个管理员权限的访
问进行对象创建时，对于相同的role我们并不一定也需要对nova进行管理员权限的访问。为了实现这个目标，我们应该创建两个独立的管理员role，一
个绑定到swift，另一个绑定到nova，从而实现对swift进行管理员权限访问不会影响到Nova或其他服务。</p>
<h3 id="endpoint" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t5" target="_blank"></a>
Endpoint</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
Endpoint，翻译为“端点”，我们可以理解它是一个服务暴露出来的访问点，如果需要访问一个服务，则必须知道他的endpoint。因此，在
keystone中包含一个endpoint模板（endpoint 
template，在安装keystone的时候我们可以在conf文件夹下看到这个文件），这个模板提供了所有存在的服务endpoints信息。一个
endpoint 
template包含一个URLs列表，列表中的每个URL都对应一个服务实例的访问地址，并且具有public、private和admin这三种权
限。public
 url可以被全局访问（如http://compute.example.com），private 
url只能被局域网访问（如http://compute.example.local），admin url被从常规的访问中分离。</p>
<h2 id="keystone-的访问流程" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t6" target="_blank"></a>
keystone 的访问流程</h2>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
通俗的讲，token 是用户的一种凭证，需拿正确的用户名/密码向 Keystone 申请才能得到。如果用户每次都采用用户名/密码访问 
OpenStack API，容易泄露用户信息，带来安全隐患。所以 OpenStack 要求用户访问其 API 前，必须先获取 token，然后用
 token 作为用户凭据访问 OpenStack API。</p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/1.png" alt="1" style="max-width:100%; height:auto; vertical-align:middle; border:0px"></p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
以创建一个虚拟机（server）为例，结合下图简述下keystone在openstack的访问流程。</p>
<ul style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<li style="margin-bottom:7px; word-wrap:break-word">
<p style="word-wrap:break-word">用户Alice通过自己的户名和密码向keystone申请token，keystone认证用户名和密码后，返回token1</p>
</li><li style="margin-bottom:7px; word-wrap:break-word">
<p style="word-wrap:break-word">Alice通过token1发送keystone查询他所拥有的租户，keystone验证token1成功后，返回Alice的所有Tenant</p>
</li><li style="margin-bottom:7px; word-wrap:break-word">Alice选择一个租户，通过用户名和密码申请token，keystone认证用户名、密码、tenant后，返回token2。（其实1、2步仅仅是为了查询tenant，如果已经知道tenant，可以忽略1、2步）</li><li style="margin-bottom:7px; word-wrap:break-word">Alice通过token2发送创建server的请求，keystone验证token2(包括该token是否有效，是否有权限创建虚拟机等)成功后，然后再把请求下发到nova，最终创建虚拟机</li></ul>
<h3 id="1获取临时token" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t7" target="_blank"></a>
1.获取临时Token</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
我们知道要创建虚拟机，一定是某一租户下的用户来创建的，因此在创建之前用户要获取自己所能访问到的租户 
（一个用户可以属于多个租户），要想获取用户能访问的所有租户需要从keystone获取一个不与任何租户相关联的临时Token. 
我们可以使用keystone的标准REST API获取某一用户能访问的所有租户,注意这里不要在请求体中设置租户名。</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">示例请求：  
POST  http://192.168.56.2:5000/v2.0/tokens
{

      "auth": {

        "passwordCredentials": {

            "username": "demo",

            "password": "rootroot"

         }

    }

}
示例响应：
  {
       "access":
       {
           "token":
           {
               "issued_at": "2015-01-04T14:23:33.501946",
               "expires": "2015-01-04T15:23:33Z",
               "id": "a19bc13b46ba459cb3104fa97e414a27",
               "audit_ids":
               [
                   "KA6wWhLFQWGMRpoCv1VYpQ"
               ]
           },
           "serviceCatalog":
           [
           ],
           "user":
           {
               "username": "demo",
               "roles_links":
               [
               ],
               "id": "f8b9c7807d95484fa829cdb68b410e77",
               "roles":
               [
               ],
               "name": "demo"
           },
           "metadata":
           {
               "is_admin": 0,
               "roles":
               [
               ]
           }
       }
    }
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
其中，响应中的access/token/id的值就是获取的临时Token，在接下来的请求中，将这个临时Token作为 X-Auth-Token的值（其中X-Auth-Token位于请求头部）</p>
<h3 id="2获取用户能访问的所有租户" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t8" target="_blank"></a>
2.获取用户能访问的所有租户</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
我们使用上一步获取的临时token（a19bc13b46ba459cb3104fa97e414a27），来获取用户demo所能访问的租户，用户所
能访问的租户由用户在租户中是否有角色来决定。使用下面api获取是所能访问的租户时，需要将临时token作为X-Auth-Token的值，如下所
示。</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">GET http://192.168.56.2:5000/v2.0/tenants
HEADERS["X-Auth-Token":"a19bc13b46ba459cb3104fa97e414a27"]
 {
       "tenants_links":
       [
       ],
       "tenants":
       [
           {
               "description": null,
               "enabled": true,
               "id": "0e877c09c1924963800c7534bc03106e",
               "parent_id": null,
               "name": "demo"
           },
           {
               "description": null,
               "enabled": true,
               "id": "2b6f4d3001e841e9924c8278a8a745db",
               "parent_id": null,
               "name": "invisible_to_admin"
           }
       ]
 }
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<h3 id="3获取指定租户的token" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t9" target="_blank"></a>
3.获取指定租户的Token</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
上一步中我们获取的用户所能访问到租户，接着用户需要从中选择一个租户，作为自己的工作空间， 
用户在某一租户中才能访问其他非keystone服务，也只能使用指定租户的Token才能访问其他非keystone服务。 
获取指定租户的Token，所使用的REST API与步骤1相同，仅有的区别：在body体中要指定租户。</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:856.140625px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">示例请求：
POST  http://192.168.56.2:5000/v2.0/tokens
 {
   "auth":{
      "tenantName":"demo",
      "passwordCredentials":{
         "username":"demo",
         "password":"rootroot"
      }
   }
}
示例响应：
 {
       "access":
       {
           "token":
           {
               "issued_at": "2015-01-04T14:30:42.669320",
               "expires": "2015-01-04T15:30:42Z",
               "id": "f84bd18554bd4e49b147293ccbabdae2",
               "tenant":
               {
                   "description": null,
                   "enabled": true,
                   "id": "0e877c09c1924963800c7534bc03106e",
                   "parent_id": null,
                   "name": "demo"
               },
               "audit_ids":
               [
                   "DnJZAdncS7KX-N5M02Q-Ew"
               ]
           },
           "serviceCatalog":
           [
               {
                   "endpoints":
                   [
                       {
                           "adminURL": "http://192.168.56.2:8774/v2/0e877c09c1924963800c7534bc03106e",
                           "region": "RegionOne",
                           "internalURL": "http://192.168.56.2:8774/v2/0e877c09c1924963800c7534bc03106e",
                           "id": "470f1cc24a1544d388b5f8312cb5e512",
                           "publicURL": "http://192.168.56.2:8774/v2/0e877c09c1924963800c7534bc03106e"
                       }
                   ],
                   "endpoints_links":
                   [
                   ],
                   "type": "compute",
                   "name": "nova"
               },
               {
                   "endpoints":
                   [
                       {
                           "adminURL": "http://192.168.56.2:9696/",
                           "region": "RegionOne",
                           "internalURL": "http://192.168.56.2:9696/",
                           "id": "36c9fd04cda04a3f8e30771549343052",
                           "publicURL": "http://192.168.56.2:9696/"
                       }
                   ],
                   "endpoints_links":
                   [
                   ],
                   "type": "network",
                   "name": "neutron"
               },
               {
                   "endpoints":
                   [
                       {
                           "adminURL": "http://192.168.56.2:8776/v2/0e877c09c1924963800c7534bc03106e",
                           "region": "RegionOne",
                           "internalURL": "http://192.168.56.2:8776/v2/0e877c09c1924963800c7534bc03106e",
                           "id": "48a15d71e8af4370b145b9db7d3f197c",
                           "publicURL": "http://192.168.56.2:8776/v2/0e877c09c1924963800c7534bc03106e"
                       }
                   ],
                   "endpoints_links":
                   [
                   ],
                   "type": "volumev2",
                   "name": "cinderv2"
               },
               {
                   "endpoints":
                   [
                       {
                           "adminURL": "http://192.168.56.2:3333",
                           "region": "RegionOne",
                           "internalURL": "http://192.168.56.2:3333",
                           "id": "ae6067b19be947f3a21d7b1e5f141353",
                           "publicURL": "http://192.168.56.2:3333"
                       }
                   ],
                   "endpoints_links":
                   [
                   ],
                   "type": "s3",
                   "name": "s3"
               },
               {
                   "endpoints":
                   [
                       {
                           "adminURL": "http://192.168.56.2:9292",
                           "region": "RegionOne",
                           "internalURL": "http://192.168.56.2:9292",
                           "id": "280059b3597b4274b36b16ecea4b8fff",
                           "publicURL": "http://192.168.56.2:9292"
                       }
                   ],
                   "endpoints_links":
                   [
                   ],
                   "type": "image",
                   "name": "glance"
               },
               {
                   "endpoints":
                   [
                       {
                           "adminURL": "http://192.168.56.2:8776/v1/0e877c09c1924963800c7534bc03106e",
                           "region": "RegionOne",
                           "internalURL": "http://192.168.56.2:8776/v1/0e877c09c1924963800c7534bc03106e",
                           "id": "0bd31fcde6fe4272b11cd97c79ff4d17",
                           "publicURL": "http://192.168.56.2:8776/v1/0e877c09c1924963800c7534bc03106e"
                       }
                   ],
                   "endpoints_links":
                   [
                   ],
                   "type": "volume",
                   "name": "cinder"
               },
               {
                   "endpoints":
                   [
                       {
                           "adminURL": "http://192.168.56.2:8773/services/Admin",
                           "region": "RegionOne",
                           "internalURL": "http://192.168.56.2:8773/services/Cloud",
                           "id": "02fe3abc06f1492089ef100f63299631",
                           "publicURL": "http://192.168.56.2:8773/services/Cloud"
                       }
                   ],
                   "endpoints_links":
                   [
                   ],
                   "type": "ec2",
                   "name": "ec2"
               },
               {
                   "endpoints":
                   [
                       {
                           "adminURL": "http://192.168.56.2:8774/v2.1/0e877c09c1924963800c7534bc03106e",
                           "region": "RegionOne",
                           "internalURL": "http://192.168.56.2:8774/v2.1/0e877c09c1924963800c7534bc03106e",
                           "id": "86ead91555a44de285f94957c05200ac",
                           "publicURL": "http://192.168.56.2:8774/v2.1/0e877c09c1924963800c7534bc03106e"
                       }
                   ],
                   "endpoints_links":
                   [
                   ],
                   "type": "computev21",
                   "name": "novav21"
               },
               {
                   "endpoints":
                   [
                       {
                           "adminURL": "http://192.168.56.2:35357/v2.0",
                           "region": "RegionOne",
                           "internalURL": "http://192.168.56.2:5000/v2.0",
                           "id": "19885c4b7ed7403eb6bec641b7105443",
                           "publicURL": "http://192.168.56.2:5000/v2.0"
                       }
                   ],
                   "endpoints_links":
                   [
                   ],
                   "type": "identity",
                   "name": "keystone"
               }
           ],
           "user":
           {
               "username": "demo",
               "roles_links":
               [
               ],
               "id": "f8b9c7807d95484fa829cdb68b410e77",
               "roles":
               [
                   {
                       "name": "_member_"
                   },
                   {
                       "name": "Member"
                   },
                   {
                       "name": "anotherrole"
                   }
               ],
               "name": "demo"
           },
           "metadata":
           {
               "is_admin": 0,
               "roles":
               [
                   "9fe2ff9ee4384b1894a90878d3e92bab",
                   "1fa59496fd6b4b07b4ce23a5ee8a3a0b",
                   "89764090d30949acaf9da2f9e0887ec6"
               ]
           }
       }
    }
除此之外，我们在body体中可以使用步骤1中的临时Token，来获取指定租户（demo)的token
POST  http://192.168.56.2:5000/v2.0/tokens
 {
   "auth":{
      "tenantName":"demo",
      "token":{
         "id":"a19bc13b46ba459cb3104fa97e414a27"
      }
   }
}
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<h3 id="4调用目标服务" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t10" target="_blank"></a>
4.调用目标服务</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
有了指定租户的Token，我们就可以调用该租户提供的服务，比如demo租户提供类glance服务，那么我们怎么访问租户提供的服务呢？细心的读者可
能在步骤3中已经发现，响应中提供每种服务都有的endpoint，这样endpoint是响应服务的REST API前缀。<br style="">
如glance的endpoint为：http://192.168.56.2:9292<br style="">
而其REST API为：http://192.168.56.2:9292 + api_uri<br style="">
例如：http://192.168.56.2:9292/v2/images/{image_id}<br style="">
我们通过调用服务的REST 
API调用目标服务，当请求到达响应服务之前，会先通过keystone验证用户的Token是否有效（如Token是否过期，Token对应的用户是否
存在），验证通过后，服务进行后续操作。（注意：图中示例了当Token使用UUID的情况，目前大多数情况下PKI）</p>
<h3 id="5验证用户是否有权限执行操作" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t11" target="_blank"></a>
5.验证用户是否有权限执行操作</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
我们指定用户在某一租户中有响应的角色，这些角色决定了用户在该租户中的操作权限，默认情况下有admin和非admin两种角色，当然我们也可以添加角
色，若自定义添加角色，则要在相应服务中的policy.json文件中定义相应角色的所能执行的操作。OpenStack的每个组件都有
policy.json文件，其基于该文件实现基于角色的访问控制，当经过policy的检测，用户有权执行某一操作，相应服务才会对请求做进一步的处
理。</p>
<h3 id="6服务执行用户请求" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t12" target="_blank"></a>
6.服务执行用户请求</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
这一步由服务来完成用户请求，如图中所示创建虚拟机</p>
<h3 id="7给用户响应" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t13" target="_blank"></a>
7.给用户响应</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
将用户的请求结果呈现给用户，注意立即呈现的响应结果不一定是最终的响应结果，如创建虚拟机时，首先返回给用户的是虚拟机正在building</p>
<h2 id="token详解" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t14" target="_blank"></a>
Token详解</h2>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2.png" alt="2" style="max-width:100%; height:auto; vertical-align:middle; border:0px"></p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
四种 Token 的由来</p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
D 版本时，仅有 UUID 类型的 Token，UUID token 简单易用，却容易给 Keystone 带来性能问题，从图一的步骤 4 
可看出，每当 OpenStack API 收到用户请求，都需要向 Keystone 验证该 token 
是否有效。随着集群规模的扩大，Keystone 需处理大量验证 token 的请求，在高并发下容易出现性能问题。</p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
于是 PKI( Public Key Infrastructrue ) token 在 G 版本运用而生，和 UUID 相比，PKI token
 携带更多用户信息的同时还附上了数字签名，以支持本地认证，从而避免了步骤 4。因为 PKI token 携带了更多的信息，这些信息就包括 
service catalog，随着 OpenStack 的 Region 数增多，service catalog 携带的 endpoint 
数量越多，PKI token 也相应增大，很容易超出 HTTP Server 允许的最大
 HTTP Header(默认为 8 KB)，导致 HTTP 请求失败。</p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
顾名思义， PKIZ token 就是 PKI token 的压缩版，但压缩效果有限，无法良好的处理 token size 过大问题。</p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
前三种 token 都会持久性存于数据库，与日俱增积累的大量 token 引起数据库性能下降，所以用户需经常清理数据库的 
token。为了避免该问题，社区提出了 Fernet token，它携带了少量的用户信息，大小约为 255 
Byte，采用了对称加密，无需存于数据库中。</p>
<h3 id="uuid" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t15" target="_blank"></a>
UUID</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
UUID token 是长度固定为 32 Byte 的随机字符串，由 uuid.uuid4().hex 生成。</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">def _get_token_id(self, token_data):
    return uuid.uuid4().hex
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
但是因 UUID token 不携带其它信息，OpenStack API 收到该 token 后，既不能判断该 token 
是否有效，更无法得知该 token 携带的用户信息，所以需经图一步骤 4 向 Keystone 校验 
token，并获用户相关的信息。其样例如下：</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">144d8a99a42447379ac37f78bf0ef608
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
UUID token 简单美观，不携带其它信息，因此 Keystone 必须实现 token 的存储和认证，随着集群的规模增大，Keystone 将成为性能瓶颈。</p>
<h3 id="pki" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t16" target="_blank"></a>
PKI</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
在阐述 PKI（Public Key Infrastruction） token 前，让我们简单的回顾 公开密钥加密(public-key 
cryptography) 和 数字签名 。公开密钥加密，也称为非对称加密(asymmetric 
cryptography，加密密钥和解密密钥不相同)，在这种密码学方法中，需要一对密钥，分别为公钥(Public Key)和私钥(Private
 Key)，公钥是公开的，私钥是非公开的，需用户妥善保管。如果把加密和解密的流程当做函数 C(x) 和 D(x)，P 和 S 
分别代表公钥和私钥，对明文
 A 和密文 B 而言，数学的角度上有以下公式：</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">B = C(A, S)A = D(B, P)
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
其中加密函数 C(x), 解密函数 D(x) 以及公钥 P 均是公开的。采用公钥加密的密文只能用私钥解密，采用私钥加密的密文只能用公钥解密。非对称加密广泛运用在安全领域，诸如常见的 HTTPS，SSH 登录等。</p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
数字签名又称为公钥数字签名，首先采用 Hash 函数对消息生成摘要，摘要经私钥加密后称为数字签名。接收方用公钥解密该数字签名，并与接收消息生成的摘要做对比，如果二者一致，便可以确认该消息的完整性和真实性。</p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
PKI 的本质就是基于数字签名，Keystone 用私钥对 token 进行数字签名，各个 API server 用公钥在本地验证该 token。相关代码简化如下：</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3
4
5
6
7</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">def _get_token_id(self, token_data):
    try:
        token_json = jsonutils.dumps(token_data, cls=utils.PKIEncoder)
        token_id = str(cms.cms_sign_token(token_json,
                                          CONF.signing.certfile,
                                          CONF.signing.keyfile))
        return token_id
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
其中 cms.cms_sign_token 调用 openssl cms –sign 对 token_data 进行签名，token_data 的样式如下：</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em"><span class="p" style="color:rgb(248,248,242)">{</span><span class="w" style="color:rgb(248,248,242)">
  </span><span class="nt" style="color:rgb(249,38,114)">"token"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">{</span><span class="w" style="color:rgb(248,248,242)">
    </span><span class="nt" style="color:rgb(249,38,114)">"methods"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">[</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"password"</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">],</span><span class="w" style="color:rgb(248,248,242)">
    </span><span class="nt" style="color:rgb(249,38,114)">"roles"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">[{</span><span class="nt" style="color:rgb(249,38,114)">"id"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"5642056d336b4c2a894882425ce22a86"</span><span class="p" style="color:rgb(248,248,242)">,</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="nt" style="color:rgb(249,38,114)">"name"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"admin"</span><span class="p" style="color:rgb(248,248,242)">}],</span><span class="w" style="color:rgb(248,248,242)">
    </span><span class="nt" style="color:rgb(249,38,114)">"expires_at"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"2015-12-25T09:57:28.404275Z"</span><span class="p" style="color:rgb(248,248,242)">,</span><span class="w" style="color:rgb(248,248,242)">
    </span><span class="nt" style="color:rgb(249,38,114)">"project"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">{</span><span class="w" style="color:rgb(248,248,242)">
      </span><span class="nt" style="color:rgb(249,38,114)">"domain"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">{</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="nt" style="color:rgb(249,38,114)">"id"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"default"</span><span class="p" style="color:rgb(248,248,242)">,</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="nt" style="color:rgb(249,38,114)">"name"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"Default"</span><span class="p" style="color:rgb(248,248,242)">},</span><span class="w" style="color:rgb(248,248,242)">
      </span><span class="nt" style="color:rgb(249,38,114)">"id"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"144d8a99a42447379ac37f78bf0ef608"</span><span class="p" style="color:rgb(248,248,242)">,</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="nt" style="color:rgb(249,38,114)">"name"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"admin"</span><span class="p" style="color:rgb(248,248,242)">},</span><span class="w" style="color:rgb(248,248,242)">
    </span><span class="nt" style="color:rgb(249,38,114)">"catalog"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">[</span><span class="w" style="color:rgb(248,248,242)">
      </span><span class="p" style="color:rgb(248,248,242)">{</span><span class="w" style="color:rgb(248,248,242)">
        </span><span class="nt" style="color:rgb(249,38,114)">"endpoints"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">[</span><span class="w" style="color:rgb(248,248,242)">
          </span><span class="p" style="color:rgb(248,248,242)">{</span><span class="w" style="color:rgb(248,248,242)">
            </span><span class="nt" style="color:rgb(249,38,114)">"region_id"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"RegionOne"</span><span class="p" style="color:rgb(248,248,242)">,</span><span class="w" style="color:rgb(248,248,242)">
            </span><span class="nt" style="color:rgb(249,38,114)">"url"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"http://controller:5000/v2.0"</span><span class="p" style="color:rgb(248,248,242)">,</span><span class="w" style="color:rgb(248,248,242)">
            </span><span class="nt" style="color:rgb(249,38,114)">"region"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"RegionOne"</span><span class="p" style="color:rgb(248,248,242)">,</span><span class="w" style="color:rgb(248,248,242)">
            </span><span class="nt" style="color:rgb(249,38,114)">"interface"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"public"</span><span class="p" style="color:rgb(248,248,242)">,</span><span class="w" style="color:rgb(248,248,242)">
            </span><span class="nt" style="color:rgb(249,38,114)">"id"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"3837de623efd4af799e050d4d8d1f307"</span><span class="w" style="color:rgb(248,248,242)">
          </span><span class="p" style="color:rgb(248,248,242)">},</span><span class="w" style="color:rgb(248,248,242)">
          </span><span class="err" style="color:rgb(150,0,80); background-color:rgb(30,0,16)">......</span><span class="w" style="color:rgb(248,248,242)">
      </span><span class="p" style="color:rgb(248,248,242)">]}],</span><span class="w" style="color:rgb(248,248,242)">
    </span><span class="nt" style="color:rgb(249,38,114)">"extras"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">{},</span><span class="w" style="color:rgb(248,248,242)">
    </span><span class="nt" style="color:rgb(249,38,114)">"user"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">{</span><span class="w" style="color:rgb(248,248,242)">
      </span><span class="nt" style="color:rgb(249,38,114)">"domain"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">{</span><span class="nt" style="color:rgb(249,38,114)">"id"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"default"</span><span class="p" style="color:rgb(248,248,242)">,</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="nt" style="color:rgb(249,38,114)">"name"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"Default"</span><span class="p" style="color:rgb(248,248,242)">},</span><span class="w" style="color:rgb(248,248,242)">
      </span><span class="nt" style="color:rgb(249,38,114)">"id"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"1552d60a042e4a2caa07ea7ae6aa2f09"</span><span class="p" style="color:rgb(248,248,242)">,</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="nt" style="color:rgb(249,38,114)">"name"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"admin"</span><span class="p" style="color:rgb(248,248,242)">},</span><span class="w" style="color:rgb(248,248,242)">
    </span><span class="nt" style="color:rgb(249,38,114)">"audit_ids"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="p" style="color:rgb(248,248,242)">[</span><span class="s2" style="color:rgb(230,219,116)">"ZCvZW2TtTgiaAsVA8qmc3A"</span><span class="p" style="color:rgb(248,248,242)">],</span><span class="w" style="color:rgb(248,248,242)">
    </span><span class="nt" style="color:rgb(249,38,114)">"issued_at"</span><span class="p" style="color:rgb(248,248,242)">:</span><span class="w" style="color:rgb(248,248,242)"> </span><span class="s2" style="color:rgb(230,219,116)">"2015-12-25T08:57:28.404304Z"</span><span class="w" style="color:rgb(248,248,242)">
  </span><span class="p" style="color:rgb(248,248,242)">}</span><span class="w" style="color:rgb(248,248,242)">
</span><span class="p" style="color:rgb(248,248,242)">}</span><span class="w" style="color:rgb(248,248,242)">
</span></pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
token_data 经 cms.cms_sign_token 签名生成的 token_id 如下，共 1932 Byte：</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">MIIKoZIhvcNAQcCoIIFljCCBZICAQExDTALBglghkgBZQMEAgEwggPzBgkqhkiG9w0B
......
rhr0acV3bMKzmqvViHf-fPVnLDMJajOWSuhimqfLZHRdr+ck0WVQosB6+M6iAvrEF7v
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<h3 id="pkiz" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t17" target="_blank"></a>
PKIZ</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
PKIZ 在 PKI 的基础上做了压缩处理，但是压缩的效果极其有限，一般情况下，压缩后的大小为 PKI token 的 90 % 左右，所以 PKIZ 不能友好的解决 token size 太大问题。</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3
4
5
6
7</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">def _get_token_id(self, token_data):
    try:
        token_json = jsonutils.dumps(token_data, cls=utils.PKIEncoder)
        token_id = str(cms.pkiz_sign(token_json,
                                     CONF.signing.certfile,
                                     CONF.signing.keyfile))
        return token_id
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
其中 cms.pkiz_sign() 中的以下代码调用 zlib 对签名后的消息进行压缩级别为 6 的压缩。</p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
compressed = zlib.compress(token_id, compression_level=6) PKIZ token 样例如下，共 1645 Byte，比 PKI token 减小 14.86 %：</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">PKIZ_eJytVcuOozgU3fMVs49aTXhUN0vAQEHFJiRg8IVHgn5OnA149JVaunNS3NYjoSU
......
W4fRaxrbNtinojheVICXYrEk0oPX6TSnP71IYj2e3nm4MLy7S84PtIPDz4_03IsOb2Q=
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<h3 id="fernet" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t18" target="_blank"></a>
Fernet</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
用户可能会碰上这么一个问题，当集群运行较长一段时间后，访问其 API 会变得奇慢无比，究其原因在于 Keystone 数据库存储了大量的 
token 导致性能太差，解决的办法是经常清理 token。为了避免上述问题，社区提出了 Fernet token ，它采用 
cryptography 对称加密库(symmetric cryptography，加密密钥和解密密钥相同) 加密 token，具体由 
AES-CBC 加密和散列函数 SHA256 签名。 Fernet 是专为 API token 
设计的一种轻量级安全消息格式，不需要存储于数据库，减少了磁盘的
 IO，带来了一定的 性能提升 。为了提高安全性，需要采用 Key Rotation 更换密钥。</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">def create_token(self, user_id, expires_at, audit_ids, methods=None,
                 domain_id=None, project_id=None, trust_id=None,
                 federated_info=None):
    """Given a set of payload attributes, generate a Fernet token."""

    if trust_id:
        version = TrustScopedPayload.version
        payload = TrustScopedPayload.assemble(
            user_id,
            methods,
            project_id,
            expires_at,
            audit_ids,
            trust_id)

    ...

    versioned_payload = (version,) + payload
    serialized_payload = msgpack.packb(versioned_payload)
    token = self.pack(serialized_payload)

    return token
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
以上代码表明，token 包含了 user_id，project_id，domain_id，methods，expires_at 
等信息，重要的是，它没有 service_catalog，所以 region 的数量并不影响它的大小。self.pack() 
最终调用如下代码对上述信息加密：</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3
4
5
6
7
8</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">def crypto(self):
    keys = utils.load_keys()

    if not keys:
        raise exception.KeysNotFound()

    fernet_instances = [fernet.Fernet(key) for key in utils.load_keys()]
    return fernet.MultiFernet(fernet_instances)
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
该 token 的大小一般在 200 多 Byte 左右，本例样式如下，大小为 186 Byte：</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">gAAAAABWfX8riU57aj0tkWdoIL6UdbViV-632pv0rw4zk9igCZXgC-sKwhVuVb-wyMVC9e5TFc
7uPfKwNlT6cnzLalb3Hj0K3bc1X9ZXhde9C2ghsSfVuudMhfR8rThNBnh55RzOB8YTyBnl9MoQ
XBO5UIFvC7wLTh_2klihb6hKuUqB6Sj3i_8
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<h3 id="如何选择-token" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t19" target="_blank"></a>
如何选择 Token</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/3.png" alt="3" style="max-width:100%; height:auto; vertical-align:middle; border:0px"></p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
Token 类型的选择涉及多个因素，包括 Keystone server 的负载、region 数量、安全因素、维护成本以及 token 
本身的成熟度。region 的数量影响 PKI/PKIZ token 的大小，从安全的角度上看，UUID 无需维护密钥，PKI 需要妥善保管 
Keystone server 上的私钥，Fernet 需要周期性的更换密钥，因此从安全、维护成本和成熟度上看，UUID &gt; 
PKI/PKIZ &gt; Fernet 如果：</p>
<ul style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<li style="margin-bottom:7px; word-wrap:break-word">Keystone server 负载低，region 少于 3 个，采用 UUID token。</li><li style="margin-bottom:7px; word-wrap:break-word">Keystone server 负载高，region 少于 3 个，采用 PKI/PKIZ token。</li><li style="margin-bottom:7px; word-wrap:break-word">Keystone server 负载低，region 大与或等于 3 个，采用 UUID token。</li><li style="margin-bottom:7px; word-wrap:break-word">Keystone server 负载高，region 大于或等于 3 个，K 版本及以上可考虑采用 Fernet token。</li></ul>
<h2 id="keystone性能优化" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t20" target="_blank"></a>
keystone性能优化</h2>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
openstack采用了token认证的机制，各api的调用都会涉及到token的验证问题，使得keystone成为一个性能的瓶颈。</p>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
token的验证环节包括：验证请求中包含的token是否有效、过期，该token对应的用户组和用户id，对应的授权服务访问地址等。</p>
<h3 id="性能瓶颈的解决-1" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t21" target="_blank"></a>
性能瓶颈的解决-1：</h3>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
由于openstack中的各api都是wsgi服务，并且都用到了keystoneclient提供的一个中间件（wsgi 
filter）auth_token，对应的文件位于：keystoneclient/middleware/auth_token.py。该中间件采用
memcache来缓存token的相关信息到本地，从而减少各服务对keystone的直接访问，不过默认情况下缓存并未启用。为此，添加如下配置到
nova.conf、cinder.conf…</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3
4
5
6
7
8
9
10
11</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">[keystone_authtoken]  
auth_uri = http://keystone_server:5000/  
auth_host = keystone_server  
auth_port = 35357  
auth_protocol = http  
admin_tenant_name = service  
admin_user = nova  
admin_password = password  
memcache_servers = 127.0.0.1:11211  
token_cache_time = 3600 ＃token本地缓存的失效时间设置为1个小时。  
cache = true  
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
auth_token中间件中，token认证的相关代码片段如下：</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">try:  
    token_id = cms.cms_hash_token(user_token)  
    cached = self._cache_get(token_id)  
    if cached:  
        return cached  
        if cms.is_ans1_token(user_token):  
            verified = self.verify_signed_token(user_token)  
            data = json.loads(verified)  
        else:  
            data = self.verify_uuid_token(user_token, retry)  
            self._cache_put(token_id, data)  
            return data  
        except Exception as e:  
            self.LOG.debug(‘Token validation failure.’, exc_info=True)  
            self._cache_store_invalid(user_token)  
            self.LOG.warn(“Authorization failed for token %s”, user_token)  
            raise InvalidUserToken(‘Token authorization failed’)  
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<h2 id="性能瓶颈的解决-2keystone并行化" style="font-family:Lato,Calibri,Arial,sans-serif; word-wrap:break-word"><a name="t22" target="_blank"></a>
性能瓶颈的解决-2：keystone并行化</h2>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
当前的keystone实现中并没有采用并行化的机制，keystone-all运行时分别发起两个进程、绑定到两个socket上，分别处理5000和35357端口上的请求。</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">＃管理端口请求的处理  
servers.append(create_server(CONF.config_file[0],  
                            ‘admin’,  
                             CONF.bind_host,  
                             int(CONF.admin_port)))  
＃业务端口请求的处理  
servers.append(create_server(CONF.config_file[0],  
                            ‘main’,  
                             CONF.bind_host,  
                             int(CONF.public_port)))  
def serve(*servers):  
    signal.signal(signal.SIGINT, sigint_handler)  
    for server in servers:  
        server.start()  
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
大概的修改如下：</p>
<ul style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<li style="margin-bottom:7px; word-wrap:break-word">
<p style="word-wrap:break-word">引入了多线程下共享的socket</p>
</li><li style="margin-bottom:7px; word-wrap:break-word">
<p style="word-wrap:break-word">根据配置选项works的大小，发起多个进程处理api的请求</p>
</li></ul>
<p style="word-wrap:break-word; font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
代码修改之后，还需对keystone的配置做适当更新： 
keystone默认的token存储后端为基于内存的k-v，范围在一个进程的空间内。并行化之后，多个进程需共享访问token的存储后端，这里采用
memcache。修改keystone.conf，并安装memcache服务。</p>
<div class="highlighter-rouge" style="font-family:Lato,Calibri,Arial,sans-serif; font-size:16px">
<div class="highlight" style="margin-bottom:1.5em; font-size:0.75rem; line-height:2.1667; color:rgb(208,208,208); border:1px solid rgb(219,219,219); background-color:rgb(39,40,34)">
<table style="width:638px; border-spacing:0px">
<tbody style="">
<tr style="">
<td class="gutter gl" style="text-align:right">
<pre class="lineno" style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em 24px 1em 1em; color:rgb(143,144,138)" name="code">1
2</pre>
</td>
<td class="code" style="">
<pre style="font-size:0.75rem; line-height:1.5; overflow-x:auto; position:relative; margin-top:0px; margin-bottom:0px; padding:1em">[token]  
# driver = keystone.token.backends.memcache.Token  
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<span class="entry-tags" style="display:block; margin-bottom:6px"><a target="_blank" href="http://jianqingjiang.github.io/tags#OpenStack" title="Pages tagged OpenStack" class="tag" style="text-decoration:none; color:rgb(255,255,255); display:inline-block; margin:4px"></a></span>
   
</div>








    <div class="readall_box csdn-tracking-statistics tracking-click readall_box_nobg" data-pid="blog" data-mod="popu_596" style="display: none;">
        <div class="read_more_mask"></div>
        <a class="btn btn-large btn-gray-fred read_more_btn" target="_self">阅读全文</a>
    </div>

    <div class="csdn-tracking-statistics" data-pid="blog" data-mod="popu_222"><a href="javascript:void(0);" target="_blank">&nbsp;</a>   </div>
    <div class="csdn-tracking-statistics" data-pid="blog" data-mod="popu_223"> <a href="javascript:void(0);" target="_blank">&nbsp;</a></div>
        <div id="digg" articleid="78654676">
            <dl id="btnDigg" class="digg digg_disable" onclick="btndigga();">
               
                 <dt>顶</dt>
                <dd>1</dd>
            </dl>
           
              
            <dl id="btnBury" class="digg digg_disable" onclick="btnburya();">
              
                  <dt>踩</dt>
                <dd>0</dd>               
            </dl>
            
        </div>
    <script type="text/javascript">
        function btndigga() {
            $(".csdn-tracking-statistics[data-mod='popu_222'] a").click();
        }
        function btnburya() {
            $(".csdn-tracking-statistics[data-mod='popu_223'] a").click();
        }
            </script>

   <ul class="article_next_prev">
                <li class="prev_article"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_shangyipian']);location.href='http://blog.csdn.net/zhongbeida_xue/article/details/78654345';">上一篇</span><a href="http://blog.csdn.net/zhongbeida_xue/article/details/78654345" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_shangyipian'])">python 实现libvirt管理（简单的几个功能）</a></li>
                <li class="next_article"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_xiayipian']);location.href='http://blog.csdn.net/zhongbeida_xue/article/details/78679549';">下一篇</span><a href="http://blog.csdn.net/zhongbeida_xue/article/details/78679549" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_xiayipian'])">自动输入密码、命令 expect</a></li>
    </ul>

    <div style="clear:both; height:10px;"></div>

   
      
</div>

     <div>
         
         <!-- 广告位：PC端-博客详情页底部banner-960*90 -->
            <script>
                (function() {
                    var s = "_" + Math.random().toString(36).slice(2);
                    document.write('<div id="' + s + '"></div>');
                    (window.slotbydup=window.slotbydup || []).push({
                        id: '4770928',
                        container: s,
                        size: '960,90',
                        display: 'inlay-fix'
                    });
                })();
            </script><div id="_5degck2b11e"></div><script charset="utf-8" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/xcxm"></script>
    </div>

<div id="suggest">



</div>
         <script language="javascript" type="text/javascript">     
             $(function(){
                 $.get("/zhongbeida_xue/svc/GetSuggestContent/78654676",function(data){
                     $("#suggest").html(data);
                 });     
             });             
         </script>  




            
                                    
            
                                    

        <!-- 广告位开始 -->
        <!-- 广告位结束 -->



<div class="comment_class" id="comments">
	<div class="commentform"><!--<div class="panel_head">发表评论</div>--></div>
    <div id="comment_form"><div class="guest_link">您还没有登录,请<a href="javascript:void(0);" onclick="javascript:loginbox();">[登录]</a>或<a href="http://passport.csdn.net/account/register?from=http%3A%2F%2Fblog.csdn.net%2Fzhongbeida_xue%2Farticle%2Fdetails%2F78654676">[注册]</a></div></div>
    <div id="comment_title" class="panel_head" style="display: none;">
        <span class="see_comment">查看评论</span><a name="comments"></a></div>
    <div id="comment_list" style="display: none;"><br>&nbsp;&nbsp;暂无评论<br><br><div class="clear"></div></div>
    <div id="comment_bar">
    </div>
    <!--<div class="announce">
        * 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>-->
</div>
<div class="recommend_list">

    
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="true" data-dsm="post">
<a href="http://blog.csdn.net/qiuhan0314/article/details/45971697" target="_blank" strategy="BlogCommendFromBaidu_0">
                <dd>
                    <h2 style="margin-bottom: 0px;">keystone性能优化</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_qiuhan0314.gif" alt="qiuhan0314" title="qiuhan0314"></li>
                        <li class="user_name">qiuhan0314</li>
                        <li class="time">2015-05-25 17:07</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>1480</span></li>
                    </ul><div class="summary">
                        openstack采用了token认证的机制，各api的调用都会涉及到token的验证问题，使得keystone成为一个性能的瓶颈。
token的验证环节包括：验证请求中包含的token是否有效、过期，该token对应的用户组和用户id，对应的授权服务访问地址等。
性能瓶颈的解决-1：
由于open...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="true" data-dsm="post">
<a href="http://blog.csdn.net/u010521366/article/details/77732133" target="_blank" strategy="BlogCommendFromBaidu_1">
                <dd>
                    <h2 style="margin-bottom: 0px;">openstack keystone token 超时时间扩展</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_u010521366.jpg" alt="u010521366" title="u010521366"></li>
                        <li class="user_name">u010521366</li>
                        <li class="time">2017-08-31 09:08</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>435</span></li>
                    </ul><div class="summary">
                        由于测试时间长，本人keystone 1小时后token超期，本人ubuntu系统。
失败方法：
用openstack-cofig来扩展token，根本找不到openstack-config命令，有博客说centos下安装openstack-utils即可，但是在ubuntu下我没找到


...
                    </div>
                    
                </dd>
</a>
            </dl>
            <script>(function() {var s = "_" + Math.random().toString(36).slice(2);document.write('<div id="' + s + '"></div>');(window.slotbydup = window.slotbydup || []).push({id: '4765209',container: s,size: '808,120',display: 'inlay-fix'});})();</script><div id="_914qu8lmdm"></div><script charset="utf-8" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/xcxm_002"></script> 
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="true" data-dsm="post">
<a href="http://blog.csdn.net/anhuidelinger/article/details/9841839" target="_blank" strategy="BlogCommendFromBaidu_2">
                <dd>
                    <h2 style="margin-bottom: 0px;">keystone v3</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_anhuidelinger.gif" alt="anhuidelinger" title="anhuidelinger"></li>
                        <li class="user_name">anhuidelinger</li>
                        <li class="time">2013-08-08 20:48</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>2631</span></li>
                    </ul><div class="summary">
                        keystone的v3 API与v2.0相比有很大的不同，从API的请求格式到response的返回结果都有差别，主要几点如下：




1. 引入了domain的概念，domain是在project，user， group之上抽象出的一个概念，是指

container for pr...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/bc_vnetwork/article/details/52638359" target="_blank" strategy="BlogCommendFromBaidu_3">
                <dd>
                    <h2 style="margin-bottom: 0px;">Keystone v2.0  and v3 config</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_bc_vnetwork.jpg" alt="bc_vnetwork" title="bc_vnetwork"></li>
                        <li class="user_name">bc_vnetwork</li>
                        <li class="time">2016-09-23 15:39</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>1789</span></li>
                    </ul><div class="summary">
                        Keystone v2.0 orv3 config
参考URL : 
http://docs.openstack.org/liberty/install-guide-ubuntu/keystone-openrc.html
&nbsp;
一、&nbsp;&nbsp;环境准备&nbsp;
[N...
                    </div>
                    
                </dd>
</a>
            </dl>
            <!-- 广告位：PC端-博客详情通栏7（feed流）-808*120 --><iframe style="width: 100%; height: 123px; border: 0px none;" scrolling="no"></iframe>
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/zhongbeida_xue/article/details/78654676" target="_blank" strategy="searchFromBaidu_4">
                <dd>
                    <h2 style="margin-bottom: 0px;">OpenStack keystone详解及调优</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_zhongbeida_xue.jpg" alt="zhongbeida_xue" title="zhongbeida_xue"></li>
                        <li class="user_name">zhongbeida_xue</li>
                        <li class="time">2017-11-28 14:25</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>242</span></li>
                    </ul><div class="summary">
                        Keystone基本概念介绍

User

User即用户，他们代表可以通过keystone进行访问的人或程序。Users通过认证信息（credentials，如密码、API Keys等）进行验证。

Tenant

Tenant即租户，它是各个服务中的一些可以访问的资源集合。例如，...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/qiuhan0314/article/details/39672877" target="_blank" strategy="searchFromBaidu_5">
                <dd>
                    <h2 style="margin-bottom: 0px;">glusterfs性能优化</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_qiuhan0314.gif" alt="qiuhan0314" title="qiuhan0314"></li>
                        <li class="user_name">qiuhan0314</li>
                        <li class="time">2014-09-29 17:22</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>4290</span></li>
                    </ul><div class="summary">
                        glusterfs 3.x.x版本后，客户端不再有配置文件
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/likerxu/article/details/53013134" target="_blank" strategy="BlogCommendFromQuerySearch_6">
                <dd>
                    <h2 style="margin-bottom: 0px;">OpenStack Keystone 源码解析</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_likerxu.jpg" alt="likerxu" title="likerxu"></li>
                        <li class="user_name">likerxu</li>
                        <li class="time">2016-11-02 21:43</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>676</span></li>
                    </ul><div class="summary">
                        # Licensed under the Apache License, Version 2.0 (the "License"); you may
# not use this file except in compliance with the License. You may...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/cloudresearch/article/details/23957519" target="_blank" strategy="BlogCommendFromQuerySearch_7">
                <dd>
                    <h2 style="margin-bottom: 0px;">openstack中安全方面基础知识介绍及keystone的PKI</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_u012815727.jpg" alt="u012815727" title="u012815727"></li>
                        <li class="user_name">u012815727</li>
                        <li class="time">2014-04-17 21:34</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>2780</span></li>
                    </ul><div class="summary">
                        背景：
最为公有云平台，安全性是一个非常需要考虑的因素，
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/zzsfqiuyigui/article/details/7599966" target="_blank" strategy="searchFromBaidu_8">
                <dd>
                    <h2>德州仪器与6WIND联合推出针对TI KeyStone II多内核处理器优化的数据包处理软件</h2>
                    <div class="summary">
                        日前，德州仪器 (TI) 与软件定义网络黄金标准提供者
6WIND 联合宣布，6WINDGate™ 软件解决方案目前支持 TI 最新可扩展 28 纳米多核处理器（基于近期推出的 KeyStone II 多内核架构）。6WINDGate 提供综合而全面的预集成数据包处理软件套件，TI 客户无需投入资...
                    </div>
                    <ul>
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_zzsfqiuyigui.gif" alt="zzsfqiuyigui" title="zzsfqiuyigui"></li>
                        <li class="user_name">zzsfqiuyigui</li>
                        <li class="time">2012-05-24 21:24</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>943</span></li>
                    </ul>
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/qiuhan0314/article/details/39672877" target="_blank" strategy="searchFromBaidu_9">
                <dd>
                    <h2 style="margin-bottom: 0px;">glusterfs性能优化</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_qiuhan0314.gif" alt="qiuhan0314" title="qiuhan0314"></li>
                        <li class="user_name">qiuhan0314</li>
                        <li class="time">2014-09-29 17:22</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>4290</span></li>
                    </ul><div class="summary">
                        glusterfs 3.x.x版本后，客户端不再有配置文件
                    </div>
                    
                </dd>
</a>
            </dl>
            

            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/wsfdl/article/details/20492343" target="_blank" strategy="BlogCommendFromQuerySearch_10">
                <dd>
                    <h2 style="margin-bottom: 0px;">openstack keystone整体架构与功能</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_wsfdl.gif" alt="wsfdl" title="wsfdl"></li>
                        <li class="user_name">wsfdl</li>
                        <li class="time">2014-03-05 23:12</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>21961</span></li>
                    </ul><div class="summary">
                        关于keystone模块，我将从整体架构与功能，用户信息管理，认证服务3个模块用3篇文章进行分析。


1. keystone的基本功能
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; keystone作为openstack的Identity Service，提供了用户信息管理...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/tanghuanan/article/details/43669867" target="_blank" strategy="BlogCommendFromQuerySearch_11">
                <dd>
                    <h2 style="margin-bottom: 0px;">Openstack Keystone 认证流程（一）--Overview</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_tanghuanan.gif" alt="TangHuanan" title="TangHuanan"></li>
                        <li class="user_name">TangHuanan</li>
                        <li class="time">2015-02-09 13:34</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>2249</span></li>
                    </ul><div class="summary">
                        Openstack Keystone 认证流程（一）Openstack 认证（Indentity）概念Openstack认证服务提供如下功能：
用户跟踪及权限管理
基于端点(endpoint)提供有效服务的分类管理
在安装Keystone服务时，你必须注册安装相对应的每种服务到keystone中， ...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/halcyonbaby/article/details/59800925" target="_blank" strategy="searchFromBaidu_12">
                <dd>
                    <h2 style="margin-bottom: 0px;">openstack虚拟机发放速度优化</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_halcyonbaby.jpg" alt="halcyonbaby" title="halcyonbaby"></li>
                        <li class="user_name">halcyonbaby</li>
                        <li class="time">2017-03-03 00:51</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>1426</span></li>
                    </ul><div class="summary">
                        原文链接 
http://www.51gocloud.com/?p=1885原生openstack环境下创建虚拟机耗时较长，相比AWS发放时间（20s左右）
还是有很大差距；本文围绕这一问题进行展开，针对各瓶颈点给出优化思路。整体思路类似如何让汽车在路上跑的更快，首先要解决的问题是让单个汽车在路上跑的
快...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/huiyunfei/article/details/79165120" target="_blank" strategy="searchFromBaidu_13">
                <dd>
                    <h2 style="margin-bottom: 0px;">tomcat7 性能优化，提高并发</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_huiyunfei.jpg" alt="huiyunfei" title="huiyunfei"></li>
                        <li class="user_name">huiyunfei</li>
                        <li class="time">2018-01-25 18:07</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>92</span></li>
                    </ul><div class="summary">
                        1.&nbsp;&nbsp;目的

通过优化tomcat提高网站的并发能力。当我们今天我们将这个优化讲完之前&nbsp; 优化完成后看能达到什么层次。

&nbsp;

&nbsp;

2.&nbsp;&nbsp;服务器资源

服务器所能提供CPU、内存、硬盘的性能对处理能力有决...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/xuyuefei1988/article/details/19328321" target="_blank" strategy="BlogCommendFromQuerySearch_14">
                <dd>
                    <h2 style="margin-bottom: 0px;">OpenStack 之 keystone学习</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_xuyuefei1988.jpg" alt="xuyuefei1988" title="xuyuefei1988"></li>
                        <li class="user_name">xuyuefei1988</li>
                        <li class="time">2014-02-17 11:01</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>10466</span></li>
                    </ul><div class="summary">
                        毕业前夕-&gt;正式上班过渡期，开始学习opentack，前段时间刚刚抽空学习了下python，现在开始openstack学习之路，记录自己的学习过程：


Openstack，不做过多解释，让我们直入主题---Keystone。Openstack是一个SOA的架构，理论上各个子项目独立提供相关的...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/forlogen/article/details/51130763" target="_blank" strategy="BlogCommendFromQuerySearch_15">
                <dd>
                    <h2 style="margin-bottom: 0px;">Openstack学习笔记（十）-Keystone学习笔记（一）</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_forlogen.jpg" alt="Forlogen" title="Forlogen"></li>
                        <li class="user_name">Forlogen</li>
                        <li class="time">2016-04-12 10:06</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>4607</span></li>
                    </ul><div class="summary">
                        一、Keystone学习笔记1、背景1.1 
背景简述随着云计算的愈发火热，参与到其中的人越来越多，不管是政府部门还是世界的各家大小公司，纷纷参与到了这股浪潮中。而用户作为消费者选择云平台，
主要是因为云计算相对于传统的方式可以带给自己费用上的节省，能获得快捷服务的体验，越来越多的用户选择云产品，意味着...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/onlybymyself/article/details/51534141" target="_blank" strategy="searchFromBaidu_16">
                <dd>
                    <h2 style="margin-bottom: 0px;">【dictionary】+【memcache缓存】-优化性能</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_u012654963.jpg" alt="u012654963" title="u012654963"></li>
                        <li class="user_name">u012654963</li>
                        <li class="time">2016-05-29 21:37</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>712</span></li>
                    </ul><div class="summary">
                        通过这样(memcache+dictionary)的优化，2万人参加评教，15个学院的学生，每个学生5门课，在查询教师课程方面就会节省：（2万*2s*5-15*8s）=（20万-120）s=55小时=2.3天

    oh,my god.这个数这是刚刚算的，真的被惊到了。这样看来，若没有经过这样的...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/d_chasel/article/details/9055901" target="_blank" strategy="searchFromBaidu_17">
                <dd>
                    <h2 style="margin-bottom: 0px;">【优化】--Memcache优化汇总</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_d_chasel.gif" alt="D_Chasel" title="D_Chasel"></li>
                        <li class="user_name">D_Chasel</li>
                        <li class="time">2013-06-08 14:26</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>1615</span></li>
                    </ul><div class="summary">
                        ###############################################################################

优化针对实际业务,并不针对硬件环境或者简单的配置文件!

优化的目标是增强性能、增强安全性、增强鲁棒性、充分利用硬件资源、降低成本...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/qq_21398167/article/details/51158716" target="_blank" strategy="BlogCommendFromQuerySearch_18">
                <dd>
                    <h2 style="margin-bottom: 0px;">openstack keystone v2 to v3</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_qq_21398167.jpg" alt="qq_21398167" title="qq_21398167"></li>
                        <li class="user_name">qq_21398167</li>
                        <li class="time">2016-04-15 08:59</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>1464</span></li>
                    </ul><div class="summary">
                        Disable NetworkManager
systemctl stop NetworkManager
systemctl disable NetworkManager
systemctl enable network
Install the openstack-packstackIf you h...
                    </div>
                    
                </dd>
</a>
            </dl>
            
            <dl class="clearfix csdn-tracking-statistics recommend_article recommend_article_out" data-mod="popu_614" data-poputype="feed" data-feed-show="false" data-dsm="post">
<a href="http://blog.csdn.net/tanghuanan/article/details/43852273" target="_blank" strategy="BlogCommendFromQuerySearch_19">
                <dd>
                    <h2 style="margin-bottom: 0px;">Openstack Keystone 认证流程（八）--总结</h2>
                    <ul class="floatR">
                        <li class="avatar_img"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/2_tanghuanan.gif" alt="TangHuanan" title="TangHuanan"></li>
                        <li class="user_name">TangHuanan</li>
                        <li class="time">2015-02-16 16:25</li>
                        <li class="visited_num"><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ccc"><defs><style></style></defs><path d="M988.16 240.64c0-5.12-2.56-11.52-6.4-15.36-2.56-2.56-51.2-55.04-135.68-81.92-32-10.24-64-15.36-96-15.36-97.28 0-181.76 46.08-235.52 84.48-55.04-39.68-139.52-85.76-236.8-85.76-32 0-65.28 5.12-96 15.36C97.28 168.96 49.92 224 47.36 226.56c-3.84 3.84-5.12 8.96-5.12 15.36v546.56l60.16 71.68c3.84 8.96 12.8 15.36 21.76 15.36 3.84 0 7.68 0 10.24-2.56 19.2-5.12 120.32-29.44 199.68-29.44 37.12 0 64 5.12 79.36 15.36 7.68 5.12 11.52 10.24 12.8 16.64 0 12.8 10.24 23.04 23.04 23.04h21.76c24.32 0 61.44 0 98.56-2.56h5.12c10.24 0 20.48-7.68 23.04-17.92 2.56-10.24 7.68-16.64 17.92-23.04 16.64-8.96 42.24-14.08 76.8-14.08 78.08 0 171.52 24.32 198.4 32 3.84 1.28 7.68 2.56 11.52 2.56 8.96 0 17.92-5.12 21.76-14.08l64-72.96V240.64zM88.32 744.96V250.88c14.08-14.08 52.48-46.08 107.52-64 26.88-8.96 53.76-12.8 81.92-12.8 70.4 0 142.08 26.88 213.76 79.36v477.44c-38.4-23.04-88.32-34.56-149.76-34.56-32 0-66.56 3.84-102.4 10.24-60.16 8.96-115.2 26.88-151.04 38.4zm805.12 79.36c-20.48-5.12-61.44-15.36-106.24-23.04-35.84-5.12-66.56-7.68-94.72-7.68-43.52 0-76.8 6.4-101.12 20.48-15.36 8.96-26.88 20.48-33.28 34.56-33.28 1.28-65.28 2.56-87.04 2.56h-3.84c-6.4-12.8-15.36-24.32-29.44-32-23.04-15.36-58.88-21.76-106.24-21.76-76.8 0-165.12 19.2-200.96 28.16l-29.44-35.84c51.2-17.92 148.48-47.36 240.64-47.36 70.4 0 122.88 17.92 153.6 52.48l2.56 2.56 1.28 1.28 1.28 1.28 1.28 1.28h1.28l2.56 1.28h11.52l2.56-1.28h1.28s1.28 0 1.28-1.28h1.28s1.28 0 1.28-1.28h1.28l2.56-2.56c30.72-37.12 81.92-56.32 152.32-56.32 39.68 0 122.88 6.4 240.64 49.92l-28.16 34.56zm47.36-79.36c-35.84-14.08-90.88-32-152.32-43.52-37.12-6.4-71.68-10.24-103.68-10.24-60.16 0-110.08 12.8-148.48 37.12V253.44c70.4-51.2 142.08-78.08 212.48-78.08 28.16 0 55.04 3.84 81.92 12.8 56.32 17.92 94.72 49.92 110.08 64v492.8z"></path></svg><span>1028</span></li>
                    </ul><div class="summary">
                        花了差不多一星期的时间，总算是坚持下来了。以前都不太喜欢到处贴代码的风格，但是轮到自己，还是一样。
最后一篇，就不再贴代码了。前面对用户名及密码认证基本上都过了一次。但里面都是很细节的东西，而且没有太多的逻辑及框架， 最后一篇， 基于问题及框架来总结下。Q: Keystone在Openstack中是...
                    </div>
                    
                </dd>
</a>
            </dl>
            </div>
<script type="text/javascript">
    var fileName = '78654676';
    var commentscount = 0;
    var islock = false
document.domain = "csdn.net";
</script>

    <div id="ad_bot">
    </div>
<div id="report_dialog">
</div>

<div id="d-top" style="bottom:60px;">


        <a id="quick-reply" class="btn btn-top q-reply" title="快速回复" style="display:none;">
            <img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/blog-icon-reply.png" alt="快速回复">
        </a>    
    <a id="d-top-a" class="btn btn-top backtop" style="display: none;" title="返回顶部" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_huidaodingbu'])">         
         <img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/top.png" alt="TOP">
    </a>
</div>
<script type="text/javascript">
    $(function ()
    {
        $("#ad_frm_0").height("90px");
        
        setTimeout(function(){
            $("#ad_frm_2").height("200px");
        },1000);    
    });
  
</script>
<style type="text/css">
    .tag_list
    {
        background: none repeat scroll 0 0 #FFFFFF;
        border: 1px solid #D7CBC1;
        color: #000000;
        font-size: 12px;
        line-height: 20px;
        list-style: none outside none;
        margin: 10px 2% 0 1%;
        padding: 1px;
    }
    .tag_list h5
    {
        background: none repeat scroll 0 0 #E0DBD3;
        color: #47381C;
        font-size: 12px;
        height: 24px;
        line-height: 24px;
        padding: 0 5px;
        margin: 0;
    }
    .tag_list h5 a
    {
        color: #47381C;
    }
    .classify
    {
        margin: 10px 0;
        padding: 4px 12px 8px;
    }
    .classify a
    {
        margin-right: 20px;
        white-space: nowrap;
    }
</style>






<div id="pop_win" style="display:none ;position: absolute; z-index: 10000; border: 1px solid rgb(220, 220, 220); top: 222.5px; left: 630px; opacity: 1; background: none 0px 0px repeat scroll rgb(255, 255, 255);">
    
</div>
<div id="popup_mask"></div>
<style>
    #popup_mask
    {
        position: absolute;
        width: 100%;
        height: 100%;
        background: #000;
        z-index: 9999;
        left: 0px;
        top: 0px;
        opacity: 0.3;
        filter: alpha(opacity=30);
        display: none;
    }

</style>





<script type="text/javascript">
    $(function(){        
        
        setTimeout(function(){
            $(".comment_body:contains('回复')").each(function(index,item){
                var u=$(this).text().split('：')[0].toString().replace("回复","")
                var thisComment=$(this);
                if(u)
                {
                    $.getJSON("https://passport.csdn.net/get/nick?callback=?", {users: u}, function(a) {
                        if(a!=null&&a.data!=null&&a.data.length>0)
                        {
                            nick=a.data[0].n; 
                            if(u!=nick)
                            {
                                thisComment.text(thisComment.text().replace(u,nick));  
                            }
                        }       
                    });  
                }
            });         

        },200);  

        setTimeout(function(){
            $(".math").each(function(index,value){$(this).find("span").last().css("color","#fff"); })
        },5000);

        setTimeout(function(){
            $(".math").each(function(index,value){$(this).find("span").last().css("color","#fff"); })
        },10000);

        setTimeout(function(){
            $(".math").each(function(index,value){$(this).find("span").last().css("color","#fff"); })
        },15000);
        
        setTimeout(function(){
            $("a img[src='http://js.tongji.linezing.com/stats.gif']").parent().css({"position":"absolute","left":"50%"});
        },300);
    });

    function loginbox(){
        var $logpop=$("#pop_win");
        $logpop.html('<iframe src="https://passport.csdn.net/account/loginbox?service=http://static.blog.csdn.net/callback.htm" frameborder="0" height="600" width="400" scrolling="no"></iframe>');

        $('#popup_mask').css({
            opacity: 0.5,
            width: $( document ).width() + 'px',
            height:  $( document ).height() + 'px'
        });
        $('#popup_mask').css("display","block");
 
        $logpop.css( {
            top: ($( window ).height() - $logpop.height())/ 2  + $( window 
       ).scrollTop() + 'px',
            left:($( window ).width() - $logpop.width())/ 2
        } );
 
        setTimeout( function () {
            $logpop.show();
            $logpop.css( {
                opacity: 1
            } );
        }, 200 );
 
        $('#popup_mask').unbind("click");
        $('#popup_mask').bind("click", function(){
            $('#popup_mask').hide();
            var $clopop = $("#pop_win");
            $("#common_ask_div_sc").css("display","none");
            $clopop.css( {
                opacity: 0
            } );
            setTimeout( function () {
                $clopop.hide();
            }, 350 );
            return false;
        });
    }   
    var showTexComDom = $('<div class="texCommend" style="position:absolute;display:none;">显示当前公式源码</div>');
    $('body').append(showTexComDom);
    $("#article_content").on('contextmenu', 'span.MathJax', function (ev) {
        ev.preventDefault ? ev.preventDefault() : (ev.returnValue = false);
        var scrollleft = document.documentElement.scrollLeft || document.body.scrollLeft;
        var scrolltop = document.documentElement.scrollTop || document.body.scrollTop;
        var left = ev.clientX + scrollleft + 10 + "px";
        var top = ev.clientY + scrolltop + 10 + "px";
        showTexComDom.css({
            top: top,
            left: left
        }).show();
        showTexComDom.html('显示当前公式源码');
        var curSpan = $(this);
        var commendId = curSpan.attr('id').replace('-Frame', '');
        console.log(commendId);
        $("body").bind('click', function (ev) {
            console.log(ev);
            var className = ev.originalEvent.target.className;
            if (className.indexOf('texCommend') === -1) {
                showTexComDom.hide();
                $("body").unbind('click');
            }
        });
        showTexComDom.one('click', function () {
            $(this).text($("#" + commendId).html());
        });
    });
        (function () {
            var viewImg = function viewImg(dom) {
                var dom = dom ? dom : 'body';
                var imgDOM = $(dom + ' img');
                var ua = navigator.userAgent.toLowerCase();

                if (imgDOM.length === 0) return false

                if ($('.imgViewDom').length === 0) {
                    $('body').append('<div class="imgViewDom disnone" style="display: none;"><img src=""></div>')
                    $('body').append('<style>.imgViewDom{display:none;position:fixed;top:0;left:0;height:100%;width:100%;z-index:99999999;background: rgba(255, 255, 255,0.8);overflow: auto;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;display:-moz-box;-moz-box-align:center;-moz-box-pack:center;display:-o-box;-o-box-align:center;-o-box-pack:center;display:-ms-box;-ms-box-align:center;-ms-box-pack:center; display:box;box-align:center;box-pack:center;}.imgViewDom img{cursor: zoom-out;}</style>')
                    $('.imgViewDom').on('click', function () {
                        if (ua.indexOf('windows ') > -1) {
                            $('body').css({ 'overflow': 'auto', 'margin-left': '0' })
                        } else {
                            $('body').css({ 'overflow': 'auto' })
                        }
                        $('.imgViewDom').fadeOut(500).children('img').attr('src', "");
                    })
                }
                imgDOM.bind('click', function (e) {
                    if (e.currentTarget.src) {
                        $('.imgViewDom').fadeIn(500).children('img').css({ 'width': e.currentTarget.naturalWidth, 'height': e.currentTarget.naturalheight }).attr('src', e.currentTarget.src)
                        if (ua.indexOf('windows ') > -1) {
                            $('body').css({ 'overflow': 'hidden', 'margin-left': '-17px' })
                        } else {
                            $('body').css({ 'overflow': 'hidden' })
                        }

                    }
                })

            }
            window.CSDNviewImg = viewImg;

        })()
    CSDNviewImg('#article_details')
    var articletitle='OpenStack keystone详解及调优';

</script>
<script src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/appendMark.js" type="text/javascript"></script>
<script type="text/javascript">
    appendMark($('.recommend_list').children('a').find('dt'),$('.extension_other'))
</script>









                    <div class="clear">
                    </div>
                </div>

            </div>

            <div id="side">
                

    <div class="side">

<div id="panel_Profile" class="panel">
<ul class="panel_head"><span>个人资料</span></ul>
<ul class="panel_body profile">
<div id="blog_userface">
    <a href="http://my.csdn.net/zhongbeida_xue" target="_blank">
    <img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/1_zhongbeida_xue.jpg" title="访问我的空间" style="max-width:90%">
    </a>
    <br>
    <span><a href="http://my.csdn.net/zhongbeida_xue" class="user_name" target="_blank">hNicholas</a></span>
</div>
<div class="interact">

    <a href="javascript:void(0);" class="attent" id="span_add_follow" title="[加关注]"></a>

 <a href="javascript:void(0);" class="letter" title="[发私信]" onclick="window.open('http://msg.csdn.net/letters/model?receiver=zhongbeida_xue','_blank','height=350,width=700');_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_sixin'])"></a>  
</div>
<div id="blog_medal">
                <div id="bms_box">
               </div>

</div>
<ul id="blog_rank">
    <li>访问：<span>255654次</span></li>
    <li>积分：<span>3362</span> </li>    
    <li>等级： <span style="position:relative;display:inline-block;z-index:1">
                 <a title="5级,点击查看等级说明" href="http://blog.csdn.net/home/help.html#level" target="_blank"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/blog5.png" alt="" style="vertical-align: middle;" id="leveImg"></a>
            
        </span>  </li>
    <li>排名：<span>第11840名</span></li>
</ul>
<ul id="blog_statistics">
    <li>原创：<span>15篇</span></li>
    <li>转载：<span>346篇</span></li>
    <li>译文：<span>0篇</span></li>
    <li>评论：<span>16条</span></li>
</ul>
</ul>
</div>


                        <div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" class="form_search csdn-tracking-statistics" data-pid="blog" target="_blank" data-mod="popu_306">
        <span><input id="inputSearch" class="blogsearch" title="请输入关键字" type="text"></span>
        <input id="btnSubmit" value="搜索" title="search in blog" type="button">
        </form>
    </ul>
</div>

<script type="text/javascript">

   
    $(function () {
        $("#btnSubmit").unbind("click");
        $("#btnSubmit").click(function () {           
            search();
        });

        $("#frmSearch").submit(function () {           
            search();
            return false;
        });

        function search()
        {
            if ($("#inputSearch").val() == "") {               
                alert("请录入搜索关键词！");                         
                return false;
            }
            //var url = "http://so.csdn.net/so/search/s.do?q=" + 
encodeURIComponent($("#inputSearch").val()) + "&u=" + username + 
"&t=blog";           
            var url = "https://www.baidu.com/s?wd=" + 
encodeURIComponent($("#inputSearch").val()) + "%20site%3Ablog.csdn.net"
            var url = "/" + username + "?q=" + 
encodeURIComponent($("#inputSearch").val());
            window.location.href = url;
        }   
    });
</script> 
<div id="panel_Category" class="panel">
<ul class="panel_head"><span>文章分类</span></ul>
<ul class="panel_body">    
                 <li>
                    <a href="http://blog.csdn.net/zhongbeida_xue/article/category/6134454" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">iOS</a><span>(80)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/zhongbeida_xue/article/category/6134457" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">C/C++</a><span>(13)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/zhongbeida_xue/article/category/6134458" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Linux</a><span>(41)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/zhongbeida_xue/article/category/6134460" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">Other</a><span>(161)</span>
                </li>
                 <li>
                    <a href="http://blog.csdn.net/zhongbeida_xue/article/category/6205870" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_wenzhangfenlei']); ">python</a><span>(107)</span>
                </li>
</ul>
</div>
<div id="panel_Archive" class="panel">
<ul class="panel_head"><span>文章存档</span></ul>
<ul class="panel_body">
<div id="archive_list"><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2018/01">2018年01月</a><span>(17)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/12">2017年12月</a><span>(10)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/11">2017年11月</a><span>(27)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/10">2017年10月</a><span>(10)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/09">2017年09月</a><span>(22)</span></li><span class="hidelist" style="display:none;"><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/08">2017年08月</a><span>(13)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/07">2017年07月</a><span>(9)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/06">2017年06月</a><span>(12)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/05">2017年05月</a><span>(13)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/04">2017年04月</a><span>(16)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/03">2017年03月</a><span>(16)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/02">2017年02月</a><span>(13)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2017/01">2017年01月</a><span>(14)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/12">2016年12月</a><span>(10)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/11">2016年11月</a><span>(17)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/10">2016年10月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/09">2016年09月</a><span>(19)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/08">2016年08月</a><span>(7)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/07">2016年07月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/06">2016年06月</a><span>(16)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/05">2016年05月</a><span>(30)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/04">2016年04月</a><span>(25)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/03">2016年03月</a><span>(12)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/02">2016年02月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2016/01">2016年01月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2015/11">2015年11月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2015/10">2015年10月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2015/09">2015年09月</a><span>(8)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2015/08">2015年08月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/zhongbeida_xue/article/month/2015/01">2015年01月</a><span>(6)</span></li></span><div id="archive_list_button" class="list_closed">展开</div></div>
</ul>
</div>

<div id="hotarticls" class="panel csdn-tracking-statistics" data-pid="blog" data-mod="popu_340">
<ul class="panel_head">
    <span>       
阅读排行    </span>
</ul>

<ul class="panel_body itemlist">
<li>
<a href="http://blog.csdn.net/zhongbeida_xue/article/details/51701052" title="iOS开发 给Label加下划线、中划线" target="_blank">iOS开发 给Label加下划线、中划线</a><span>(11466)</span>
</li>
<li>
<a href="http://blog.csdn.net/zhongbeida_xue/article/details/51613615" title="CentOS关闭休眠和屏保模式" target="_blank">CentOS关闭休眠和屏保模式</a><span>(9361)</span>
</li>
<li>
<a href="http://blog.csdn.net/zhongbeida_xue/article/details/51274760" title="Python 小数点精度控制" target="_blank">Python 小数点精度控制</a><span>(8222)</span>
</li>
<li>
<a href="http://blog.csdn.net/zhongbeida_xue/article/details/51252303" title="math.h 包含函数介绍" target="_blank">math.h 包含函数介绍</a><span>(7904)</span>
</li>
<li>
<a href="http://blog.csdn.net/zhongbeida_xue/article/details/51280292" title="Linux的任务调度机制" target="_blank">Linux的任务调度机制</a><span>(5578)</span>
</li>
<li>
<a href="http://blog.csdn.net/zhongbeida_xue/article/details/70317829" title="Ceilometer原理及介绍" target="_blank">Ceilometer原理及介绍</a><span>(5088)</span>
</li>
<li>
<a href="http://blog.csdn.net/zhongbeida_xue/article/details/54613750" title="tc命令——Linux基于IP进行流量限速" target="_blank">tc命令——Linux基于IP进行流量限速</a><span>(4604)</span>
</li>
<li>
<a href="http://blog.csdn.net/zhongbeida_xue/article/details/51038162" title="iOS拍照和录制视频 摄像头使用" target="_blank">iOS拍照和录制视频 摄像头使用</a><span>(4518)</span>
</li>
<li>
<a href="http://blog.csdn.net/zhongbeida_xue/article/details/54019266" title="OpenStack 类型模板(flavor)" target="_blank">OpenStack 类型模板(flavor)</a><span>(4333)</span>
</li>
<li>
<a href="http://blog.csdn.net/zhongbeida_xue/article/details/52204961" title="iOS  UITableView设置Section间距" target="_blank">iOS  UITableView设置Section间距</a><span>(4278)</span>
</li>
</ul>
</div>

<div id="homepageArticles" class="panel csdn-tracking-statistics" data-pid="blog" data-mod="popu_4" style="height:250px;">

    <div id="cpro_u2734133" style="text-align:center;">
      
        <!-- 投放代码 -->
        <div><iframe scrolling="no" src="//pos.baidu.com/s?hei=250&amp;wid=250&amp;di=u2734133&amp;ltu=http%3A%2F%2Fblog.csdn.net%2Fzhongbeida_xue%2Farticle%2Fdetails%2F78654676&amp;dtm=HTML_POST&amp;cfv=28&amp;pss=1903x5170&amp;cdo=-1&amp;chi=1&amp;psr=1920x1080&amp;col=zh-CN&amp;exps=114092&amp;pis=-1x-1&amp;dri=0&amp;tlm=1518067744&amp;dai=4&amp;dc=3&amp;drs=3&amp;cec=UTF-8&amp;par=1920x1040&amp;tcn=1518067745&amp;ari=2&amp;ant=0&amp;cja=false&amp;ltr=https%3A%2F%2Fwww.baidu.com%2Flink%3Furl%3D6DEyhVYpEg4ecjABaiwz8VamaKiK3Wb60uEbRUGb71GcpJa52wasT45OFY9N7w4rR7xwRjBnuFsR0-U1fkjNHC1XrYM79qo-IsnM0nlcvIq%26wd%3D%26eqid%3Da616d69600037ba3000000055a7bdfb4&amp;pcs=1903x966&amp;cmi=2&amp;cpl=1&amp;ti=OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2&amp;cce=true&amp;dis=0&amp;tpr=1518067743381&amp;ccd=24&amp;ps=1576x324" width="250" height="250" frameborder="0"></iframe><span id="jisyd" style="display:none;"></span></div><script type="text/javascript" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/bwlxosfoo.js"></script>
      

    </div>


</div>


<div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
   
         <a href="http://blog.csdn.net/zhongbeida_xue/article/details/51442381#comments">Python函数的各种参数用法(含星号参数)</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/guoke16888" class="user_name">guoke16888</a>:
有帮助,谢谢.
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/zhongbeida_xue/article/details/78769888#comments">MQTT Server搭建（apache-apollo）和MQtt Client搭建</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/shino_wu" class="user_name">shino_wu</a>:
MQTT通信能否不要中间件（broker），即生成者直接通过MQTT协议发消息给消费者？
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/zhongbeida_xue/article/details/51496563#comments">关于“硬解码”与“软解码”</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/qq_31941235" class="user_name">mma_BlueSkys</a>:
写的很详细
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/zhongbeida_xue/article/details/70317829#comments">Ceilometer原理及介绍</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/accjiyun" class="user_name">accjiyun</a>:
@zhongbeida_xue:谢谢！
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/zhongbeida_xue/article/details/53196984#comments">openstack之虚拟机的创建流程</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/zhongbeida_xue" class="user_name">hNicholas</a>:
@weixin_39400463:GET
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/zhongbeida_xue/article/details/53196984#comments">Ceilometer原理及介绍</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/zhongbeida_xue" class="user_name">hNicholas</a>:
@accjiyun:在/etc/ceilometer/pipeline.yaml  中添加配置。可以...
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/zhongbeida_xue/article/details/53196984#comments">Ceilometer原理及介绍</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/accjiyun" class="user_name">accjiyun</a>:
请问怎么添加cpu_util等指标到监控项，已创建虚拟机实例。
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/zhongbeida_xue/article/details/51280292#comments">Linux的任务调度机制</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/jiangtao6888" class="user_name">jiangtao6888</a>:
get
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/zhongbeida_xue/article/details/51280292#comments">openstack之虚拟机的创建流程</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/weixin_39400463" class="user_name">可可的爸爸</a>:
源码分析 这个文章写的不错http://blog.csdn.net/weixin_39400463/...
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/zhongbeida_xue/article/details/51280292#comments">Ceilometer原理及介绍</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/ITzhangdaopin" class="user_name">itzhangdaopin</a>:
厉害了，感觉比ceilometer的官方文档，要好理解，谢谢博主的辛勤分享！
    </p>
    </li>
</ul>
</div>

    </div>
    <div class="clear">
    </div>

                        <div class="csdn-tracking-statistics" data-pid="blog" data-view="true" data-mod="ad_popu_189" data-mtp="63" data-order="40" data-con="ad_content_1259" style="width: 250px; height: 250px;">
                            <div id="nav_show_top_stop" style="width: 250px; height: 250px; z-index: 1000; position: fixed; top: 0px;">

                                <div id="cpro_u3031286" style="text-align:center;">
                                    <!-- 投放代码 -->
                                    <div id="_air7olp6atk" style="width: 100%;"><iframe scrolling="no" src="http://pos.baidu.com/s?hei=250&amp;wid=250&amp;di=u3031286&amp;ltu=http%3A%2F%2Fblog.csdn.net%2Fzhongbeida_xue%2Farticle%2Fdetails%2F78654676&amp;ccd=24&amp;chi=1&amp;pis=-1x-1&amp;psr=1920x1080&amp;cdo=-1&amp;col=zh-CN&amp;dri=0&amp;ti=OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2&amp;pss=1903x5170&amp;cmi=2&amp;dis=0&amp;cfv=28&amp;tlm=1518067745&amp;drs=4&amp;dai=5&amp;ant=0&amp;cja=false&amp;cec=UTF-8&amp;ltr=https%3A%2F%2Fwww.baidu.com%2Flink%3Furl%3D6DEyhVYpEg4ecjABaiwz8VamaKiK3Wb60uEbRUGb71GcpJa52wasT45OFY9N7w4rR7xwRjBnuFsR0-U1fkjNHC1XrYM79qo-IsnM0nlcvIq%26wd%3D%26eqid%3Da616d69600037ba3000000055a7bdfb4&amp;ps=2451x323&amp;cpl=1&amp;dc=3&amp;cce=true&amp;pcs=1903x966&amp;dtm=HTML_POST&amp;par=1920x1040&amp;tcn=1518067746&amp;ari=2&amp;tpr=1518067743381&amp;exps=114092" width="250" height="250" frameborder="0"></iframe></div><script type="text/javascript" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/bwocoflyv.js"></script>
                                    



                                </div>
                            </div>
                        </div>
                        <script>

                            setTimeout(function () {
                                var naviga_offsetTop = 0; function 
naviga_stay_top() {
                                    var scrollTop = 
jQuery(document).scrollTop();
                                    if (scrollTop > naviga_offsetTop) {
                                        
jQuery("#nav_show_top_stop").css({ "position": "fixed" });
                                        
jQuery("#nav_show_top_stop").css({ "top": "0px" });
                                    } else { 
jQuery("#nav_show_top_stop").css({ "position": "fixed" }); 
jQuery("#nav_show_top_stop").css({ "top": naviga_offsetTop - scrollTop +
 "px" }); }
                                }
                                function onload_function() {
                                    naviga_offsetTop = 
jQuery("#nav_show_top_stop").position().top;
                                    jQuery(window).bind("scroll", 
naviga_stay_top); jQuery(window).bind("mousewheel", naviga_stay_top);
                                    jQuery(document).bind("scroll", 
naviga_stay_top); jQuery(document).bind("mousewheel", naviga_stay_top);
                                } 
jQuery(document).ready(onload_function);
                            }, 200);

                        </script>

            </div>
            <div class="clear">
            </div>
        </div>

        













<script type="text/javascript">
    $(function () {
        function __get_code_toolbar(snippet_id) {
            return $("<span class='csdn-tracking-statistics' 
data-pid=\"blog\"  data-mod='popu_167'><a 
href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "' target='_blank' title='在CODE上查看代码片'  
style='text-indent:0;'><img 
src='https://code.csdn.net/assets/CODE_ico.png' width=12 height=12 
alt='在CODE上查看代码片' 
style='position:relative;top:1px;left:2px;'/></a></span>"
                + "<span class='csdn-tracking-statistics' 
data-pid=\"blog\"  data-mod='popu_170'><a 
href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "/fork' target='_blank' title='派生到我的代码片' 
style='text-indent:0;'><img 
src='https://code.csdn.net/assets/ico_fork.svg' width=12 height=12 
alt='派生到我的代码片' 
style='position:relative;top:2px;left:2px;'/></a></span>");
        }
        
        $("[code_snippet_id]").each(function () {
            __s_id = $(this).attr("code_snippet_id");
            if (__s_id != null && __s_id != "" && __s_id != 0 && 
parseInt(__s_id) > 70020) {
                __code_tool = __get_code_toolbar(__s_id);
                $(this).prev().find(".tools").append(__code_tool);
            }
        });

        $(".bar").show();
    });
</script>





    </div><div class="texCommend" style="position:absolute;display:none;">显示当前公式源码</div><div class="imgViewDom disnone" style="display: none;"><img src=""></div><style>.imgViewDom{display:none;position:fixed;top:0;left:0;height:100%;width:100%;z-index:99999999;background:
 rgba(255, 255, 255,0.8);overflow: 
auto;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;display:-moz-box;-moz-box-align:center;-moz-box-pack:center;display:-o-box;-o-box-align:center;-o-box-pack:center;display:-ms-box;-ms-box-align:center;-ms-box-pack:center;
 display:box;box-align:center;box-pack:center;}.imgViewDom img{cursor: 
zoom-out;}</style>


    <script type="text/javascript" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/MathJax.js"></script>


        <script src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/csdn_blog_detail.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/pub_footer_2014.css"><div class="pub_fo"><div id="pub_footerall" class="pub_footer_new"><dl><dt></dt> <dd class="foot_sub_menu"><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a><span>|</span><a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a><span>|</span><a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a><span>|</span><a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a><span>|</span><a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a><span>|</span><a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a><span>|</span><a href="mailto:webmaster@csdn.net">问题报告</a><span>|</span><a target="_blank" href="http://www.csdn.net/friendlink.html">合作伙伴</a><span>|</span><a href="http://bbs.csdn.net/forums/Service" target="_blank">论坛反馈</a></dd><dd class="foot_contact"><a href="javascript:void(0);" target="_blank" class="qq">网站客服</a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=2251809102&amp;site=qq&amp;menu=yes" target="_blank" class="qq">杂志客服</a><a href="http://e.weibo.com/csdnsupport/profile" target="_blank" class="weibo">微博客服</a><a href="mailto:webmaster@csdn.net" class="email" title="联系邮箱">webmaster@csdn.net</a><span class="phone" title="服务热线">400-660-0108</span><span class="interval">|</span><span>北京创新乐知信息技术有限公司 版权所有</span><span class="interval">|</span><span>江苏知之为计算机有限公司</span><span class="interval">|</span><span>江苏乐知网络技术有限公司</span></dd><dd class="foot_copyright"><span>京&nbsp;ICP&nbsp;证&nbsp;09002463&nbsp;号</span><span class="interval">|</span><span>Copyright © 1999-2017, CSDN.NET, All Rights Reserved&nbsp;</span><a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><img src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/gongshang_logos.gif" alt="GongshangLogo" title=""></a></dd></dl></div></div><script id="noticeScript" type="text/javascript" btnid="header_notice_num" wrapid="note1" count="5" subcount="5" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/notify.js"></script><input id="aa_g_data_ids" type="hidden">

        <script type="text/javascript" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/csdn_public_blog_detail.js"></script>

        <script type="text/javascript" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/showblogmedal.js"></script>


        <div id="a52b5334d" style="width: 1px; height: 1px; display: none;">
            <script id="adJs52b5334" src="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/52b5334.js"></script>
            <script>document.getElementById("adJs52b5334").src = "http://ads.csdn.net/js/opt/52b5334.js?t=" + Math.random();</script>
        </div>

        <div class="pop_CA_cover" style="display:none"></div>
        <div class="pop pop_CA" style="display:none">
            <div class="CA_header">
                收藏助手
                <span class="cancel_icon" id="fapancle" onclick="$('.pop_CA').hide();$('.pop_CA_cover').hide();"></span>
            </div>
            <iframe src="" id="fa" scrolling="no" width="100%" height="360" frameborder="0"></iframe>
        </div>


            <script type="text/javascript">

                $(function () {
                    var fromjs = $("#fromjs");
                    if (fromjs.length > 0) {
                        $("#fromjs .markdown_views pre").addClass("prettyprint");
                        prettyPrint();

                        $('pre.prettyprint code').each(function () {
                            var lines = $(this).text().split('\n').length;
                            var $numbering = $('<ul/>').addClass('pre-numbering').hide();
                            $(this).addClass('has-numbering').parent().append($numbering);
                            for (i = 1; i <= lines; i++) {
                                $numbering.append($('<li/>').text(i));
                            };
                            $numbering.fadeIn(1700);
                        });

                        $('.pre-numbering li').css("color", "#999");
                    }
                });

                $(".markdown_views a[target!='_blank']").attr("target", "_blank");

                //$(".toc a[target='_blank']").attr("target", "");

                setTimeout(function () {
                    $(".toc a[target='_blank']").attr("target", "");
                }, 500);

            </script>
                <div style="display:none;">
                    <img src="" onerror='setTimeout(function(){if(top!==self){window.top.location.href=window.location.href}if(!/(csdn.net|iteye.com|baiducontent.com|googleusercontent.com|360webcache.com|sogoucdn.com|bingj.com)$/.test(window.location.hostname)){window.location.href="\x68\x74\x74\x70\x73\x3a\x2f\x2f\x77\x77\x77\x2e\x63\x73\x64\x6e\x2e\x6e\x65\x74"}},3000);'>
                </div>
    

<div style="position:fixed; top:0; left:0; overflow:hidden;"><input style="position:absolute; left:-300px;" id="focus_retriever" readonly="true" type="text"></div><link rel="stylesheet" type="text/css" media="screen" href="OpenStack%20keystone%E8%AF%A6%E8%A7%A3%E5%8F%8A%E8%B0%83%E4%BC%98%20-%20Nicholas%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20CSDN%E5%8D%9A%E5%AE%A2_files/ask_float_fonts_css-6b30a53970eb5c3a2a045e3df585b475.css"><div data-mod="popu_64" class="csdn-tracking-statistics" chg-blk="0"><a id="com-quick-QRcode" class="QRcodebg1" title="扫描二维码" style="top:322px"><span class="closeQR"></span></a><a id="com-quick-reply" title="快速回复" style="top:456px"></a><a id="com-quick-collect" title="我要收藏" style="top:494px"></a><a id="com-d-top-a" style="top: 532px; display: inline;" title="返回顶部" onclick=""></a></div><div class="pop_edit ask_second comm_ask_second"><h3>提问</h3><span class="ask_float_span">您的问题将会被发布在“<a class="ask_float_channel" href="http://ask.csdn.net/" target="_blank" style="cursor:pointer">技术问答</a>”频道</span><a href="#" nodetype="close" class="close">×</a><div class="context"><div class="err_div"><span class="err_ico"></span><span class="err_txt">该问题已存在，请勿重复提问</span></div><div class="input_div"><input id="askInputSecond" style="font-size:14px;" placeholder="问题标题" type="text"></div><div class="cm_box"><div class="cm_dialog"></div> <div class="pop_cm cm_add_link"><input placeholder="链接内容" id="af_cm_link_txt" type="text"><input placeholder="链接地址" id="af_cm_link_url" type="text"><input placeholder="链接提示" id="af_cm_link_tit" type="text"><div class="text-right"><span class="btn btn-default btn-sm" id="add_link_btn">插入链接</span> </div> </div><div class="pop_cm cm_add_img"><div class="nav-tabs"><a class="img_tab active" href="#tab_upload">本地上传</a><a class="img_tab" href="#tab_weburl">网络图片</a></div><div class="tab_panel active" id="tab_upload"><div class="set_img"></div></div><div class="tab_panel" id="tab_weburl"><input placeholder="图片地址" id="af_cm_img_url" type="text"><input placeholder="图片说明" id="af_cm_img_alt" type="text"><div class="text-right"><span class="btn btn-default btn-sm" id="add_img_btn">插入图片</span> </div></div> </div></div> <textarea id="editor_all" rows="8" style="display: none;"></textarea><div class="editor-toolbar"><i class="separator">|</i><a class="icon-headline" title="标题一（Ctrl+Alt+1）"></a><a class="icon-heading" title="标题二（Ctrl+Alt+2）"></a><a class="icon-bold" title="粗体（Ctrl+B）"></a><a class="icon-italic" title="斜体（Ctrl+I）"></a><i class="separator">|</i><a class="icon-quote-left" title="引用（Ctrl+’）"></a><a class="icon-code" title="插入代码片（Ctrl+,）"></a><a class="icon-list-ul" title="无序列表（Ctrl+L）"></a><a class="icon-list-ol" title="有序列表（Ctrl+Alt+L）"></a><i class="separator">|</i><a class="icon-link" title="添加链接（Ctrl+K）"></a><a class="icon-picture" title="添加图片（Ctrl+Alt+I）"></a><i class="separator">|</i><a class="icon-reply" title="撤退（Ctrl+Z）"></a><a class="icon-share-alt" title="前进（Ctrl+Shift+Z）"></a><i class="separator">|</i><a class="icon-info" href="http://ask.csdn.net/pages/markdown" target="_blank" title="markdown语法参考"></a><a class="icon-preview" title="预览"></a><i class="separator">|</i></div><div class="CodeMirror cm-s-paper CodeMirror-focused"><div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: medium none currentcolor; font-size: 4px;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar"><div style="height: 1px;"></div></div><div class="CodeMirror-vscrollbar"><div style="width: 1px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="min-width: 33px;"><div style="position: relative;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none currentcolor;"><div class="CodeMirror-measure"><pre>&nbsp;<span style="display: inline-block; width: 1px; margin-right: -1px;">&nbsp;</span></pre></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code"></div><div class="CodeMirror-cursor" style="">&nbsp;</div><div class="CodeMirror-cursor CodeMirror-secondarycursor" style="">&nbsp;</div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px;"></div><div class="CodeMirror-gutters" style="display: none;"></div></div></div><div class="editor-statusbar"><span class="lines">0</span><span class="words">0</span><span class="cursor">0:0</span></div><div class="div_tags clearfix"><div id="divSearchTags" class="tags_con"><input type="text"></div><input name="txtSearchTags" type="hidden"></div><div id="ask2_tagRecomm_div" class="drt_tagRecomm tracking-ad" data-mod="popu_73"><span class="drt_tit">推荐标签：</span></div></div><div class="success"><div class="left_area"><input id="chk_cb" type="checkbox"><span class="wyxs">我要悬赏</span><input id="cb_num" class="cb_num" readonly="true"><span class="phib_rii"><span> 币</span></span></div><a href="#" nodetype="cancel" class="cancel">取消</a><a href="#" nodetype="ok" class="ok">发布</a></div></div><div id="common_ask_div_sc" class="searchContainer"><div class="sTitle">可能存在类似的问题：</div><div class="sFooter"><a class="sFirstNewAsk">我想提一个新问题</a></div></div><div style="position:fixed; top:0; left:0; overflow:hidden;"><input style="position:absolute; left:-300px;" id="focus_retriever" readonly="true" type="text"></div></body></html>