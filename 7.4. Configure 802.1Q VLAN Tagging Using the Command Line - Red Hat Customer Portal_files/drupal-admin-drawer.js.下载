define(["jquery","lodash","handlebars.runtime","chrome_lib","drupal-admin-drawer-templates","session"],function(n,e,t,i,r,s){var a={multi:"icon-pencil"};function o(n){return n.icon=a[n.type],n}return n.fn.tabDrawer=function(e,t){var i=this,r="open",a="active",o="in",d=i.find(".drawer"),f=i.find(".toggler"),u=i.find(".toggler."+a).first(),c="tabDrawer.opened",l="tabDrawer.closed";function h(){u.length?v(u):v(n(f.get(0))),i.addClass(r).transitionEnd(function(){i.trigger(c)})}function g(){u.removeClass(a).blur(),i.removeClass(r).transitionEnd(function(){i.trigger(l)})}function p(){i.hasClass(r)?g():h()}function v(e){d.removeClass(o),n(e.data("target")).addClass(o),u.length&&u.removeClass(a),e.addClass(a),u=e}if(s.isInternal()&&n("body").addClass("internal-user"),n("body").addClass("admin-drawer-loaded"),"open"===e){if(void 0===t&&h(),"number"==typeof t){if(!i.hasClass(r))return n(f.get(t)).click(),this;i.hasClass(r)&&!u.is(n(f.get(t)))&&v(n(f.get(t)))}return this}return"close"===e?(g(),this):"toggle"===e?(p(),this):(f.on("click",function(e){if(e.preventDefault(),u.length&&i.hasClass(r))return u.is(n(this))?void g():void v(n(this));u=n(this),p()}),this.on("keyup",function(n){27===n.keyCode&&i.hasClass(r)&&g()}),this)},n.fn.transitionEnd=function(e){var t="transitionend webkitTransitionEnd mozTransitionEnd oTransitionEnd MSTransitionEnd";return this.each(function(){n(this).bind(t,function(){return n(this).unbind(t),e.call(this)})})},{init:function(i){var a;t.registerHelper("slug",function(n){return n&&"string"==typeof n?n.replace(/^\s+|\s+$/g,"").toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"):n}),t.registerHelper("ifCond",function(n,e,t,i){switch(e){case"==":return n==t?i.fn(this):i.inverse(this);case"===":return n===t?i.fn(this):i.inverse(this);case"<":return n<t?i.fn(this):i.inverse(this);case"<=":return n<=t?i.fn(this):i.inverse(this);case">":return n>t?i.fn(this):i.inverse(this);case">=":return n>=t?i.fn(this):i.inverse(this);case"&&":return n&&t?i.fn(this):i.inverse(this);case"||":return n||t?i.fn(this):i.inverse(this);default:return i.inverse(this)}}),s.onInit((a=i,a=e.map(a,o),function(){if(s.isInternal()){var e=r.drupal_admin_drawer.main({data:a});n(e).prependTo("#cp-content"),n(".admin-drawer").affix({offset:{top:n("#cp-content").offset().top}}).tabDrawer()}}))}}});
//# sourceMappingURL=drupal-admin-drawer.js.map