if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.ajax"]=true;

;if(!dojo._hasResource["com.ibm.ajax.auth"]){
dojo._hasResource["com.ibm.ajax.auth"]=true;
dojo.provide("com.ibm.ajax.auth");
com.ibm.ajax.auth={contentTypeRegex:/^text\/html/,ignoredDojoErrors:["cancel","timeout"],nonHtmlTypes:["xml","json","json-comment-optional"],checkFromCaller:true,checkByContentType:true,checkByStatusCode:true,checkAllStatusCodes:false,checkByXLConnAuth:false,authenticationChecks:[],interceptDojoXhr:function(_1){
if(this._intercepted){
return;
}
this._intercepted=true;
if(_1){
this.isUrlSecure=_1;
}
dojo.xhr=dojo.hitch(dojo,this.xhrIntercept,this,dojo.xhr);
if(dojo.getObject("dojo.io.iframe")){
dojo.io.iframe.send=dojo.hitch(dojo.io.iframe,this.ioIntercept,this,dojo.io.iframe.send);
}
},prepareSecure:function(_2,_3,_4,_5){
if(_2["com.ibm.ajax.auth.prepareSecureCalled"]){
return _2;
}
_2["com.ibm.ajax.auth.prepareSecureCalled"]=true;
if(!_5){
var h=_2.headers=_2.headers||{};
var p=h.Pragma;
if(!dojo.isArray(p)){
p=h.Pragma=p?[p]:[];
}
p.push("WWW-Authenticate=XHR");
}
_2._handle=_2.handle;
_2.handle=dojo.partial(this.testAuthenticationHandler,this,_3,_4);
return _2;
},setAuthenticationHandler:function(_6){
this.authenticationHandler=_6;
},setDefaultAuthenticationTests:function(_7,_8,_9){
this.checkFromCaller=_7;
this.checkByContentType=_8;
this.checkByStatusCode=_9;
},addAuthenticationCheck:function(_a){
if(_a){
this.authenticationChecks.push(_a);
}
},setAuthenticationTest:function(_b){
this.isAuthenticationRequired=dojo.partial(_b,this);
},isAuthenticationRequired:function(_c,_d){
if(this.isPossibleLoginRedirect(_c,_d)){
return true;
}
var i;
for(i=0;i<this.authenticationChecks.length;i++){
if(this.authenticationChecks[i](this,_c,_d)){
_d._authOutcome="Custom authentication check #"+(i+1)+" indicated login necessary";
return true;
}
}
return false;
},isPossibleLoginRedirect:function(_e,_f){
if(_f.xhr&&(!_e||dojo.indexOf(this.ignoredDojoErrors,_e.dojoType)==-1)){
var _10;
try{
_10=_f.xhr.status;
}
catch(ignore){
}
var _11=_f.handleAs;
if(_f.args){
_11=_f.args.expectedContentType||_f.args.handleAs;
}
var _12=dojo.indexOf(this.nonHtmlTypes,_11)!=-1;
if(this.checkByStatusCode&&(_12||this.checkAllStatusCodes)){
if(_10==302){
_f._authOutcome="Status code was 302";
return true;
}
if(_10==401){
_f._authOutcome="Status code was 401";
return true;
}
if(dojo.isIE&&(_10==0||_10=="unknown")){
_f._authOutcome="Status code was 0 or \"unknown\"";
return true;
}
}
var _13="html";
if(_f.xhr.getResponseHeader){
_13=_f.xhr.getResponseHeader("Content-Type");
}else{
if(_f.HEADERS){
_13=_f.HEADERS["Content-Type"];
}
}
if(this.checkByContentType&&_12&&this.contentTypeRegex.exec(_13)&&_10>=200&&_10<300&&_10!=204){
_f._authOutcome="Content-Type was HTML and status code indicated success";
return true;
}
try{
if(this.checkByXLConnAuth&&_f&&_f.xhr){
var h=_f.xhr.getResponseHeader("X-LConn-Auth");
if(h=="true"){
return false;
}
if(h=="false"){
return true;
}
}
}
catch(ignore){
}
}
return false;
},testAuthenticationHandler:function(_14,_15,_16,_17,_18){
var _19=dojo._toArray(arguments).slice(3);
var _1a=false;
if(_14.checkFromCaller&&typeof _15=="function"&&_15(_17,_18)){
_18._authOutcome="isAuthRequired returned true";
_1a=true;
}
_1a=_1a||_14.isAuthenticationRequired(_17,_18);
if(_1a){
_14.authenticationHandler(_17,_18,_16);
_19[0]=new Error("xhr unauthenticated");
_19[0].dojoType="unauthenticated";
}
if(_18.args&&_18.args._handle){
return _18.args._handle.apply(this,_19);
}
if(_18._handle){
return _18._handle.apply(this,_19);
}
return _17;
},authenticationHandler:function(){
console.log("auth::authenticationHandler DEBUG authentication was required");
},xhrIntercept:function(_1b,f,_1c,_1d){
var _1e=dojo._toArray(arguments).slice(2);
var p=_1d.auth||{};
var _1f=p.secured;
if(_1f||(_1f!=false&&_1b.isUrlSecure(_1d.url))){
_1e[1]=_1b.prepareSecure(_1d,p.isAuthRequired,p.onLogin,p.sendXhrAuthHeader===false);
}
return f.apply(this,_1e);
},ioIntercept:function(_20,f,_21){
var _22=dojo._toArray(arguments).slice(2);
var p=_21.auth||{};
var _23=p.secured;
if(_23||(_23!=false&&_20.isUrlSecure(_21.url))){
_22[0]=_20.prepareSecure(_21,p.isAuthRequired,p.onLogin,p.sendXhrAuthHeader===false);
}
return f.apply(this,_22);
},isUrlSecure:function(url){
return false;
}};
}

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.mm"]=true;

;if(!dojo._hasResource["com.ibm.mm.livetext.serviceImpl"]){
dojo._hasResource["com.ibm.mm.livetext.serviceImpl"]=true;
dojo.provide("com.ibm.mm.livetext.serviceImpl");
dojo.declare("com.ibm.mm.livetext.serviceImpl",null,{_tagTypes:null,tagChanged:"/com/ibm/mashups/livetext/livetextchanged",tagStatusChange:"/com/ibm/mashups/livetext/livetextchanged",tagContentChanged:"/com/ibm/mashups/livetext/livetextcontentchanged",entryAdded:"/com/ibm/mashups/livetext/configentryadded",entryRemoved:"/com/ibm/mashups/livetext/configentryremoved",init:function(){
this._loadTags();
dojo.subscribe(this.tagChanged,this,"onTagChanged");
dojo.subscribe(this.tagContentChanged,this,"onTagContentChanged");
dojo.subscribe(this.entryAdded,this,"onAddConfigEntry");
dojo.subscribe(this.entryRemoved,this,"onRemoveConfigEntry");
dojo.publish(this.tagContentChanged,[document,true]);
},_getNodes:function(_1,_2){
if(_2.processEnclosedTags){
return dojo.query(_2.match,_1);
}else{
var a=dojo.query(_2.match+" "+_2.match,_1);
var b=dojo.query(_2.match,_1);
var _3,_4;
while(a.length>0){
_3=a[0];
_4=0;
while(_4<b.length){
if(_3==b[_4]){
a.splice(0,1);
b.splice(_4,1);
break;
}else{
_4++;
}
}
}
return b;
}
},onTagChanged:function(_5,_6,_7,_8){
var _9=null,_a=null,_b=null;
for(var _c=0;_c<this._tagTypes.length;_c++){
_9=this._tagTypes[_c];
this._processTypeTag(_5,_9,_6,_7,_8,true);
}
},onTagContentChanged:function(_d,_e,_f,_10){
var tag=null,_11=null,_12=null;
for(var _13=0;_13<this._tagTypes.length;_13++){
tag=this._tagTypes[_13];
this._processTypeTag(_d,tag,_e,_f,_10,false);
}
},_processTypeTag:function(_14,tag,_15,_16,_17,_18){
var _19=[];
if(_18&&this._checkRoot(_14,tag)){
_19[0]=_14;
}
_19=_19.concat(this._getNodes(_14,tag));
var _1a=[];
_1a=_1a.concat(_19);
if(_1a.length>0){
if(tag.loaded==null){
this._loadTagHandler(tag);
}
var _1b=[];
if(dojo.isFunction(_16)){
try{
_16(_14,_1a);
}
catch(error){
if(dojo.config.isDebug){
console.debug(error);
}
}
}
for(var _1c=0;_1c<_19.length;_1c++){
try{
tag.tagHandler.processTag(_19[_1c]);
}
catch(error){
_1b[_1b.length]=error;
if(_15){
break;
}
}
}
if(dojo.isFunction(_17)){
try{
_17(_14,_1a,_1b);
}
catch(error){
if(dojo.config.isDebug){
console.debug(error);
}
}
}
}
},_checkRoot:function(_1d,tag){
var _1e=false;
if(_1d!=null&&_1d.nodeType){
var _1f=_1d.cloneNode(false);
var _20=document.createElement("div");
_20.appendChild(_1f);
var _21=this._getNodes(_20,tag);
if(_21!=null&&_21.length>0){
_1e=true;
}
delete _1f;
delete _20;
delete _21;
}
return _1e;
},_loadTags:function(){
if(this._tagTypes==null){
var _22=this;
if(typeof livetextCfg!="undefined"){
this._tagTypes=livetextCfg;
}else{
dojo.xhrGet({url:dojo.moduleUrl("com.ibm.mm.livetext","tagservice.entries.cfg"),handleAs:"text",sync:true,load:function(_23){
_22._tagTypes=dojo.fromJson(_23);
},error:function(_24){
console.dir(_24);
}});
}
}
},onAddConfigEntry:function(_25){
},onRemoveConfigEntry:function(_26){
},parseDom:function(_27,_28){
dojo.publish(this.tagChanged,[_28]);
},_loadTagHandler:function(tag){
dojo.registerModulePath(tag.module,tag.path);
dojo.eval("dojo.r"+"equire('"+tag.baseClass+"')");
var _29="{create:function(){return new "+tag.baseClass+"()}}";
var _2a=dojo.fromJson(_29);
tag.tagHandler=_2a.create();
tag.loaded=true;
}});
}


;define("dojo/window",["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(_1,_2,_3,_4,_5,_6,_7){
_2.add("rtl-adjust-position-for-verticalScrollBar",function(_8,_9){
var _a=_3.body(_9),_b=_7.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},_a,"last"),_c=_7.create("div",{style:{overflow:"hidden",direction:"ltr"}},_b,"last"),_d=_5.position(_c).x!=0;
_b.removeChild(_c);
_a.removeChild(_b);
return _d;
});
_2.add("position-fixed-support",function(_e,_f){
var _10=_3.body(_f),_11=_7.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},_10,"last"),_12=_7.create("span",{style:{position:"fixed",left:"0",top:"0"}},_11,"last"),ret=_5.position(_12).x!=_5.position(_11).x;
_11.removeChild(_12);
_10.removeChild(_11);
return ret;
});
var _13={getBox:function(doc){
doc=doc||_3.doc;
var _14=(doc.compatMode=="BackCompat")?_3.body(doc):doc.documentElement,_15=_5.docScroll(doc),w,h;
if(_2("touch")){
var _16=_13.get(doc);
w=_16.innerWidth||_14.clientWidth;
h=_16.innerHeight||_14.clientHeight;
}else{
w=_14.clientWidth;
h=_14.clientHeight;
}
return {l:_15.x,t:_15.y,w:w,h:h};
},get:function(doc){
if(_2("ie")&&_13!==document.parentWindow){
doc.parentWindow.execScript("document._parentWindow = window;","Javascript");
var win=doc._parentWindow;
doc._parentWindow=null;
return win;
}
return doc.parentWindow||doc.defaultView;
},scrollIntoView:function(_17,pos){
try{
_17=_4.byId(_17);
var doc=_17.ownerDocument||_3.doc,_18=_3.body(doc),_19=doc.documentElement||_18.parentNode,_1a=_2("ie"),_1b=_2("webkit");
if(_17==_18||_17==_19){
return;
}
if(!(_2("mozilla")||_1a||_1b||_2("opera")||_2("trident"))&&("scrollIntoView" in _17)){
_17.scrollIntoView(false);
return;
}
var _1c=doc.compatMode=="BackCompat",_1d=Math.min(_18.clientWidth||_19.clientWidth,_19.clientWidth||_18.clientWidth),_1e=Math.min(_18.clientHeight||_19.clientHeight,_19.clientHeight||_18.clientHeight),_1f=(_1b||_1c)?_18:_19,_20=pos||_5.position(_17),el=_17.parentNode,_21=function(el){
return (_1a<=6||(_1a==7&&_1c))?false:(_2("position-fixed-support")&&(_6.get(el,"position").toLowerCase()=="fixed"));
};
if(_21(_17)){
return;
}
while(el){
if(el==_18){
el=_1f;
}
var _22=_5.position(el),_23=_21(el),rtl=_6.getComputedStyle(el).direction.toLowerCase()=="rtl";
if(el==_1f){
_22.w=_1d;
_22.h=_1e;
if(_1f==_19&&_1a&&rtl){
_22.x+=_1f.offsetWidth-_22.w;
}
if(_22.x<0||!_1a||_1a>=9){
_22.x=0;
}
if(_22.y<0||!_1a||_1a>=9){
_22.y=0;
}
}else{
var pb=_5.getPadBorderExtents(el);
_22.w-=pb.w;
_22.h-=pb.h;
_22.x+=pb.l;
_22.y+=pb.t;
var _24=el.clientWidth,_25=_22.w-_24;
if(_24>0&&_25>0){
if(rtl&&_2("rtl-adjust-position-for-verticalScrollBar")){
_22.x+=_25;
}
_22.w=_24;
}
_24=el.clientHeight;
_25=_22.h-_24;
if(_24>0&&_25>0){
_22.h=_24;
}
}
if(_23){
if(_22.y<0){
_22.h+=_22.y;
_22.y=0;
}
if(_22.x<0){
_22.w+=_22.x;
_22.x=0;
}
if(_22.y+_22.h>_1e){
_22.h=_1e-_22.y;
}
if(_22.x+_22.w>_1d){
_22.w=_1d-_22.x;
}
}
var l=_20.x-_22.x,t=_20.y-_22.y,r=l+_20.w-_22.w,bot=t+_20.h-_22.h;
var s,old;
if(r*l>0&&(!!el.scrollLeft||el==_1f||el.scrollWidth>el.offsetHeight)){
s=Math[l<0?"max":"min"](l,r);
if(rtl&&((_1a==8&&!_1c)||_1a>=9)){
s=-s;
}
old=el.scrollLeft;
el.scrollLeft+=s;
s=el.scrollLeft-old;
_20.x-=s;
}
if(bot*t>0&&(!!el.scrollTop||el==_1f||el.scrollHeight>el.offsetHeight)){
s=Math.ceil(Math[t<0?"max":"min"](t,bot));
old=el.scrollTop;
el.scrollTop+=s;
s=el.scrollTop-old;
_20.y-=s;
}
el=(el!=_1f)&&!_23&&el.parentNode;
}
}
catch(error){
console.error("scrollIntoView: "+error);
_17.scrollIntoView(false);
}
}};
_2("extend-dojo")&&_1.setObject("dojo.window",_13);
return _13;
});

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["dijit"]=true;

;define("dijit/Viewport",["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_1,on,_2,_3,_4){
var _5=new _1();
var _6;
_2(function(){
var _7=_4.getBox();
_5._rlh=on(window,"resize",function(){
var _8=_4.getBox();
if(_7.h==_8.h&&_7.w==_8.w){
return;
}
_7=_8;
_5.emit("resize");
});
if(_3("ie")==8){
var _9=screen.deviceXDPI;
setInterval(function(){
if(screen.deviceXDPI!=_9){
_9=screen.deviceXDPI;
_5.emit("resize");
}
},500);
}
if(_3("ios")){
on(document,"focusin",function(_a){
_6=_a.target;
});
on(document,"focusout",function(_b){
_6=null;
});
}
});
_5.getEffectiveBox=function(_c){
var _d=_4.getBox(_c);
var _e=_6&&_6.tagName&&_6.tagName.toLowerCase();
if(_3("ios")&&_6&&!_6.readOnly&&(_e=="textarea"||(_e=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_6.type)))){
_d.h*=(orientation==0||orientation==180?0.66:0.4);
var _f=_6.getBoundingClientRect();
_d.h=Math.max(_d.h,_f.top+_f.height);
}
return _d;
};
return _5;
});


;define("dijit/main",["dojo/_base/kernel"],function(_1){
return _1.dijit;
});


;define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_1,_2,_3,_4,_5,_6,_7){
function _8(_9,_a,_b,_c){
var _d=_6.getEffectiveBox(_9.ownerDocument);
if(!_9.parentNode||String(_9.parentNode.tagName).toLowerCase()!="body"){
_5.body(_9.ownerDocument).appendChild(_9);
}
var _e=null;
_1.some(_a,function(_f){
var _10=_f.corner;
var pos=_f.pos;
var _11=0;
var _12={w:{"L":_d.l+_d.w-pos.x,"R":pos.x-_d.l,"M":_d.w}[_10.charAt(1)],h:{"T":_d.t+_d.h-pos.y,"B":pos.y-_d.t,"M":_d.h}[_10.charAt(0)]};
var s=_9.style;
s.left=s.right="auto";
if(_b){
var res=_b(_9,_f.aroundCorner,_10,_12,_c);
_11=typeof res=="undefined"?0:res;
}
var _13=_9.style;
var _14=_13.display;
var _15=_13.visibility;
if(_13.display=="none"){
_13.visibility="hidden";
_13.display="";
}
var bb=_2.position(_9);
_13.display=_14;
_13.visibility=_15;
var _16={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(_d.l,Math.min(_d.l+_d.w,pos.x+(bb.w>>1))-bb.w)}[_10.charAt(1)],_17={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(_d.t,Math.min(_d.t+_d.h,pos.y+(bb.h>>1))-bb.h)}[_10.charAt(0)],_18=Math.max(_d.l,_16),_19=Math.max(_d.t,_17),_1a=Math.min(_d.l+_d.w,_16+bb.w),_1b=Math.min(_d.t+_d.h,_17+bb.h),_1c=_1a-_18,_1d=_1b-_19;
_11+=(bb.w-_1c)+(bb.h-_1d);
if(_e==null||_11<_e.overflow){
_e={corner:_10,aroundCorner:_f.aroundCorner,x:_18,y:_19,w:_1c,h:_1d,overflow:_11,spaceAvailable:_12};
}
return !_11;
});
if(_e.overflow&&_b){
_b(_9,_e.aroundCorner,_e.corner,_e.spaceAvailable,_c);
}
var l=_2.isBodyLtr(_9.ownerDocument),top=_e.y,_1e=l?_e.x:_d.w-_e.x-_e.w;
if(/relative|absolute/.test(_3.get(_5.body(_9.ownerDocument),"position"))){
top-=_3.get(_5.body(_9.ownerDocument),"marginTop");
_1e-=(l?1:-1)*_3.get(_5.body(_9.ownerDocument),l?"marginLeft":"marginRight");
}
var s=_9.style;
s.top=top+"px";
s[l?"left":"right"]=_1e+"px";
s[l?"right":"left"]="auto";
return _e;
};
var _1f={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};
var _20={at:function(_21,pos,_22,_23,_24){
var _25=_1.map(_22,function(_26){
var c={corner:_26,aroundCorner:_1f[_26],pos:{x:pos.x,y:pos.y}};
if(_23){
c.pos.x+=_26.charAt(1)=="L"?_23.x:-_23.x;
c.pos.y+=_26.charAt(0)=="T"?_23.y:-_23.y;
}
return c;
});
return _8(_21,_25,_24);
},around:function(_27,_28,_29,_2a,_2b){
var _2c;
if(typeof _28=="string"||"offsetWidth" in _28){
_2c=_2.position(_28,true);
if(/^(above|below)/.test(_29[0])){
var _2d=_2.getBorderExtents(_28),_2e=_28.firstChild?_2.getBorderExtents(_28.firstChild):{t:0,l:0,b:0,r:0},_2f=_2.getBorderExtents(_27),_30=_27.firstChild?_2.getBorderExtents(_27.firstChild):{t:0,l:0,b:0,r:0};
_2c.y+=Math.min(_2d.t+_2e.t,_2f.t+_30.t);
_2c.h-=Math.min(_2d.t+_2e.t,_2f.t+_30.t)+Math.min(_2d.b+_2e.b,_2f.b+_30.b);
}
}else{
_2c=_28;
}
if(_28.parentNode){
var _31=_3.getComputedStyle(_28).position=="absolute";
var _32=_28.parentNode;
while(_32&&_32.nodeType==1&&_32.nodeName!="BODY"){
var _33=_2.position(_32,true),pcs=_3.getComputedStyle(_32);
if(/relative|absolute/.test(pcs.position)){
_31=false;
}
if(!_31&&/hidden|auto|scroll/.test(pcs.overflow)){
var _34=Math.min(_2c.y+_2c.h,_33.y+_33.h);
var _35=Math.min(_2c.x+_2c.w,_33.x+_33.w);
_2c.x=Math.max(_2c.x,_33.x);
_2c.y=Math.max(_2c.y,_33.y);
_2c.h=_34-_2c.y;
_2c.w=_35-_2c.x;
}
if(pcs.position=="absolute"){
_31=true;
}
_32=_32.parentNode;
}
}
var x=_2c.x,y=_2c.y,_36="w" in _2c?_2c.w:(_2c.w=_2c.width),_37="h" in _2c?_2c.h:(_4.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_2c.height+", width:"+_36+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_2c.height+", w:"+_36+" }","","2.0"),_2c.h=_2c.height);
var _38=[];
function _39(_3a,_3b){
_38.push({aroundCorner:_3a,corner:_3b,pos:{x:{"L":x,"R":x+_36,"M":x+(_36>>1)}[_3a.charAt(1)],y:{"T":y,"B":y+_37,"M":y+(_37>>1)}[_3a.charAt(0)]}});
};
_1.forEach(_29,function(pos){
var ltr=_2a;
switch(pos){
case "above-centered":
_39("TM","BM");
break;
case "below-centered":
_39("BM","TM");
break;
case "after-centered":
ltr=!ltr;
case "before-centered":
_39(ltr?"ML":"MR",ltr?"MR":"ML");
break;
case "after":
ltr=!ltr;
case "before":
_39(ltr?"TL":"TR",ltr?"TR":"TL");
_39(ltr?"BL":"BR",ltr?"BR":"BL");
break;
case "below-alt":
ltr=!ltr;
case "below":
_39(ltr?"BL":"BR",ltr?"TL":"TR");
_39(ltr?"BR":"BL",ltr?"TR":"TL");
break;
case "above-alt":
ltr=!ltr;
case "above":
_39(ltr?"TL":"TR",ltr?"BL":"BR");
_39(ltr?"TR":"TL",ltr?"BR":"BL");
break;
default:
_39(pos.aroundCorner,pos.corner);
}
});
var _3c=_8(_27,_38,_2b,{w:_36,h:_37});
_3c.aroundNodePos=_2c;
return _3c;
}};
return _7.place=_20;
});


;define("dijit/BackgroundIframe",["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_1,_2,_3,_4,_5,_6,on,_7){
_7.add("config-bgIframe",!_7("touch"));
var _8=new function(){
var _9=[];
this.pop=function(){
var _a;
if(_9.length){
_a=_9.pop();
_a.style.display="";
}else{
if(_7("ie")<9){
var _b=_3["dojoBlankHtmlUrl"]||_1.toUrl("dojo/resources/blank.html")||"javascript:\"\"";
var _c="<iframe src='"+_b+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";
_a=document.createElement(_c);
}else{
_a=_4.create("iframe");
_a.src="javascript:\"\"";
_a.className="dijitBackgroundIframe";
_a.setAttribute("role","presentation");
_5.set(_a,"opacity",0.1);
}
_a.tabIndex=-1;
}
return _a;
};
this.push=function(_d){
_d.style.display="none";
_9.push(_d);
};
}();
_2.BackgroundIframe=function(_e){
if(!_e.id){
throw new Error("no id");
}
if(_7("config-bgIframe")){
var _f=(this.iframe=_8.pop());
_e.appendChild(_f);
if(_7("ie")<7||_7("quirks")){
this.resize(_e);
this._conn=on(_e,"resize",_6.hitch(this,"resize",_e));
}else{
_5.set(_f,{width:"100%",height:"100%"});
}
}
};
_6.extend(_2.BackgroundIframe,{resize:function(_10){
if(this.iframe){
_5.set(this.iframe,{width:_10.offsetWidth+"px",height:_10.offsetHeight+"px"});
}
},destroy:function(){
if(this._conn){
this._conn.remove();
this._conn=null;
}
if(this.iframe){
_8.push(this.iframe);
delete this.iframe;
}
}});
return _2.BackgroundIframe;
});


;define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,on,_c,_d,_e,_f){
function _10(){
if(this._popupWrapper){
_6.destroy(this._popupWrapper);
delete this._popupWrapper;
}
};
var _11=_3(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){
if(this._firstAroundNode){
var _12=this._firstAroundPosition,_13=_7.position(this._firstAroundNode,true),dx=_13.x-_12.x,dy=_13.y-_12.y;
if(dx||dy){
this._firstAroundPosition=_13;
for(var i=0;i<this._stack.length;i++){
var _14=this._stack[i].wrapper.style;
_14.top=(parseInt(_14.top,10)+dy)+"px";
if(_14.right=="auto"){
_14.left=(parseInt(_14.left,10)+dx)+"px";
}else{
_14.right=(parseInt(_14.right,10)-dx)+"px";
}
}
}
this._aroundMoveListener=setTimeout(_b.hitch(this,"_repositionAll"),dx||dy?10:50);
}
},_createWrapper:function(_15){
var _16=_15._popupWrapper,_17=_15.domNode;
if(!_16){
_16=_6.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_15["aria-label"]||_15.label||_15.name||_15.id},_15.ownerDocumentBody);
_16.appendChild(_17);
var s=_17.style;
s.display="";
s.visibility="";
s.position="";
s.top="0px";
_15._popupWrapper=_16;
_2.after(_15,"destroy",_10,true);
}
return _16;
},moveOffScreen:function(_18){
var _19=this._createWrapper(_18);
var ltr=_7.isBodyLtr(_18.ownerDocument),_1a={visibility:"hidden",top:"-9999px",display:""};
_1a[ltr?"left":"right"]="-9999px";
_1a[ltr?"right":"left"]="auto";
_8.set(_19,_1a);
return _19;
},hide:function(_1b){
var _1c=this._createWrapper(_1b);
_8.set(_1c,{display:"none",height:"auto",overflow:"visible",border:""});
var _1d=_1b.domNode;
if("_originalStyle" in _1d){
_1d.style.cssText=_1d._originalStyle;
}
},getTopPopup:function(){
var _1e=this._stack;
for(var pi=_1e.length-1;pi>0&&_1e[pi].parent===_1e[pi-1].widget;pi--){
}
return _1e[pi];
},open:function(_1f){
var _20=this._stack,_21=_1f.popup,_22=_21.domNode,_23=_1f.orient||["below","below-alt","above","above-alt"],ltr=_1f.parent?_1f.parent.isLeftToRight():_7.isBodyLtr(_21.ownerDocument),_24=_1f.around,id=(_1f.around&&_1f.around.id)?(_1f.around.id+"_dropdown"):("popup_"+this._idGen++);
while(_20.length&&(!_1f.parent||!_4.isDescendant(_1f.parent.domNode,_20[_20.length-1].widget.domNode))){
this.close(_20[_20.length-1].widget);
}
var _25=this.moveOffScreen(_21);
if(_21.startup&&!_21._started){
_21.startup();
}
var _26,_27=_7.position(_22);
if("maxHeight" in _1f&&_1f.maxHeight!=-1){
_26=_1f.maxHeight||Infinity;
}else{
var _28=_e.getEffectiveBox(this.ownerDocument),_29=_24?_7.position(_24,false):{y:_1f.y-(_1f.padding||0),h:(_1f.padding||0)*2};
_26=Math.floor(Math.max(_29.y,_28.h-(_29.y+_29.h)));
}
if(_27.h>_26){
var cs=_8.getComputedStyle(_22),_2a=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;
_8.set(_25,{overflowY:"scroll",height:_26+"px",border:_2a});
_22._originalStyle=_22.style.cssText;
_22.style.border="none";
}
_5.set(_25,{id:id,style:{zIndex:this._beginZIndex+_20.length},"class":"dijitPopup "+(_21.baseClass||_21["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:_1f.parent?_1f.parent.id:""});
if(_20.length==0&&_24){
this._firstAroundNode=_24;
this._firstAroundPosition=_7.position(_24,true);
this._aroundMoveListener=setTimeout(_b.hitch(this,"_repositionAll"),50);
}
if(_9("config-bgIframe")&&!_21.bgIframe){
_21.bgIframe=new _d(_25);
}
var _2b=_21.orient?_b.hitch(_21,"orient"):null,_2c=_24?_c.around(_25,_24,_23,ltr,_2b):_c.at(_25,_1f,_23=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_1f.padding,_2b);
_25.style.visibility="visible";
_22.style.visibility="visible";
var _2d=[];
_2d.push(on(_25,"keydown",_b.hitch(this,function(evt){
if(evt.keyCode==_a.ESCAPE&&_1f.onCancel){
evt.stopPropagation();
evt.preventDefault();
_1f.onCancel();
}else{
if(evt.keyCode==_a.TAB){
evt.stopPropagation();
evt.preventDefault();
var _2e=this.getTopPopup();
if(_2e&&_2e.onCancel){
_2e.onCancel();
}
}
}
})));
if(_21.onCancel&&_1f.onCancel){
_2d.push(_21.on("cancel",_1f.onCancel));
}
_2d.push(_21.on(_21.onExecute?"execute":"change",_b.hitch(this,function(){
var _2f=this.getTopPopup();
if(_2f&&_2f.onExecute){
_2f.onExecute();
}
})));
_20.push({widget:_21,wrapper:_25,parent:_1f.parent,onExecute:_1f.onExecute,onCancel:_1f.onCancel,onClose:_1f.onClose,handlers:_2d});
if(_21.onOpen){
_21.onOpen(_2c);
}
return _2c;
},close:function(_30){
var _31=this._stack;
while((_30&&_1.some(_31,function(_32){
return _32.widget==_30;
}))||(!_30&&_31.length)){
var top=_31.pop(),_33=top.widget,_34=top.onClose;
if(_33.onClose){
_33.onClose();
}
var h;
while(h=top.handlers.pop()){
h.remove();
}
if(_33&&_33.domNode){
this.hide(_33);
}
if(_34){
_34();
}
}
if(_31.length==0&&this._aroundMoveListener){
clearTimeout(this._aroundMoveListener);
this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;
}
}});
return (_f.popup=new _11());
});


;define("dijit/_base/popup",["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_1,_2,_3){
var _4=_3._createWrapper;
_3._createWrapper=function(_5){
if(!_5.declaredClass){
_5={_popupWrapper:(_5.parentNode&&_1.contains(_5.parentNode,"dijitPopup"))?_5.parentNode:null,domNode:_5,destroy:function(){
},ownerDocument:_5.ownerDocument,ownerDocumentBody:_2.body(_5.ownerDocument)};
}
return _4.call(this,_5);
};
var _6=_3.open;
_3.open=function(_7){
if(_7.orient&&typeof _7.orient!="string"&&!("length" in _7.orient)){
var _8=[];
for(var _9 in _7.orient){
_8.push({aroundCorner:_9,corner:_7.orient[_9]});
}
_7.orient=_8;
}
return _6.call(this,_7);
};
return _3;
});

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.oneui"]=true;

;if(!dojo._hasResource["com.ibm.oneui.util.openAround"]){
dojo._hasResource["com.ibm.oneui.util.openAround"]=true;
dojo.provide("com.ibm.oneui.util.openAround");


com.ibm.oneui.util.openAround=function(_1,_2,_3,_4,_5){
var _6=dijit.byId(_1);
if(_4){
dojo.stopEvent(_4);
}
if(_6&&_6.preventReopen){
_6.preventReopen=_6.wasShowing=false;
return;
}
if(_4&&!_2){
_2=_4.target;
}
function _7(){
try{
dijit.focus(_2);
}
catch(e){
}
dijit.popup.close(_6);
};
if(_5&&_5.x&&_5.y){
dijit.popup.open({popup:_6,x:_5.x,y:_5.y,orient:(_3?_3.orient:null)||(dojo._isBodyLtr()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),onExecute:_7,onCancel:_7});
}else{
dijit.popup.open({popup:_6,around:_2,orient:(_3?_3.orient:null)||(dojo._isBodyLtr()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),onExecute:_7,onCancel:_7});
}
if(!(_3&&_3.noFocus)){
_6.focus();
}
if(!_6._blurCloseHandler){
_6._blurCloseHandler=_6.connect(_6,"_onBlur",function(){
_6.wasShowing=_6.isShowingNow;
setTimeout(function(){
_6.wasShowing=false;
},1);
dijit.popup.close(_6);
});
}
};
}


;if(!dojo._hasResource["com.ibm.oneui.util.proxy"]){
dojo._hasResource["com.ibm.oneui.util.proxy"]=true;
(function(){
dojo.provide("com.ibm.oneui.util.proxy");
var _1=com.ibm.oneui.util;
var _2=function(_3){
return _3=="https"?443:80;
};
var _4=dojo.config.proxy;
var _5=window.location;
var _6=_5.hostname||"localhost";
var _7=(_5.protocol||"http").replace(":","");
var _8=_5.port||_2(_7);
_1.proxy=function(_9,_a){
var _b=_a||_4;
if(!_b){
return _9;
}
var _c=new dojo._Url(_9);
var _d=_c.host;
if(_d){
var _e=_c.scheme||_7;
var _f=_c.port||_2(_e);
if(_e!=_7||_f!=_8||_d!=_6){
return _b+"/"+_e+"/"+encodeURIComponent(_d+":"+_f)+(_c.path||"")+(_c.query?("?"+_c.query):"");
}
}
return _9;
};
})();
}


;define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(_1,_2,_3,_4){
var _5={},_6={};
var _7={length:0,add:function(_8){
if(_6[_8.id]){
throw new Error("Tried to register widget with id=="+_8.id+" but that id is already registered");
}
_6[_8.id]=_8;
this.length++;
},remove:function(id){
if(_6[id]){
delete _6[id];
this.length--;
}
},byId:function(id){
return typeof id=="string"?_6[id]:id;
},byNode:function(_9){
return _6[_9.getAttribute("widgetId")];
},toArray:function(){
var ar=[];
for(var id in _6){
ar.push(_6[id]);
}
return ar;
},getUniqueId:function(_a){
var id;
do{
id=_a+"_"+(_a in _5?++_5[_a]:_5[_a]=0);
}while(_6[id]);
return _4._scopeName=="dijit"?id:_4._scopeName+"_"+id;
},findWidgets:function(_b,_c){
var _d=[];
function _e(_f){
for(var _10=_f.firstChild;_10;_10=_10.nextSibling){
if(_10.nodeType==1){
var _11=_10.getAttribute("widgetId");
if(_11){
var _12=_6[_11];
if(_12){
_d.push(_12);
}
}else{
if(_10!==_c){
_e(_10);
}
}
}
}
};
_e(_b);
return _d;
},_destroyAll:function(){
_4._curFocus=null;
_4._prevFocus=null;
_4._activeStack=[];
_1.forEach(_7.findWidgets(_3.body()),function(_13){
if(!_13._destroyed){
if(_13.destroyRecursive){
_13.destroyRecursive();
}else{
if(_13.destroy){
_13.destroy();
}
}
}
});
},getEnclosingWidget:function(_14){
while(_14){
var id=_14.nodeType==1&&_14.getAttribute("widgetId");
if(id){
return _6[id];
}
_14=_14.parentNode;
}
return null;
},_hash:_6};
_4.registry=_7;
return _7;
});


;define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array","./when"],function(_1,_2,_3,_4){
return _1("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(_5){
var _6=this._attrPairNames;
if(_6[_5]){
return _6[_5];
}
return (_6[_5]={s:"_"+_5+"Setter",g:"_"+_5+"Getter"});
},postscript:function(_7){
if(_7){
this.set(_7);
}
},_get:function(_8,_9){
return typeof this[_9.g]==="function"?this[_9.g]():this[_8];
},get:function(_a){
return this._get(_a,this._getAttrNames(_a));
},set:function(_b,_c){
if(typeof _b==="object"){
for(var x in _b){
if(_b.hasOwnProperty(x)&&x!="_watchCallbacks"){
this.set(x,_b[x]);
}
}
return this;
}
var _d=this._getAttrNames(_b),_e=this._get(_b,_d),_f=this[_d.s],_10;
if(typeof _f==="function"){
_10=_f.apply(this,Array.prototype.slice.call(arguments,1));
}else{
this[_b]=_c;
}
if(this._watchCallbacks){
var _11=this;
_4(_10,function(){
_11._watchCallbacks(_b,_e,_c);
});
}
return this;
},_changeAttrValue:function(_12,_13){
var _14=this.get(_12);
this[_12]=_13;
if(this._watchCallbacks){
this._watchCallbacks(_12,_14,_13);
}
return this;
},watch:function(_15,_16){
var _17=this._watchCallbacks;
if(!_17){
var _18=this;
_17=this._watchCallbacks=function(_19,_1a,_1b,_1c){
var _1d=function(_1e){
if(_1e){
_1e=_1e.slice();
for(var i=0,l=_1e.length;i<l;i++){
_1e[i].call(_18,_19,_1a,_1b);
}
}
};
_1d(_17["_"+_19]);
if(!_1c){
_1d(_17["*"]);
}
};
}
if(!_16&&typeof _15==="function"){
_16=_15;
_15="*";
}else{
_15="_"+_15;
}
var _1f=_17[_15];
if(typeof _1f!=="object"){
_1f=_17[_15]=[];
}
_1f.push(_16);
var _20={};
_20.unwatch=_20.remove=function(){
var _21=_3.indexOf(_1f,_16);
if(_21>-1){
_1f.splice(_21,1);
}
};
return _20;
}});
});


;define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_1,_2,_3){
return _3("dijit.Destroyable",null,{destroy:function(_4){
this._destroyed=true;
},own:function(){
_1.forEach(arguments,function(_5){
var _6="destroyRecursive" in _5?"destroyRecursive":"destroy" in _5?"destroy":"remove";
var _7=_2.before(this,"destroy",function(_8){
_5[_6](_8);
});
var _9=_2.after(_5,_6,function(){
_7.remove();
_9.remove();
},true);
},this);
return arguments;
}});
});


;define("dijit/_BidiMixin",[],function(){
var _1={LRM:"\u200e",LRE:"\u202a",PDF:"\u202c",RLM:"\u200f",RLE:"\u202b"};
return {textDir:"",getTextDir:function(_2){
return this.textDir=="auto"?this._checkContextual(_2):this.textDir;
},_checkContextual:function(_3){
var _4=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(_3);
return _4?(_4[0]<="z"?"ltr":"rtl"):this.dir?this.dir:this.isLeftToRight()?"ltr":"rtl";
},applyTextDir:function(_5,_6){
if(this.textDir){
var _7=this.textDir;
if(_7=="auto"){
if(typeof _6==="undefined"){
var _8=_5.tagName.toLowerCase();
_6=(_8=="input"||_8=="textarea")?_5.value:_5.innerText||_5.textContent||"";
}
_7=this._checkContextual(_6);
}
if(_5.dir!=_7){
_5.dir=_7;
}
}
},enforceTextDirWithUcc:function(_9,_a){
if(this.textDir){
if(_9){
_9.originalText=_a;
}
var _b=this.textDir=="auto"?this._checkContextual(_a):this.textDir;
return (_b=="ltr"?_1.LRE:_1.RLE)+_a+_1.PDF;
}
return _a;
},restoreOriginalText:function(_c){
if(_c.originalText){
_c.text=_c.originalText;
delete _c.originalText;
}
return _c;
},_setTextDirAttr:function(_d){
if(!this._created||this.textDir!=_d){
this._set("textDir",_d);
var _e=null;
if(this.displayNode){
_e=this.displayNode;
this.displayNode.align=this.dir=="rtl"?"right":"left";
}else{
_e=this.textDirNode||this.focusNode||this.textbox;
}
if(_e){
this.applyTextDir(_e);
}
}
}};
});


;define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_1,_2,_3,_4,_5){
var _6={};
_1.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(_7){
_6[_7]=_4[_7];
});
_3.mixin(_6,{defaultDuration:_2["defaultDuration"]||200});
_3.mixin(_5,_6);
return _5;
});


;define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry","./_base/manager"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,on,_10,_11,_12,win,_13,_14,_15){
_d.add("dijit-legacy-requires",!_e.isAsync);
_d.add("dojo-bidi",false);
var _16={};
function _17(obj){
var ret={};
for(var _18 in obj){
ret[_18.toLowerCase()]=true;
}
return ret;
};
function _19(_1a){
return function(val){
_8[val?"set":"remove"](this.domNode,_1a,val);
this._set(_1a,val);
};
};
function _1b(a,b){
return a===b||(a!==a&&b!==b);
};
var _1c=_6("dijit._WidgetBase",[_11,_13],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_19("lang"),dir:"",_setDirAttr:_19("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){
this._set("ownerDocument",val);
},attributeMap:{},_blankGif:_4.blankGif||_1.toUrl("dojo/resources/blank.gif?etag=ZEdmAuM"),_introspect:function(){
var _1d=this.constructor;
if(!_1d._setterAttrs){
var _1e=_1d.prototype,_1f=_1d._setterAttrs=[],_20=(_1d._onMap={});
for(var _21 in _1e.attributeMap){
_1f.push(_21);
}
for(_21 in _1e){
if(/^on/.test(_21)){
_20[_21.substring(2).toLowerCase()]=_21;
}
if(/^_set[A-Z](.*)Attr$/.test(_21)){
_21=_21.charAt(4).toLowerCase()+_21.substr(5,_21.length-9);
if(!_1e.attributeMap||!(_21 in _1e.attributeMap)){
_1f.push(_21);
}
}
}
}
},postscript:function(_22,_23){
this.create(_22,_23);
},create:function(_24,_25){
this._introspect();
this.srcNodeRef=_7.byId(_25);
this._connects=[];
this._supportingWidgets=[];
if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){
this.id=this.srcNodeRef.id;
}
if(_24){
this.params=_24;
_f.mixin(this,_24);
}
this.postMixInProperties();
if(!this.id){
this.id=_15.getUniqueId(this.declaredClass.replace(/\./g,"_"));
if(this.params){
delete this.params.id;
}
}
this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);
this.ownerDocumentBody=win.body(this.ownerDocument);
_15.add(this);
this.buildRendering();
var _26;
if(this.domNode){
this._applyAttributes();
var _27=this.srcNodeRef;
if(_27&&_27.parentNode&&this.domNode!==_27){
_27.parentNode.replaceChild(this.domNode,_27);
_26=true;
}
this.domNode.setAttribute("widgetId",this.id);
}
this.postCreate();
if(_26){
delete this.srcNodeRef;
}
this._created=true;
},_applyAttributes:function(){
var _28={};
for(var key in this.params||{}){
_28[key]=this._get(key);
}
_2.forEach(this.constructor._setterAttrs,function(key){
if(!(key in _28)){
var val=this._get(key);
if(val){
this.set(key,val);
}
}
},this);
for(key in _28){
this.set(key,_28[key]);
}
},postMixInProperties:function(){
},buildRendering:function(){
if(!this.domNode){
this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");
}
if(this.baseClass){
var _29=this.baseClass.split(" ");
if(!this.isLeftToRight()){
_29=_29.concat(_2.map(_29,function(_2a){
return _2a+"Rtl";
}));
}
_9.add(this.domNode,_29);
}
},postCreate:function(){
},startup:function(){
if(this._started){
return;
}
this._started=true;
_2.forEach(this.getChildren(),function(obj){
if(!obj._started&&!obj._destroyed&&_f.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
});
},destroyRecursive:function(_2b){
this._beingDestroyed=true;
this.destroyDescendants(_2b);
this.destroy(_2b);
},destroy:function(_2c){
this._beingDestroyed=true;
this.uninitialize();
function _2d(w){
if(w.destroyRecursive){
w.destroyRecursive(_2c);
}else{
if(w.destroy){
w.destroy(_2c);
}
}
};
_2.forEach(this._connects,_f.hitch(this,"disconnect"));
_2.forEach(this._supportingWidgets,_2d);
if(this.domNode){
_2.forEach(_15.findWidgets(this.domNode,this.containerNode),_2d);
}
this.destroyRendering(_2c);
_15.remove(this.id);
this._destroyed=true;
},destroyRendering:function(_2e){
if(this.bgIframe){
this.bgIframe.destroy(_2e);
delete this.bgIframe;
}
if(this.domNode){
if(_2e){
_8.remove(this.domNode,"widgetId");
}else{
_a.destroy(this.domNode);
}
delete this.domNode;
}
if(this.srcNodeRef){
if(!_2e){
_a.destroy(this.srcNodeRef);
}
delete this.srcNodeRef;
}
},destroyDescendants:function(_2f){
_2.forEach(this.getChildren(),function(_30){
if(_30.destroyRecursive){
_30.destroyRecursive(_2f);
}
});
},uninitialize:function(){
return false;
},_setStyleAttr:function(_31){
var _32=this.domNode;
if(_f.isObject(_31)){
_c.set(_32,_31);
}else{
if(_32.style.cssText){
_32.style.cssText+="; "+_31;
}else{
_32.style.cssText=_31;
}
}
this._set("style",_31);
},_attrToDom:function(_33,_34,_35){
_35=arguments.length>=3?_35:this.attributeMap[_33];
_2.forEach(_f.isArray(_35)?_35:[_35],function(_36){
var _37=this[_36.node||_36||"domNode"];
var _38=_36.type||"attribute";
switch(_38){
case "attribute":
if(_f.isFunction(_34)){
_34=_f.hitch(this,_34);
}
var _39=_36.attribute?_36.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_33)?_33.toLowerCase():_33);
if(_37.tagName){
_8.set(_37,_39,_34);
}else{
_37.set(_39,_34);
}
break;
case "innerText":
_37.innerHTML="";
_37.appendChild(this.ownerDocument.createTextNode(_34));
break;
case "innerHTML":
_37.innerHTML=_34;
break;
case "class":
_9.replace(_37,_34,this[_33]);
break;
}
},this);
},get:function(_3a){
var _3b=this._getAttrNames(_3a);
return this[_3b.g]?this[_3b.g]():this._get(_3a);
},set:function(_3c,_3d){
if(typeof _3c==="object"){
for(var x in _3c){
this.set(x,_3c[x]);
}
return this;
}
var _3e=this._getAttrNames(_3c),_3f=this[_3e.s];
if(_f.isFunction(_3f)){
var _40=_3f.apply(this,Array.prototype.slice.call(arguments,1));
}else{
var _41=this.focusNode&&!_f.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_41]&&this[_41].tagName,_42=tag&&(_16[tag]||(_16[tag]=_17(this[_41]))),map=_3c in this.attributeMap?this.attributeMap[_3c]:_3e.s in this?this[_3e.s]:((_42&&_3e.l in _42&&typeof _3d!="function")||/^aria-|^data-|^role$/.test(_3c))?_41:null;
if(map!=null){
this._attrToDom(_3c,_3d,map);
}
this._set(_3c,_3d);
}
return _40||this;
},_attrPairNames:{},_getAttrNames:function(_43){
var apn=this._attrPairNames;
if(apn[_43]){
return apn[_43];
}
var uc=_43.replace(/^[a-z]|-[a-zA-Z]/g,function(c){
return c.charAt(c.length-1).toUpperCase();
});
return (apn[_43]={n:_43+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});
},_set:function(_44,_45){
var _46=this[_44];
this[_44]=_45;
if(this._created&&!_1b(_46,_45)){
if(this._watchCallbacks){
this._watchCallbacks(_44,_46,_45);
}
this.emit("attrmodified-"+_44,{detail:{prevValue:_46,newValue:_45}});
}
},_get:function(_47){
return this[_47];
},emit:function(_48,_49,_4a){
_49=_49||{};
if(_49.bubbles===undefined){
_49.bubbles=true;
}
if(_49.cancelable===undefined){
_49.cancelable=true;
}
if(!_49.detail){
_49.detail={};
}
_49.detail.widget=this;
var ret,_4b=this["on"+_48];
if(_4b){
ret=_4b.apply(this,_4a?_4a:[_49]);
}
if(this._started&&!this._beingDestroyed){
on.emit(this.domNode,_48.toLowerCase(),_49);
}
return ret;
},on:function(_4c,_4d){
var _4e=this._onMap(_4c);
if(_4e){
return _3.after(this,_4e,_4d,true);
}
return this.own(on(this.domNode,_4c,_4d))[0];
},_onMap:function(_4f){
var _50=this.constructor,map=_50._onMap;
if(!map){
map=(_50._onMap={});
for(var _51 in _50.prototype){
if(/^on/.test(_51)){
map[_51.replace(/^on/,"").toLowerCase()]=_51;
}
}
}
return map[typeof _4f=="string"&&_4f.toLowerCase()];
},toString:function(){
return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";
},getChildren:function(){
return this.containerNode?_15.findWidgets(this.containerNode):[];
},getParent:function(){
return _15.getEnclosingWidget(this.domNode.parentNode);
},connect:function(obj,_52,_53){
return this.own(_5.connect(obj,_52,this,_53))[0];
},disconnect:function(_54){
if(_54&&_54.remove){
_54.remove();
}else{
console.warn("_WidgetBase#disconnect was called with an invalid handle; no handles were disconnected");
}
},subscribe:function(t,_55){
return this.own(_12.subscribe(t,_f.hitch(this,_55)))[0];
},unsubscribe:function(_56){
_56.remove();
},isLeftToRight:function(){
return this.dir?(this.dir=="ltr"):_b.isBodyLtr(this.ownerDocument);
},isFocusable:function(){
return this.focus&&(_c.get(this.domNode,"display")!="none");
},placeAt:function(_57,_58){
var _59=!_57.tagName&&_15.byId(_57);
if(_59&&_59.addChild&&(!_58||typeof _58==="number")){
_59.addChild(this,_58);
}else{
var ref=_59?(_59.containerNode&&!/after|before|replace/.test(_58||"")?_59.containerNode:_59.domNode):_7.byId(_57,this.ownerDocument);
_a.place(this.domNode,ref,_58);
if(!this._started&&(this.getParent()||{})._started){
this.startup();
}
}
return this;
},defer:function(fcn,_5a){
var _5b=setTimeout(_f.hitch(this,function(){
if(!_5b){
return;
}
_5b=null;
if(!this._destroyed){
_f.hitch(this,fcn)();
}
}),_5a||0);
return {remove:function(){
if(_5b){
clearTimeout(_5b);
_5b=null;
}
return null;
}};
}});
if(_d("dojo-bidi")){
_1c.extend(_14);
}
return _1c;
});


;define("dojo/touch",["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(_1,_2,_3,_4,_5,on,_6,_7,_8,_9){
var _a=_6("touch");
var _b=_6("ios")<5;
var _c=navigator.pointerEnabled||navigator.msPointerEnabled,_d=(function(){
var _e={};
for(var _f in {down:1,move:1,up:1,cancel:1,over:1,out:1}){
_e[_f]=!navigator.pointerEnabled?"MSPointer"+_f.charAt(0).toUpperCase()+_f.slice(1):"pointer"+_f;
}
return _e;
})();
var _10,_11,_12,_13,_14,_15,_16,_17;
var _18;
function _19(_1a,_1b,_1c){
if(_c&&_1c){
return function(_1d,_1e){
return on(_1d,_1c,_1e);
};
}else{
if(_a){
return function(_1f,_20){
var _21=on(_1f,_1b,_20),_22=on(_1f,_1a,function(evt){
if(!_18||(new Date()).getTime()>_18+1000){
_20.call(this,evt);
}
});
return {remove:function(){
_21.remove();
_22.remove();
}};
};
}else{
return function(_23,_24){
return on(_23,_1a,_24);
};
}
}
};
function _25(_26){
do{
if(_26.dojoClick!==undefined){
return _26.dojoClick;
}
}while(_26=_26.parentNode);
};
function _27(e,_28,_29){
_11=!e.target.disabled&&_25(e.target);
if(_11){
_12=e.target;
_13=e.touches?e.touches[0].pageX:e.clientX;
_14=e.touches?e.touches[0].pageY:e.clientY;
_15=(typeof _11=="object"?_11.x:(typeof _11=="number"?_11:0))||4;
_16=(typeof _11=="object"?_11.y:(typeof _11=="number"?_11:0))||4;
if(!_10){
_10=true;
_9.doc.addEventListener(_28,function(e){
_11=_11&&e.target==_12&&Math.abs((e.touches?e.touches[0].pageX:e.clientX)-_13)<=_15&&Math.abs((e.touches?e.touches[0].pageY:e.clientY)-_14)<=_16;
},true);
_9.doc.addEventListener(_29,function(e){
if(_11){
_17=(new Date()).getTime();
var _2a=e.target;
if(_2a.tagName==="LABEL"){
_2a=_3.byId(_2a.getAttribute("for"))||_2a;
}
setTimeout(function(){
on.emit(_2a,"click",{bubbles:true,cancelable:true,_dojo_click:true});
});
}
},true);
function _2b(_2c){
_9.doc.addEventListener(_2c,function(e){
if(!e._dojo_click&&(new Date()).getTime()<=_17+1000&&!(e.target.tagName=="INPUT"&&_4.contains(e.target,"dijitOffScreen"))){
e.stopPropagation();
e.stopImmediatePropagation&&e.stopImmediatePropagation();
if(_2c=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){
e.preventDefault();
}
}
},true);
};
_2b("click");
_2b("mousedown");
_2b("mouseup");
}
}
};
var _2d;
if(_a){
if(_c){
_8(function(){
_9.doc.addEventListener(_d.down,function(evt){
_27(evt,_d.move,_d.up);
},true);
});
}else{
_8(function(){
_2d=_9.body();
_9.doc.addEventListener("touchstart",function(evt){
_18=(new Date()).getTime();
var _2e=_2d;
_2d=evt.target;
on.emit(_2e,"dojotouchout",{relatedTarget:_2d,bubbles:true});
on.emit(_2d,"dojotouchover",{relatedTarget:_2e,bubbles:true});
_27(evt,"touchmove","touchend");
},true);
function _2f(evt){
var _30=_5.delegate(evt,{bubbles:true});
if(_6("ios")>=6){
_30.touches=evt.touches;
_30.altKey=evt.altKey;
_30.changedTouches=evt.changedTouches;
_30.ctrlKey=evt.ctrlKey;
_30.metaKey=evt.metaKey;
_30.shiftKey=evt.shiftKey;
_30.targetTouches=evt.targetTouches;
}
return _30;
};
on(_9.doc,"touchmove",function(evt){
_18=(new Date()).getTime();
var _31=_9.doc.elementFromPoint(evt.pageX-(_b?0:_9.global.pageXOffset),evt.pageY-(_b?0:_9.global.pageYOffset));
if(_31){
if(_2d!==_31){
on.emit(_2d,"dojotouchout",{relatedTarget:_31,bubbles:true});
on.emit(_31,"dojotouchover",{relatedTarget:_2d,bubbles:true});
_2d=_31;
}
if(!on.emit(_31,"dojotouchmove",_2f(evt))){
evt.preventDefault();
}
}
});
on(_9.doc,"touchend",function(evt){
_18=(new Date()).getTime();
var _32=_9.doc.elementFromPoint(evt.pageX-(_b?0:_9.global.pageXOffset),evt.pageY-(_b?0:_9.global.pageYOffset))||_9.body();
on.emit(_32,"dojotouchend",_2f(evt));
});
});
}
}
var _33={press:_19("mousedown","touchstart",_d.down),move:_19("mousemove","dojotouchmove",_d.move),release:_19("mouseup","dojotouchend",_d.up),cancel:_19(_7.leave,"touchcancel",_a?_d.cancel:null),over:_19("mouseover","dojotouchover",_d.over),out:_19("mouseout","dojotouchout",_d.out),enter:_7._eventHandler(_19("mouseover","dojotouchover",_d.over)),leave:_7._eventHandler(_19("mouseout","dojotouchout",_d.out))};
_6("extend-dojo")&&(_1.touch=_33);
return _33;
});


;define("dijit/a11yclick",["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(_1,_2,on,_3){
function _4(e){
if((e.keyCode===_1.ENTER||e.keyCode===_1.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){
for(var _5=e.target;_5;_5=_5.parentNode){
if(_5.dojoClick){
return true;
}
}
}
};
var _6;
on(document,"keydown",function(e){
if(_4(e)){
_6=e.target;
e.preventDefault();
}else{
_6=null;
}
});
on(document,"keyup",function(e){
if(_4(e)&&e.target==_6){
_6=null;
on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});
}
});
var _7=function(_8,_9){
_8.dojoClick=true;
return on(_8,"click",_9);
};
_7.click=_7;
_7.press=function(_a,_b){
var _c=on(_a,_3.press,function(_d){
if(_d.type=="mousedown"&&!_2.isLeft(_d)){
return;
}
_b(_d);
}),_e=on(_a,"keydown",function(_f){
if(_f.keyCode===_1.ENTER||_f.keyCode===_1.SPACE){
_b(_f);
}
});
return {remove:function(){
_c.remove();
_e.remove();
}};
};
_7.release=function(_10,_11){
var _12=on(_10,_3.release,function(evt){
if(evt.type=="mouseup"&&!_2.isLeft(evt)){
return;
}
_11(evt);
}),_13=on(_10,"keyup",function(evt){
if(evt.keyCode===_1.ENTER||evt.keyCode===_1.SPACE){
_11(evt);
}
});
return {remove:function(){
_12.remove();
_13.remove();
}};
};
_7.move=_3.move;
return _7;
});


;define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_1,_2,_3,_4,_5){
var _6=_3("dijit._OnDijitClickMixin",null,{connect:function(_7,_8,_9){
return this.inherited(arguments,[_7,_8=="ondijitclick"?_5:_8,_9]);
}});
_6.a11yclick=_5;
return _6;
});


;define("dijit/a11y",["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_1,_2,_3,_4,_5,_6,_7){
var _8;
var _9={_isElementShown:function(_a){
var s=_4.get(_a);
return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_3.get(_a,"type")!="hidden");
},hasDefaultTabStop:function(_b){
switch(_b.nodeName.toLowerCase()){
case "a":
return _3.has(_b,"href");
case "area":
case "button":
case "input":
case "object":
case "select":
case "textarea":
return true;
case "iframe":
var _c;
try{
var _d=_b.contentDocument;
if("designMode" in _d&&_d.designMode=="on"){
return true;
}
_c=_d.body;
}
catch(e1){
try{
_c=_b.contentWindow.document.body;
}
catch(e2){
return false;
}
}
return _c&&(_c.contentEditable=="true"||(_c.firstChild&&_c.firstChild.contentEditable=="true"));
default:
return _b.contentEditable=="true";
}
},effectiveTabIndex:function(_e){
if(_3.get(_e,"disabled")){
return _8;
}else{
if(_3.has(_e,"tabIndex")){
return +_3.get(_e,"tabIndex");
}else{
return _9.hasDefaultTabStop(_e)?0:_8;
}
}
},isTabNavigable:function(_f){
return _9.effectiveTabIndex(_f)>=0;
},isFocusable:function(_10){
return _9.effectiveTabIndex(_10)>=-1;
},_getTabNavigable:function(_11){
var _12,_13,_14,_15,_16,_17,_18={};
function _19(_1a){
return _1a&&_1a.tagName.toLowerCase()=="input"&&_1a.type&&_1a.type.toLowerCase()=="radio"&&_1a.name&&_1a.name.toLowerCase();
};
var _1b=_9._isElementShown,_1c=_9.effectiveTabIndex;
var _1d=function(_1e){
for(var _1f=_1e.firstChild;_1f;_1f=_1f.nextSibling){
if(_1f.nodeType!=1||(_6("ie")<=9&&_1f.scopeName!=="HTML")||!_1b(_1f)){
continue;
}
var _20=_1c(_1f);
if(_20>=0){
if(_20==0){
if(!_12){
_12=_1f;
}
_13=_1f;
}else{
if(_20>0){
if(!_14||_20<_15){
_15=_20;
_14=_1f;
}
if(!_16||_20>=_17){
_17=_20;
_16=_1f;
}
}
}
var rn=_19(_1f);
if(_3.get(_1f,"checked")&&rn){
_18[rn]=_1f;
}
}
if(_1f.nodeName.toUpperCase()!="SELECT"){
_1d(_1f);
}
}
};
if(_1b(_11)){
_1d(_11);
}
function rs(_21){
return _18[_19(_21)]||_21;
};
return {first:rs(_12),last:rs(_13),lowest:rs(_14),highest:rs(_16)};
},getFirstInTabbingOrder:function(_22,doc){
var _23=_9._getTabNavigable(_2.byId(_22,doc));
return _23.lowest?_23.lowest:_23.first;
},getLastInTabbingOrder:function(_24,doc){
var _25=_9._getTabNavigable(_2.byId(_24,doc));
return _25.last?_25.last:_25.highest;
}};
_6("extend-dojo")&&_5.mixin(_7,_9);
return _9;
});


;define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_1,_2,_3,_4,_5,_6,_7,_8,on,_9,_a,_b,_c,_d,_e,_f,_10){
var _11;
var _12=_2([_b,_7],{curNode:null,activeStack:[],constructor:function(){
var _13=_8.hitch(this,function(_14){
if(_3.isDescendant(this.curNode,_14)){
this.set("curNode",null);
}
if(_3.isDescendant(this.prevNode,_14)){
this.set("prevNode",null);
}
});
_1.before(_6,"empty",_13);
_1.before(_6,"destroy",_13);
},registerIframe:function(_15){
return this.registerWin(_15.contentWindow,_15);
},registerWin:function(_16,_17){
var _18=this,_19=_16.document&&_16.document.body;
if(_19){
var mdh=on(_16.document,"mousedown, touchstart",function(evt){
_18._justMouseDowned=true;
setTimeout(function(){
_18._justMouseDowned=false;
},0);
if(evt&&evt.target&&evt.target.parentNode==null){
return;
}
_18._onTouchNode(_17||evt.target,"mouse");
});
var fih=on(_19,"focusin",function(evt){
_11=(new Date()).getTime();
if(!evt.target.tagName){
return;
}
var tag=evt.target.tagName.toLowerCase();
if(tag=="#document"||tag=="body"){
return;
}
if(_e.isFocusable(evt.target)){
_18._onFocusNode(_17||evt.target);
}else{
_18._onTouchNode(_17||evt.target);
}
});
var foh=on(_19,"focusout",function(evt){
if((new Date()).getTime()<_11+100){
return;
}
_18._onBlurNode(_17||evt.target);
});
return {remove:function(){
mdh.remove();
fih.remove();
foh.remove();
mdh=fih=foh=null;
_19=null;
}};
}
},_onBlurNode:function(_1a){
if(this._clearFocusTimer){
clearTimeout(this._clearFocusTimer);
}
this._clearFocusTimer=setTimeout(_8.hitch(this,function(){
this.set("prevNode",this.curNode);
this.set("curNode",null);
}),0);
if(this._justMouseDowned){
return;
}
if(this._clearActiveWidgetsTimer){
clearTimeout(this._clearActiveWidgetsTimer);
}
this._clearActiveWidgetsTimer=setTimeout(_8.hitch(this,function(){
delete this._clearActiveWidgetsTimer;
this._setStack([]);
}),0);
},_onTouchNode:function(_1b,by){
if(this._clearActiveWidgetsTimer){
clearTimeout(this._clearActiveWidgetsTimer);
delete this._clearActiveWidgetsTimer;
}
if(_5.contains(_1b,"dijitPopup")){
_1b=_1b.firstChild;
}
var _1c=[];
try{
while(_1b){
var _1d=_4.get(_1b,"dijitPopupParent");
if(_1d){
_1b=_f.byId(_1d).domNode;
}else{
if(_1b.tagName&&_1b.tagName.toLowerCase()=="body"){
if(_1b===_c.body()){
break;
}
_1b=_d.get(_1b.ownerDocument).frameElement;
}else{
var id=_1b.getAttribute&&_1b.getAttribute("widgetId"),_1e=id&&_f.byId(id);
if(_1e&&!(by=="mouse"&&_1e.get("disabled"))&&(!_a("ie")||_1e.isFocusable())){
_1c.unshift(id);
}
_1b=_1b.parentNode;
}
}
}
}
catch(e){
}
this._setStack(_1c,by);
},_onFocusNode:function(_1f){
if(!_1f){
return;
}
if(_1f.nodeType==9){
return;
}
if(this._clearFocusTimer){
clearTimeout(this._clearFocusTimer);
delete this._clearFocusTimer;
}
this._onTouchNode(_1f);
if(_1f==this.curNode){
return;
}
this.set("prevNode",this.curNode);
this.set("curNode",_1f);
},_setStack:function(_20,by){
var _21=this.activeStack,_22=_21.length-1,_23=_20.length-1;
if(_20[_23]==_21[_22]){
return;
}
this.set("activeStack",_20);
var _24,i;
for(i=_22;i>=0&&_21[i]!=_20[i];i--){
_24=_f.byId(_21[i]);
if(_24){
_24._hasBeenBlurred=true;
_24.set("focused",false);
if(_24._focusManager==this){
_24._onBlur(by);
}
this.emit("widget-blur",_24,by);
}
}
for(i++;i<=_23;i++){
_24=_f.byId(_20[i]);
if(_24){
_24.set("focused",true);
if(_24._focusManager==this){
_24._onFocus(by);
}
this.emit("widget-focus",_24,by);
}
}
},focus:function(_25){
if(_25){
try{
_25.focus();
}
catch(e){
}
}
}});
var _26=new _12();
_9(function(){
var _27=_26.registerWin(_d.get(document));
if(_a("ie")){
on(window,"unload",function(){
if(_27){
_27.remove();
_27=null;
}
});
}
});
_10.focus=function(_28){
_26.focus(_28);
};
for(var _29 in _26){
if(!/^_/.test(_29)){
_10.focus[_29]=typeof _26[_29]=="function"?_8.hitch(_26,_29):_26[_29];
}
}
_26.watch(function(_2a,_2b,_2c){
_10.focus[_2a]=_2c;
});
return _26;
});


;define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_1,_2,_3,_4){
_4.extend(_2,{focused:false,onFocus:function(){
},onBlur:function(){
},_onFocus:function(){
this.onFocus();
},_onBlur:function(){
this.onBlur();
}});
return _3("dijit._FocusMixin",null,{_focusManager:_1});
});


;define("dojo/uacss",["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_1,_2,_3,_4,_5){
var _6=_5.doc.documentElement,ie=_4("ie"),_7=_4("opera"),_8=Math.floor,ff=_4("ff"),_9=_1.boxModel.replace(/-/,""),_a={"dj_quirks":_4("quirks"),"dj_opera":_7,"dj_khtml":_4("khtml"),"dj_webkit":_4("webkit"),"dj_safari":_4("safari"),"dj_chrome":_4("chrome"),"dj_gecko":_4("mozilla"),"dj_ios":_4("ios"),"dj_android":_4("android")};
if(ie){
_a["dj_ie"]=true;
_a["dj_ie"+_8(ie)]=true;
_a["dj_iequirks"]=_4("quirks");
}
if(ff){
_a["dj_ff"+_8(ff)]=true;
}
_a["dj_"+_9]=true;
var _b="";
for(var _c in _a){
if(_a[_c]){
_b+=_c+" ";
}
}
_6.className=_2.trim(_6.className+" "+_b);
_3(function(){
if(!_1.isBodyLtr()){
var _d="dj_rtl dijitRtl "+_b.replace(/ /g,"-rtl ");
_6.className=_2.trim(_6.className+" "+_d+"dj_rtl dijitRtl "+_b.replace(/ /g,"-rtl "));
}
});
return _4;
});


;define("dojo/hccss",["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_1,_2,_3,_4,_5,_6,_7){
_5.add("highcontrast",function(){
var _8=_7.doc.createElement("div");
_8.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_2.blankGif||_1.toUrl("dojo/resources/blank.gif?etag=ZEdmAuM"))+");";
_7.body().appendChild(_8);
var cs=_4.getComputedStyle(_8),_9=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_9&&(_9=="none"||_9=="url(invalid-url:)"));
if(_5("ie")<=8){
_8.outerHTML="";
}else{
_7.body().removeChild(_8);
}
return hc;
});
_6(function(){
if(_5("highcontrast")){
_3.add(_7.body(),"dj_a11y");
}
});
return _5;
});


;define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_1,_2,_3,_4){
_3(function(){
if(_2("highcontrast")){
_1.add(_4.body(),"dijit_a11y");
}
});
return _2;
});


;define("dijit/WidgetSet",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_1,_2,_3,_4){
var _5=_2("dijit.WidgetSet",null,{constructor:function(){
this._hash={};
this.length=0;
},add:function(_6){
if(this._hash[_6.id]){
throw new Error("Tried to register widget with id=="+_6.id+" but that id is already registered");
}
this._hash[_6.id]=_6;
this.length++;
},remove:function(id){
if(this._hash[id]){
delete this._hash[id];
this.length--;
}
},forEach:function(_7,_8){
_8=_8||_3.global;
var i=0,id;
for(id in this._hash){
_7.call(_8,this._hash[id],i++,this._hash);
}
return this;
},filter:function(_9,_a){
_a=_a||_3.global;
var _b=new _5(),i=0,id;
for(id in this._hash){
var w=this._hash[id];
if(_9.call(_a,w,i++,this._hash)){
_b.add(w);
}
}
return _b;
},byId:function(id){
return this._hash[id];
},byClass:function(_c){
var _d=new _5(),id,_e;
for(id in this._hash){
_e=this._hash[id];
if(_e.declaredClass==_c){
_d.add(_e);
}
}
return _d;
},toArray:function(){
var ar=[];
for(var id in this._hash){
ar.push(this._hash[id]);
}
return ar;
},map:function(_f,_10){
return _1.map(this.toArray(),_f,_10);
},every:function(_11,_12){
_12=_12||_3.global;
var x=0,i;
for(i in this._hash){
if(!_11.call(_12,this._hash[i],x++,this._hash)){
return false;
}
}
return true;
},some:function(_13,_14){
_14=_14||_3.global;
var x=0,i;
for(i in this._hash){
if(_13.call(_14,this._hash[i],x++,this._hash)){
return true;
}
}
return false;
}});
_1.forEach(["forEach","filter","byClass","map","every","some"],function(_15){
_4[_15]=_5.prototype[_15];
});
return _5;
});


;define("dijit/selection",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_1,_2,_3,_4,_5,_6){
var _7=function(_8){
var _9=_8.document;
this.getType=function(){
if(_9.getSelection){
var _a="text";
var _b;
try{
_b=_8.getSelection();
}
catch(e){
}
if(_b&&_b.rangeCount==1){
var _c=_b.getRangeAt(0);
if((_c.startContainer==_c.endContainer)&&((_c.endOffset-_c.startOffset)==1)&&(_c.startContainer.nodeType!=3)){
_a="control";
}
}
return _a;
}else{
return _9.selection.type.toLowerCase();
}
};
this.getSelectedText=function(){
if(_9.getSelection){
var _d=_8.getSelection();
return _d?_d.toString():"";
}else{
if(this.getType()=="control"){
return null;
}
return _9.selection.createRange().text;
}
};
this.getSelectedHtml=function(){
if(_9.getSelection){
var _e=_8.getSelection();
if(_e&&_e.rangeCount){
var i;
var _f="";
for(i=0;i<_e.rangeCount;i++){
var _10=_e.getRangeAt(i).cloneContents();
var div=_9.createElement("div");
div.appendChild(_10);
_f+=div.innerHTML;
}
return _f;
}
return null;
}else{
if(this.getType()=="control"){
return null;
}
return _9.selection.createRange().htmlText;
}
};
this.getSelectedElement=function(){
if(this.getType()=="control"){
if(_9.getSelection){
var _11=_8.getSelection();
return _11.anchorNode.childNodes[_11.anchorOffset];
}else{
var _12=_9.selection.createRange();
if(_12&&_12.item){
return _9.selection.createRange().item(0);
}
}
}
return null;
};
this.getParentElement=function(){
if(this.getType()=="control"){
var p=this.getSelectedElement();
if(p){
return p.parentNode;
}
}else{
if(_9.getSelection){
var _13=_9.getSelection();
if(_13){
var _14=_13.anchorNode;
while(_14&&(_14.nodeType!=1)){
_14=_14.parentNode;
}
return _14;
}
}else{
var r=_9.selection.createRange();
r.collapse(true);
return r.parentElement();
}
}
return null;
};
this.hasAncestorElement=function(_15){
return this.getAncestorElement.apply(this,arguments)!=null;
};
this.getAncestorElement=function(_16){
var _17=this.getSelectedElement()||this.getParentElement();
return this.getParentOfType(_17,arguments);
};
this.isTag=function(_18,_19){
if(_18&&_18.tagName){
var _1a=_18.tagName.toLowerCase();
for(var i=0;i<_19.length;i++){
var _1b=String(_19[i]).toLowerCase();
if(_1a==_1b){
return _1b;
}
}
}
return "";
};
this.getParentOfType=function(_1c,_1d){
while(_1c){
if(this.isTag(_1c,_1d).length){
return _1c;
}
_1c=_1c.parentNode;
}
return null;
};
this.collapse=function(_1e){
if(_9.getSelection){
var _1f=_8.getSelection();
if(_1f.removeAllRanges){
if(_1e){
_1f.collapseToStart();
}else{
_1f.collapseToEnd();
}
}else{
_1f.collapse(_1e);
}
}else{
var _20=_9.selection.createRange();
_20.collapse(_1e);
_20.select();
}
};
this.remove=function(){
var sel=_9.selection;
if(_9.getSelection){
sel=_8.getSelection();
sel.deleteFromDocument();
return sel;
}else{
if(sel.type.toLowerCase()!="none"){
sel.clear();
}
return sel;
}
};
this.selectElementChildren=function(_21,_22){
var _23;
_21=_2.byId(_21);
if(_9.getSelection){
var _24=_8.getSelection();
if(_4("opera")){
if(_24.rangeCount){
_23=_24.getRangeAt(0);
}else{
_23=_9.createRange();
}
_23.setStart(_21,0);
_23.setEnd(_21,(_21.nodeType==3)?_21.length:_21.childNodes.length);
_24.addRange(_23);
}else{
_24.selectAllChildren(_21);
}
}else{
_23=_21.ownerDocument.body.createTextRange();
_23.moveToElementText(_21);
if(!_22){
try{
_23.select();
}
catch(e){
}
}
}
};
this.selectElement=function(_25,_26){
var _27;
_25=_2.byId(_25);
if(_9.getSelection){
var _28=_9.getSelection();
_27=_9.createRange();
if(_28.removeAllRanges){
if(_4("opera")){
if(_28.getRangeAt(0)){
_27=_28.getRangeAt(0);
}
}
_27.selectNode(_25);
_28.removeAllRanges();
_28.addRange(_27);
}
}else{
try{
var tg=_25.tagName?_25.tagName.toLowerCase():"";
if(tg==="img"||tg==="table"){
_27=_5.body(_9).createControlRange();
}else{
_27=_5.body(_9).createRange();
}
_27.addElement(_25);
if(!_26){
_27.select();
}
}
catch(e){
this.selectElementChildren(_25,_26);
}
}
};
this.inSelection=function(_29){
if(_29){
var _2a;
var _2b;
if(_9.getSelection){
var sel=_8.getSelection();
if(sel&&sel.rangeCount>0){
_2b=sel.getRangeAt(0);
}
if(_2b&&_2b.compareBoundaryPoints&&_9.createRange){
try{
_2a=_9.createRange();
_2a.setStart(_29,0);
if(_2b.compareBoundaryPoints(_2b.START_TO_END,_2a)===1){
return true;
}
}
catch(e){
}
}
}else{
_2b=_9.selection.createRange();
try{
_2a=_29.ownerDocument.body.createTextRange();
_2a.moveToElementText(_29);
}
catch(e2){
}
if(_2b&&_2a){
if(_2b.compareEndPoints("EndToStart",_2a)===1){
return true;
}
}
}
}
return false;
},this.getBookmark=function(){
var bm,rg,tg,sel=_9.selection,cf=_6.curNode;
if(_9.getSelection){
sel=_8.getSelection();
if(sel){
if(sel.isCollapsed){
tg=cf?cf.tagName:"";
if(tg){
tg=tg.toLowerCase();
if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){
sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};
return {isCollapsed:(sel.end<=sel.start),mark:sel};
}
}
bm={isCollapsed:true};
if(sel.rangeCount){
bm.mark=sel.getRangeAt(0).cloneRange();
}
}else{
rg=sel.getRangeAt(0);
bm={isCollapsed:false,mark:rg.cloneRange()};
}
}
}else{
if(sel){
tg=cf?cf.tagName:"";
tg=tg.toLowerCase();
if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){
if(sel.type&&sel.type.toLowerCase()=="none"){
return {isCollapsed:true,mark:null};
}else{
rg=sel.createRange();
return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};
}
}
bm={};
try{
rg=sel.createRange();
bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);
}
catch(e){
bm.isCollapsed=true;
return bm;
}
if(sel.type.toUpperCase()=="CONTROL"){
if(rg.length){
bm.mark=[];
var i=0,len=rg.length;
while(i<len){
bm.mark.push(rg.item(i++));
}
}else{
bm.isCollapsed=true;
bm.mark=null;
}
}else{
bm.mark=rg.getBookmark();
}
}else{
console.warn("No idea how to store the current selection for this browser!");
}
}
return bm;
};
this.moveToBookmark=function(_2c){
var _2d=_2c.mark;
if(_2d){
if(_9.getSelection){
var sel=_8.getSelection();
if(sel&&sel.removeAllRanges){
if(_2d.pRange){
var n=_2d.node;
n.selectionStart=_2d.start;
n.selectionEnd=_2d.end;
}else{
sel.removeAllRanges();
sel.addRange(_2d);
}
}else{
console.warn("No idea how to restore selection for this browser!");
}
}else{
if(_9.selection&&_2d){
var rg;
if(_2d.pRange){
rg=_2d.range;
}else{
if(_3.isArray(_2d)){
rg=_9.body.createControlRange();
_1.forEach(_2d,function(n){
rg.addElement(n);
});
}else{
rg=_9.body.createTextRange();
rg.moveToBookmark(_2d);
}
}
rg.select();
}
}
}
};
this.isCollapsed=function(){
return this.getBookmark().isCollapsed;
};
};
var _2e=new _7(window);
_2e.SelectionManager=_7;
return _2e;
});


;define("dijit/_base/focus",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_1,_2,_3,_4,_5,_6,_7,_8){
var _9={_curFocus:null,_prevFocus:null,isCollapsed:function(){
return _8.getBookmark().isCollapsed;
},getBookmark:function(){
var _a=_5.global==window?_7:new _7.SelectionManager(_5.global);
return _a.getBookmark();
},moveToBookmark:function(_b){
var _c=_5.global==window?_7:new _7.SelectionManager(_5.global);
return _c.moveToBookmark(_b);
},getFocus:function(_d,_e){
var _f=!_6.curNode||(_d&&_2.isDescendant(_6.curNode,_d.domNode))?_8._prevFocus:_6.curNode;
return {node:_f,bookmark:_f&&(_f==_6.curNode)&&_5.withGlobal(_e||_5.global,_8.getBookmark),openedForWindow:_e};
},_activeStack:[],registerIframe:function(_10){
return _6.registerIframe(_10);
},unregisterIframe:function(_11){
_11&&_11.remove();
},registerWin:function(_12,_13){
return _6.registerWin(_12,_13);
},unregisterWin:function(_14){
_14&&_14.remove();
}};
_6.focus=function(_15){
if(!_15){
return;
}
var _16="node" in _15?_15.node:_15,_17=_15.bookmark,_18=_15.openedForWindow,_19=_17?_17.isCollapsed:false;
if(_16){
var _1a=(_16.tagName.toLowerCase()=="iframe")?_16.contentWindow:_16;
if(_1a&&_1a.focus){
try{
_1a.focus();
}
catch(e){
}
}
_6._onFocusNode(_16);
}
if(_17&&_5.withGlobal(_18||_5.global,_8.isCollapsed)&&!_19){
if(_18){
_18.focus();
}
try{
_5.withGlobal(_18||_5.global,_8.moveToBookmark,null,[_17]);
}
catch(e2){
}
}
};
_6.watch("curNode",function(_1b,_1c,_1d){
_8._curFocus=_1d;
_8._prevFocus=_1c;
if(_1d){
_4.publish("focusNode",_1d);
}
});
_6.watch("activeStack",function(_1e,_1f,_20){
_8._activeStack=_20;
});
_6.on("widget-blur",function(_21,by){
_4.publish("widgetBlur",_21,by);
});
_6.on("widget-focus",function(_22,by){
_4.publish("widgetFocus",_22,by);
});
_3.mixin(_8,_9);
return _8;
});


;define("dijit/_base/place",["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_1,_2,_3,_4,_5){
var _6={};
_6.getViewport=function(){
return _3.getBox();
};
_6.placeOnScreen=_4.at;
_6.placeOnScreenAroundElement=function(_7,_8,_9,_a){
var _b;
if(_2.isArray(_9)){
_b=_9;
}else{
_b=[];
for(var _c in _9){
_b.push({aroundCorner:_c,corner:_9[_c]});
}
}
return _4.around(_7,_8,_b,true,_a);
};
_6.placeOnScreenAroundNode=_6.placeOnScreenAroundElement;
_6.placeOnScreenAroundRectangle=_6.placeOnScreenAroundElement;
_6.getPopupAroundAlignment=function(_d,_e){
var _f={};
_1.forEach(_d,function(pos){
var ltr=_e;
switch(pos){
case "after":
_f[_e?"BR":"BL"]=_e?"BL":"BR";
break;
case "before":
_f[_e?"BL":"BR"]=_e?"BR":"BL";
break;
case "below-alt":
ltr=!ltr;
case "below":
_f[ltr?"BL":"BR"]=ltr?"TL":"TR";
_f[ltr?"BR":"BL"]=ltr?"TR":"TL";
break;
case "above-alt":
ltr=!ltr;
case "above":
default:
_f[ltr?"TL":"TR"]=ltr?"BL":"BR";
_f[ltr?"TR":"TL"]=ltr?"BR":"BL";
break;
}
});
return _f;
};
_2.mixin(_5,_6);
return _5;
});


;define("dijit/_base/scroll",["dojo/window","../main"],function(_1,_2){
_2.scrollIntoView=function(_3,_4){
_1.scrollIntoView(_3,_4);
};
});


;define("dijit/_base/sniff",["dojo/uacss"],function(){
});


;define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_1,_2,_3,on,_4,_5){
var _6=(_5.typematic={_fireEventAndReload:function(){
this._timer=null;
this._callback(++this._count,this._node,this._evt);
this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);
this._timer=setTimeout(_3.hitch(this,"_fireEventAndReload"),this._currentTimeout);
},trigger:function(_7,_8,_9,_a,_b,_c,_d,_e){
if(_b!=this._obj){
this.stop();
this._initialDelay=_d||500;
this._subsequentDelay=_c||0.9;
this._minDelay=_e||10;
this._obj=_b;
this._node=_9;
this._currentTimeout=-1;
this._count=-1;
this._callback=_3.hitch(_8,_a);
this._evt={faux:true};
for(var _f in _7){
if(_f!="layerX"&&_f!="layerY"){
var v=_7[_f];
if(typeof v!="function"&&typeof v!="undefined"){
this._evt[_f]=v;
}
}
}
this._fireEventAndReload();
}
},stop:function(){
if(this._timer){
clearTimeout(this._timer);
this._timer=null;
}
if(this._obj){
this._callback(-1,this._node,this._evt);
this._obj=null;
}
},addKeyListener:function(_10,_11,_12,_13,_14,_15,_16){
var _17="keyCode" in _11?"keydown":"charCode" in _11?"keypress":_2._keypress,_18="keyCode" in _11?"keyCode":"charCode" in _11?"charCode":"charOrCode";
var _19=[on(_10,_17,_3.hitch(this,function(evt){
if(evt[_18]==_11[_18]&&(_11.ctrlKey===undefined||_11.ctrlKey==evt.ctrlKey)&&(_11.altKey===undefined||_11.altKey==evt.altKey)&&(_11.metaKey===undefined||_11.metaKey==(evt.metaKey||false))&&(_11.shiftKey===undefined||_11.shiftKey==evt.shiftKey)){
evt.stopPropagation();
evt.preventDefault();
_6.trigger(evt,_12,_10,_13,_11,_14,_15,_16);
}else{
if(_6._obj==_11){
_6.stop();
}
}
})),on(_10,"keyup",_3.hitch(this,function(){
if(_6._obj==_11){
_6.stop();
}
}))];
return {remove:function(){
_1.forEach(_19,function(h){
h.remove();
});
}};
},addMouseListener:function(_1a,_1b,_1c,_1d,_1e,_1f){
var _20=[on(_1a,"mousedown",_3.hitch(this,function(evt){
evt.preventDefault();
_6.trigger(evt,_1b,_1a,_1c,_1a,_1d,_1e,_1f);
})),on(_1a,"mouseup",_3.hitch(this,function(evt){
if(this._obj){
evt.preventDefault();
}
_6.stop();
})),on(_1a,"mouseout",_3.hitch(this,function(evt){
if(this._obj){
evt.preventDefault();
}
_6.stop();
})),on(_1a,"dblclick",_3.hitch(this,function(evt){
evt.preventDefault();
if(_4("ie")<9){
_6.trigger(evt,_1b,_1a,_1c,_1a,_1d,_1e,_1f);
setTimeout(_3.hitch(this,_6.stop),50);
}
}))];
return {remove:function(){
_1.forEach(_20,function(h){
h.remove();
});
}};
},addListener:function(_21,_22,_23,_24,_25,_26,_27,_28){
var _29=[this.addKeyListener(_22,_23,_24,_25,_26,_27,_28),this.addMouseListener(_21,_24,_25,_26,_27,_28)];
return {remove:function(){
_1.forEach(_29,function(h){
h.remove();
});
}};
}});
return _6;
});


;define("dijit/_base/typematic",["../typematic"],function(){
});


;define("dijit/_base/wai",["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_1,_2,_3){
var _4={hasWaiRole:function(_5,_6){
var _7=this.getWaiRole(_5);
return _6?(_7.indexOf(_6)>-1):(_7.length>0);
},getWaiRole:function(_8){
return _2.trim((_1.get(_8,"role")||"").replace("wairole:",""));
},setWaiRole:function(_9,_a){
_1.set(_9,"role",_a);
},removeWaiRole:function(_b,_c){
var _d=_1.get(_b,"role");
if(!_d){
return;
}
if(_c){
var t=_2.trim((" "+_d+" ").replace(" "+_c+" "," "));
_1.set(_b,"role",t);
}else{
_b.removeAttribute("role");
}
},hasWaiState:function(_e,_f){
return _e.hasAttribute?_e.hasAttribute("aria-"+_f):!!_e.getAttribute("aria-"+_f);
},getWaiState:function(_10,_11){
return _10.getAttribute("aria-"+_11)||"";
},setWaiState:function(_12,_13,_14){
_12.setAttribute("aria-"+_13,_14);
},removeWaiState:function(_15,_16){
_15.removeAttribute("aria-"+_16);
}};
_2.mixin(_3,_4);
return _3;
});


;define("dijit/_base/window",["dojo/window","../main"],function(_1,_2){
_2.getDocumentWindow=function(_3){
return _1.get(_3);
};
});


;define("dijit/_base",["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_1){
return _1._base;
});


;define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss","./_base"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d){
function _e(){
};
function _f(_10){
return function(obj,_11,_12,_13){
if(obj&&typeof _11=="string"&&obj[_11]==_e){
return obj.on(_11.substring(2).toLowerCase(),_7.hitch(_12,_13));
}
return _10.apply(_3,arguments);
};
};
_1.around(_3,"connect",_f);
if(_6.connect){
_1.around(_6,"connect",_f);
}
var _14=_4("dijit._Widget",[_b,_c,_d],{onClick:_e,onDblClick:_e,onKeyDown:_e,onKeyPress:_e,onKeyUp:_e,onMouseDown:_e,onMouseMove:_e,onMouseOut:_e,onMouseOver:_e,onMouseLeave:_e,onMouseEnter:_e,onMouseUp:_e,constructor:function(_15){
this._toConnect={};
for(var _16 in _15){
if(this[_16]===_e){
this._toConnect[_16.replace(/^on/,"").toLowerCase()]=_15[_16];
delete _15[_16];
}
}
},postCreate:function(){
this.inherited(arguments);
for(var _17 in this._toConnect){
this.on(_17,this._toConnect[_17]);
}
delete this._toConnect;
},on:function(_18,_19){
if(this[this._onMap(_18)]===_e){
return _3.connect(this.domNode,_18.toLowerCase(),this,_19);
}
return this.inherited(arguments);
},_setFocusedAttr:function(val){
this._focused=val;
this._set("focused",val);
},setAttribute:function(_1a,_1b){
_6.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");
this.set(_1a,_1b);
},attr:function(_1c,_1d){
var _1e=arguments.length;
if(_1e>=2||typeof _1c==="object"){
return this.set.apply(this,arguments);
}else{
return this.get(_1c);
}
},getDescendants:function(){
_6.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");
return this.containerNode?_8("[widgetId]",this.containerNode).map(_a.byNode):[];
},_onShow:function(){
this.onShow();
},onShow:function(){
},onHide:function(){
},onClose:function(){
return true;
}});
return _14;
});


;define("dojo/request",["./request/xhr"],function(r){
return r;
});


;define("dojo/text",["./_base/kernel","require","./has","./has!host-browser?./request"],function(_1,_2,_3,_4){
var _5;
if(_3("host-browser")){
_5=function(_6,_7,_8){
_4(_6,{sync:!!_7}).then(_8);
};
}else{
if(_2.getText){
_5=_2.getText;
}else{
console.error("dojo/text plugin failed to load because loader does not support getText");
}
}
var _9={},_a=function(_b){
if(_b){
_b=_b.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");
var _c=_b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
if(_c){
_b=_c[1];
}
}else{
_b="";
}
return _b;
},_d={},_e={};
_1.cache=function(_f,url,_10){
var key;
if(typeof _f=="string"){
if(/\//.test(_f)){
key=_f;
_10=url;
}else{
key=_2.toUrl(_f.replace(/\./g,"/")+(url?("/"+url):""));
}
}else{
key=_f+"";
_10=url;
}
var val=(_10!=undefined&&typeof _10!="string")?_10.value:_10,_11=_10&&_10.sanitize;
if(typeof val=="string"){
_9[key]=val;
return _11?_a(val):val;
}else{
if(val===null){
delete _9[key];
return null;
}else{
if(!(key in _9)){
_5(key,true,function(_12){
_9[key]=_12;
});
}
return _11?_a(_9[key]):_9[key];
}
}
};
return {dynamic:true,normalize:function(id,_13){
var _14=id.split("!"),url=_14[0];
return (/^\./.test(url)?_13(url):url)+(_14[1]?"!"+_14[1]:"");
},load:function(id,_15,_16){
var _17=id.split("!"),_18=_17.length>1,_19=_17[0],url=_15.toUrl(_17[0]),_1a="url:"+url,_1b=_d,_1c=function(_1d){
_16(_18?_a(_1d):_1d);
};
if(_19 in _9){
_1b=_9[_19];
}else{
if(_15.cache&&_1a in _15.cache){
_1b=_15.cache[_1a];
}else{
if(url in _9){
_1b=_9[url];
}
}
}
if(_1b===_d){
if(_e[url]){
_e[url].push(_1c);
}else{
var _1e=_e[url]=[_1c];
_5(url,!_15.async,function(_1f){
_9[_19]=_9[url]=_1f;
for(var i=0;i<_1e.length;){
_1e[i++](_1f);
}
delete _e[url];
});
}
}else{
_1c(_1b);
}
}};
});


;define("dojo/cache",["./_base/kernel","./text"],function(_1){
return _1.cache;
});


;define("dojo/string",["./_base/kernel","./_base/lang"],function(_1,_2){
var _3={};
_2.setObject("dojo.string",_3);
_3.rep=function(_4,_5){
if(_5<=0||!_4){
return "";
}
var _6=[];
for(;;){
if(_5&1){
_6.push(_4);
}
if(!(_5>>=1)){
break;
}
_4+=_4;
}
return _6.join("");
};
_3.pad=function(_7,_8,ch,_9){
if(!ch){
ch="0";
}
var _a=String(_7),_b=_3.rep(ch,Math.ceil((_8-_a.length)/ch.length));
return _9?_a+_b:_b+_a;
};
_3.substitute=function(_c,_d,_e,_f){
_f=_f||_1.global;
_e=_e?_2.hitch(_f,_e):function(v){
return v;
};
return _c.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_10,key,_11){
var _12=_2.getObject(key,false,_d);
if(_11){
_12=_2.getObject(_11,false,_f).call(_f,_12,key);
}
return _e(_12,key).toString();
});
};
_3.trim=String.prototype.trim?_2.trim:function(str){
str=str.replace(/^\s+/,"");
for(var i=str.length-1;i>=0;i--){
if(/\S/.test(str.charAt(i))){
str=str.substring(0,i+1);
break;
}
}
return str;
};
return _3;
});


;define("dijit/_AttachMixin",["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_1,_2,_3,_4,_5,_6,on,_7,_8){
var _9=_5.delegate(_7,{"mouseenter":_6.enter,"mouseleave":_6.leave,"keypress":_3._keypress});
var _a;
var _b=_4("dijit._AttachMixin",null,{constructor:function(){
this._attachPoints=[];
this._attachEvents=[];
},buildRendering:function(){
this.inherited(arguments);
this._attachTemplateNodes(this.domNode);
this._beforeFillContent();
},_beforeFillContent:function(){
},_attachTemplateNodes:function(_c){
var _d=_c;
while(true){
if(_d.nodeType==1&&(this._processTemplateNode(_d,function(n,p){
return n.getAttribute(p);
},this._attach)||this.searchContainerNode)&&_d.firstChild){
_d=_d.firstChild;
}else{
if(_d==_c){
return;
}
while(!_d.nextSibling){
_d=_d.parentNode;
if(_d==_c){
return;
}
}
_d=_d.nextSibling;
}
}
},_processTemplateNode:function(_e,_f,_10){
var ret=true;
var _11=this.attachScope||this,_12=_f(_e,"dojoAttachPoint")||_f(_e,"data-dojo-attach-point");
if(_12){
var _13,_14=_12.split(/\s*,\s*/);
while((_13=_14.shift())){
if(_5.isArray(_11[_13])){
_11[_13].push(_e);
}else{
_11[_13]=_e;
}
ret=(_13!="containerNode");
this._attachPoints.push(_13);
}
}
var _15=_f(_e,"dojoAttachEvent")||_f(_e,"data-dojo-attach-event");
if(_15){
var _16,_17=_15.split(/\s*,\s*/);
var _18=_5.trim;
while((_16=_17.shift())){
if(_16){
var _19=null;
if(_16.indexOf(":")!=-1){
var _1a=_16.split(":");
_16=_18(_1a[0]);
_19=_18(_1a[1]);
}else{
_16=_18(_16);
}
if(!_19){
_19=_16;
}
this._attachEvents.push(_10(_e,_16,_5.hitch(_11,_19)));
}
}
}
return ret;
},_attach:function(_1b,_1c,_1d){
_1c=_1c.replace(/^on/,"").toLowerCase();
if(_1c=="dijitclick"){
_1c=_a||(_a=_1("./a11yclick"));
}else{
_1c=_9[_1c]||_1c;
}
return on(_1b,_1c,_1d);
},_detachTemplateNodes:function(){
var _1e=this.attachScope||this;
_2.forEach(this._attachPoints,function(_1f){
delete _1e[_1f];
});
this._attachPoints=[];
_2.forEach(this._attachEvents,function(_20){
_20.remove();
});
this._attachEvents=[];
},destroyRendering:function(){
this._detachTemplateNodes();
this.inherited(arguments);
}});
_5.extend(_8,{dojoAttachEvent:"",dojoAttachPoint:""});
return _b;
});


;define("dijit/_TemplatedMixin",["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_1,_2,_3,_4,on,_5,_6,_7){
function _8(_9){
if(_9.nodeType===1){
return _9;
}
var _a=_9;
if(_9.nodeType===11){
var _b=_9.childNodes.length,n=null,nt=null,_c=null,_d=false;
while(_b--&&!_d){
n=_9.childNodes[_b];
nt=n.nodeType;
if(nt===8){
continue;
}
if(nt===3){
if(n.nodeValue&&_4.trim(n.nodeValue).length>0){
_d=true;
}
}else{
if(nt===1){
if(!_c){
_c=n;
}else{
_d=true;
}
}
}
}
if(!_d){
if(!_c){
_d=true;
}else{
_9=_c;
}
}
}
return _d?_a:_9;
};
var _e=_2("dijit._TemplatedMixin",_7,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(_f){
var _10=this.declaredClass,_11=this;
return _6.substitute(_f,this,function(_12,key){
if(key.charAt(0)=="!"){
_12=_4.getObject(key.substr(1),false,_11);
}
if(typeof _12=="undefined"){
throw new Error(_10+" template:"+key);
}
if(_12==null){
return "";
}
return key.charAt(0)=="!"?_12:_12.toString().replace(/"/g,"&quot;");
},this);
},buildRendering:function(){
if(!this._rendered){
if(!this.templateString){
this.templateString=_1(this.templatePath,{sanitize:true});
}
var _13=_e.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);
var _14;
if(_4.isString(_13)){
_14=_8(_3.toDom(this._stringRepl(_13),this.ownerDocument));
if(_14.nodeType!=1){
throw new Error("Invalid template: "+_13);
}
}else{
_14=_13.cloneNode(true);
}
this.domNode=_14;
}
this.inherited(arguments);
if(!this._rendered){
this._fillContent(this.srcNodeRef);
}
this._rendered=true;
},_fillContent:function(_15){
var _16=this.containerNode;
if(_15&&_16){
while(_15.hasChildNodes()){
_16.appendChild(_15.firstChild);
}
}
}});
_e._templateCache={};
_e.getCachedTemplate=function(_17,_18,doc){
var _19=_e._templateCache;
var key=_17;
var _1a=_19[key];
if(_1a){
try{
if(!_1a.ownerDocument||_1a.ownerDocument==(doc||document)){
return _1a;
}
}
catch(e){
}
_3.destroy(_1a);
}
_17=_6.trim(_17);
if(_18||_17.match(/\$\{([^\}]+)\}/g)){
return (_19[key]=_17);
}else{
var _1b=_8(_3.toDom(_17,doc));
if(_1b.nodeType!=1){
throw new Error("Invalid template: "+_17);
}
return (_19[key]=_1b);
}
};
if(_5("ie")){
on(window,"unload",function(){
var _1c=_e._templateCache;
for(var key in _1c){
var _1d=_1c[key];
if(typeof _1d=="object"){
_3.destroy(_1d);
}
delete _1c[key];
}
});
}
return _e;
});


;define("dijit/_Contained",["dojo/_base/declare","./registry"],function(_1,_2){
return _1("dijit._Contained",null,{_getSibling:function(_3){
var _4=this.domNode;
do{
_4=_4[_3+"Sibling"];
}while(_4&&_4.nodeType!=1);
return _4&&_2.byNode(_4);
},getPreviousSibling:function(){
return this._getSibling("previous");
},getNextSibling:function(){
return this._getSibling("next");
},getIndexInParent:function(){
var p=this.getParent();
if(!p||!p.getIndexOfChild){
return -1;
}
return p.getIndexOfChild(this);
}});
});


;define("dijit/_CssStateMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(_1,_2,_3,_4,_5,_6,on,_7,_8,_9,_a,_b){
var _c=_2("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){
this.inherited(arguments);
_1.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(_d){
this.watch(_d,_6.hitch(this,"_setStateClass"));
},this);
for(var ap in this.cssStateNodes||{}){
this._trackMouseState(this[ap],this.cssStateNodes[ap]);
}
this._trackMouseState(this.domNode,this.baseClass);
this._setStateClass();
},_cssMouseEvent:function(_e){
if(!this.disabled){
switch(_e.type){
case "mouseover":
case "MSPointerOver":
case "pointerover":
this._set("hovering",true);
this._set("active",this._mouseDown);
break;
case "mouseout":
case "MSPointerOut":
case "pointerout":
this._set("hovering",false);
this._set("active",false);
break;
case "mousedown":
case "touchstart":
case "MSPointerDown":
case "pointerdown":
case "keydown":
this._set("active",true);
break;
case "mouseup":
case "dojotouchend":
case "MSPointerUp":
case "pointerup":
case "keyup":
this._set("active",false);
break;
}
}
},_setStateClass:function(){
var _f=this.baseClass.split(" ");
function _10(_11){
_f=_f.concat(_1.map(_f,function(c){
return c+_11;
}),"dijit"+_11);
};
if(!this.isLeftToRight()){
_10("Rtl");
}
var _12=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");
if(this.checked){
_10(_12);
}
if(this.state){
_10(this.state);
}
if(this.selected){
_10("Selected");
}
if(this._opened){
_10("Opened");
}
if(this.disabled){
_10("Disabled");
}else{
if(this.readOnly){
_10("ReadOnly");
}else{
if(this.active){
_10("Active");
}else{
if(this.hovering){
_10("Hover");
}
}
}
}
if(this.focused){
_10("Focused");
}
var tn=this.stateNode||this.domNode,_13={};
_1.forEach(tn.className.split(" "),function(c){
_13[c]=true;
});
if("_stateClasses" in this){
_1.forEach(this._stateClasses,function(c){
delete _13[c];
});
}
_1.forEach(_f,function(c){
_13[c]=true;
});
var _14=[];
for(var c in _13){
_14.push(c);
}
tn.className=_14.join(" ");
this._stateClasses=_f;
},_subnodeCssMouseEvent:function(_15,_16,evt){
if(this.disabled||this.readOnly){
return;
}
function _17(_18){
_4.toggle(_15,_16+"Hover",_18);
};
function _19(_1a){
_4.toggle(_15,_16+"Active",_1a);
};
function _1b(_1c){
_4.toggle(_15,_16+"Focused",_1c);
};
switch(evt.type){
case "mouseover":
case "MSPointerOver":
case "pointerover":
_17(true);
break;
case "mouseout":
case "MSPointerOut":
case "pointerout":
_17(false);
_19(false);
break;
case "mousedown":
case "touchstart":
case "MSPointerDown":
case "pointerdown":
case "keydown":
_19(true);
break;
case "mouseup":
case "MSPointerUp":
case "pointerup":
case "dojotouchend":
case "keyup":
_19(false);
break;
case "focus":
case "focusin":
_1b(true);
break;
case "blur":
case "focusout":
_1b(false);
break;
}
},_trackMouseState:function(_1d,_1e){
_1d._cssState=_1e;
}});
_7(function(){
function _1f(evt,_20,_21){
if(_21&&_3.isDescendant(_21,_20)){
return;
}
for(var _22=_20;_22&&_22!=_21;_22=_22.parentNode){
if(_22._cssState){
var _23=_b.getEnclosingWidget(_22);
if(_23){
if(_22==_23.domNode){
_23._cssMouseEvent(evt);
}else{
_23._subnodeCssMouseEvent(_22,_22._cssState,evt);
}
}
}
}
};
var _24=_9.body(),_25;
on(_24,_8.over,function(evt){
_1f(evt,evt.target,evt.relatedTarget);
});
on(_24,_8.out,function(evt){
_1f(evt,evt.target,evt.relatedTarget);
});
on(_24,_a.press,function(evt){
_25=evt.target;
_1f(evt,_25);
});
on(_24,_a.release,function(evt){
_1f(evt,_25);
_25=null;
});
on(_24,"focusin, focusout",function(evt){
var _26=evt.target;
if(_26._cssState&&!_26.getAttribute("widgetId")){
var _27=_b.getEnclosingWidget(_26);
if(_27){
_27._subnodeCssMouseEvent(_26,_26._cssState,evt);
}
}
});
});
return _c;
});


;define("dojo/text!dijit/templates/MenuItem.html", '<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n	<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n		<span role="presentation" class="dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"></span>\n	</td>\n	<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode,textDirNode"\n		role="presentation"></td>\n	<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n	<td class="dijitReset dijitMenuArrowCell" role="presentation">\n		<span data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n			<span class="dijitInline dijitIcon dijitMenuExpand"></span>\n			<span class="dijitMenuExpandA11y">+</span>\n		</span>\n	</td>\n</tr>\n');

;define("dijit/MenuItem",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){
var _d=_1("dijit.MenuItem"+(_6("dojo-bidi")?"_NoBidi":""),[_8,_9,_a,_b],{templateString:_c,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(_e){
this._set("label",_e);
var _f="";
var _10;
var ndx=_e.search(/{\S}/);
if(ndx>=0){
_f=_e.charAt(ndx+1);
var _11=_e.substr(0,ndx);
var _12=_e.substr(ndx+3);
_10=_11+_f+_12;
_e=_11+"<span class=\"dijitMenuItemShortcutKey\">"+_f+"</span>"+_12;
}else{
_10=_e;
}
this.domNode.setAttribute("aria-label",_10+" "+this.accelKey);
this.containerNode.innerHTML=_e;
this._set("shortcutKey",_f);
},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_13){
if(_13&&!("label" in this.params)){
this._set("label",_13.innerHTML);
}
},buildRendering:function(){
this.inherited(arguments);
var _14=this.id+"_text";
_3.set(this.containerNode,"id",_14);
if(this.accelKeyNode){
_3.set(this.accelKeyNode,"id",this.id+"_accel");
}
_2.setSelectable(this.domNode,false);
},onClick:function(){
},focus:function(){
try{
if(_6("ie")==8){
this.containerNode.focus();
}
this.focusNode.focus();
}
catch(e){
}
},_onFocus:function(){
this.getParent()._onItemFocus(this);
this.inherited(arguments);
},_setSelected:function(_15){
_4.toggle(this.domNode,"dijitMenuItemSelected",_15);
},setLabel:function(_16){
_5.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",_16);
},setDisabled:function(_17){
_5.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");
this.set("disabled",_17);
},_setDisabledAttr:function(_18){
this.focusNode.setAttribute("aria-disabled",_18?"true":"false");
this._set("disabled",_18);
},_setAccelKeyAttr:function(_19){
if(this.accelKeyNode){
this.accelKeyNode.style.display=_19?"":"none";
this.accelKeyNode.innerHTML=_19;
_3.set(this.containerNode,"colSpan",_19?"1":"2");
}
this._set("accelKey",_19);
}});
if(_6("dojo-bidi")){
_d=_1("dijit.MenuItem",_d,{_setLabelAttr:function(val){
this.inherited(arguments);
if(this.textDir==="auto"){
this.applyTextDir(this.textDirNode);
}
}});
}
return _d;
});


;define("dojo/text!dijit/templates/CheckedMenuItem.html", '<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="${role}" tabIndex="-1" aria-checked="${checked}">\n	<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n		<span class="dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point="iconNode"></span>\n		<span class="dijitMenuItemIconChar dijitCheckedMenuItemIconChar">${checkedChar}</span>\n	</td>\n	<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode,labelNode,textDirNode"></td>\n	<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n	<td class="dijitReset dijitMenuArrowCell" role="presentation">&#160;</td>\n</tr>\n');

;define("dijit/CheckedMenuItem",["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_1,_2,_3,_4){
return _1("dijit.CheckedMenuItem",_3,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:_4,checked:false,_setCheckedAttr:function(_5){
this.domNode.setAttribute("aria-checked",_5?"true":"false");
this._set("checked",_5);
},iconClass:"",role:"menuitemcheckbox",checkedChar:"&#10003;",onChange:function(){
},_onClick:function(_6){
if(!this.disabled){
this.set("checked",!this.checked);
this.onChange(this.checked);
}
this.onClick(_6);
}});
});


;define("dojo/i18n",["require","./_base/kernel"],function(_1,_2){
var _3="."+_2.locale.replace(/-/,"_");
function _4(_5,_6,_7){
_7=_7?_7.toLowerCase():_2.locale;
_5=_5.replace(/\./g,"/");
_6=_6.replace(/\./g,"/");
return (/root/i.test(_7))?(_5+"/nls/"+_6):(_5+"/nls/"+_7+"/"+_6);
};
function _8(_9,_a,_b){
_b=_b?_b.toLowerCase():_2.locale;
var _c=_9+".nls."+_a,_d="dojo/i18n!"+_c.replace(/\./g,"/");
return _e(_c,"."+_b.replace(/-/,"_"))||define._modules[_d];
};
_2.i18n={normalizeLocale:function(_f){
var _10=_f?_f.toLowerCase():_2.locale;
return _10=="root"?"ROOT":_10;
},_preloadLocalizations:function(){
_2.deprecated("Connections doesn't support the 'dojo-preload-i18n-Api', we're providing this stub as a convenience.","5.0");
},getLocalization:function(_11,_12,_13){
return _e(_11+".nls."+_12,_13?"."+_13.replace(/-/,"_"):_3)||_14(_11,_12);
},requireLocalization:function(_15,_16,_17){
_2.deprecated("dojo.requireLocalization()","Deprecated. Use dojo/i18n! plugin plugin instead.","2.0");
_17=_17?_17.toLowerCase():_2.locale;
var _18=!_8(_15,_16,_17);
if(_18){
net.jazz.ajax.xdloader.load_sync(_15+".nls."+_17+"."+_16,true);
}
}};
function _e(_19,_1a){
var _1b,_1c=_2.getObject(_19),_1d=_1a.substr(1).split("_");
for(var i=_1d.length;i>0;i--){
var loc=_1d.slice(0,i).join("_");
if(_2.exists(loc,_1c)){
_1b=_1c[loc];
break;
}
}
if(!_1b&&_1c&&_1c.ROOT){
_1b=_1c.ROOT;
}
return _1b;
};
function _14(_1e,_1f){
_1e=_1e.replace(/\./g,"/");
var i=_1f.lastIndexOf("/")+1;
return _1("dojo/i18n!"+_1e+"/"+_1f.substring(0,i)+"nls/"+_1f.substring(i));
};
_2.requireLocalization=_2.i18n.requireLocalization;
_2.getLocalization=_2.i18n.getLocalization;
return {normalizeLocale:_2.i18n.normalizeLocale,getLocalization:_14};
});


;define("dojo/dnd/common",["../sniff","../_base/kernel","../_base/lang","../dom"],function(_1,_2,_3,_4){
var _5=_3.getObject("dojo.dnd",true);
_5.getCopyKeyState=function(_6){
return _6[_1("mac")?"metaKey":"ctrlKey"];
};
_5._uniqueId=0;
_5.getUniqueId=function(){
var id;
do{
id=_2._scopeName+"Unique"+(++_5._uniqueId);
}while(_4.byId(id));
return id;
};
_5._empty={};
_5.isFormElement=function(e){
var t=e.target;
if(t.nodeType==3){
t=t.parentNode;
}
return " a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;
};
return _5;
});


;define("dojo/dnd/autoscroll",["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(_1,_2,_3,_4,_5,_6){
var _7={};
_1.setObject("dojo.dnd.autoscroll",_7);
_7.getViewport=_6.getBox;
_7.V_TRIGGER_AUTOSCROLL=32;
_7.H_TRIGGER_AUTOSCROLL=32;
_7.V_AUTOSCROLL_VALUE=16;
_7.H_AUTOSCROLL_VALUE=16;
var _8,_9=_3.doc,_a=Infinity,_b=Infinity;
_7.autoScrollStart=function(d){
_9=d;
_8=_6.getBox(_9);
var _c=_3.body(_9).parentNode;
_a=Math.max(_c.scrollHeight-_8.h,0);
_b=Math.max(_c.scrollWidth-_8.w,0);
};
_7.autoScroll=function(e){
var v=_8||_6.getBox(_9),_d=_3.body(_9).parentNode,dx=0,dy=0;
if(e.clientX<_7.H_TRIGGER_AUTOSCROLL){
dx=-_7.H_AUTOSCROLL_VALUE;
}else{
if(e.clientX>v.w-_7.H_TRIGGER_AUTOSCROLL){
dx=Math.min(_7.H_AUTOSCROLL_VALUE,_b-_d.scrollLeft);
}
}
if(e.clientY<_7.V_TRIGGER_AUTOSCROLL){
dy=-_7.V_AUTOSCROLL_VALUE;
}else{
if(e.clientY>v.h-_7.V_TRIGGER_AUTOSCROLL){
dy=Math.min(_7.V_AUTOSCROLL_VALUE,_a-_d.scrollTop);
}
}
window.scrollBy(dx,dy);
};
_7._validNodes={"div":1,"p":1,"td":1};
_7._validOverflow={"auto":1,"scroll":1};
_7.autoScrollNodes=function(e){
var b,t,w,h,rx,ry,dx=0,dy=0,_e,_f;
for(var n=e.target;n;){
if(n.nodeType==1&&(n.tagName.toLowerCase() in _7._validNodes)){
var s=_5.getComputedStyle(n),_10=(s.overflow.toLowerCase() in _7._validOverflow),_11=(s.overflowX.toLowerCase() in _7._validOverflow),_12=(s.overflowY.toLowerCase() in _7._validOverflow);
if(_10||_11||_12){
b=_4.getContentBox(n,s);
t=_4.position(n,true);
}
if(_10||_11){
w=Math.min(_7.H_TRIGGER_AUTOSCROLL,b.w/2);
rx=e.pageX-t.x;
if(_2("webkit")||_2("opera")){
rx+=_3.body().scrollLeft;
}
dx=0;
if(rx>0&&rx<b.w){
if(rx<w){
dx=-w;
}else{
if(rx>b.w-w){
dx=w;
}
}
_e=n.scrollLeft;
n.scrollLeft=n.scrollLeft+dx;
}
}
if(_10||_12){
h=Math.min(_7.V_TRIGGER_AUTOSCROLL,b.h/2);
ry=e.pageY-t.y;
if(_2("webkit")||_2("opera")){
ry+=_3.body().scrollTop;
}
dy=0;
if(ry>0&&ry<b.h){
if(ry<h){
dy=-h;
}else{
if(ry>b.h-h){
dy=h;
}
}
_f=n.scrollTop;
n.scrollTop=n.scrollTop+dy;
}
}
if(dx||dy){
return;
}
}
try{
n=n.parentNode;
}
catch(x){
n=null;
}
}
_7.autoScroll(e);
};
return _7;
});


;define("dojo/dnd/Mover",["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,on,_a,_b,_c){
return _2("dojo.dnd.Mover",[_9],{constructor:function(_d,e,_e){
this.node=_6.byId(_d);
this.marginBox={l:e.pageX,t:e.pageY};
this.mouseButton=e.button;
var h=(this.host=_e),d=_d.ownerDocument;
function _f(e){
e.preventDefault();
e.stopPropagation();
};
this.events=[on(d,_a.move,_3.hitch(this,"onFirstMove")),on(d,_a.move,_3.hitch(this,"onMouseMove")),on(d,_a.release,_3.hitch(this,"onMouseUp")),on(d,"dragstart",_f),on(d.body,"selectstart",_f)];
_c.autoScrollStart(d);
if(h&&h.onMoveStart){
h.onMoveStart(this);
}
},onMouseMove:function(e){
_c.autoScroll(e);
var m=this.marginBox;
this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);
e.preventDefault();
e.stopPropagation();
},onMouseUp:function(e){
if(_4("webkit")&&_4("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){
this.destroy();
}
e.preventDefault();
e.stopPropagation();
},onFirstMove:function(e){
var s=this.node.style,l,t,h=this.host;
switch(s.position){
case "relative":
case "absolute":
l=Math.round(parseFloat(s.left))||0;
t=Math.round(parseFloat(s.top))||0;
break;
default:
s.position="absolute";
var m=_7.getMarginBox(this.node);
var b=_5.doc.body;
var bs=_8.getComputedStyle(b);
var bm=_7.getMarginBox(b,bs);
var bc=_7.getContentBox(b,bs);
l=m.l-(bc.l-bm.l);
t=m.t-(bc.t-bm.t);
break;
}
this.marginBox.l=l-this.marginBox.l;
this.marginBox.t=t-this.marginBox.t;
if(h&&h.onFirstMove){
h.onFirstMove(this,e);
}
this.events.shift().remove();
},destroy:function(){
_1.forEach(this.events,function(_10){
_10.remove();
});
var h=this.host;
if(h&&h.onMoveStop){
h.onMoveStop(this);
}
this.events=this.node=this.host=null;
}});
});


;define("dojo/dnd/Moveable",["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_1,_2,_3,_4,_5,_6,on,_7,_8,_9,_a,_b){
var _c=_2("dojo.dnd.Moveable",[_6],{handle:"",delay:0,skip:false,constructor:function(_d,_e){
this.node=_4.byId(_d);
if(!_e){
_e={};
}
this.handle=_e.handle?_4.byId(_e.handle):null;
if(!this.handle){
this.handle=this.node;
}
this.delay=_e.delay>0?_e.delay:0;
this.skip=_e.skip;
this.mover=_e.mover?_e.mover:_a;
this.events=[on(this.handle,_8.press,_3.hitch(this,"onMouseDown")),on(this.handle,"dragstart",_3.hitch(this,"onSelectStart")),on(this.handle,"selectstart",_3.hitch(this,"onSelectStart"))];
},markupFactory:function(_f,_10,_11){
return new _11(_10,_f);
},destroy:function(){
_1.forEach(this.events,function(_12){
_12.remove();
});
this.events=this.node=this.handle=null;
},onMouseDown:function(e){
if(this.skip&&_9.isFormElement(e)){
return;
}
if(this.delay){
this.events.push(on(this.handle,_8.move,_3.hitch(this,"onMouseMove")),on(this.handle,_8.release,_3.hitch(this,"onMouseUp")));
this._lastX=e.pageX;
this._lastY=e.pageY;
}else{
this.onDragDetected(e);
}
e.stopPropagation();
e.preventDefault();
},onMouseMove:function(e){
if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){
this.onMouseUp(e);
this.onDragDetected(e);
}
e.stopPropagation();
e.preventDefault();
},onMouseUp:function(e){
for(var i=0;i<2;++i){
this.events.pop().remove();
}
e.stopPropagation();
e.preventDefault();
},onSelectStart:function(e){
if(!this.skip||!_9.isFormElement(e)){
e.stopPropagation();
e.preventDefault();
}
},onDragDetected:function(e){
new this.mover(this.node,e,this);
},onMoveStart:function(_13){
_7.publish("/dnd/move/start",_13);
_5.add(_b.body(),"dojoMove");
_5.add(this.node,"dojoMoveItem");
},onMoveStop:function(_14){
_7.publish("/dnd/move/stop",_14);
_5.remove(_b.body(),"dojoMove");
_5.remove(this.node,"dojoMoveItem");
},onFirstMove:function(){
},onMove:function(_15,_16){
this.onMoving(_15,_16);
var s=_15.node.style;
s.left=_16.l+"px";
s.top=_16.t+"px";
this.onMoved(_15,_16);
},onMoving:function(){
},onMoved:function(){
}});
return _c;
});


;define("dojo/dnd/TimedMoveable",["../_base/declare","./Moveable"],function(_1,_2){
var _3=_2.prototype.onMove;
return _1("dojo.dnd.TimedMoveable",_2,{timeout:40,constructor:function(_4,_5){
if(!_5){
_5={};
}
if(_5.timeout&&typeof _5.timeout=="number"&&_5.timeout>=0){
this.timeout=_5.timeout;
}
},onMoveStop:function(_6){
if(_6._timer){
clearTimeout(_6._timer);
_3.call(this,_6,_6._leftTop);
}
_2.prototype.onMoveStop.apply(this,arguments);
},onMove:function(_7,_8){
_7._leftTop=_8;
if(!_7._timer){
var _9=this;
_7._timer=setTimeout(function(){
_7._timer=null;
_3.call(_9,_7,_7._leftTop);
},this.timeout);
}
}});
});


;define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_1,_2,_3,_4,on,_5){
return _2("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_6){
var _7=[];
_1.forEach(_6||this.getChildren(),function(_8){
if("value" in _8){
_7.push(_8);
}else{
_7=_7.concat(this._getDescendantFormWidgets(_8.getChildren()));
}
},this);
return _7;
},reset:function(){
_1.forEach(this._getDescendantFormWidgets(),function(_9){
if(_9.reset){
_9.reset();
}
});
},validate:function(){
var _a=false;
return _1.every(_1.map(this._getDescendantFormWidgets(),function(_b){
_b._hasBeenBlurred=true;
var _c=_b.disabled||!_b.validate||_b.validate();
if(!_c&&!_a){
_5.scrollIntoView(_b.containerNode||_b.domNode);
_b.focus();
_a=true;
}
return _c;
}),function(_d){
return _d;
});
},setValues:function(_e){
_3.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");
return this.set("value",_e);
},_setValueAttr:function(_f){
var map={};
_1.forEach(this._getDescendantFormWidgets(),function(_10){
if(!_10.name){
return;
}
var _11=map[_10.name]||(map[_10.name]=[]);
_11.push(_10);
});
for(var _12 in map){
if(!map.hasOwnProperty(_12)){
continue;
}
var _13=map[_12],_14=_4.getObject(_12,false,_f);
if(_14===undefined){
continue;
}
_14=[].concat(_14);
if(typeof _13[0].checked=="boolean"){
_1.forEach(_13,function(w){
w.set("value",_1.indexOf(_14,w._get("value"))!=-1);
});
}else{
if(_13[0].multiple){
_13[0].set("value",_14);
}else{
_1.forEach(_13,function(w,i){
w.set("value",_14[i]);
});
}
}
}
},getValues:function(){
_3.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");
return this.get("value");
},_getValueAttr:function(){
var obj={};
_1.forEach(this._getDescendantFormWidgets(),function(_15){
var _16=_15.name;
if(!_16||_15.disabled){
return;
}
var _17=_15.get("value");
if(typeof _15.checked=="boolean"){
if(/Radio/.test(_15.declaredClass)){
if(_17!==false){
_4.setObject(_16,_17,obj);
}else{
_17=_4.getObject(_16,false,obj);
if(_17===undefined){
_4.setObject(_16,null,obj);
}
}
}else{
var ary=_4.getObject(_16,false,obj);
if(!ary){
ary=[];
_4.setObject(_16,ary,obj);
}
if(_17!==false){
ary.push(_17);
}
}
}else{
var _18=_4.getObject(_16,false,obj);
if(typeof _18!="undefined"){
if(_4.isArray(_18)){
_18.push(_17);
}else{
_4.setObject(_16,[_18,_17],obj);
}
}else{
_4.setObject(_16,_17,obj);
}
}
});
return obj;
},isValid:function(){
return this.state=="";
},onValidStateChange:function(){
},_getState:function(){
var _19=_1.map(this._descendants,function(w){
return w.get("state")||"";
});
return _1.indexOf(_19,"Error")>=0?"Error":_1.indexOf(_19,"Incomplete")>=0?"Incomplete":"";
},disconnectChildren:function(){
},connectChildren:function(_1a){
this._descendants=this._getDescendantFormWidgets();
_1.forEach(this._descendants,function(_1b){
if(!_1b._started){
_1b.startup();
}
});
if(!_1a){
this._onChildChange();
}
},_onChildChange:function(_1c){
if(!_1c||_1c=="state"||_1c=="disabled"){
this._set("state",this._getState());
}
if(!_1c||_1c=="value"||_1c=="disabled"||_1c=="checked"){
if(this._onChangeDelayTimer){
this._onChangeDelayTimer.remove();
}
this._onChangeDelayTimer=this.defer(function(){
delete this._onChangeDelayTimer;
this._set("value",this.get("value"));
},10);
}
},startup:function(){
this.inherited(arguments);
this._descendants=this._getDescendantFormWidgets();
this.value=this.get("value");
this.state=this._getState();
var _1d=this;
this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){
if(evt.target==_1d.domNode){
return;
}
_1d._onChildChange(evt.type.replace("attrmodified-",""));
}));
this.watch("state",function(_1e,_1f,_20){
this.onValidStateChange(_20=="");
});
},destroy:function(){
this.inherited(arguments);
}});
});


;define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(_1,_2){
return _1("dijit._DialogMixin",null,{execute:function(){
},onCancel:function(){
},onExecute:function(){
},_onSubmit:function(){
this.onExecute();
this.execute(this.get("value"));
},_getFocusItems:function(){
var _3=_2._getTabNavigable(this.containerNode);
this._firstFocusItem=_3.lowest||_3.first||this.closeButtonNode||this.domNode;
this._lastFocusItem=_3.last||_3.highest||this._firstFocusItem;
}});
});


;define("dijit/DialogUnderlay",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(_1,_2,_3,_4,_5,on,_6,_7,_8,_9,_a,_b){
var _c=_1("dijit.DialogUnderlay",[_7,_8],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(id){
_4.set(this.node,"id",id+"_underlay");
this._set("dialogId",id);
},_setClassAttr:function(_d){
this.node.className="dijitDialogUnderlay "+_d;
this._set("class",_d);
},postCreate:function(){
this.ownerDocumentBody.appendChild(this.domNode);
this.own(on(this.domNode,"keydown",_2.hitch(this,"_onKeyDown")));
this.inherited(arguments);
},layout:function(){
var is=this.node.style,os=this.domNode.style;
os.display="none";
var _e=_6.getBox(this.ownerDocument);
os.top=_e.t+"px";
os.left=_e.l+"px";
is.width=_e.w+"px";
is.height=_e.h+"px";
os.display="block";
},show:function(){
this.domNode.style.display="block";
this.open=true;
this.layout();
this.bgIframe=new _9(this.domNode);
var _f=_6.get(this.ownerDocument);
this._modalConnects=[_a.on("resize",_2.hitch(this,"layout")),on(_f,"scroll",_2.hitch(this,"layout"))];
},hide:function(){
this.bgIframe.destroy();
delete this.bgIframe;
this.domNode.style.display="none";
while(this._modalConnects.length){
(this._modalConnects.pop()).remove();
}
this.open=false;
},destroy:function(){
while(this._modalConnects.length){
(this._modalConnects.pop()).remove();
}
this.inherited(arguments);
},_onKeyDown:function(){
}});
_c.show=function(_10,_11){
var _12=_c._singleton;
if(!_12||_12._destroyed){
_12=_b._underlay=_c._singleton=new _c(_10);
}else{
if(_10){
_12.set(_10);
}
}
_5.set(_12.domNode,"zIndex",_11);
if(!_12.open){
_12.show();
}
};
_c.hide=function(){
var _13=_c._singleton;
if(_13&&!_13._destroyed){
_13.hide();
}
};
return _c;
});


;define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_1,_2,_3,_4){
return _2("dijit._Container",null,{buildRendering:function(){
this.inherited(arguments);
if(!this.containerNode){
this.containerNode=this.domNode;
}
},addChild:function(_5,_6){
var _7=this.containerNode;
if(_6>0){
_7=_7.firstChild;
while(_6>0){
if(_7.nodeType==1){
_6--;
}
_7=_7.nextSibling;
}
if(_7){
_6="before";
}else{
_7=this.containerNode;
_6="last";
}
}
_3.place(_5.domNode,_7,_6);
if(this._started&&!_5._started){
_5.startup();
}
},removeChild:function(_8){
if(typeof _8=="number"){
_8=this.getChildren()[_8];
}
if(_8){
var _9=_8.domNode;
if(_9&&_9.parentNode){
_9.parentNode.removeChild(_9);
}
}
},hasChildren:function(){
return this.getChildren().length>0;
},_getSiblingOfChild:function(_a,_b){
_4.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");
var _c=this.getChildren(),_d=_1.indexOf(_c,_a);
return _c[_d+_b];
},getIndexOfChild:function(_e){
return _1.indexOf(this.getChildren(),_e);
}});
});


;define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(_1,_2,_3,_4,_5){
function _6(_7){
return _7.substring(0,1).toUpperCase()+_7.substring(1);
};
function _8(_9,_a){
var _b=_9.resize?_9.resize(_a):_3.setMarginBox(_9.domNode,_a);
if(_b){
_5.mixin(_9,_b);
}else{
_5.mixin(_9,_3.getMarginBox(_9.domNode));
_5.mixin(_9,_a);
}
};
var _c={marginBox2contentBox:function(_d,mb){
var cs=_4.getComputedStyle(_d);
var me=_3.getMarginExtents(_d,cs);
var pb=_3.getPadBorderExtents(_d,cs);
return {l:_4.toPixelValue(_d,cs.paddingLeft),t:_4.toPixelValue(_d,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};
},layoutChildren:function(_e,_f,_10,_11,_12){
_f=_5.mixin({},_f);
_2.add(_e,"dijitLayoutContainer");
_10=_1.filter(_10,function(_13){
return _13.region!="center"&&_13.layoutAlign!="client";
}).concat(_1.filter(_10,function(_14){
return _14.region=="center"||_14.layoutAlign=="client";
}));
_1.forEach(_10,function(_15){
var elm=_15.domNode,pos=(_15.region||_15.layoutAlign);
if(!pos){
throw new Error("No region setting for "+_15.id);
}
var _16=elm.style;
_16.left=_f.l+"px";
_16.top=_f.t+"px";
_16.position="absolute";
_2.add(elm,"dijitAlign"+_6(pos));
var _17={};
if(_11&&_11==_15.id){
_17[_15.region=="top"||_15.region=="bottom"?"h":"w"]=_12;
}
if(pos=="leading"){
pos=_15.isLeftToRight()?"left":"right";
}
if(pos=="trailing"){
pos=_15.isLeftToRight()?"right":"left";
}
if(pos=="top"||pos=="bottom"){
_17.w=_f.w;
_8(_15,_17);
_f.h-=_15.h;
if(pos=="top"){
_f.t+=_15.h;
}else{
_16.top=_f.t+_f.h+"px";
}
}else{
if(pos=="left"||pos=="right"){
_17.h=_f.h;
_8(_15,_17);
_f.w-=_15.w;
if(pos=="left"){
_f.l+=_15.w;
}else{
_16.left=_f.l+_f.w+"px";
}
}else{
if(pos=="client"||pos=="center"){
_8(_15,_f);
}
}
}
});
}};
_5.setObject("dijit.layout.utils",_c);
return _c;
});


;define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){
return _2("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){
if(this._started){
return;
}
var _c=this.getParent();
this._childOfLayoutWidget=_c&&_c.isLayoutContainer;
this._needLayout=!this._childOfLayoutWidget;
this.inherited(arguments);
if(this._isShown()){
this._onShow();
}
if(!this._childOfLayoutWidget){
this.own(_a.on("resize",_6.hitch(this,"resize")));
}
},_checkIfSingleChild:function(){
var _d=[],_e=false;
_7("> *",this.containerNode).some(function(_f){
var _10=_9.byNode(_f);
if(_10&&_10.resize){
_d.push(_10);
}else{
if(!/script|link|style/i.test(_f.nodeName)&&_f.offsetHeight){
_e=true;
}
}
});
this._singleChild=_d.length==1&&!_e?_d[0]:null;
_3.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);
},resize:function(_11,_12){
this._resizeCalled=true;
this._scheduleLayout(_11,_12);
},_scheduleLayout:function(_13,_14){
if(this._isShown()){
this._layout(_13,_14);
}else{
this._needLayout=true;
this._changeSize=_13;
this._resultSize=_14;
}
},_layout:function(_15,_16){
delete this._needLayout;
if(!this._wasShown&&this.open!==false){
this._onShow();
}
if(_15){
_4.setMarginBox(this.domNode,_15);
}
var cn=this.containerNode;
if(cn===this.domNode){
var mb=_16||{};
_6.mixin(mb,_15||{});
if(!("h" in mb)||!("w" in mb)){
mb=_6.mixin(_4.getMarginBox(cn),mb);
}
this._contentBox=_b.marginBox2contentBox(cn,mb);
}else{
this._contentBox=_4.getContentBox(cn);
}
this._layoutChildren();
},_layoutChildren:function(){
if(this.doLayout){
this._checkIfSingleChild();
}
if(this._singleChild&&this._singleChild.resize){
var cb=this._contentBox||_4.getContentBox(this.containerNode);
this._singleChild.resize({w:cb.w,h:cb.h});
}else{
var _17=this.getChildren(),_18,i=0;
while(_18=_17[i++]){
if(_18.resize){
_18.resize();
}
}
}
},_isShown:function(){
if(this._childOfLayoutWidget){
if(this._resizeCalled&&"open" in this){
return this.open;
}
return this._resizeCalled;
}else{
if("open" in this){
return this.open;
}else{
var _19=this.domNode,_1a=this.domNode.parentNode;
return (_19.style.display!="none")&&(_19.style.visibility!="hidden")&&!_3.contains(_19,"dijitHidden")&&_1a&&_1a.style&&(_1a.style.display!="none");
}
}
},_onShow:function(){
this._wasShown=true;
if(this._needLayout){
this._layout(this._changeSize,this._resultSize);
}
this.inherited(arguments);
}});
});


;define("dojo/promise/all",["../_base/array","../Deferred","../when"],function(_1,_2,_3){
"use strict";
var _4=_1.some;
return function all(_5){
var _6,_1;
if(_5 instanceof Array){
_1=_5;
}else{
if(_5&&typeof _5==="object"){
_6=_5;
}
}
var _7;
var _8=[];
if(_6){
_1=[];
for(var _9 in _6){
if(Object.hasOwnProperty.call(_6,_9)){
_8.push(_9);
_1.push(_6[_9]);
}
}
_7={};
}else{
if(_1){
_7=[];
}
}
if(!_1||!_1.length){
return new _2().resolve(_7);
}
var _a=new _2();
_a.promise.always(function(){
_7=_8=null;
});
var _b=_1.length;
_4(_1,function(_c,_d){
if(!_6){
_8.push(_d);
}
_3(_c,function(_e){
if(!_a.isFulfilled()){
_7[_8[_d]]=_e;
if(--_b===0){
_a.resolve(_7);
}
}
},_a.reject);
return _a.isFulfilled();
});
return _a.promise;
};
});


;define("dojo/date/stamp",["../_base/lang","../_base/array"],function(_1,_2){
var _3={};
_1.setObject("dojo.date.stamp",_3);
_3.fromISOString=function(_4,_5){
if(!_3._isoRegExp){
_3._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;
}
var _6=_3._isoRegExp.exec(_4),_7=null;
if(_6){
_6.shift();
if(_6[1]){
_6[1]--;
}
if(_6[6]){
_6[6]*=1000;
}
if(_5){
_5=new Date(_5);
_2.forEach(_2.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_8){
return _5["get"+_8]();
}),function(_9,_a){
_6[_a]=_6[_a]||_9;
});
}
_7=new Date(_6[0]||1970,_6[1]||0,_6[2]||1,_6[3]||0,_6[4]||0,_6[5]||0,_6[6]||0);
if(_6[0]<100){
_7.setFullYear(_6[0]||1970);
}
var _b=0,_c=_6[7]&&_6[7].charAt(0);
if(_c!="Z"){
_b=((_6[8]||0)*60)+(Number(_6[9])||0);
if(_c!="-"){
_b*=-1;
}
}
if(_c){
_b-=_7.getTimezoneOffset();
}
if(_b){
_7.setTime(_7.getTime()+_b*60000);
}
}
return _7;
};
_3.toISOString=function(_d,_e){
var _f=function(n){
return (n<10)?"0"+n:n;
};
_e=_e||{};
var _10=[],_11=_e.zulu?"getUTC":"get",_12="";
if(_e.selector!="time"){
var _13=_d[_11+"FullYear"]();
_12=["0000".substr((_13+"").length)+_13,_f(_d[_11+"Month"]()+1),_f(_d[_11+"Date"]())].join("-");
}
_10.push(_12);
if(_e.selector!="date"){
var _14=[_f(_d[_11+"Hours"]()),_f(_d[_11+"Minutes"]()),_f(_d[_11+"Seconds"]())].join(":");
var _15=_d[_11+"Milliseconds"]();
if(_e.milliseconds){
_14+="."+(_15<100?"0":"")+_f(_15);
}
if(_e.zulu){
_14+="Z";
}else{
if(_e.selector!="time"){
var _16=_d.getTimezoneOffset();
var _17=Math.abs(_16);
_14+=(_16>0?"-":"+")+_f(Math.floor(_17/60))+":"+_f(_17%60);
}
}
_10.push(_14);
}
return _10.join("T");
};
return _3;
});


;define("dojo/parser",["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10){
new Date("X");
function _11(_12){
return eval("("+_12+")");
};
var _13=0;
_9.after(_3,"extend",function(){
_13++;
},true);
function _14(_15){
var map=_15._nameCaseMap,_16=_15.prototype;
if(!map||map._extendCnt<_13){
map=_15._nameCaseMap={};
for(var _17 in _16){
if(_17.charAt(0)==="_"){
continue;
}
map[_17.toLowerCase()]=_17;
}
map._extendCnt=_13;
}
return map;
};
var _18={};
function _19(_1a,_1b){
var ts=_1a.join();
if(!_18[ts]){
var _1c=[];
for(var i=0,l=_1a.length;i<l;i++){
var t=_1a[i];
_1c[_1c.length]=(_18[t]=_18[t]||(_3.getObject(t)||(~t.indexOf("/")&&(_1b?_1b(t):_1(t)))));
}
var _1d=_1c.shift();
_18[ts]=_1c.length?(_1d.createSubclass?_1d.createSubclass(_1c):_1d.extend.apply(_1d,_1c)):_1d;
}
return _18[ts];
};
var _1e={_clearCache:function(){
_13++;
_18={};
},_functionFromScript:function(_1f,_20){
var _21="",_22="",_23=(_1f.getAttribute(_20+"args")||_1f.getAttribute("args")),_24=_1f.getAttribute("with");
var _25=(_23||"").split(/\s*,\s*/);
if(_24&&_24.length){
_4.forEach(_24.split(/\s*,\s*/),function(_26){
_21+="with("+_26+"){";
_22+="}";
});
}
return new Function(_25,_21+_1f.innerHTML+_22);
},instantiate:function(_27,_28,_29){
_28=_28||{};
_29=_29||{};
var _2a=(_29.scope||_2._scopeName)+"Type",_2b="data-"+(_29.scope||_2._scopeName)+"-",_2c=_2b+"type",_2d=_2b+"mixins";
var _2e=[];
_4.forEach(_27,function(_2f){
var _30=_2a in _28?_28[_2a]:_2f.getAttribute(_2c)||_2f.getAttribute(_2a);
if(_30){
var _31=_2f.getAttribute(_2d),_32=_31?[_30].concat(_31.split(/\s*,\s*/)):[_30];
_2e.push({node:_2f,types:_32});
}
});
return this._instantiate(_2e,_28,_29);
},_instantiate:function(_33,_34,_35,_36){
var _37=_4.map(_33,function(obj){
var _38=obj.ctor||_19(obj.types,_35.contextRequire);
if(!_38){
throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");
}
return this.construct(_38,obj.node,_34,_35,obj.scripts,obj.inherited);
},this);
function _39(_3a){
if(!_34._started&&!_35.noStart){
_4.forEach(_3a,function(_3b){
if(typeof _3b.startup==="function"&&!_3b._started){
_3b.startup();
}
});
}
return _3a;
};
if(_36){
return _a(_37).then(_39);
}else{
return _39(_37);
}
},construct:function(_3c,_3d,_3e,_3f,_40,_41){
var _42=_3c&&_3c.prototype;
_3f=_3f||{};
var _43={};
if(_3f.defaults){
_3.mixin(_43,_3f.defaults);
}
if(_41){
_3.mixin(_43,_41);
}
var _44;
if(_d("dom-attributes-explicit")){
_44=_3d.attributes;
}else{
if(_d("dom-attributes-specified-flag")){
_44=_4.filter(_3d.attributes,function(a){
return a.specified;
});
}else{
var _45=/^input$|^img$/i.test(_3d.nodeName)?_3d:_3d.cloneNode(false),_46=_45.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");
_44=_4.map(_46.split(/\s+/),function(_47){
var _48=_47.toLowerCase();
return {name:_47,value:(_3d.nodeName=="LI"&&_47=="value")||_48=="enctype"?_3d.getAttribute(_48):_3d.getAttributeNode(_48).value};
});
}
}
var _49=_3f.scope||_2._scopeName,_4a="data-"+_49+"-",_4b={};
if(_49!=="dojo"){
_4b[_4a+"props"]="data-dojo-props";
_4b[_4a+"type"]="data-dojo-type";
_4b[_4a+"mixins"]="data-dojo-mixins";
_4b[_49+"type"]="dojoType";
_4b[_4a+"id"]="data-dojo-id";
}
var i=0,_4c,_4d=[],_4e,_4f;
while(_4c=_44[i++]){
var _50=_4c.name,_51=_50.toLowerCase(),_52=_4c.value;
switch(_4b[_51]||_51){
case "data-dojo-type":
case "dojotype":
case "data-dojo-mixins":
break;
case "data-dojo-props":
_4f=_52;
break;
case "data-dojo-id":
case "jsid":
_4e=_52;
break;
case "data-dojo-attach-point":
case "dojoattachpoint":
_43.dojoAttachPoint=_52;
break;
case "data-dojo-attach-event":
case "dojoattachevent":
_43.dojoAttachEvent=_52;
break;
case "class":
_43["class"]=_3d.className;
break;
case "style":
_43["style"]=_3d.style&&_3d.style.cssText;
break;
default:
if(!(_50 in _42)){
var map=_14(_3c);
_50=map[_51]||_50;
}
if(_50 in _42){
switch(typeof _42[_50]){
case "string":
_43[_50]=_52;
break;
case "number":
_43[_50]=_52.length?Number(_52):NaN;
break;
case "boolean":
_43[_50]=_52.toLowerCase()!="false";
break;
case "function":
if(_52===""||_52.search(/[^\w\.]+/i)!=-1){
_43[_50]=new Function(_52);
}else{
_43[_50]=_3.getObject(_52,false)||new Function(_52);
}
_4d.push(_50);
break;
default:
var _53=_42[_50];
_43[_50]=(_53&&"length" in _53)?(_52?_52.split(/\s*,\s*/):[]):(_53 instanceof Date)?(_52==""?new Date(""):_52=="now"?new Date():_b.fromISOString(_52)):(_53 instanceof _8)?(_2.baseUrl+_52):_11(_52);
}
}else{
_43[_50]=_52;
}
}
}
for(var j=0;j<_4d.length;j++){
var _54=_4d[j].toLowerCase();
_3d.removeAttribute(_54);
_3d[_54]=null;
}
if(_4f){
try{
_4f=_11.call(_3f.propsThis,"{"+_4f+"}");
_3.mixin(_43,_4f);
}
catch(e){
throw new Error(e.toString()+" in data-dojo-props='"+_4f+"'");
}
}
_3.mixin(_43,_3e);
if(!_40){
_40=(_3c&&(_3c._noScript||_42._noScript)?[]:_e("> script[type^='dojo/']",_3d));
}
var _55=[],_56=[],_57=[],ons=[];
if(_40){
for(i=0;i<_40.length;i++){
var _58=_40[i];
_3d.removeChild(_58);
var _59=(_58.getAttribute(_4a+"event")||_58.getAttribute("event")),_5a=_58.getAttribute(_4a+"prop"),_5b=_58.getAttribute(_4a+"method"),_5c=_58.getAttribute(_4a+"advice"),_5d=_58.getAttribute("type"),nf=this._functionFromScript(_58,_4a);
if(_59){
if(_5d=="dojo/connect"){
_55.push({method:_59,func:nf});
}else{
if(_5d=="dojo/on"){
ons.push({event:_59,func:nf});
}else{
_43[_59]=nf;
}
}
}else{
if(_5d=="dojo/aspect"){
_55.push({method:_5b,advice:_5c,func:nf});
}else{
if(_5d=="dojo/watch"){
_57.push({prop:_5a,func:nf});
}else{
_56.push(nf);
}
}
}
}
}
var _5e=_3c.markupFactory||_42.markupFactory;
var _5f=_5e?_5e(_43,_3d,_3c):new _3c(_43,_3d);
function _60(_61){
if(_4e){
_3.setObject(_4e,_61);
}
for(i=0;i<_55.length;i++){
_9[_55[i].advice||"after"](_61,_55[i].method,_3.hitch(_61,_55[i].func),true);
}
for(i=0;i<_56.length;i++){
_56[i].call(_61);
}
for(i=0;i<_57.length;i++){
_61.watch(_57[i].prop,_57[i].func);
}
for(i=0;i<ons.length;i++){
_f(_61,ons[i].event,ons[i].func);
}
return _61;
};
if(_5f.then){
return _5f.then(_60);
}else{
return _60(_5f);
}
},scan:function(_62,_63){
var _64=[],_65=[],_66={};
var _67=(_63.scope||_2._scopeName)+"Type",_68="data-"+(_63.scope||_2._scopeName)+"-",_69=_68+"type",_6a=_68+"textdir",_6b=_68+"mixins";
var _6c=_62.firstChild;
var _6d=_63.inherited;
if(!_6d){
function _6e(_6f,_70){
return (_6f.getAttribute&&_6f.getAttribute(_70))||(_6f.parentNode&&_6e(_6f.parentNode,_70));
};
_6d={dir:_6e(_62,"dir"),lang:_6e(_62,"lang"),textDir:_6e(_62,_6a)};
for(var key in _6d){
if(!_6d[key]){
delete _6d[key];
}
}
}
var _71={inherited:_6d};
var _72;
var _73;
function _74(_75){
if(!_75.inherited){
_75.inherited={};
var _76=_75.node,_77=_74(_75.parent);
var _78={dir:_76.getAttribute("dir")||_77.dir,lang:_76.getAttribute("lang")||_77.lang,textDir:_76.getAttribute(_6a)||_77.textDir};
for(var key in _78){
if(_78[key]){
_75.inherited[key]=_78[key];
}
}
}
return _75.inherited;
};
while(true){
if(!_6c){
if(!_71||!_71.node){
break;
}
_6c=_71.node.nextSibling;
_73=false;
_71=_71.parent;
_72=_71.scripts;
continue;
}
if(_6c.nodeType!=1){
_6c=_6c.nextSibling;
continue;
}
if(_72&&_6c.nodeName.toLowerCase()=="script"){
_79=_6c.getAttribute("type");
if(_79&&/^dojo\/\w/i.test(_79)){
_72.push(_6c);
}
_6c=_6c.nextSibling;
continue;
}
if(_73){
_6c=_6c.nextSibling;
continue;
}
var _79=_6c.getAttribute(_69)||_6c.getAttribute(_67);
var _7a=_6c.firstChild;
if(!_79&&(!_7a||(_7a.nodeType==3&&!_7a.nextSibling))){
_6c=_6c.nextSibling;
continue;
}
var _7b;
var _7c=null;
if(_79){
var _7d=_6c.getAttribute(_6b),_7e=_7d?[_79].concat(_7d.split(/\s*,\s*/)):[_79];
try{
_7c=_19(_7e,_63.contextRequire);
}
catch(e){
}
if(!_7c){
_4.forEach(_7e,function(t){
if(~t.indexOf("/")&&!_66[t]){
_66[t]=true;
_65[_65.length]=t;
}
});
}
var _7f=_7c&&!_7c.prototype._noScript?[]:null;
_7b={types:_7e,ctor:_7c,parent:_71,node:_6c,scripts:_7f};
_7b.inherited=_74(_7b);
_64.push(_7b);
}else{
_7b={node:_6c,scripts:_72,parent:_71};
}
_72=_7f;
_73=_6c.stopParser||(_7c&&_7c.prototype.stopParser&&!(_63.template));
_71=_7b;
_6c=_7a;
}
var d=new _c();
if(_65.length){
if(_d("dojo-debug-messages")){
console.warn("WARNING: Modules being Auto-Required: "+_65.join(", "));
}
var r=_63.contextRequire||_1;
r(_65,function(){
d.resolve(_4.filter(_64,function(_80){
if(!_80.ctor){
try{
_80.ctor=_19(_80.types,_63.contextRequire);
}
catch(e){
}
}
var _81=_80.parent;
while(_81&&!_81.types){
_81=_81.parent;
}
var _82=_80.ctor&&_80.ctor.prototype;
_80.instantiateChildren=!(_82&&_82.stopParser&&!(_63.template));
_80.instantiate=!_81||(_81.instantiate&&_81.instantiateChildren);
return _80.instantiate;
}));
});
}else{
d.resolve(_64);
}
return d.promise;
},_require:function(_83,_84){
var _85=_11("{"+_83.innerHTML+"}"),_86=[],_87=[],d=new _c();
var _88=(_84&&_84.contextRequire)||_1;
for(var _89 in _85){
_86.push(_89);
_87.push(_85[_89]);
}
_88(_87,function(){
for(var i=0;i<_86.length;i++){
_3.setObject(_86[i],arguments[i]);
}
d.resolve(arguments);
});
return d.promise;
},_scanAmd:function(_8a,_8b){
var _8c=new _c(),_8d=_8c.promise;
_8c.resolve(true);
var _8e=this;
_e("script[type='dojo/require']",_8a).forEach(function(_8f){
_8d=_8d.then(function(){
return _8e._require(_8f,_8b);
});
_8f.parentNode.removeChild(_8f);
});
return _8d;
},parse:function(_90,_91){
var _92;
if(!_91&&_90&&_90.rootNode){
_91=_90;
_92=_91.rootNode;
}else{
if(_90&&_3.isObject(_90)&&!("nodeType" in _90)){
_91=_90;
}else{
_92=_90;
}
}
_92=_92?_6.byId(_92):_7.body();
_91=_91||{};
var _93=_91.template?{template:true}:{},_94=[],_95=this;
var p=this._scanAmd(_92,_91).then(function(){
return _95.scan(_92,_91);
}).then(function(_96){
return _95._instantiate(_96,_93,_91,true);
}).then(function(_97){
return _94=_94.concat(_97);
}).otherwise(function(e){
console.error("dojo/parser::parse() error",e);
throw e;
});
_3.mixin(_94,p);
return _94;
}};
if(_d("extend-dojo")){
_2.parser=_1e;
}
if(_5.parseOnLoad){
_10(100,_1e,"parse");
}
return _1e;
});


;define("dojo/html",["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_1,_2,_3,_4,_5,_6,_7){
var _8=0;
var _9={_secureForInnerHtml:function(_a){
return _a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");
},_emptyNode:_6.empty,_setNodeContent:function(_b,_c){
_6.empty(_b);
if(_c){
if(typeof _c=="string"){
_c=_6.toDom(_c,_b.ownerDocument);
}
if(!_c.nodeType&&_2.isArrayLike(_c)){
for(var _d=_c.length,i=0;i<_c.length;i=_d==_c.length?i+1:0){
_6.place(_c[i],_b,"last");
}
}else{
_6.place(_c,_b,"last");
}
}
return _b;
},_ContentSetter:_4("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_1._scopeName,startup:true,constructor:function(_e,_f){
_2.mixin(this,_e||{});
_f=this.node=_5.byId(this.node||_f);
if(!this.id){
this.id=["Setter",(_f)?_f.id||_f.tagName:"",_8++].join("_");
}
},set:function(_10,_11){
if(undefined!==_10){
this.content=_10;
}
if(_11){
this._mixin(_11);
}
this.onBegin();
this.setContent();
var ret=this.onEnd();
if(ret&&ret.then){
return ret;
}else{
return this.node;
}
},setContent:function(){
var _12=this.node;
if(!_12){
throw new Error(this.declaredClass+": setContent given no node");
}
try{
_12=_9._setNodeContent(_12,this.content);
}
catch(e){
var _13=this.onContentError(e);
try{
_12.innerHTML=_13;
}
catch(e){
console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);
}
}
this.node=_12;
},empty:function(){
if(this.parseDeferred){
if(!this.parseDeferred.isResolved()){
this.parseDeferred.cancel();
}
delete this.parseDeferred;
}
if(this.parseResults&&this.parseResults.length){
_3.forEach(this.parseResults,function(w){
if(w.destroy){
w.destroy();
}
});
delete this.parseResults;
}
_6.empty(this.node);
},onBegin:function(){
var _14=this.content;
if(_2.isString(_14)){
if(this.cleanContent){
_14=_9._secureForInnerHtml(_14);
}
if(this.extractContent){
var _15=_14.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
if(_15){
_14=_15[1];
}
}
}
this.empty();
this.content=_14;
return this.node;
},onEnd:function(){
if(this.parseContent){
this._parse();
}
return this.node;
},tearDown:function(){
delete this.parseResults;
delete this.parseDeferred;
delete this.node;
delete this.content;
},onContentError:function(err){
return "Error occurred setting content: "+err;
},onExecError:function(err){
return "Error occurred executing scripts: "+err;
},_mixin:function(_16){
var _17={},key;
for(key in _16){
if(key in _17){
continue;
}
this[key]=_16[key];
}
},_parse:function(){
var _18=this.node;
try{
var _19={};
_3.forEach(["dir","lang","textDir"],function(_1a){
if(this[_1a]){
_19[_1a]=this[_1a];
}
},this);
var _1b=this;
this.parseDeferred=_7.parse({rootNode:_18,noStart:!this.startup,inherited:_19,scope:this.parserScope}).then(function(_1c){
return _1b.parseResults=_1c;
},function(e){
_1b._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);
});
}
catch(e){
this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);
}
},_onError:function(_1d,err,_1e){
var _1f=this["on"+_1d+"Error"].call(this,err);
if(_1e){
console.error(_1e,err);
}else{
if(_1f){
_9._setNodeContent(this.node,_1f,true);
}
}
}}),set:function(_20,_21,_22){
if(undefined==_21){
console.warn("dojo.html.set: no cont argument provided, using empty string");
_21="";
}
if(!_22){
return _9._setNodeContent(_20,_21,true);
}else{
var op=new _9._ContentSetter(_2.mixin(_22,{content:_21,node:_20}));
return op.set();
}
}};
_2.setObject("dojo.html",_9);
return _9;
});


;define("dojo/i18n!dijit/nls/loading", {"loadingState":"Loading...","errorState":"Sorry, an error occurred"});

;define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11){
return _a("dijit.layout.ContentPane",[_3,_4,_5],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_1._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_12,_13,_14){
var _15=new _14(_12,_13);
return !_15.href&&_15._contentSetter&&_15._contentSetter.parseDeferred&&!_15._contentSetter.parseDeferred.isFulfilled()?_15._contentSetter.parseDeferred.then(function(){
return _15;
}):_15;
},create:function(_16,_17){
if((!_16||!_16.template)&&_17&&!("href" in _16)&&!("content" in _16)){
_17=_c.byId(_17);
var df=_17.ownerDocument.createDocumentFragment();
while(_17.firstChild){
df.appendChild(_17.firstChild);
}
_16=_2.delegate(_16,{content:df});
}
this.inherited(arguments,[_16,_17]);
},postMixInProperties:function(){
this.inherited(arguments);
var _18=_10.getLocalization("dijit","loading",this.lang);
this.loadingMessage=_6.substitute(this.loadingMessage,_18);
this.errorMessage=_6.substitute(this.errorMessage,_18);
},buildRendering:function(){
this.inherited(arguments);
if(!this.containerNode){
this.containerNode=this.domNode;
}
this.domNode.removeAttribute("title");
},startup:function(){
this.inherited(arguments);
if(this._contentSetter){
_9.forEach(this._contentSetter.parseResults,function(obj){
if(!obj._started&&!obj._destroyed&&_2.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
},this);
}
},_startChildren:function(){
_9.forEach(this.getChildren(),function(obj){
if(!obj._started&&!obj._destroyed&&_2.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
});
if(this._contentSetter){
_9.forEach(this._contentSetter.parseResults,function(obj){
if(!obj._started&&!obj._destroyed&&_2.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
},this);
}
},setHref:function(_19){
_1.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");
return this.set("href",_19);
},_setHrefAttr:function(_1a){
this.cancel();
this.onLoadDeferred=new _b(_2.hitch(this,"cancel"));
this.onLoadDeferred.then(_2.hitch(this,"onLoad"));
this._set("href",_1a);
if(this.preload||(this._created&&this._isShown())){
this._load();
}else{
this._hrefChanged=true;
}
return this.onLoadDeferred;
},setContent:function(_1b){
_1.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");
this.set("content",_1b);
},_setContentAttr:function(_1c){
this._set("href","");
this.cancel();
this.onLoadDeferred=new _b(_2.hitch(this,"cancel"));
if(this._created){
this.onLoadDeferred.then(_2.hitch(this,"onLoad"));
}
this._setContent(_1c||"");
this._isDownloaded=false;
return this.onLoadDeferred;
},_getContentAttr:function(){
return this.containerNode.innerHTML;
},cancel:function(){
if(this._xhrDfd&&(this._xhrDfd.fired==-1)){
this._xhrDfd.cancel();
}
delete this._xhrDfd;
this.onLoadDeferred=null;
},destroy:function(){
this.cancel();
this.inherited(arguments);
},destroyRecursive:function(_1d){
if(this._beingDestroyed){
return;
}
this.inherited(arguments);
},_onShow:function(){
this.inherited(arguments);
if(this.href){
if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){
return this.refresh();
}
}
},refresh:function(){
this.cancel();
this.onLoadDeferred=new _b(_2.hitch(this,"cancel"));
this.onLoadDeferred.then(_2.hitch(this,"onLoad"));
this._load();
return this.onLoadDeferred;
},_load:function(){
this._setContent(this.onDownloadStart(),true);
var _1e=this;
var _1f={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};
if(_2.isObject(this.ioArgs)){
_2.mixin(_1f,this.ioArgs);
}
var _20=(this._xhrDfd=(this.ioMethod||_f.get)(_1f)),_21;
_20.then(function(_22){
_21=_22;
try{
_1e._isDownloaded=true;
return _1e._setContent(_22,false);
}
catch(err){
_1e._onError("Content",err);
}
},function(err){
if(!_20.canceled){
_1e._onError("Download",err);
}
delete _1e._xhrDfd;
return err;
}).then(function(){
_1e.onDownloadEnd();
delete _1e._xhrDfd;
return _21;
});
delete this._hrefChanged;
},_onLoadHandler:function(_23){
this._set("isLoaded",true);
try{
this.onLoadDeferred.resolve(_23);
}
catch(e){
console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);
}
},_onUnloadHandler:function(){
this._set("isLoaded",false);
try{
this.onUnload();
}
catch(e){
console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);
}
},destroyDescendants:function(_24){
if(this.isLoaded){
this._onUnloadHandler();
}
var _25=this._contentSetter;
_9.forEach(this.getChildren(),function(_26){
if(_26.destroyRecursive){
_26.destroyRecursive(_24);
}else{
if(_26.destroy){
_26.destroy(_24);
}
}
_26._destroyed=true;
});
if(_25){
_9.forEach(_25.parseResults,function(_27){
if(!_27._destroyed){
if(_27.destroyRecursive){
_27.destroyRecursive(_24);
}else{
if(_27.destroy){
_27.destroy(_24);
}
}
_27._destroyed=true;
}
});
delete _25.parseResults;
}
if(!_24){
_e.empty(this.containerNode);
}
delete this._singleChild;
},_setContent:function(_28,_29){
this.destroyDescendants();
var _2a=this._contentSetter;
if(!(_2a&&_2a instanceof _7._ContentSetter)){
_2a=this._contentSetter=new _7._ContentSetter({node:this.containerNode,_onError:_2.hitch(this,this._onError),onContentError:_2.hitch(this,function(e){
var _2b=this.onContentError(e);
try{
this.containerNode.innerHTML=_2b;
}
catch(e){
console.error("Fatal "+this.id+" could not change content due to "+e.message,e);
}
})});
}
var _2c=_2.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!_28.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});
var p=_2a.set((_2.isObject(_28)&&_28.domNode)?_28.domNode:_28,_2c);
var _2d=this;
return _11(p&&p.then?p:_2a.parseDeferred,function(){
delete _2d._contentSetterParams;
if(!_29){
if(_2d._started){
_2d._startChildren();
_2d._scheduleLayout();
}
_2d._onLoadHandler(_28);
}
});
},_onError:function(_2e,err,_2f){
this.onLoadDeferred.reject(err);
var _30=this["on"+_2e+"Error"].call(this,err);
if(_2f){
console.error(_2f,err);
}else{
if(_30){
this._setContent(_30,true);
}
}
},onLoad:function(){
},onUnload:function(){
},onDownloadStart:function(){
return this.loadingMessage;
},onContentError:function(){
},onDownloadError:function(){
return this.errorMessage;
},onDownloadEnd:function(){
}});
});


;define("dojo/text!dijit/templates/Dialog.html", '<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n	<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n		<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n				role="heading" level="1"></span>\n		<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabindex="0">\n			<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n		</span>\n	</div>\n	<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n');

;define("dojo/i18n!dijit/nls/common", {"itemClose":"Close","buttonCancel":"Cancel","buttonOk":"OK","buttonSave":"Save"});

;define("dojo/text!dijit/templates/TooltipDialog.html", '<div role="alertdialog" tabIndex="-1">\n	<div class="dijitTooltipContainer" role="presentation">\n		<div class="dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point="containerNode"></div>\n	</div>\n	<div class="dijitTooltipConnector" role="presentation" data-dojo-attach-point="connectorNode"></div>\n</div>\n');

;define("dijit/TooltipDialog",["dojo/_base/declare","dojo/dom-class","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_1,_2,_3,_4,_5,on,_6,_7,_8,_9,_a,_b,_c){
var _d=_1("dijit.TooltipDialog",[_7,_a,_9,_8],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_b,_setTitleAttr:"containerNode",postCreate:function(){
this.inherited(arguments);
this.own(on(this.containerNode,"keydown",_5.hitch(this,"_onKey")));
},orient:function(_e,_f,_10){
var _11={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[_f+"-"+_10];
_2.replace(this.domNode,_11,this._currentOrientClass||"");
this._currentOrientClass=_11;
},focus:function(){
this._getFocusItems(this.containerNode);
_6.focus(this._firstFocusItem);
},onOpen:function(pos){
this.orient(this.domNode,pos.aroundCorner,pos.corner);
var _12=pos.aroundNodePos;
if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){
this.connectorNode.style.top=_12.y+((_12.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";
this.connectorNode.style.left="";
}else{
if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){
this.connectorNode.style.left=_12.x+((_12.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";
}
}
this._onShow();
},onClose:function(){
this.onHide();
},_onKey:function(evt){
if(evt.keyCode==_4.ESCAPE){
this.defer("onCancel");
evt.stopPropagation();
evt.preventDefault();
}else{
if(evt.keyCode==_4.TAB){
var _13=evt.target;
this._getFocusItems(this.containerNode);
if(this._firstFocusItem==this._lastFocusItem){
evt.stopPropagation();
evt.preventDefault();
}else{
if(_13==this._firstFocusItem&&evt.shiftKey){
_6.focus(this._lastFocusItem);
evt.stopPropagation();
evt.preventDefault();
}else{
if(_13==this._lastFocusItem&&!evt.shiftKey){
_6.focus(this._firstFocusItem);
evt.stopPropagation();
evt.preventDefault();
}else{
evt.stopPropagation();
}
}
}
}
}
}});
if(_3("dojo-bidi")){
_d.extend({_setTitleAttr:function(_14){
this.containerNode.title=(this.textDir&&this.enforceTextDirWithUcc)?this.enforceTextDirWithUcc(null,_14):_14;
this._set("title",_14);
},_setTextDirAttr:function(_15){
if(!this._created||this.textDir!=_15){
this._set("textDir",_15);
if(this.textDir&&this.title){
this.containerNode.title=this.enforceTextDirWithUcc(null,this.title);
}
}
}});
}
return _d;
});


;define("dijit/Dialog",["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","dojo/i18n!./nls/common","./TooltipDialog"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,fx,_a,_b,_c,on,_d,_e,_f,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_1a,_1b){
var _1c=_4("dijit._DialogBase"+(_e("dojo-bidi")?"_NoBidi":""),[_15,_17,_18,_16],{templateString:_1b,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:false,duration:_13.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_setDraggableAttr:function(val){
this._set("draggable",val);
},maxRatio:0.9,closable:true,_setClosableAttr:function(val){
this.closeButtonNode.style.display=val?"":"none";
this._set("closable",val);
},postMixInProperties:function(){
var _1d=_a.getLocalization("dijit","common");
_c.mixin(this,_1d);
this.inherited(arguments);
},postCreate:function(){
_9.set(this.domNode,{display:"none",position:"absolute"});
this.ownerDocumentBody.appendChild(this.domNode);
this.inherited(arguments);
_3.after(this,"onExecute",_c.hitch(this,"hide"),true);
_3.after(this,"onCancel",_c.hitch(this,"hide"),true);
this._modalconnects=[];
},onLoad:function(){
this._size();
this._position();
if(this.autofocus&&_1e.isTop(this)){
this._getFocusItems(this.domNode);
_12.focus(this._firstFocusItem);
}
this.inherited(arguments);
},focus:function(){
this._getFocusItems(this.domNode);
_12.focus(this._firstFocusItem);
},_endDrag:function(){
var _1f=_8.position(this.domNode),_20=_f.getBox(this.ownerDocument);
_1f.y=Math.min(Math.max(_1f.y,0),(_20.h-_1f.h));
_1f.x=Math.min(Math.max(_1f.x,0),(_20.w-_1f.w));
this._relativePosition=_1f;
this._position();
},_setup:function(){
var _21=this.domNode;
if(this.titleBar&&this.draggable){
this._moveable=new ((_e("ie")==6)?_11:_10)(_21,{handle:this.titleBar});
_3.after(this._moveable,"onMoveStop",_c.hitch(this,"_endDrag"),true);
}else{
_7.add(_21,"dijitDialogFixed");
}
this.underlayAttrs={dialogId:this.id,"class":_2.map(this["class"].split(/\s/),function(s){
return s+"_underlay";
}).join(" "),_onKeyDown:_c.hitch(this,"_onKey"),ownerDocument:this.ownerDocument};
},_size:function(){
this._checkIfSingleChild();
if(this._singleChild){
if(typeof this._singleChildOriginalStyle!="undefined"){
this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;
delete this._singleChildOriginalStyle;
}
}else{
_9.set(this.containerNode,{width:"auto",height:"auto"});
}
var bb=_8.position(this.domNode);
var _22=_f.getBox(this.ownerDocument);
_22.w*=this.maxRatio;
_22.h*=this.maxRatio;
if(bb.w>=_22.w||bb.h>=_22.h){
var _23=_8.position(this.containerNode),w=Math.min(bb.w,_22.w)-(bb.w-_23.w),h=Math.min(bb.h,_22.h)-(bb.h-_23.h);
if(this._singleChild&&this._singleChild.resize){
if(typeof this._singleChildOriginalStyle=="undefined"){
this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;
}
this._singleChild.resize({w:w,h:h});
}else{
_9.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});
}
}else{
if(this._singleChild&&this._singleChild.resize){
this._singleChild.resize();
}
}
},_position:function(){
if(!_7.contains(this.ownerDocumentBody,"dojoMove")){
var _24=this.domNode,_25=_f.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_8.position(_24),l=Math.floor(_25.l+(p?p.x:(_25.w-bb.w)/2)),t=Math.floor(_25.t+(p?p.y:(_25.h-bb.h)/2));
_9.set(_24,{left:l+"px",top:t+"px"});
}
},_onKey:function(evt){
if(evt.keyCode==_b.TAB){
this._getFocusItems(this.domNode);
var _26=evt.target;
if(this._firstFocusItem==this._lastFocusItem){
evt.stopPropagation();
evt.preventDefault();
}else{
if(_26==this._firstFocusItem&&evt.shiftKey){
_12.focus(this._lastFocusItem);
evt.stopPropagation();
evt.preventDefault();
}else{
if(_26==this._lastFocusItem&&!evt.shiftKey){
_12.focus(this._firstFocusItem);
evt.stopPropagation();
evt.preventDefault();
}
}
}
}else{
if(this.closable&&evt.keyCode==_b.ESCAPE){
this.onCancel();
evt.stopPropagation();
evt.preventDefault();
}
}
},show:function(){
if(this.open){
return;
}
if(!this._started){
this.startup();
}
if(!this._alreadyInitialized){
this._setup();
this._alreadyInitialized=true;
}
if(this._fadeOutDeferred){
this._fadeOutDeferred.cancel();
_1e.hide(this);
}
var win=_f.get(this.ownerDocument);
this._modalconnects.push(on(win,"scroll",_c.hitch(this,"resize")));
this._modalconnects.push(on(this.domNode,"keydown",_c.hitch(this,"_onKey")));
_9.set(this.domNode,{opacity:0,display:""});
this._set("open",true);
this._onShow();
this._size();
this._position();
var _27;
this._fadeInDeferred=new _5(_c.hitch(this,function(){
_27.stop();
delete this._fadeInDeferred;
}));
var _28=this._fadeInDeferred.promise;
_27=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:_c.hitch(this,function(){
_1e.show(this,this.underlayAttrs);
}),onEnd:_c.hitch(this,function(){
if(this.autofocus&&_1e.isTop(this)){
this._getFocusItems(this.domNode);
_12.focus(this._firstFocusItem);
}
this._fadeInDeferred.resolve(true);
delete this._fadeInDeferred;
})}).play();
return _28;
},hide:function(){
if(!this._alreadyInitialized||!this.open){
return;
}
if(this._fadeInDeferred){
this._fadeInDeferred.cancel();
}
var _29;
this._fadeOutDeferred=new _5(_c.hitch(this,function(){
_29.stop();
delete this._fadeOutDeferred;
}));
this._fadeOutDeferred.then(_c.hitch(this,"onHide"));
var _2a=this._fadeOutDeferred.promise;
_29=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:_c.hitch(this,function(){
this.domNode.style.display="none";
_1e.hide(this);
this._fadeOutDeferred.resolve(true);
delete this._fadeOutDeferred;
})}).play();
if(this._scrollConnected){
this._scrollConnected=false;
}
var h;
while(h=this._modalconnects.pop()){
h.remove();
}
if(this._relativePosition){
delete this._relativePosition;
}
this._set("open",false);
return _2a;
},resize:function(){
if(this.domNode.style.display!="none"){
this._size();
if(!_e("touch")){
this._position();
}
}
},destroy:function(){
if(this._fadeInDeferred){
this._fadeInDeferred.cancel();
}
if(this._fadeOutDeferred){
this._fadeOutDeferred.cancel();
}
if(this._moveable){
this._moveable.destroy();
}
var h;
while(h=this._modalconnects.pop()){
h.remove();
}
_1e.hide(this);
this.inherited(arguments);
}});
if(_e("dojo-bidi")){
_1c=_4("dijit._DialogBase",_1c,{_setTitleAttr:function(_2b){
this._set("title",_2b);
this.titleNode.innerHTML=_2b;
this.applyTextDir(this.titleNode);
},_setTextDirAttr:function(_2c){
if(this._created&&this.textDir!=_2c){
this._set("textDir",_2c);
this.set("title",this.title);
}
}});
}
var _2d=_4("dijit.Dialog",[_1a,_1c],{});
_2d._DialogBase=_1c;
var _1e=_2d._DialogLevelManager={_beginZIndex:950,show:function(_2e,_2f){
ds[ds.length-1].focus=_12.curNode;
var _30=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_2d._DialogLevelManager._beginZIndex;
_9.set(_2e.domNode,"zIndex",_30);
_19.show(_2f,_30-1);
ds.push({dialog:_2e,underlayAttrs:_2f,zIndex:_30});
},hide:function(_31){
if(ds[ds.length-1].dialog==_31){
ds.pop();
var pd=ds[ds.length-1];
if(ds.length==1){
_19.hide();
}else{
_19.show(pd.underlayAttrs,pd.zIndex-1);
}
if(_31.refocus){
var _32=pd.focus;
if(pd.dialog&&(!_32||!_6.isDescendant(_32,pd.dialog.domNode))){
pd.dialog._getFocusItems(pd.dialog.domNode);
_32=pd.dialog._firstFocusItem;
}
if(_32){
try{
_32.focus();
}
catch(e){
}
}
}
}else{
var idx=_2.indexOf(_2.map(ds,function(_33){
return _33.dialog;
}),_31);
if(idx!=-1){
ds.splice(idx,1);
}
}
},isTop:function(_34){
return ds[ds.length-1].dialog==_34;
}};
var ds=_2d._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];
_12.watch("curNode",function(_35,_36,_37){
var _38=ds[ds.length-1].dialog;
if(_37&&_38&&!_38._fadeOutDeferred&&_37.ownerDocument==_38.ownerDocument){
do{
if(_37==_38.domNode||_7.contains(_37,"dijitPopup")||_7.contains(_37,"typeAhead")){
return;
}
}while(_37=_37.parentNode);
_38.focus();
}
});
return _2d;
});


;define("dojo/text!dijit/templates/Menu.html", '<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n	   cellspacing="0">\n	<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n');

;define("dijit/_KeyNavMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(_1,_2,_3,_4,_5,on,_6,_7){
return _2("dijit._KeyNavMixin",_7,{tabIndex:"0",childSelector:null,postCreate:function(){
this.inherited(arguments);
_3.set(this.domNode,"tabIndex",this.tabIndex);
if(!this._keyNavCodes){
var _8=this._keyNavCodes={};
_8[_4.HOME]=_5.hitch(this,"focusFirstChild");
_8[_4.END]=_5.hitch(this,"focusLastChild");
_8[this.isLeftToRight()?_4.LEFT_ARROW:_4.RIGHT_ARROW]=_5.hitch(this,"_onLeftArrow");
_8[this.isLeftToRight()?_4.RIGHT_ARROW:_4.LEFT_ARROW]=_5.hitch(this,"_onRightArrow");
_8[_4.UP_ARROW]=_5.hitch(this,"_onUpArrow");
_8[_4.DOWN_ARROW]=_5.hitch(this,"_onDownArrow");
}
var _9=this,_a=typeof this.childSelector=="string"?this.childSelector:_5.hitch(this,"childSelector");
this.own(on(this.domNode,"keypress",_5.hitch(this,"_onContainerKeypress")),on(this.domNode,"keydown",_5.hitch(this,"_onContainerKeydown")),on(this.domNode,"focus",_5.hitch(this,"_onContainerFocus")),on(this.containerNode,on.selector(_a,"focusin"),function(_b){
_9._onChildFocus(_6.getEnclosingWidget(this),_b);
}));
},_onLeftArrow:function(){
},_onRightArrow:function(){
},_onUpArrow:function(){
},_onDownArrow:function(){
},focus:function(){
this.focusFirstChild();
},_getFirstFocusableChild:function(){
return this._getNextFocusableChild(null,1);
},_getLastFocusableChild:function(){
return this._getNextFocusableChild(null,-1);
},focusFirstChild:function(){
this.focusChild(this._getFirstFocusableChild());
},focusLastChild:function(){
this.focusChild(this._getLastFocusableChild());
},focusChild:function(_c,_d){
if(!_c){
return;
}
if(this.focusedChild&&_c!==this.focusedChild){
this._onChildBlur(this.focusedChild);
}
_c.set("tabIndex",this.tabIndex);
_c.focus(_d?"end":"start");
},_onContainerFocus:function(_e){
if(_e.target!==this.domNode||this.focusedChild){
return;
}
this.focus();
},_onFocus:function(){
_3.set(this.domNode,"tabIndex","-1");
this.inherited(arguments);
},_onBlur:function(_f){
_3.set(this.domNode,"tabIndex",this.tabIndex);
if(this.focusedChild){
this.focusedChild.set("tabIndex","-1");
this.lastFocusedChild=this.focusedChild;
this._set("focusedChild",null);
}
this.inherited(arguments);
},_onChildFocus:function(_10){
if(_10&&_10!=this.focusedChild){
if(this.focusedChild&&!this.focusedChild._destroyed){
this.focusedChild.set("tabIndex","-1");
}
_10.set("tabIndex",this.tabIndex);
this.lastFocused=_10;
this._set("focusedChild",_10);
}
},_searchString:"",multiCharSearchDuration:1000,onKeyboardSearch:function(_11,evt,_12,_13){
if(_11){
this.focusChild(_11);
}
},_keyboardSearchCompare:function(_14,_15){
var _16=_14.domNode,_17=_14.label||(_16.focusNode?_16.focusNode.label:"")||_16.innerText||_16.textContent||"",_18=_17.replace(/^\s+/,"").substr(0,_15.length).toLowerCase();
return (!!_15.length&&_18==_15)?-1:0;
},_onContainerKeydown:function(evt){
var _19=this._keyNavCodes[evt.keyCode];
if(_19){
_19(evt,this.focusedChild);
evt.stopPropagation();
evt.preventDefault();
this._searchString="";
}else{
if(evt.keyCode==_4.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)){
evt.stopImmediatePropagation();
evt.preventDefault();
this._keyboardSearch(evt," ");
}
}
},_onContainerKeypress:function(evt){
if(evt.charCode<_4.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey||(evt.charCode==_4.SPACE&&this._searchTimer)){
return;
}
evt.preventDefault();
evt.stopPropagation();
this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase());
},_keyboardSearch:function(evt,_1a){
var _1b=null,_1c,_1d=0,_1e=_5.hitch(this,function(){
if(this._searchTimer){
this._searchTimer.remove();
}
this._searchString+=_1a;
var _1f=/^(.)\1*$/.test(this._searchString);
var _20=_1f?1:this._searchString.length;
_1c=this._searchString.substr(0,_20);
this._searchTimer=this.defer(function(){
this._searchTimer=null;
this._searchString="";
},this.multiCharSearchDuration);
var _21=this.focusedChild||null;
if(_20==1||!_21){
_21=this._getNextFocusableChild(_21,1);
if(!_21){
return;
}
}
var _22=_21;
do{
var rc=this._keyboardSearchCompare(_21,_1c);
if(!!rc&&_1d++==0){
_1b=_21;
}
if(rc==-1){
_1d=-1;
break;
}
_21=this._getNextFocusableChild(_21,1);
}while(_21!=_22);
});
_1e();
this.onKeyboardSearch(_1b,evt,_1c,_1d);
},_onChildBlur:function(){
},_getNextFocusableChild:function(_23,dir){
var _24=_23;
do{
if(!_23){
_23=this[dir>0?"_getFirst":"_getLast"]();
if(!_23){
break;
}
}else{
_23=this._getNext(_23,dir);
}
if(_23!=null&&_23!=_24&&_23.isFocusable()){
return _23;
}
}while(_23!=_24);
return null;
},_getFirst:function(){
return null;
},_getLast:function(){
return null;
},_getNext:function(_25,dir){
if(_25){
_25=_25.domNode;
while(_25){
_25=_25[dir<0?"previousSibling":"nextSibling"];
if(_25&&"getAttribute" in _25){
var w=_6.byNode(_25);
if(w){
return w;
}
}
}
}
return null;
}});
});


;define("dijit/_KeyNavContainer",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){
return _2("dijit._KeyNavContainer",[_9,_a,_8],{connectKeyNavHandlers:function(_b,_c){
var _d=(this._keyNavCodes={});
var _e=_6.hitch(this,"focusPrev");
var _f=_6.hitch(this,"focusNext");
_1.forEach(_b,function(_10){
_d[_10]=_e;
});
_1.forEach(_c,function(_11){
_d[_11]=_f;
});
_d[_5.HOME]=_6.hitch(this,"focusFirstChild");
_d[_5.END]=_6.hitch(this,"focusLastChild");
},startupKeyNavChildren:function(){
_4.deprecated("startupKeyNavChildren() call no longer needed","","2.0");
},startup:function(){
this.inherited(arguments);
_1.forEach(this.getChildren(),_6.hitch(this,"_startupChild"));
},addChild:function(_12,_13){
this.inherited(arguments);
this._startupChild(_12);
},_startupChild:function(_14){
_14.set("tabIndex","-1");
},_getFirst:function(){
var _15=this.getChildren();
return _15.length?_15[0]:null;
},_getLast:function(){
var _16=this.getChildren();
return _16.length?_16[_16.length-1]:null;
},focusNext:function(){
this.focusChild(this._getNextFocusableChild(this.focusedChild,1));
},focusPrev:function(){
this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);
},childSelector:function(_17){
var _17=_7.byNode(_17);
return _17&&_17.getParent()==this;
}});
});


;define("dijit/_MenuBase",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(_1,_2,_3,_4,_5,_6,_7,on,_8,_9,_a,_b,_c,_d,_e){
return _2("dijit._MenuBase",[_b,_e,_d,_c],{selected:null,_setSelectedAttr:function(_f){
if(this.selected!=_f){
if(this.selected){
this.selected._setSelected(false);
this._onChildDeselect(this.selected);
}
if(_f){
_f._setSelected(true);
}
this._set("selected",_f);
}
},activated:false,_setActivatedAttr:function(val){
_5.toggle(this.domNode,"dijitMenuActive",val);
_5.toggle(this.domNode,"dijitMenuPassive",!val);
this._set("activated",val);
},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:false,childSelector:function(_10){
var _11=_a.byNode(_10);
return _10.parentNode==this.containerNode&&_11&&_11.focus;
},postCreate:function(){
var _12=this,_13=typeof this.childSelector=="string"?this.childSelector:_6.hitch(this,"childSelector");
this.own(on(this.containerNode,on.selector(_13,_7.enter),function(){
_12.onItemHover(_a.byNode(this));
}),on(this.containerNode,on.selector(_13,_7.leave),function(){
_12.onItemUnhover(_a.byNode(this));
}),on(this.containerNode,on.selector(_13,_9),function(evt){
_12.onItemClick(_a.byNode(this),evt);
evt.stopPropagation();
evt.preventDefault();
}));
this.inherited(arguments);
},onKeyboardSearch:function(_14,evt,_15,_16){
this.inherited(arguments);
if(!!_14&&(_16==-1||(!!_14.popup&&_16==1))){
this.onItemClick(_14,evt);
}
},_keyboardSearchCompare:function(_17,_18){
if(!!_17.shortcutKey){
return _18==_17.shortcutKey.toLowerCase()?-1:0;
}
return this.inherited(arguments)?1:0;
},onExecute:function(){
},onCancel:function(){
},_moveToPopup:function(evt){
if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){
this.onItemClick(this.focusedChild,evt);
}else{
var _19=this._getTopMenu();
if(_19&&_19._isMenuBar){
_19.focusNext();
}
}
},_onPopupHover:function(){
this.set("selected",this.currentPopupItem);
this._stopPendingCloseTimer();
},onItemHover:function(_1a){
if(this.activated){
this.set("selected",_1a);
if(_1a.popup&&!_1a.disabled&&!this.hover_timer){
this.hover_timer=this.defer(function(){
this._openItemPopup(_1a);
},this.popupDelay);
}
}else{
if(this.passivePopupDelay<Infinity){
if(this.passive_hover_timer){
this.passive_hover_timer.remove();
}
this.passive_hover_timer=this.defer(function(){
this.onItemClick(_1a,{type:"click"});
},this.passivePopupDelay);
}
}
this._hoveredChild=_1a;
_1a._set("hovering",true);
},_onChildDeselect:function(_1b){
this._stopPopupTimer();
if(this.currentPopupItem==_1b){
this._stopPendingCloseTimer();
this._pendingClose_timer=this.defer(function(){
this._pendingClose_timer=null;
this.currentPopupItem=null;
_1b._closePopup();
},this.popupDelay);
}
},onItemUnhover:function(_1c){
if(this._hoveredChild==_1c){
this._hoveredChild=null;
}
if(this.passive_hover_timer){
this.passive_hover_timer.remove();
this.passive_hover_timer=null;
}
_1c._set("hovering",false);
},_stopPopupTimer:function(){
if(this.hover_timer){
this.hover_timer=this.hover_timer.remove();
}
},_stopPendingCloseTimer:function(){
if(this._pendingClose_timer){
this._pendingClose_timer=this._pendingClose_timer.remove();
}
},_getTopMenu:function(){
for(var top=this;top.parentMenu;top=top.parentMenu){
}
return top;
},onItemClick:function(_1d,evt){
if(this.passive_hover_timer){
this.passive_hover_timer.remove();
}
this.focusChild(_1d);
if(_1d.disabled){
return false;
}
if(_1d.popup){
this.set("selected",_1d);
this.set("activated",true);
var _1e=/^key/.test(evt._origType||evt.type)||(evt.clientX==0&&evt.clientY==0);
this._openItemPopup(_1d,_1e);
}else{
this.onExecute();
_1d._onClick?_1d._onClick(evt):_1d.onClick(evt);
}
},_openItemPopup:function(_1f,_20){
if(_1f==this.currentPopupItem){
return;
}
if(this.currentPopupItem){
this._stopPendingCloseTimer();
this.currentPopupItem._closePopup();
}
this._stopPopupTimer();
var _21=_1f.popup;
_21.parentMenu=this;
this.own(this._mouseoverHandle=on.once(_21.domNode,"mouseover",_6.hitch(this,"_onPopupHover")));
var _22=this;
_1f._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){
if(_20){
_22.focusChild(_1f);
}
_22._cleanUp();
},onExecute:_6.hitch(this,"_cleanUp",true),onClose:function(){
if(_22._mouseoverHandle){
_22._mouseoverHandle.remove();
delete _22._mouseoverHandle;
}
}},_20);
this.currentPopupItem=_1f;
},onOpen:function(){
this.isShowingNow=true;
this.set("activated",true);
},onClose:function(){
this.set("activated",false);
this.set("selected",null);
this.isShowingNow=false;
this.parentMenu=null;
},_closeChild:function(){
this._stopPopupTimer();
if(this.currentPopupItem){
if(this.focused){
_4.set(this.selected.focusNode,"tabIndex",this.tabIndex);
this.selected.focusNode.focus();
}
this.currentPopupItem._closePopup();
this.currentPopupItem=null;
}
},_onItemFocus:function(_23){
if(this._hoveredChild&&this._hoveredChild!=_23){
this.onItemUnhover(this._hoveredChild);
}
this.set("selected",_23);
},_onBlur:function(){
this._cleanUp(true);
this.inherited(arguments);
},_cleanUp:function(_24){
this._closeChild();
if(typeof this.isShowingNow=="undefined"){
this.set("activated",false);
}
if(_24){
this.set("selected",null);
}
}});
});


;define("dijit/DropDownMenu",["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_1,_2,_3,_4,_5){
return _1("dijit.DropDownMenu",[_5,_4],{templateString:_3,baseClass:"dijitMenu",_onUpArrow:function(){
this.focusPrev();
},_onDownArrow:function(){
this.focusNext();
},_onRightArrow:function(_6){
this._moveToPopup(_6);
_6.stopPropagation();
_6.preventDefault();
},_onLeftArrow:function(_7){
if(this.parentMenu){
if(this.parentMenu._isMenuBar){
this.parentMenu.focusPrev();
}else{
this.onCancel(false);
}
}else{
_7.stopPropagation();
_7.preventDefault();
}
}});
});


;define("dijit/PopupMenuItem",["dojo/_base/declare","dojo/dom-style","dojo/_base/lang","dojo/query","./popup","./registry","./MenuItem","./hccss"],function(_1,_2,_3,_4,pm,_5,_6){
return _1("dijit.PopupMenuItem",_6,{_fillContent:function(){
if(this.srcNodeRef){
var _7=_4("*",this.srcNodeRef);
this.inherited(arguments,[_7[0]]);
this.dropDownContainer=this.srcNodeRef;
}
},_openPopup:function(_8,_9){
var _a=this.popup;
pm.open(_3.delegate(_8,{popup:this.popup,around:this.domNode}));
if(_9&&_a.focus){
_a.focus();
}
},_closePopup:function(){
pm.close(this.popup);
this.popup.parentMenu=null;
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
if(!this.popup){
var _b=_4("[widgetId]",this.dropDownContainer)[0];
this.popup=_5.byNode(_b);
}
this.ownerDocumentBody.appendChild(this.popup.domNode);
this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id);
this.popup.startup();
this.popup.domNode.style.display="none";
if(this.arrowWrapper){
_2.set(this.arrowWrapper,"visibility","");
}
this.focusNode.setAttribute("aria-haspopup","true");
},destroyDescendants:function(_c){
if(this.popup){
if(!this.popup._destroyed){
this.popup.destroyRecursive(_c);
}
delete this.popup;
}
this.inherited(arguments);
}});
});


;define("dojo/text!dijit/templates/MenuSeparator.html", '<tr class="dijitMenuSeparator" role="separator">\n	<td class="dijitMenuSeparatorIconCell">\n		<div class="dijitMenuSeparatorTop"></div>\n		<div class="dijitMenuSeparatorBottom"></div>\n	</td>\n	<td colspan="3" class="dijitMenuSeparatorLabelCell">\n		<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\n		<div class="dijitMenuSeparatorBottom"></div>\n	</td>\n</tr>\n');

;define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_1,_2,_3,_4,_5,_6){
return _1("dijit.MenuSeparator",[_3,_4,_5],{templateString:_6,buildRendering:function(){
this.inherited(arguments);
_2.setSelectable(this.domNode,false);
},isFocusable:function(){
return false;
}});
});


;define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready","./MenuItem","./PopupMenuItem","./CheckedMenuItem","./MenuSeparator"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,on,_a,_b,_c,pm,_d,_e){
return _3("dijit.Menu",_d,{constructor:function(){
this._bindings=[];
},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){
if(this.contextMenuForWindow){
this.bindDomNode(this.ownerDocumentBody);
}else{
_2.forEach(this.targetNodeIds,this.bindDomNode,this);
}
this.inherited(arguments);
},_iframeContentWindow:function(_f){
return _c.get(this._iframeContentDocument(_f))||this._iframeContentDocument(_f)["__parent__"]||(_f.name&&document.frames[_f.name])||null;
},_iframeContentDocument:function(_10){
return _10.contentDocument||(_10.contentWindow&&_10.contentWindow.document)||(_10.name&&document.frames[_10.name]&&document.frames[_10.name].document)||null;
},bindDomNode:function(_11){
_11=_4.byId(_11,this.ownerDocument);
var cn;
if(_11.tagName.toLowerCase()=="iframe"){
var _12=_11,_13=this._iframeContentWindow(_12);
cn=_b.body(_13.document);
}else{
cn=(_11==_b.body(this.ownerDocument)?this.ownerDocument.documentElement:_11);
}
var _14={node:_11,iframe:_12};
_5.set(_11,"_dijitMenu"+this.id,this._bindings.push(_14));
var _15=_9.hitch(this,function(cn){
var _16=this.selector,_17=_16?function(_18){
return on.selector(_16,_18);
}:function(_19){
return _19;
},_1a=this;
return [on(cn,_17(this.leftClickToOpen?"click":"contextmenu"),function(evt){
evt.stopPropagation();
evt.preventDefault();
_1a._scheduleOpen(this,_12,{x:evt.pageX,y:evt.pageY},evt.target);
}),on(cn,_17("keydown"),function(evt){
if(evt.shiftKey&&evt.keyCode==_8.F10){
evt.stopPropagation();
evt.preventDefault();
_1a._scheduleOpen(this,_12,null,evt.target);
}
})];
});
_14.connects=cn?_15(cn):[];
if(_12){
_14.onloadHandler=_9.hitch(this,function(){
var _1b=this._iframeContentWindow(_12),cn=_b.body(_1b.document);
_14.connects=_15(cn);
});
if(_12.addEventListener){
_12.addEventListener("load",_14.onloadHandler,false);
}else{
_12.attachEvent("onload",_14.onloadHandler);
}
}
},unBindDomNode:function(_1c){
var _1d;
try{
_1d=_4.byId(_1c,this.ownerDocument);
}
catch(e){
return;
}
var _1e="_dijitMenu"+this.id;
if(_1d&&_5.has(_1d,_1e)){
var bid=_5.get(_1d,_1e)-1,b=this._bindings[bid],h;
while((h=b.connects.pop())){
h.remove();
}
var _1f=b.iframe;
if(_1f){
if(_1f.removeEventListener){
_1f.removeEventListener("load",b.onloadHandler,false);
}else{
_1f.detachEvent("onload",b.onloadHandler);
}
}
_5.remove(_1d,_1e);
delete this._bindings[bid];
}
},_scheduleOpen:function(_20,_21,_22,_23){
if(!this._openTimer){
this._openTimer=this.defer(function(){
delete this._openTimer;
this._openMyself({target:_23,delegatedTarget:_20,iframe:_21,coords:_22});
},1);
}
},_openMyself:function(_24){
var _25=_24.target,_26=_24.iframe,_27=_24.coords,_28=!_27;
this.currentTarget=_24.delegatedTarget;
if(_27){
if(_26){
var ifc=_6.position(_26,true),_29=this._iframeContentWindow(_26),_2a=_6.docScroll(_29.document);
var cs=_7.getComputedStyle(_26),tp=_7.toPixelValue,_2b=(_a("ie")&&_a("quirks")?0:tp(_26,cs.paddingLeft))+(_a("ie")&&_a("quirks")?tp(_26,cs.borderLeftWidth):0),top=(_a("ie")&&_a("quirks")?0:tp(_26,cs.paddingTop))+(_a("ie")&&_a("quirks")?tp(_26,cs.borderTopWidth):0);
_27.x+=ifc.x+_2b-_2a.x;
_27.y+=ifc.y+top-_2a.y;
}
}else{
_27=_6.position(_25,true);
_27.x+=10;
_27.y+=10;
}
var _2c=this;
var _2d=this._focusManager.get("prevNode");
var _2e=this._focusManager.get("curNode");
var _2f=!_2e||(_4.isDescendant(_2e,this.domNode))?_2d:_2e;
function _30(){
if(_2c.refocus&&_2f){
_2f.focus();
}
pm.close(_2c);
};
pm.open({popup:this,x:_27.x,y:_27.y,onExecute:_30,onCancel:_30,orient:this.isLeftToRight()?"L":"R"});
this.focus();
if(!_28){
this.defer(function(){
this._cleanUp(true);
});
}
this._onBlur=function(){
this.inherited("_onBlur",arguments);
pm.close(this);
};
},destroy:function(){
_2.forEach(this._bindings,function(b){
if(b){
this.unBindDomNode(b.node);
}
},this);
this.inherited(arguments);
}});
});


;define("dojo/text!dijit/templates/Tooltip.html", '<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n	><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n	><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n></div>\n');

;define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_1,_2,fx,_3,_4,_5,_6,_7,_8,on,_9,_a,_b,_c,_d,_e,_f,_10){
var _11=_2("dijit._MasterTooltip",[_c,_d],{duration:_a.defaultDuration,templateString:_f,postCreate:function(){
this.ownerDocumentBody.appendChild(this.domNode);
this.bgIframe=new _e(this.domNode);
this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:_7.hitch(this,"_onShow")});
this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:_7.hitch(this,"_onHide")});
},show:function(_12,_13,_14,rtl,_15){
if(this.aroundNode&&this.aroundNode===_13&&this.containerNode.innerHTML==_12){
return;
}
if(this.fadeOut.status()=="playing"){
this._onDeck=arguments;
return;
}
this.containerNode.innerHTML=_12;
if(_15){
this.set("textDir",_15);
}
this.containerNode.align=rtl?"right":"left";
var pos=_b.around(this.domNode,_13,_14&&_14.length?_14:_16.defaultPosition,!rtl,_7.hitch(this,"orient"));
var _17=pos.aroundNodePos;
if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){
this.connectorNode.style.top=_17.y+((_17.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";
this.connectorNode.style.left="";
}else{
if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){
this.connectorNode.style.left=_17.x+((_17.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";
}else{
this.connectorNode.style.left="";
this.connectorNode.style.top="";
}
}
_6.set(this.domNode,"opacity",0);
this.fadeIn.play();
this.isShowingNow=true;
this.aroundNode=_13;
},orient:function(_18,_19,_1a,_1b,_1c){
this.connectorNode.style.top="";
var _1d=_1b.h,_1e=_1b.w;
_18.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_19+"-"+_1a];
this.domNode.style.width="auto";
var _1f=_5.position(this.domNode);
if(_9("ie")==9){
_1f.w+=2;
}
var _20=Math.min((Math.max(_1e,1)),_1f.w);
_5.setMarginBox(this.domNode,{w:_20});
if(_1a.charAt(0)=="B"&&_19.charAt(0)=="B"){
var bb=_5.position(_18);
var _21=this.connectorNode.offsetHeight;
if(bb.h>_1d){
var _22=_1d-((_1c.h+_21)>>1);
this.connectorNode.style.top=_22+"px";
this.connectorNode.style.bottom="";
}else{
this.connectorNode.style.bottom=Math.min(Math.max(_1c.h/2-_21/2,0),bb.h-_21)+"px";
this.connectorNode.style.top="";
}
}else{
this.connectorNode.style.top="";
this.connectorNode.style.bottom="";
}
return Math.max(0,_1f.w-_1e);
},_onShow:function(){
if(_9("ie")){
this.domNode.style.filter="";
}
},hide:function(_23){
if(this._onDeck&&this._onDeck[1]==_23){
this._onDeck=null;
}else{
if(this.aroundNode===_23){
this.fadeIn.stop();
this.isShowingNow=false;
this.aroundNode=null;
this.fadeOut.play();
}else{
}
}
},_onHide:function(){
this.domNode.style.cssText="";
this.containerNode.innerHTML="";
if(this._onDeck){
this.show.apply(this,this._onDeck);
this._onDeck=null;
}
}});
if(_9("dojo-bidi")){
_11.extend({_setAutoTextDir:function(_24){
this.applyTextDir(_24);
_1.forEach(_24.children,function(_25){
this._setAutoTextDir(_25);
},this);
},_setTextDirAttr:function(_26){
this._set("textDir",_26);
if(_26=="auto"){
this._setAutoTextDir(this.containerNode);
}else{
this.containerNode.dir=this.textDir;
}
}});
}
_10.showTooltip=function(_27,_28,_29,rtl,_2a){
if(_29){
_29=_1.map(_29,function(val){
return {after:"after-centered",before:"before-centered"}[val]||val;
});
}
if(!_16._masterTT){
_10._masterTT=_16._masterTT=new _11();
}
return _16._masterTT.show(_27,_28,_29,rtl,_2a);
};
_10.hideTooltip=function(_2b){
return _16._masterTT&&_16._masterTT.hide(_2b);
};
var _16=_2("dijit.Tooltip",_c,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_2c){
_1.forEach(this._connections||[],function(_2d){
_1.forEach(_2d,function(_2e){
_2e.remove();
});
},this);
this._connectIds=_1.filter(_7.isArrayLike(_2c)?_2c:(_2c?[_2c]:[]),function(id){
return _3.byId(id,this.ownerDocument);
},this);
this._connections=_1.map(this._connectIds,function(id){
var _2f=_3.byId(id,this.ownerDocument),_30=this.selector,_31=_30?function(_32){
return on.selector(_30,_32);
}:function(_33){
return _33;
},_34=this;
return [on(_2f,_31(_8.enter),function(){
_34._onHover(this);
}),on(_2f,_31("focusin"),function(){
_34._onHover(this);
}),on(_2f,_31(_8.leave),_7.hitch(_34,"_onUnHover")),on(_2f,_31("focusout"),_7.hitch(_34,"_onUnHover"))];
},this);
this._set("connectId",_2c);
},addTarget:function(_35){
var id=_35.id||_35;
if(_1.indexOf(this._connectIds,id)==-1){
this.set("connectId",this._connectIds.concat(id));
}
},removeTarget:function(_36){
var id=_36.id||_36,idx=_1.indexOf(this._connectIds,id);
if(idx>=0){
this._connectIds.splice(idx,1);
this.set("connectId",this._connectIds);
}
},buildRendering:function(){
this.inherited(arguments);
_4.add(this.domNode,"dijitTooltipData");
},startup:function(){
this.inherited(arguments);
var ids=this.connectId;
_1.forEach(_7.isArrayLike(ids)?ids:[ids],this.addTarget,this);
},getContent:function(_37){
return this.label||this.domNode.innerHTML;
},_onHover:function(_38){
if(!this._showTimer){
this._showTimer=this.defer(function(){
this.open(_38);
},this.showDelay);
}
},_onUnHover:function(){
if(this._showTimer){
this._showTimer.remove();
delete this._showTimer;
}
this.close();
},open:function(_39){
if(this._showTimer){
this._showTimer.remove();
delete this._showTimer;
}
var _3a=this.getContent(_39);
if(!_3a){
return;
}
_16.show(_3a,_39,this.position,!this.isLeftToRight(),this.textDir);
this._connectNode=_39;
this.onShow(_39,this.position);
},close:function(){
if(this._connectNode){
_16.hide(this._connectNode);
delete this._connectNode;
this.onHide();
}
if(this._showTimer){
this._showTimer.remove();
delete this._showTimer;
}
},onShow:function(){
},onHide:function(){
},destroy:function(){
this.close();
_1.forEach(this._connections||[],function(_3b){
_1.forEach(_3b,function(_3c){
_3c.remove();
});
},this);
this.inherited(arguments);
}});
_16._MasterTooltip=_11;
_16.show=_10.showTooltip;
_16.hide=_10.hideTooltip;
_16.defaultPosition=["after-centered","before-centered"];
return _16;
});


;define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_1,_2,_3,_4,_5,_6,on,_7,_8,_9){
return _2("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_a){
this._set("disabled",_a);
_3.set(this.focusNode,"disabled",_a);
if(this.valueNode){
_3.set(this.valueNode,"disabled",_a);
}
this.focusNode.setAttribute("aria-disabled",_a?"true":"false");
if(_a){
this._set("hovering",false);
this._set("active",false);
var _b="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";
_1.forEach(_5.isArray(_b)?_b:[_b],function(_c){
var _d=this[_c];
if(_7("webkit")||_9.hasDefaultTabStop(_d)){
_d.setAttribute("tabIndex","-1");
}else{
_d.removeAttribute("tabIndex");
}
},this);
}else{
if(this.tabIndex!=""){
this.set("tabIndex",this.tabIndex);
}
}
},_onFocus:function(by){
if(by=="mouse"&&this.isFocusable()){
var _e=this.own(on(this.focusNode,"focus",function(){
_f.remove();
_e.remove();
}))[0];
var _f=this.own(on(this.ownerDocumentBody,"mouseup, touchend",_5.hitch(this,function(evt){
_f.remove();
_e.remove();
if(this.focused){
if(evt.type=="touchend"){
this.defer("focus");
}else{
this.focus();
}
}
})))[0];
}
if(this.scrollOnFocus){
this.defer(function(){
_8.scrollIntoView(this.domNode);
});
}
this.inherited(arguments);
},isFocusable:function(){
return !this.disabled&&this.focusNode&&(_4.get(this.domNode,"display")!="none");
},focus:function(){
if(!this.disabled&&this.focusNode.focus){
try{
this.focusNode.focus();
}
catch(e){
}
}
},compare:function(_10,_11){
if(typeof _10=="number"&&typeof _11=="number"){
return (isNaN(_10)&&isNaN(_11))?0:_10-_11;
}else{
if(_10>_11){
return 1;
}else{
if(_10<_11){
return -1;
}else{
return 0;
}
}
}
},onChange:function(){
},_onChangeActive:false,_handleOnChange:function(_12,_13){
if(this._lastValueReported==undefined&&(_13===null||!this._onChangeActive)){
this._resetValue=this._lastValueReported=_12;
}
this._pendingOnChange=this._pendingOnChange||(typeof _12!=typeof this._lastValueReported)||(this.compare(_12,this._lastValueReported)!=0);
if((this.intermediateChanges||_13||_13===undefined)&&this._pendingOnChange){
this._lastValueReported=_12;
this._pendingOnChange=false;
if(this._onChangeActive){
if(this._onChangeHandle){
this._onChangeHandle.remove();
}
this._onChangeHandle=this.defer(function(){
this._onChangeHandle=null;
this.onChange(_12);
});
}
}
},create:function(){
this.inherited(arguments);
this._onChangeActive=true;
},destroy:function(){
if(this._onChangeHandle){
this._onChangeHandle.remove();
this.onChange(this._lastValueReported);
}
this.inherited(arguments);
}});
});


;define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin","jazz/inverted!./_FormValueWidget"],function(_1,_2,_3,_4,_5,_6,_7,_8){
return _1("dijit.form._FormWidget",[_5,_7,_6,_8],{setDisabled:function(_9){
_3.deprecated("setDisabled("+_9+") is deprecated. Use set('disabled',"+_9+") instead.","","2.0");
this.set("disabled",_9);
},setValue:function(_a){
_3.deprecated("dijit.form._FormWidget:setValue("+_a+") is deprecated.  Use set('value',"+_a+") instead.","","2.0");
this.set("value",_a);
},getValue:function(){
_3.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");
return this.get("value");
},postMixInProperties:function(){
this.nameAttrSetting=(this.name&&!_2("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";
this.inherited(arguments);
},_setTypeAttr:null});
});


;define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormWidgetMixin"],function(_1,_2,_3,_4,on,_5,_6){
return _1("dijit.form._FormValueMixin",_6,{readOnly:false,_setReadOnlyAttr:function(_7){
_2.set(this.focusNode,"readOnly",_7);
this._set("readOnly",_7);
},postCreate:function(){
this.inherited(arguments);
if(this._resetValue===undefined){
this._lastValueReported=this._resetValue=this.value;
}
},_setValueAttr:function(_8,_9){
this._handleOnChange(_8,_9);
},_handleOnChange:function(_a,_b){
this._set("value",_a);
this.inherited(arguments);
},undo:function(){
this._setValueAttr(this._lastValueReported,false);
},reset:function(){
this._hasBeenBlurred=false;
this._setValueAttr(this._resetValue,true);
}});
});


;define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_1,_2,_3,_4){
return _1("dijit.form._FormValueWidget",[_3,_4],{_layoutHackIE7:function(){
if(_2("ie")==7){
var _5=this.domNode;
var _6=_5.parentNode;
var _7=_5.firstChild||_5;
var _8=_7.style.filter;
var _9=this;
while(_6&&_6.clientHeight==0){
(function ping(){
var _a=_9.connect(_6,"onscroll",function(){
_9.disconnect(_a);
_7.style.filter=(new Date()).getMilliseconds();
_9.defer(function(){
_7.style.filter=_8;
});
});
})();
_6=_6.parentNode;
}
}
}});
});


;define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_1,_2,_3,_4){
var _5=_1("dijit.form._ButtonMixin"+(_3("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){
e.stopPropagation();
e.preventDefault();
if(!this.disabled){
this.valueNode.click(e);
}
return false;
},_onClick:function(e){
if(this.disabled){
e.stopPropagation();
e.preventDefault();
return false;
}
if(this.onClick(e)===false){
e.preventDefault();
}
var _6=e.defaultPrevented;
if(!_6&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){
for(var _7=this.domNode;_7.parentNode;_7=_7.parentNode){
var _8=_4.byNode(_7);
if(_8&&typeof _8._onSubmit=="function"){
_8._onSubmit(e);
e.preventDefault();
_6=true;
break;
}
}
}
return !_6;
},postCreate:function(){
this.inherited(arguments);
_2.setSelectable(this.focusNode,false);
},onClick:function(){
return true;
},_setLabelAttr:function(_9){
this._set("label",_9);
var _a=this.containerNode||this.focusNode;
_a.innerHTML=_9;
}});
if(_3("dojo-bidi")){
_5=_1("dijit.form._ButtonMixin",_5,{_setLabelAttr:function(){
this.inherited(arguments);
var _b=this.containerNode||this.focusNode;
this.applyTextDir(_b);
}});
}
return _5;
});


;define("dojo/text!dijit/form/templates/Button.html", '<span class="dijit dijitReset dijitInline" role="presentation"\n	><span class="dijitReset dijitInline dijitButtonNode"\n		data-dojo-attach-event="ondijitclick:__onClick" role="presentation"\n		><span class="dijitReset dijitStretch dijitButtonContents"\n			data-dojo-attach-point="titleNode,focusNode"\n			role="button" aria-labelledby="${id}_label"\n			><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\n			><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\n			><span class="dijitReset dijitInline dijitButtonText"\n				id="${id}_label"\n				data-dojo-attach-point="containerNode"\n			></span\n		></span\n	></span\n	><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\n		data-dojo-attach-event="onclick:_onClick"\n		tabIndex="-1" role="presentation" aria-hidden="true" data-dojo-attach-point="valueNode"\n/></span>\n');

;define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html","jazz/inverted!./DropDownButton","jazz/inverted!./ComboButton","jazz/inverted!./ToggleButton"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){
var _b=_2("dijit.form.Button"+(_4("dojo-bidi")?"_NoBidi":""),[_8,_9],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_a,_setValueAttr:"valueNode",_setNameAttr:function(_c){
if(this.valueNode){
this.valueNode.setAttribute("name",_c);
}
},_fillContent:function(_d){
if(_d&&(!this.params||!("label" in this.params))){
var _e=_6.trim(_d.innerHTML);
if(_e){
this.label=_e;
}
}
},_setShowLabelAttr:function(_f){
if(this.containerNode){
_3.toggle(this.containerNode,"dijitDisplayNone",!_f);
}
this._set("showLabel",_f);
},setLabel:function(_10){
_5.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",_10);
},_setLabelAttr:function(_11){
this.inherited(arguments);
if(!this.showLabel&&!("title" in this.params)){
this.titleNode.title=_6.trim(this.containerNode.innerText||this.containerNode.textContent||"");
}
}});
if(_4("dojo-bidi")){
_b=_2("dijit.form.Button",_b,{_setLabelAttr:function(_12){
this.inherited(arguments);
if(this.titleNode.title){
this.applyTextDir(this.titleNode,this.titleNode.title);
}
},_setTextDirAttr:function(_13){
if(this._created&&this.textDir!=_13){
this._set("textDir",_13);
this._setLabelAttr(this.label);
}
}});
}
return _b;
});


;define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,on,_b,_c,_d,_e,_f){
return _1("dijit._HasDropDown",_f,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){
if(this.disabled||this.readOnly){
return;
}
if(e.type!="MSPointerDown"&&e.type!="pointerdown"){
e.preventDefault();
}
this._docHandler=this.own(on(this.ownerDocument,_b.release,_a.hitch(this,"_onDropDownMouseUp")))[0];
this.toggleDropDown();
},_onDropDownMouseUp:function(e){
if(e&&this._docHandler){
this._docHandler.remove();
this._docHandler=null;
}
var _10=this.dropDown,_11=false;
if(e&&this._opened){
var c=_6.position(this._buttonNode,true);
if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){
var t=e.target;
while(t&&!_11){
if(_5.contains(t,"dijitPopup")){
_11=true;
}else{
t=t.parentNode;
}
}
if(_11){
t=e.target;
if(_10.onItemClick){
var _12;
while(t&&!(_12=_c.byNode(t))){
t=t.parentNode;
}
if(_12&&_12.onClick&&_12.getParent){
_12.getParent().onItemClick(_12,e);
}
}
return;
}
}
}
if(this._opened){
if(_10.focus&&(_10.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){
this._focusDropDownTimer=this.defer(function(){
_10.focus();
delete this._focusDropDownTimer;
});
}
}else{
if(this.focus){
this.defer("focus");
}
}
},_onDropDownClick:function(e){
if(this._stopClickEvents){
e.stopPropagation();
e.preventDefault();
}
},buildRendering:function(){
this.inherited(arguments);
this._buttonNode=this._buttonNode||this.focusNode||this.domNode;
this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;
var _13={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";
_5.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_13+"ArrowButton");
},postCreate:function(){
this.inherited(arguments);
var _14=this.focusNode||this.domNode;
this.own(on(this._buttonNode,_b.press,_a.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",_a.hitch(this,"_onDropDownClick")),on(_14,"keydown",_a.hitch(this,"_onKey")),on(_14,"keyup",_a.hitch(this,"_onKeyUp")));
},destroy:function(){
if(this.dropDown){
if(!this.dropDown._destroyed){
this.dropDown.destroyRecursive();
}
delete this.dropDown;
}
this.inherited(arguments);
},_onKey:function(e){
if(this.disabled||this.readOnly){
return;
}
var d=this.dropDown,_15=e.target;
if(d&&this._opened&&d.handleKey){
if(d.handleKey(e)===false){
e.stopPropagation();
e.preventDefault();
return;
}
}
if(d&&this._opened&&e.keyCode==_9.ESCAPE){
this.closeDropDown();
e.stopPropagation();
e.preventDefault();
}else{
if(!this._opened&&(e.keyCode==_9.DOWN_ARROW||((e.keyCode==_9.ENTER||(e.keyCode==_9.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_15.tagName||"").toLowerCase()!=="input"||(_15.type&&_15.type.toLowerCase()!=="text"))))){
this._toggleOnKeyUp=true;
e.stopPropagation();
e.preventDefault();
}
}
},_onKeyUp:function(){
if(this._toggleOnKeyUp){
delete this._toggleOnKeyUp;
this.toggleDropDown();
var d=this.dropDown;
if(d&&d.focus){
this.defer(_a.hitch(d,"focus"),1);
}
}
},_onBlur:function(){
this.closeDropDown(false);
this.inherited(arguments);
},isLoaded:function(){
return true;
},loadDropDown:function(_16){
_16();
},loadAndOpenDropDown:function(){
var d=new _2(),_17=_a.hitch(this,function(){
this.openDropDown();
d.resolve(this.dropDown);
});
if(!this.isLoaded()){
this.loadDropDown(_17);
}else{
_17();
}
return d;
},toggleDropDown:function(){
if(this.disabled||this.readOnly){
return;
}
if(!this._opened){
this.loadAndOpenDropDown();
}else{
this.closeDropDown(true);
}
},openDropDown:function(){
var _18=this.dropDown,_19=_18.domNode,_1a=this._aroundNode||this.domNode,_1b=this;
var _1c=_e.open({parent:this,popup:_18,around:_1a,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){
_1b.closeDropDown(true);
},onCancel:function(){
_1b.closeDropDown(true);
},onClose:function(){
_4.set(_1b._popupStateNode,"popupActive",false);
_5.remove(_1b._popupStateNode,"dijitHasDropDownOpen");
_1b._set("_opened",false);
}});
if(this.forceWidth||(this.autoWidth&&_1a.offsetWidth>_18._popupWrapper.offsetWidth)){
var _1d={w:_1a.offsetWidth-(_18._popupWrapper.offsetWidth-_18.domNode.offsetWidth)};
if(_a.isFunction(_18.resize)){
_18.resize(_1d);
}else{
_6.setMarginBox(_19,_1d);
}
}
_4.set(this._popupStateNode,"popupActive","true");
_5.add(this._popupStateNode,"dijitHasDropDownOpen");
this._set("_opened",true);
this._popupStateNode.setAttribute("aria-expanded","true");
this._popupStateNode.setAttribute("aria-owns",_18.id);
if(_19.getAttribute("role")!=="presentation"&&!_19.getAttribute("aria-labelledby")){
_19.setAttribute("aria-labelledby",this.id);
}
return _1c;
},closeDropDown:function(_1e){
if(this._focusDropDownTimer){
this._focusDropDownTimer.remove();
delete this._focusDropDownTimer;
}
if(this._opened){
this._popupStateNode.setAttribute("aria-expanded","false");
if(_1e){
this.focus();
}
_e.close(this.dropDown);
this._opened=false;
}
}});
});


;define("dojo/text!dijit/form/templates/DropDownButton.html", '<span class="dijit dijitReset dijitInline"\n	><span class=\'dijitReset dijitInline dijitButtonNode\'\n		data-dojo-attach-event="ondijitclick:__onClick" data-dojo-attach-point="_buttonNode"\n		><span class="dijitReset dijitStretch dijitButtonContents"\n			data-dojo-attach-point="focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n			role="button" aria-haspopup="true" aria-labelledby="${id}_label"\n			><span class="dijitReset dijitInline dijitIcon"\n				data-dojo-attach-point="iconNode"\n			></span\n			><span class="dijitReset dijitInline dijitButtonText"\n				data-dojo-attach-point="containerNode"\n				id="${id}_label"\n			></span\n			><span class="dijitReset dijitInline dijitArrowButtonInner"></span\n			><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\n		></span\n	></span\n	><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\n		data-dojo-attach-event="onclick:_onClick"\n		data-dojo-attach-point="valueNode" role="presentation" aria-hidden="true"\n/></span>\n');

;define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){
return _1("dijit.form.DropDownButton",[_6,_7,_8],{baseClass:"dijitDropDownButton",templateString:_9,_fillContent:function(){
if(this.srcNodeRef){
var _a=_3("*",this.srcNodeRef);
this.inherited(arguments,[_a[0]]);
this.dropDownContainer=this.srcNodeRef;
}
},startup:function(){
if(this._started){
return;
}
if(!this.dropDown&&this.dropDownContainer){
var _b=_3("[widgetId]",this.dropDownContainer)[0];
if(_b){
this.dropDown=_4.byNode(_b);
}
delete this.dropDownContainer;
}
if(this.dropDown){
_5.hide(this.dropDown);
}
this.inherited(arguments);
},isLoaded:function(){
var _c=this.dropDown;
return (!!_c&&(!_c.href||_c.isLoaded));
},loadDropDown:function(_d){
var _e=this.dropDown;
var _f=_e.on("load",_2.hitch(this,function(){
_f.remove();
_d();
}));
_e.refresh();
},isFocusable:function(){
return this.inherited(arguments)&&!this._mouseDown;
}});
});


;define("dojo/text!dijit/form/templates/ComboButton.html", '<table class="dijit dijitReset dijitInline dijitLeft"\n	cellspacing=\'0\' cellpadding=\'0\' role="presentation"\n	><tbody role="presentation"><tr role="presentation"\n		><td class="dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point="buttonNode" data-dojo-attach-event="ondijitclick:__onClick,onkeydown:_onButtonKeyDown"\n		><div id="${id}_button" class="dijitReset dijitButtonContents"\n			data-dojo-attach-point="titleNode"\n			role="button" aria-labelledby="${id}_label"\n			><div class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode" role="presentation"></div\n			><div class="dijitReset dijitInline dijitButtonText" id="${id}_label" data-dojo-attach-point="containerNode" role="presentation"></div\n		></div\n		></td\n		><td id="${id}_arrow" class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\n			data-dojo-attach-point="_popupStateNode,focusNode,_buttonNode"\n			data-dojo-attach-event="onkeydown:_onArrowKeyDown"\n			title="${optionsTitle}"\n			role="button" aria-haspopup="true"\n			><div class="dijitReset dijitArrowButtonInner" role="presentation"></div\n			><div class="dijitReset dijitArrowButtonChar" role="presentation">&#9660;</div\n		></td\n		><td style="display:none !important;"\n			><input ${!nameAttrSetting} type="${type}" value="${value}" data-dojo-attach-point="valueNode"\n				role="presentation" aria-hidden="true"\n				data-dojo-attach-event="onclick:_onClick"\n		/></td></tr></tbody\n></table>\n');

;define("dijit/form/ComboButton",["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_1,_2,_3,_4,_5){
return _1("dijit.form.ComboButton",_4,{templateString:_5,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(_6){
if(_6.keyCode==_2[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){
_3.focus(this._popupStateNode);
_6.stopPropagation();
_6.preventDefault();
}
},_onArrowKeyDown:function(_7){
if(_7.keyCode==_2[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){
_3.focus(this.titleNode);
_7.stopPropagation();
_7.preventDefault();
}
},focus:function(_8){
if(!this.disabled){
_3.focus(_8=="start"?this.titleNode:this._popupStateNode);
}
}});
});


;define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(_1,_2){
return _1("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(_3){
var _4=this.checked;
this._set("checked",!_4);
var _5=this.inherited(arguments);
this.set("checked",_5?this.checked:_4);
return _5;
},_setCheckedAttr:function(_6,_7){
this._set("checked",_6);
var _8=this.focusNode||this.domNode;
if(this._created){
if(_2.get(_8,"checked")!=!!_6){
_2.set(_8,"checked",!!_6);
}
}
_8.setAttribute(this._aria_attr,String(_6));
this._handleOnChange(_6,_7);
},postCreate:function(){
this.inherited(arguments);
var _9=this.focusNode||this.domNode;
if(this.checked){
_9.setAttribute("checked","checked");
}
},reset:function(){
this._hasBeenBlurred=false;
this.set("checked",this.params.checked||false);
}});
});


;define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_1,_2,_3,_4){
return _1("dijit.form.ToggleButton",[_3,_4],{baseClass:"dijitToggleButton",setChecked:function(_5){
_2.deprecated("setChecked("+_5+") is deprecated. Use set('checked',"+_5+") instead.","","2.0");
this.set("checked",_5);
}});
});


;define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr"],function(_1,_2){
return _1("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_3){
this._set("readOnly",_3);
_2.set(this.focusNode,"readOnly",_3);
},_setLabelAttr:undefined,_getSubmitValue:function(_4){
return (_4==null||_4==="")?"on":_4;
},_setValueAttr:function(_5){
_5=this._getSubmitValue(_5);
this._set("value",_5);
_2.set(this.focusNode,"value",_5);
},reset:function(){
this.inherited(arguments);
this._set("value",this._getSubmitValue(this.params.value));
_2.set(this.focusNode,"value",this.value);
},_onClick:function(e){
if(this.readOnly){
e.stopPropagation();
e.preventDefault();
return false;
}
return this.inherited(arguments);
}});
});


;define("dojo/text!dijit/form/templates/CheckBox.html", '<div class="dijit dijitReset dijitInline" role="presentation"\n	><input\n	 	${!nameAttrSetting} type="${type}" role="${type}" aria-checked="false" ${checkedAttrSetting}\n		class="dijitReset dijitCheckBoxInput"\n		data-dojo-attach-point="focusNode"\n	 	data-dojo-attach-event="ondijitclick:_onClick"\n/></div>\n');

;define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick","jazz/inverted!./RadioButton"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){
return _2("dijit.form.CheckBox",[_7,_8],{templateString:_9,baseClass:"dijitCheckBox",_setValueAttr:function(_a,_b){
if(typeof _a=="string"){
this.inherited(arguments);
_a=true;
}
if(this._created){
this.set("checked",_a,_b);
}
},_getValueAttr:function(){
return this.checked&&this._get("value");
},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){
this.inherited(arguments);
this.checkedAttrSetting="";
},_fillContent:function(){
},_onFocus:function(){
if(this.id){
_5("label[for='"+this.id+"']").addClass("dijitFocusedLabel");
}
this.inherited(arguments);
},_onBlur:function(){
if(this.id){
_5("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");
}
this.inherited(arguments);
}});
});


;define("dijit/form/_RadioButtonMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/lang","dojo/query","../registry"],function(_1,_2,_3,_4,_5,_6){
return _2("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){
var _7=[];
_5("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(_4.hitch(this,function(_8){
if(_8.name==this.name&&_8.form==this.focusNode.form){
var _9=_6.getEnclosingWidget(_8);
if(_9){
_7.push(_9);
}
}
}));
return _7;
},_setCheckedAttr:function(_a){
this.inherited(arguments);
if(!this._created){
return;
}
if(_a){
_1.forEach(this._getRelatedWidgets(),_4.hitch(this,function(_b){
if(_b!=this&&_b.checked){
_b.set("checked",false);
}
}));
}
},_getSubmitValue:function(_c){
return _c==null?"on":_c;
},_onClick:function(e){
if(this.checked||this.disabled){
e.stopPropagation();
e.preventDefault();
return false;
}
if(this.readOnly){
e.stopPropagation();
e.preventDefault();
_1.forEach(this._getRelatedWidgets(),_4.hitch(this,function(_d){
_3.set(this.focusNode||this.domNode,"checked",_d.checked);
}));
return false;
}
return this.inherited(arguments);
}});
});


;define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_1,_2,_3){
return _1("dijit.form.RadioButton",[_2,_3],{baseClass:"dijitRadio"});
});


;define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_1,_2,_3,_4,_5,_6,on,_7){
var _8=_2("dijit.form._TextBoxMixin"+(_4("dojo-bidi")?"_NoBidi":""),null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){
return this.parse(this.get("displayedValue"),this.constraints);
},_setValueAttr:function(_9,_a,_b){
var _c;
if(_9!==undefined){
_c=this.filter(_9);
if(typeof _b!="string"){
if(_c!==null&&((typeof _c!="number")||!isNaN(_c))){
_b=this.filter(this.format(_c,this.constraints));
}else{
_b="";
}
}
}
if(_b!=null&&((typeof _b)!="number"||!isNaN(_b))&&this.textbox.value!=_b){
this.textbox.value=_b;
this._set("displayedValue",this.get("displayedValue"));
}
this.inherited(arguments,[_c,_a]);
},displayedValue:"",_getDisplayedValueAttr:function(){
return this.filter(this.textbox.value);
},_setDisplayedValueAttr:function(_d){
if(_d==null){
_d="";
}else{
if(typeof _d!="string"){
_d=String(_d);
}
}
this.textbox.value=_d;
this._setValueAttr(this.get("value"),undefined);
this._set("displayedValue",this.get("displayedValue"));
},format:function(_e){
return _e==null?"":(_e.toString?_e.toString():_e);
},parse:function(_f){
return _f;
},_refreshState:function(){
},onInput:function(){
},__skipInputEvent:false,_onInput:function(evt){
this._processInput(evt);
if(this.intermediateChanges){
this.defer(function(){
this._handleOnChange(this.get("value"),false);
});
}
},_processInput:function(evt){
this._refreshState();
this._set("displayedValue",this.get("displayedValue"));
},postCreate:function(){
this.textbox.setAttribute("value",this.textbox.value);
this.inherited(arguments);
var _10=function(e){
var _11;
if(e.type=="keydown"){
_11=e.keyCode;
switch(_11){
case _5.SHIFT:
case _5.ALT:
case _5.CTRL:
case _5.META:
case _5.CAPS_LOCK:
case _5.NUM_LOCK:
case _5.SCROLL_LOCK:
return;
}
if(!e.ctrlKey&&!e.metaKey&&!e.altKey){
switch(_11){
case _5.NUMPAD_0:
case _5.NUMPAD_1:
case _5.NUMPAD_2:
case _5.NUMPAD_3:
case _5.NUMPAD_4:
case _5.NUMPAD_5:
case _5.NUMPAD_6:
case _5.NUMPAD_7:
case _5.NUMPAD_8:
case _5.NUMPAD_9:
case _5.NUMPAD_MULTIPLY:
case _5.NUMPAD_PLUS:
case _5.NUMPAD_ENTER:
case _5.NUMPAD_MINUS:
case _5.NUMPAD_PERIOD:
case _5.NUMPAD_DIVIDE:
return;
}
if((_11>=65&&_11<=90)||(_11>=48&&_11<=57)||_11==_5.SPACE){
return;
}
var _12=false;
for(var i in _5){
if(_5[i]===e.keyCode){
_12=true;
break;
}
}
if(!_12){
return;
}
}
}
_11=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;
if(!_11){
_11=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==_5.SPACE?String.fromCharCode(e.keyCode):e.keyCode;
}
if(!_11){
_11=229;
}
if(e.type=="keypress"){
if(typeof _11!="string"){
return;
}
if((_11>="a"&&_11<="z")||(_11>="A"&&_11<="Z")||(_11>="0"&&_11<="9")||(_11===" ")){
if(e.ctrlKey||e.metaKey||e.altKey){
return;
}
}
}
if(e.type=="input"){
if(this.__skipInputEvent){
this.__skipInputEvent=false;
return;
}
}else{
this.__skipInputEvent=true;
}
var _13={faux:true},_14;
for(_14 in e){
if(_14!="layerX"&&_14!="layerY"){
var v=e[_14];
if(typeof v!="function"&&typeof v!="undefined"){
_13[_14]=v;
}
}
}
_6.mixin(_13,{charOrCode:_11,_wasConsumed:false,preventDefault:function(){
_13._wasConsumed=true;
e.preventDefault();
},stopPropagation:function(){
e.stopPropagation();
}});
if(this.onInput(_13)===false){
_13.preventDefault();
_13.stopPropagation();
}
if(_13._wasConsumed){
return;
}
this.defer(function(){
this._onInput(_13);
});
if(e.type=="keypress"){
e.stopPropagation();
}
};
this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",_6.hitch(this,_10)));
},_blankValue:"",filter:function(val){
if(val===null){
return this._blankValue;
}
if(typeof val!="string"){
return val;
}
if(this.trim){
val=_6.trim(val);
}
if(this.uppercase){
val=val.toUpperCase();
}
if(this.lowercase){
val=val.toLowerCase();
}
if(this.propercase){
val=val.replace(/[^\s]+/g,function(_15){
return _15.substring(0,1).toUpperCase()+_15.substring(1);
});
}
return val;
},_setBlurValue:function(){
this._setValueAttr(this.get("value"),true);
},_onBlur:function(e){
if(this.disabled){
return;
}
this._setBlurValue();
this.inherited(arguments);
},_isTextSelected:function(){
return this.textbox.selectionStart!=this.textbox.selectionEnd;
},_onFocus:function(by){
if(this.disabled||this.readOnly){
return;
}
if(this.selectOnClick&&by=="mouse"){
this._selectOnClickHandle=on.once(this.domNode,"mouseup, touchend",_6.hitch(this,function(evt){
if(!this._isTextSelected()){
_8.selectInputText(this.textbox);
}
}));
this.own(this._selectOnClickHandle);
this.defer(function(){
if(this._selectOnClickHandle){
this._selectOnClickHandle.remove();
this._selectOnClickHandle=null;
}
},500);
}
this.inherited(arguments);
this._refreshState();
},reset:function(){
this.textbox.value="";
this.inherited(arguments);
}});
if(_4("dojo-bidi")){
_8=_2("dijit.form._TextBoxMixin",_8,{_setValueAttr:function(){
this.inherited(arguments);
this.applyTextDir(this.focusNode);
},_setDisplayedValueAttr:function(){
this.inherited(arguments);
this.applyTextDir(this.focusNode);
},_onInput:function(){
this.applyTextDir(this.focusNode);
this.inherited(arguments);
}});
}
_8._setSelectionRange=_7._setSelectionRange=function(_16,_17,_18){
if(_16.setSelectionRange){
_16.setSelectionRange(_17,_18);
}
};
_8.selectInputText=_7.selectInputText=function(_19,_1a,_1b){
_19=_3.byId(_19);
if(isNaN(_1a)){
_1a=0;
}
if(isNaN(_1b)){
_1b=_19.value?_19.value.length:0;
}
try{
_19.focus();
_8._setSelectionRange(_19,_1a,_1b);
}
catch(e){
}
};
return _8;
});


;define("dojo/text!dijit/form/templates/TextBox.html", '<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\n	><div class="dijitReset dijitInputField dijitInputContainer"\n		><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n			${!nameAttrSetting} type=\'${type}\'\n	/></div\n></div>\n');

;define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_1,_2,_3,_4,_5,on,_6,_7,_8,_9,_a){
var _b=_1("dijit.form.TextBox"+(_6("dojo-bidi")?"_NoBidi":""),[_7,_8],{templateString:_9,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:_6("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){
var _c=this.type.toLowerCase();
if(this.templateString&&this.templateString.toLowerCase()=="input"||((_c=="hidden"||_c=="file")&&this.templateString==this.constructor.prototype.templateString)){
this.templateString=this._singleNodeTemplate;
}
this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
if(_6("ie")<9){
this.defer(function(){
try{
var s=_3.getComputedStyle(this.domNode);
if(s){
var ff=s.fontFamily;
if(ff){
var _d=this.domNode.getElementsByTagName("INPUT");
if(_d){
for(var i=0;i<_d.length;i++){
_d[i].style.fontFamily=ff;
}
}
}
}
}
catch(e){
}
});
}
},_setPlaceHolderAttr:function(v){
this._set("placeHolder",v);
if(!this._phspan){
this._attachPoints.push("_phspan");
this._phspan=_2.create("span",{onmousedown:function(e){
e.preventDefault();
},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");
this.own(on(this._phspan,"touchend, pointerup, MSPointerUp",_5.hitch(this,function(){
this.focus();
})));
}
this._phspan.innerHTML="";
this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));
this._updatePlaceHolder();
},_onInput:function(_e){
this.inherited(arguments);
this._updatePlaceHolder();
},_updatePlaceHolder:function(){
if(this._phspan){
this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";
}
},_setValueAttr:function(_f,_10,_11){
this.inherited(arguments);
this._updatePlaceHolder();
},getDisplayedValue:function(){
_4.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");
return this.get("displayedValue");
},setDisplayedValue:function(_12){
_4.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");
this.set("displayedValue",_12);
},_onBlur:function(e){
if(this.disabled){
return;
}
this.inherited(arguments);
this._updatePlaceHolder();
if(_6("mozilla")){
if(this.selectOnClick){
this.textbox.selectionStart=this.textbox.selectionEnd=undefined;
}
}
},_onFocus:function(by){
if(this.disabled||this.readOnly){
return;
}
this.inherited(arguments);
this._updatePlaceHolder();
}});
if(_6("ie")<9){
_b.prototype._isTextSelected=function(){
var _13=this.ownerDocument.selection.createRange();
var _14=_13.parentElement();
return _14==this.textbox&&_13.text.length>0;
};
_a._setSelectionRange=_8._setSelectionRange=function(_15,_16,_17){
if(_15.createTextRange){
var r=_15.createTextRange();
r.collapse(true);
r.moveStart("character",-99999);
r.moveStart("character",_16);
r.moveEnd("character",_17-_16);
r.select();
}
};
}
if(_6("dojo-bidi")){
_b=_1("dijit.form.TextBox",_b,{_setPlaceHolderAttr:function(v){
this.inherited(arguments);
this.applyTextDir(this._phspan);
}});
}
return _b;
});


;define("dojo/text!dijit/form/templates/ValidationTextBox.html", '<div class="dijit dijitReset dijitInline dijitLeft"\n	id="widget_${id}" role="presentation"\n	><div class=\'dijitReset dijitValidationContainer\'\n		><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n	/></div\n	><div class="dijitReset dijitInputField dijitInputContainer"\n		><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n			${!nameAttrSetting} type=\'${type}\'\n	/></div\n></div>\n');

;define("dojo/i18n!dijit/form/nls/validate", {"invalidMessage":"The value entered is not valid.","missingMessage":"This value is required.","rangeMessage":"This value is out of range."});

;define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_1,_2,_3,_4,_5,_6){
var _7;
return _7=_1("dijit.form.ValidationTextBox",_4,{templateString:_6,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){
},state:"",tooltipPosition:[],_deprecateRegExp:function(_8,_9){
if(_9!=_7.prototype[_8]){
_2.deprecated("ValidationTextBox id="+this.id+", set('"+_8+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");
this.set("pattern",_9);
}
},_setRegExpGenAttr:function(_a){
this._deprecateRegExp("regExpGen",_a);
this._set("regExpGen",this._computeRegexp);
},_setRegExpAttr:function(_b){
this._deprecateRegExp("regExp",_b);
},_setValueAttr:function(){
this.inherited(arguments);
this._refreshState();
},validator:function(_c,_d){
return (new RegExp("^(?:"+this._computeRegexp(_d)+")"+(this.required?"":"?")+"$")).test(_c)&&(!this.required||!this._isEmpty(_c))&&(this._isEmpty(_c)||this.parse(_c,_d)!==undefined);
},_isValidSubset:function(){
return this.textbox.value.search(this._partialre)==0;
},isValid:function(){
return this.validator(this.textbox.value,this.get("constraints"));
},_isEmpty:function(_e){
return (this.trim?/^\s*$/:/^$/).test(_e);
},getErrorMessage:function(){
var _f=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;
var _10=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_f:this.missingMessage;
return (this.required&&this._isEmpty(this.textbox.value))?_10:_f;
},getPromptMessage:function(){
return this.promptMessage;
},_maskValidSubsetError:true,validate:function(_11){
var _12="";
var _13=this.disabled||this.isValid(_11);
if(_13){
this._maskValidSubsetError=true;
}
var _14=this._isEmpty(this.textbox.value);
var _15=!_13&&_11&&this._isValidSubset();
this._set("state",_13?"":(((((!this._hasBeenBlurred||_11)&&_14)||_15)&&(this._maskValidSubsetError||(_15&&!this._hasBeenBlurred&&_11)))?"Incomplete":"Error"));
this.focusNode.setAttribute("aria-invalid",_13?"false":"true");
if(this.state=="Error"){
this._maskValidSubsetError=_11&&_15;
_12=this.getErrorMessage(_11);
}else{
if(this.state=="Incomplete"){
_12=this.getPromptMessage(_11);
this._maskValidSubsetError=!this._hasBeenBlurred||_11;
}else{
if(_14){
_12=this.getPromptMessage(_11);
}
}
}
this.set("message",_12);
return _13;
},displayMessage:function(_16){
if(_16&&this.focused){
_5.show(_16,this.domNode,this.tooltipPosition,!this.isLeftToRight());
}else{
_5.hide(this.domNode);
}
},_refreshState:function(){
if(this._created){
this.validate(this.focused);
}
this.inherited(arguments);
},constructor:function(_17){
this.constraints={};
this.baseClass+=" dijitValidationTextBox";
},startup:function(){
this.inherited(arguments);
this._refreshState();
},_setConstraintsAttr:function(_18){
if(!_18.locale&&this.lang){
_18.locale=this.lang;
}
this._set("constraints",_18);
this._refreshState();
},_setPatternAttr:function(_19){
this._set("pattern",_19);
this._refreshState();
},_computeRegexp:function(_1a){
var p=this.pattern;
if(typeof p=="function"){
p=p.call(this,_1a);
}
if(p!=this._lastRegExp){
var _1b="";
this._lastRegExp=p;
if(p!=".*"){
p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){
switch(re.charAt(0)){
case "{":
case "+":
case "?":
case "*":
case "^":
case "$":
case "|":
case "(":
_1b+=re;
break;
case ")":
_1b+="|$)";
break;
default:
_1b+="(?:"+re+"|$)";
break;
}
});
}
try{
"".search(_1b);
}
catch(e){
_1b=this.pattern;
console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);
}
this._partialre="^(?:"+_1b+")$";
}
return p;
},postMixInProperties:function(){
this.inherited(arguments);
this.messages=_3.getLocalization("dijit.form","validate",this.lang);
this._setConstraintsAttr(this.constraints);
},_setDisabledAttr:function(_1c){
this.inherited(arguments);
this._refreshState();
},_setRequiredAttr:function(_1d){
this._set("required",_1d);
this.focusNode.setAttribute("aria-required",_1d);
this._refreshState();
},_setMessageAttr:function(_1e){
this._set("message",_1e);
this.displayMessage(_1e);
},reset:function(){
this._maskValidSubsetError=true;
this.inherited(arguments);
},_onBlur:function(){
this.displayMessage("");
this.inherited(arguments);
}});
});


;define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../when"],function(_1,_2,_3){
var _4=function(_5){
if(!_5){
return _5;
}
var _6=!!_5.then;
if(_6){
_5=_2.delegate(_5);
}
function _7(_8){
_5[_8]=function(){
var _9=arguments;
var _a=_3(_5,function(_b){
Array.prototype.unshift.call(_9,_b);
return _4(_1[_8].apply(_1,_9));
});
if(_8!=="forEach"||_6){
return _a;
}
};
};
_7("forEach");
_7("filter");
_7("map");
if(_5.total==null){
_5.total=_3(_5,function(_c){
return _c.length;
});
}
return _5;
};
_2.setObject("dojo.store.util.QueryResults",_4);
return _4;
});


;define("dojo/regexp",["./_base/kernel","./_base/lang"],function(_1,_2){
var _3={};
_2.setObject("dojo.regexp",_3);
_3.escapeString=function(_4,_5){
return _4.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){
if(_5&&_5.indexOf(ch)!=-1){
return ch;
}
return "\\"+ch;
});
};
_3.buildGroupRE=function(_6,re,_7){
if(!(_6 instanceof Array)){
return re(_6);
}
var b=[];
for(var i=0;i<_6.length;i++){
b.push(re(_6[i]));
}
return _3.group(b.join("|"),_7);
};
_3.group=function(_8,_9){
return "("+(_9?"?:":"")+_8+")";
};
return _3;
});


;define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(_1){
return function(_2,_3){
switch(typeof _2){
default:
throw new Error("Can not query with a "+typeof _2);
case "object":
case "undefined":
var _4=_2;
_2=function(_5){
for(var _6 in _4){
var _7=_4[_6];
if(_7&&_7.test){
if(!_7.test(_5[_6],_5)){
return false;
}
}else{
if(_7!=_5[_6]){
return false;
}
}
}
return true;
};
break;
case "string":
if(!this[_2]){
throw new Error("No filter function "+_2+" was found in store");
}
_2=this[_2];
case "function":
}
function _8(_9){
var _a=_1.filter(_9,_2);
var _b=_3&&_3.sort;
if(_b){
_a.sort(typeof _b=="function"?_b:function(a,b){
for(var _c,i=0;_c=_b[i];i++){
var _d=a[_c.attribute];
var _e=b[_c.attribute];
_d=_d!=null?_d.valueOf():_d;
_e=_e!=null?_e.valueOf():_e;
if(_d!=_e){
return !!_c.descending==(_d==null||_d>_e)?-1:1;
}
}
return 0;
});
}
if(_3&&(_3.start||_3.count)){
var _f=_a.length;
_a=_a.slice(_3.start||0,(_3.start||0)+(_3.count||Infinity));
_a.total=_f;
}
return _a;
};
_8.matches=_2;
return _8;
};
});


;define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_1,_2,_3){
var _4=null;
return _1("dojo.store.Memory",_4,{constructor:function(_5){
for(var i in _5){
this[i]=_5[i];
}
this.setData(this.data||[]);
},data:null,idProperty:"id",index:null,queryEngine:_3,get:function(id){
return this.data[this.index[id]];
},getIdentity:function(_6){
return _6[this.idProperty];
},put:function(_7,_8){
var _9=this.data,_a=this.index,_b=this.idProperty;
var id=_7[_b]=(_8&&"id" in _8)?_8.id:_b in _7?_7[_b]:Math.random();
if(id in _a){
if(_8&&_8.overwrite===false){
throw new Error("Object already exists");
}
_9[_a[id]]=_7;
}else{
_a[id]=_9.push(_7)-1;
}
return id;
},add:function(_c,_d){
(_d=_d||{}).overwrite=false;
return this.put(_c,_d);
},remove:function(id){
var _e=this.index;
var _f=this.data;
if(id in _e){
_f.splice(_e[id],1);
this.setData(_f);
return true;
}
},query:function(_10,_11){
return _2(this.queryEngine(_10,_11)(this.data));
},setData:function(_12){
if(_12.items){
this.idProperty=_12.identifier;
_12=this.data=_12.items;
}else{
this.data=_12;
}
this.index={};
for(var i=0,l=_12.length;i<l;i++){
this.index[_12[i][this.idProperty]]=i;
}
}});
});


;define("dijit/form/DataList",["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_1,_2,_3,_4,_5,_6){
function _7(_8){
return {id:_8.value,value:_8.value,name:_3.trim(_8.innerText||_8.textContent||"")};
};
return _1("dijit.form.DataList",_5,{constructor:function(_9,_a){
this.domNode=_2.byId(_a);
_3.mixin(this,_9);
if(this.id){
_6.add(this);
}
this.domNode.style.display="none";
this.inherited(arguments,[{data:_4("option",this.domNode).map(_7)}]);
},destroy:function(){
_6.remove(this.id);
},fetchSelectedItem:function(){
var _b=_4("> option[selected]",this.domNode)[0]||_4("> option",this.domNode)[0];
return _b&&_7(_b);
}});
});


;define("dijit/form/_SearchMixin",["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(_1,_2,_3,_4,_5,_6,_7){
return _1("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_patternToRegExp:function(_8){
return new RegExp("^"+_8.replace(/(\\.)|(\*)|(\?)|\W/g,function(_9,_a,_b,_c){
return _b?".*":_c?".":_a?_a:"\\"+_9;
})+"$",this.ignoreCase?"mi":"m");
},_abortQuery:function(){
if(this.searchTimer){
this.searchTimer=this.searchTimer.remove();
}
if(this._queryDeferHandle){
this._queryDeferHandle=this._queryDeferHandle.remove();
}
if(this._fetchHandle){
if(this._fetchHandle.abort){
this._cancelingQuery=true;
this._fetchHandle.abort();
this._cancelingQuery=false;
}
if(this._fetchHandle.cancel){
this._cancelingQuery=true;
this._fetchHandle.cancel();
this._cancelingQuery=false;
}
this._fetchHandle=null;
}
},_processInput:function(_d){
if(this.disabled||this.readOnly){
return;
}
var _e=_d.charOrCode;
if("type" in _d&&_d.type.substring(0,3)=="key"&&(_d.altKey||((_d.ctrlKey||_d.metaKey)&&(_e!="x"&&_e!="v"))||_e==_2.SHIFT)){
return;
}
var _f=false;
this._prev_key_backspace=false;
switch(_e){
case _2.DELETE:
case _2.BACKSPACE:
this._prev_key_backspace=true;
this._maskValidSubsetError=true;
_f=true;
break;
default:
_f=typeof _e=="string"||_e==229;
}
if(_f){
if(!this.store){
this.onSearch();
}else{
this.searchTimer=this.defer("_startSearchFromInput",1);
}
}
},onSearch:function(){
},_startSearchFromInput:function(){
this._startSearch(this.focusNode.value);
},_startSearch:function(_10){
this._abortQuery();
var _11=this,_4=_3.clone(this.query),_12={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_5.substitute(this.queryExpr,[_10.replace(/([\\\*\?])/g,"\\$1")]),q,_13=function(){
var _14=_11._fetchHandle=_11.store.query(_4,_12);
if(_11.disabled||_11.readOnly||(q!==_11._lastQuery)){
return;
}
_6(_14,function(res){
_11._fetchHandle=null;
if(!_11.disabled&&!_11.readOnly&&(q===_11._lastQuery)){
_6(_14.total,function(_15){
res.total=_15;
var _16=_11.pageSize;
if(isNaN(_16)||_16>res.total){
_16=res.total;
}
res.nextPage=function(_17){
_12.direction=_17=_17!==false;
_12.count=_16;
if(_17){
_12.start+=res.length;
if(_12.start>=res.total){
_12.count=0;
}
}else{
_12.start-=_16;
if(_12.start<0){
_12.count=Math.max(_16+_12.start,0);
_12.start=0;
}
}
if(_12.count<=0){
res.length=0;
_11.onSearch(res,_4,_12);
}else{
_13();
}
};
_11.onSearch(res,_4,_12);
});
}
},function(err){
_11._fetchHandle=null;
if(!_11._cancelingQuery){
console.error(_11.declaredClass+" "+err.toString());
}
});
};
_3.mixin(_12,this.fetchProperties);
if(this.store._oldAPI){
q=qs;
}else{
q=this._patternToRegExp(qs);
q.toString=function(){
return qs;
};
}
this._lastQuery=_4[this.searchAttr]=q;
this._queryDeferHandle=this.defer(_13,this.searchDelay);
},constructor:function(){
this.query={};
this.fetchProperties={};
},postMixInProperties:function(){
if(!this.store){
var _18=this.list;
if(_18){
this.store=_7.byId(_18);
}
}
this.inherited(arguments);
}});
});


;define("dijit/form/_AutoCompleterMixin",["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){
var _c=_2("dijit.form._AutoCompleterMixin",_b,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_d){
var _e=0;
if(typeof (_d.selectionStart)=="number"){
_e=_d.selectionStart;
}else{
if(_8("ie")){
var tr=_d.ownerDocument.selection.createRange().duplicate();
var _f=_d.createTextRange();
tr.move("character",0);
_f.move("character",0);
try{
_f.setEndPoint("EndToEnd",tr);
_e=String(_f.text).replace(/\r/g,"").length;
}
catch(e){
}
}
}
return _e;
},_setCaretPos:function(_10,_11){
_11=parseInt(_11);
_a.selectInputText(_10,_11,_11);
},_setDisabledAttr:function(_12){
this.inherited(arguments);
this.domNode.setAttribute("aria-disabled",_12?"true":"false");
},_onKey:function(evt){
if(evt.charCode>=32){
return;
}
var key=evt.charCode||evt.keyCode;
if(key==_4.ALT||key==_4.CTRL||key==_4.META||key==_4.SHIFT){
return;
}
var pw=this.dropDown;
var _13=null;
this._abortQuery();
this.inherited(arguments);
if(evt.altKey||evt.ctrlKey||evt.metaKey){
return;
}
if(this._opened){
_13=pw.getHighlightedOption();
}
switch(key){
case _4.PAGE_DOWN:
case _4.DOWN_ARROW:
case _4.PAGE_UP:
case _4.UP_ARROW:
if(this._opened){
this._announceOption(_13);
}
evt.stopPropagation();
evt.preventDefault();
break;
case _4.ENTER:
if(_13){
if(_13==pw.nextButton){
this._nextSearch(1);
evt.stopPropagation();
evt.preventDefault();
break;
}else{
if(_13==pw.previousButton){
this._nextSearch(-1);
evt.stopPropagation();
evt.preventDefault();
break;
}
}
evt.stopPropagation();
evt.preventDefault();
}else{
this._setBlurValue();
this._setCaretPos(this.focusNode,this.focusNode.value.length);
}
case _4.TAB:
var _14=this.get("displayedValue");
if(pw&&(_14==pw._messages["previousMessage"]||_14==pw._messages["nextMessage"])){
break;
}
if(_13){
this._selectOption(_13);
}
case _4.ESCAPE:
if(this._opened){
this._lastQuery=null;
this.closeDropDown();
}
break;
}
},_autoCompleteText:function(_15){
var fn=this.focusNode;
_a.selectInputText(fn,fn.value.length);
var _16=this.ignoreCase?"toLowerCase":"substr";
if(_15[_16](0).indexOf(this.focusNode.value[_16](0))==0){
var _17=this.autoComplete?this._getCaretPos(fn):fn.value.length;
if((_17+1)>fn.value.length){
fn.value=_15;
_a.selectInputText(fn,_17);
}
}else{
fn.value=_15;
_a.selectInputText(fn);
}
},_openResultList:function(_18,_19,_1a){
var _1b=this.dropDown.getHighlightedOption();
this.dropDown.clearResultList();
if(!_18.length&&_1a.start==0){
this.closeDropDown();
return;
}
this._nextSearch=this.dropDown.onPage=_5.hitch(this,function(_1c){
_18.nextPage(_1c!==-1);
this.focus();
});
this.dropDown.createOptions(_18,_1a,_5.hitch(this,"_getMenuLabelFromItem"));
this._showResultList();
if("direction" in _1a){
if(_1a.direction){
this.dropDown.highlightFirstOption();
}else{
if(!_1a.direction){
this.dropDown.highlightLastOption();
}
}
if(_1b){
this._announceOption(this.dropDown.getHighlightedOption());
}
}else{
if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_19[this.searchAttr].toString())){
this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);
}
}
},_showResultList:function(){
this.closeDropDown(true);
this.openDropDown();
this.domNode.setAttribute("aria-expanded","true");
},loadDropDown:function(){
this._startSearchAll();
},isLoaded:function(){
return false;
},closeDropDown:function(){
this._abortQuery();
if(this._opened){
this.inherited(arguments);
this.domNode.setAttribute("aria-expanded","false");
}
},_setBlurValue:function(){
var _1d=this.get("displayedValue");
var pw=this.dropDown;
if(pw&&(_1d==pw._messages["previousMessage"]||_1d==pw._messages["nextMessage"])){
this._setValueAttr(this._lastValueReported,true);
}else{
if(typeof this.item=="undefined"){
this.item=null;
this.set("displayedValue",_1d);
}else{
if(this.value!=this._lastValueReported){
this._handleOnChange(this.value,true);
}
this._refreshState();
}
}
this.focusNode.removeAttribute("aria-activedescendant");
},_setItemAttr:function(_1e,_1f,_20){
var _21="";
if(_1e){
if(!_20){
_20=this.store._oldAPI?this.store.getValue(_1e,this.searchAttr):_1e[this.searchAttr];
}
_21=this._getValueField()!=this.searchAttr?this.store.getIdentity(_1e):_20;
}
this.set("value",_21,_1f,_20,_1e);
},_announceOption:function(_22){
if(!_22){
return;
}
var _23;
if(_22==this.dropDown.nextButton||_22==this.dropDown.previousButton){
_23=_22.innerHTML;
this.item=undefined;
this.value="";
}else{
var _24=this.dropDown.items[_22.getAttribute("item")];
_23=(this.store._oldAPI?this.store.getValue(_24,this.searchAttr):_24[this.searchAttr]).toString();
this.set("item",_24,false,_23);
}
this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);
this.focusNode.setAttribute("aria-activedescendant",_3.get(_22,"id"));
this._autoCompleteText(_23);
},_selectOption:function(_25){
this.closeDropDown();
if(_25){
this._announceOption(_25);
}
this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,true);
this.focusNode.removeAttribute("aria-activedescendant");
},_startSearchAll:function(){
this._startSearch("");
},_startSearchFromInput:function(){
this.item=undefined;
this.inherited(arguments);
},_startSearch:function(key){
if(!this.dropDown){
var _26=this.id+"_popup",_27=_5.isString(this.dropDownClass)?_5.getObject(this.dropDownClass,false):this.dropDownClass;
this.dropDown=new _27({onChange:_5.hitch(this,this._selectOption),id:_26,dir:this.dir,textDir:this.textDir});
}
this._lastInput=key;
this.inherited(arguments);
},_getValueField:function(){
return this.searchAttr;
},postMixInProperties:function(){
this.inherited(arguments);
if(!this.store){
var _28=this.srcNodeRef;
this.store=new _9({},_28);
if(!("value" in this.params)){
var _29=(this.item=this.store.fetchSelectedItem());
if(_29){
var _2a=this._getValueField();
this.value=this.store._oldAPI?this.store.getValue(_29,_2a):_29[_2a];
}
}
}
},postCreate:function(){
var _2b=_6("label[for=\""+this.id+"\"]");
if(_2b.length){
if(!_2b[0].id){
_2b[0].id=this.id+"_label";
}
this.domNode.setAttribute("aria-labelledby",_2b[0].id);
}
this.inherited(arguments);
_1.after(this,"onSearch",_5.hitch(this,"_openResultList"),true);
},_getMenuLabelFromItem:function(_2c){
var _2d=this.labelFunc(_2c,this.store),_2e=this.labelType;
if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){
_2d=this.doHighlight(_2d,this._lastInput);
_2e="html";
}
return {html:_2e=="html",label:_2d};
},doHighlight:function(_2f,_30){
var _31=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");
_30=_7.escapeString(_30);
return this._escapeHtml(_2f.replace(new RegExp((i==0?"^":"")+"("+_30+")"+(i==(this.queryExpr.length-4)?"$":""),_31),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");
},_escapeHtml:function(str){
str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");
return str;
},reset:function(){
this.item=null;
this.inherited(arguments);
},labelFunc:function(_32,_33){
return (_33._oldAPI?_33.getValue(_32,this.labelAttr||this.searchAttr):_32[this.labelAttr||this.searchAttr]).toString();
},_setValueAttr:function(_34,_35,_36,_37){
this._set("item",_37||null);
if(_34==null){
_34="";
}
this.inherited(arguments);
}});
if(_8("dojo-bidi")){
_c.extend({_setTextDirAttr:function(_38){
this.inherited(arguments);
if(this.dropDown){
this.dropDown._set("textDir",_38);
}
}});
}
return _c;
});


;define("dojo/i18n!dijit/form/nls/ComboBox", {"previousMessage":"Previous choices","nextMessage":"More choices"});

;define("dijit/form/_ComboBoxMenuMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(_1,_2,_3,_4,_5){
var _6=_2("dijit.form._ComboBoxMenuMixin"+(_4("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){
this.inherited(arguments);
this._messages=_5.getLocalization("dijit.form","ComboBox",this.lang);
},buildRendering:function(){
this.inherited(arguments);
this.previousButton.innerHTML=this._messages["previousMessage"];
this.nextButton.innerHTML=this._messages["nextMessage"];
},_setValueAttr:function(_7){
this._set("value",_7);
this.onChange(_7);
},onClick:function(_8){
if(_8==this.previousButton){
this._setSelectedAttr(null);
this.onPage(-1);
}else{
if(_8==this.nextButton){
this._setSelectedAttr(null);
this.onPage(1);
}else{
this.onChange(_8);
}
}
},onChange:function(){
},onPage:function(){
},onClose:function(){
this._setSelectedAttr(null);
},_createOption:function(_9,_a){
var _b=this._createMenuItem();
var _c=_a(_9);
if(_c.html){
_b.innerHTML=_c.label;
}else{
_b.appendChild(_b.ownerDocument.createTextNode(_c.label));
}
if(_b.innerHTML==""){
_b.innerHTML="&#160;";
}
return _b;
},createOptions:function(_d,_e,_f){
this.items=_d;
this.previousButton.style.display=(_e.start==0)?"none":"";
_3.set(this.previousButton,"id",this.id+"_prev");
_1.forEach(_d,function(_10,i){
var _11=this._createOption(_10,_f);
_11.setAttribute("item",i);
_3.set(_11,"id",this.id+i);
this.nextButton.parentNode.insertBefore(_11,this.nextButton);
},this);
var _12=false;
if(_d.total&&!_d.total.then&&_d.total!=-1){
if((_e.start+_e.count)<_d.total){
_12=true;
}else{
if((_e.start+_e.count)>_d.total&&_e.count==_d.length){
_12=true;
}
}
}else{
if(_e.count==_d.length){
_12=true;
}
}
this.nextButton.style.display=_12?"":"none";
_3.set(this.nextButton,"id",this.id+"_next");
},clearResultList:function(){
var _13=this.containerNode;
while(_13.childNodes.length>2){
_13.removeChild(_13.childNodes[_13.childNodes.length-2]);
}
this._setSelectedAttr(null);
},highlightFirstOption:function(){
this.selectFirstNode();
},highlightLastOption:function(){
this.selectLastNode();
},selectFirstNode:function(){
this.inherited(arguments);
if(this.getHighlightedOption()==this.previousButton){
this.selectNextNode();
}
},selectLastNode:function(){
this.inherited(arguments);
if(this.getHighlightedOption()==this.nextButton){
this.selectPreviousNode();
}
},getHighlightedOption:function(){
return this.selected;
}});
if(_4("dojo-bidi")){
_6=_2("dijit.form._ComboBoxMenuMixin",_6,{_createOption:function(){
var _14=this.inherited(arguments);
this.applyTextDir(_14);
return _14;
}});
}
return _6;
});


;define("dijit/form/_ListBase",["dojo/_base/declare","dojo/on","dojo/window"],function(_1,on,_2){
return _1("dijit.form._ListBase",null,{selected:null,_listConnect:function(_3,_4){
var _5=this;
return _5.own(on(_5.containerNode,on.selector(function(_6,_7,_8){
return _6.parentNode==_8;
},_3),function(_9){
if(!/^touch/.test(_9.type)){
_9.preventDefault();
}
_5[_4](_9,this);
}));
},selectFirstNode:function(){
var _a=this.containerNode.firstChild;
while(_a&&_a.style.display=="none"){
_a=_a.nextSibling;
}
this._setSelectedAttr(_a);
},selectLastNode:function(){
var _b=this.containerNode.lastChild;
while(_b&&_b.style.display=="none"){
_b=_b.previousSibling;
}
this._setSelectedAttr(_b);
},selectNextNode:function(){
var _c=this.selected;
if(!_c){
this.selectFirstNode();
}else{
var _d=_c.nextSibling;
while(_d&&_d.style.display=="none"){
_d=_d.nextSibling;
}
if(!_d){
this.selectFirstNode();
}else{
this._setSelectedAttr(_d);
}
}
},selectPreviousNode:function(){
var _e=this.selected;
if(!_e){
this.selectLastNode();
}else{
var _f=_e.previousSibling;
while(_f&&_f.style.display=="none"){
_f=_f.previousSibling;
}
if(!_f){
this.selectLastNode();
}else{
this._setSelectedAttr(_f);
}
}
},_setSelectedAttr:function(_10){
if(this.selected!=_10){
var _11=this.selected;
if(_11){
this.onDeselect(_11);
}
if(_10){
_2.scrollIntoView(_10);
this.onSelect(_10);
}
this._set("selected",_10);
}else{
if(_10){
this.onSelect(_10);
}
}
}});
});


;define("dijit/form/_ListMouseMixin",["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(_1,on,_2,_3){
return _1("dijit.form._ListMouseMixin",_3,{postCreate:function(){
this.inherited(arguments);
this.domNode.dojoClick=true;
this.own(on(this.domNode,"mousedown",function(_4){
_4.preventDefault();
}));
this._listConnect("click","_onClick");
this._listConnect("mousedown","_onMouseDown");
this._listConnect("mouseup","_onMouseUp");
this._listConnect("mouseover","_onMouseOver");
this._listConnect("mouseout","_onMouseOut");
},_onClick:function(_5,_6){
this._setSelectedAttr(_6);
if(this._deferredClick){
this._deferredClick.remove();
}
this._deferredClick=this.defer(function(){
this._deferredClick=null;
this.onClick(_6);
});
},_onMouseDown:function(_7,_8){
if(this._hoveredNode){
this.onUnhover(this._hoveredNode);
this._hoveredNode=null;
}
this._isDragging=true;
this._setSelectedAttr(_8);
},_onMouseUp:function(_9,_a){
this._isDragging=false;
var _b=this.selected;
var _c=this._hoveredNode;
if(_b&&_a==_b){
this.defer(function(){
this._onClick(_9,_b);
});
}else{
if(_c){
this.defer(function(){
this._onClick(_9,_c);
});
}
}
},_onMouseOut:function(_d,_e){
if(this._hoveredNode){
this.onUnhover(this._hoveredNode);
this._hoveredNode=null;
}
if(this._isDragging){
this._cancelDrag=(new Date()).getTime()+1000;
}
},_onMouseOver:function(_f,_10){
if(this._cancelDrag){
var _11=(new Date()).getTime();
if(_11>this._cancelDrag){
this._isDragging=false;
}
this._cancelDrag=null;
}
this._hoveredNode=_10;
this.onHover(_10);
if(this._isDragging){
this._setSelectedAttr(_10);
}
}});
});


;define("dijit/form/_ComboBoxMenu",["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_1,_2,_3,_4,_5,_6,_7,_8){
return _1("dijit.form._ComboBoxMenu",[_5,_6,_8,_7],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){
this.inherited(arguments);
if(!this.isLeftToRight()){
_2.add(this.previousButton,"dijitMenuItemRtl");
_2.add(this.nextButton,"dijitMenuItemRtl");
}
this.containerNode.setAttribute("role","listbox");
},_createMenuItem:function(){
var _9=this.ownerDocument.createElement("div");
_9.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");
_9.setAttribute("role","option");
return _9;
},onHover:function(_a){
_2.add(_a,"dijitMenuItemHover");
},onUnhover:function(_b){
_2.remove(_b,"dijitMenuItemHover");
},onSelect:function(_c){
_2.add(_c,"dijitMenuItemSelected");
},onDeselect:function(_d){
_2.remove(_d,"dijitMenuItemSelected");
},_page:function(up){
var _e=0;
var _f=this.domNode.scrollTop;
var _10=_3.get(this.domNode,"height");
if(!this.getHighlightedOption()){
this.selectNextNode();
}
while(_e<_10){
var _11=this.getHighlightedOption();
if(up){
if(!_11.previousSibling||_11.previousSibling.style.display=="none"){
break;
}
this.selectPreviousNode();
}else{
if(!_11.nextSibling||_11.nextSibling.style.display=="none"){
break;
}
this.selectNextNode();
}
var _12=this.domNode.scrollTop;
_e+=(_12-_f)*(up?-1:1);
_f=_12;
}
},handleKey:function(evt){
switch(evt.keyCode){
case _4.DOWN_ARROW:
this.selectNextNode();
return false;
case _4.PAGE_DOWN:
this._page(false);
return false;
case _4.UP_ARROW:
this.selectPreviousNode();
return false;
case _4.PAGE_UP:
this._page(true);
return false;
default:
return true;
}
}});
});


;define("dojo/text!dijit/form/templates/DropDownBox.html", '<div class="dijit dijitReset dijitInline dijitLeft"\n	id="widget_${id}"\n	role="combobox"\n	aria-haspopup="true"\n	data-dojo-attach-point="_popupStateNode"\n	><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n		data-dojo-attach-point="_buttonNode" role="presentation"\n		><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="button presentation" aria-hidden="true"\n			${_buttonInputDisabled}\n	/></div\n	><div class=\'dijitReset dijitValidationContainer\'\n		><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n	/></div\n	><div class="dijitReset dijitInputField dijitInputContainer"\n		><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\n			data-dojo-attach-point="textbox,focusNode" role="textbox"\n	/></div\n></div>\n');

;define("dijit/form/ComboBoxMixin",["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){
return _1("dijit.form.ComboBoxMixin",[_8,_6],{dropDownClass:_7,hasDownArrow:true,templateString:_9,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(_a){
this._set("hasDownArrow",_a);
this._buttonNode.style.display=_a?"":"none";
},_showResultList:function(){
this.displayMessage("");
this.inherited(arguments);
},_setStoreAttr:function(_b){
if(!_b.get){
_4.mixin(_b,{_oldAPI:true,get:function(id){
var _c=new _2();
this.fetchItemByIdentity({identity:id,onItem:function(_d){
_c.resolve(_d);
},onError:function(_e){
_c.reject(_e);
}});
return _c.promise;
},query:function(_f,_10){
var _11=new _2(function(){
_12.abort&&_12.abort();
});
_11.total=new _2();
var _12=this.fetch(_4.mixin({query:_f,onBegin:function(_13){
_11.total.resolve(_13);
},onComplete:function(_14){
_11.resolve(_14);
},onError:function(_15){
_11.reject(_15);
}},_10));
return _5(_11);
}});
}
this._set("store",_b);
},postMixInProperties:function(){
var _16=this.params.store||this.store;
if(_16){
this._setStoreAttr(_16);
}
this.inherited(arguments);
if(!this.params.store&&!this.store._oldAPI){
var _17=this.declaredClass;
_4.mixin(this.store,{getValue:function(_18,_19){
_3.deprecated(_17+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");
return _18[_19];
},getLabel:function(_1a){
_3.deprecated(_17+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");
return _1a.name;
},fetch:function(_1b){
_3.deprecated(_17+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");
var _1c=["dojo/data/ObjectStore"];
require(_1c,_4.hitch(this,function(_1d){
new _1d({objectStore:this}).fetch(_1b);
}));
}});
}
}});
});


;define("dijit/form/ComboBox",["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_1,_2,_3){
return _1("dijit.form.ComboBox",[_2,_3],{});
});


;define("dojo/AdapterRegistry",["./_base/kernel","./_base/lang"],function(_1,_2){
var _3=_1.AdapterRegistry=function(_4){
this.pairs=[];
this.returnWrappers=_4||false;
};
_2.extend(_3,{register:function(_5,_6,_7,_8,_9){
this.pairs[((_9)?"unshift":"push")]([_5,_6,_7,_8]);
},match:function(){
for(var i=0;i<this.pairs.length;i++){
var _a=this.pairs[i];
if(_a[1].apply(this,arguments)){
if((_a[3])||(this.returnWrappers)){
return _a[2];
}else{
return _a[2].apply(this,arguments);
}
}
}
throw new Error("No match found");
},unregister:function(_b){
for(var i=0;i<this.pairs.length;i++){
var _c=this.pairs[i];
if(_c[0]==_b){
this.pairs.splice(i,1);
return true;
}
}
return false;
}});
return _3;
});


;define("dojo/cldr/supplemental",["../_base/lang","../i18n"],function(_1,_2){
var _3={};
_1.setObject("dojo.cldr.supplemental",_3);
_3.getFirstDayOfWeek=function(_4){
var _5={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0};
var _6=_3._region(_4);
var _7=_5[_6];
return (_7===undefined)?1:_7;
};
_3._region=function(_8){
_8=_2.normalizeLocale(_8);
var _9=_8.split("-");
var _a=_9[1];
if(!_a){
_a={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[_9[0]];
}else{
if(_a.length==4){
_a=_9[2];
}
}
return _a;
};
_3.getWeekend=function(_b){
var _c={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},_d={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},_e=_3._region(_b),_f=_c[_e],end=_d[_e];
if(_f===undefined){
_f=6;
}
if(end===undefined){
end=0;
}
return {start:_f,end:end};
};
return _3;
});


;define("dojo/cookie",["./_base/kernel","./regexp"],function(_1,_2){
_1.cookie=function(_3,_4,_5){
var c=document.cookie,_6;
if(arguments.length==1){
var _7=c.match(new RegExp("(?:^|; )"+_2.escapeString(_3)+"=([^;]*)"));
_6=_7?decodeURIComponent(_7[1]):undefined;
}else{
_5=_5||{};
var _8=_5.expires;
if(typeof _8=="number"){
var d=new Date();
d.setTime(d.getTime()+_8*24*60*60*1000);
_8=_5.expires=d;
}
if(_8&&_8.toUTCString){
_5.expires=_8.toUTCString();
}
_4=encodeURIComponent(_4);
var _9=_3+"="+_4,_a;
for(_a in _5){
_9+="; "+_a;
var _b=_5[_a];
if(_b!==true){
_9+="="+_b;
}
}
document.cookie=_9;
}
return _6;
};
_1.cookie.isSupported=function(){
if(!("cookieEnabled" in navigator)){
this("__djCookieTest__","CookiesAllowed");
navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";
if(navigator.cookieEnabled){
this("__djCookieTest__","",{expires:-1});
}
}
return navigator.cookieEnabled;
};
return _1.cookie;
});


;define("dojo/data/util/filter",["../../_base/lang"],function(_1){
var _2={};
_1.setObject("dojo.data.util.filter",_2);
_2.patternToRegExp=function(_3,_4){
var _5="^";
var c=null;
for(var i=0;i<_3.length;i++){
c=_3.charAt(i);
switch(c){
case "\\":
_5+=c;
i++;
_5+=_3.charAt(i);
break;
case "*":
_5+=".*";
break;
case "?":
_5+=".";
break;
case "$":
case "^":
case "/":
case "+":
case ".":
case "|":
case "(":
case ")":
case "{":
case "}":
case "[":
case "]":
_5+="\\";
default:
_5+=c;
}
}
_5+="$";
if(_4){
return new RegExp(_5,"mi");
}else{
return new RegExp(_5,"m");
}
};
return _2;
});


;define("dojo/data/util/sorter",["../../_base/lang"],function(_1){
var _2={};
_1.setObject("dojo.data.util.sorter",_2);
_2.basicComparator=function(a,b){
var r=-1;
if(a===null){
a=undefined;
}
if(b===null){
b=undefined;
}
if(a==b){
r=0;
}else{
if(a>b||a==null){
r=1;
}
}
return r;
};
_2.createSortFunction=function(_3,_4){
var _5=[];
function _6(_7,_8,_9,s){
return function(_a,_b){
var a=s.getValue(_a,_7);
var b=s.getValue(_b,_7);
return _8*_9(a,b);
};
};
var _c;
var _d=_4.comparatorMap;
var bc=_2.basicComparator;
for(var i=0;i<_3.length;i++){
_c=_3[i];
var _e=_c.attribute;
if(_e){
var _f=(_c.descending)?-1:1;
var _10=bc;
if(_d){
if(typeof _e!=="string"&&("toString" in _e)){
_e=_e.toString();
}
_10=_d[_e]||bc;
}
_5.push(_6(_e,_f,_10,_4));
}
}
return function(_11,_12){
var i=0;
while(i<_5.length){
var ret=_5[i++](_11,_12);
if(ret!==0){
return ret;
}
}
return 0;
};
};
return _2;
});


;define("dojo/data/util/simpleFetch",["../../_base/lang","../../_base/kernel","./sorter"],function(_1,_2,_3){
var _4={};
_1.setObject("dojo.data.util.simpleFetch",_4);
_4.errorHandler=function(_5,_6){
if(_6.onError){
var _7=_6.scope||_2.global;
_6.onError.call(_7,_5,_6);
}
};
_4.fetchHandler=function(_8,_9){
var _a=_9.abort||null,_b=false,_c=_9.start?_9.start:0,_d=(_9.count&&(_9.count!==Infinity))?(_c+_9.count):_8.length;
_9.abort=function(){
_b=true;
if(_a){
_a.call(_9);
}
};
var _e=_9.scope||_2.global;
if(!_9.store){
_9.store=this;
}
if(_9.onBegin){
_9.onBegin.call(_e,_8.length,_9);
}
if(_9.sort){
_8.sort(_3.createSortFunction(_9.sort,this));
}
if(_9.onItem){
for(var i=_c;(i<_8.length)&&(i<_d);++i){
var _f=_8[i];
if(!_b){
_9.onItem.call(_e,_f,_9);
}
}
}
if(_9.onComplete&&!_b){
var _10=null;
if(!_9.onItem){
_10=_8.slice(_c,_d);
}
_9.onComplete.call(_e,_10,_9);
}
};
_4.fetch=function(_11){
_11=_11||{};
if(!_11.store){
_11.store=this;
}
this._fetchItems(_11,_1.hitch(this,"fetchHandler"),_1.hitch(this,"errorHandler"));
return _11;
};
return _4;
});


;define("dojo/date",["./has","./_base/lang"],function(_1,_2){
var _3={};
_3.getDaysInMonth=function(_4){
var _5=_4.getMonth();
var _6=[31,28,31,30,31,30,31,31,30,31,30,31];
if(_5==1&&_3.isLeapYear(_4)){
return 29;
}
return _6[_5];
};
_3.isLeapYear=function(_7){
var _8=_7.getFullYear();
return !(_8%400)||(!(_8%4)&&!!(_8%100));
};
_3.getTimezoneName=function(_9){
var _a=_9.toString();
var tz="";
var _b;
var _c=_a.indexOf("(");
if(_c>-1){
tz=_a.substring(++_c,_a.indexOf(")"));
}else{
var _d=/([A-Z\/]+) \d{4}$/;
if((_b=_a.match(_d))){
tz=_b[1];
}else{
_a=_9.toLocaleString();
_d=/ ([A-Z\/]+)$/;
if((_b=_a.match(_d))){
tz=_b[1];
}
}
}
return (tz=="AM"||tz=="PM")?"":tz;
};
_3.compare=function(_e,_f,_10){
_e=new Date(+_e);
_f=new Date(+(_f||new Date()));
if(_10=="date"){
_e.setHours(0,0,0,0);
_f.setHours(0,0,0,0);
}else{
if(_10=="time"){
_e.setFullYear(0,0,0);
_f.setFullYear(0,0,0);
}
}
if(_e>_f){
return 1;
}
if(_e<_f){
return -1;
}
return 0;
};
_3.add=function(_11,_12,_13){
var sum=new Date(+_11);
var _14=false;
var _15="Date";
switch(_12){
case "day":
break;
case "weekday":
var _16,_17;
var mod=_13%5;
if(!mod){
_16=(_13>0)?5:-5;
_17=(_13>0)?((_13-5)/5):((_13+5)/5);
}else{
_16=mod;
_17=parseInt(_13/5);
}
var _18=_11.getDay();
var adj=0;
if(_18==6&&_13>0){
adj=1;
}else{
if(_18==0&&_13<0){
adj=-1;
}
}
var _19=_18+_16;
if(_19==0||_19==6){
adj=(_13>0)?2:-2;
}
_13=(7*_17)+_16+adj;
break;
case "year":
_15="FullYear";
_14=true;
break;
case "week":
_13*=7;
break;
case "quarter":
_13*=3;
case "month":
_14=true;
_15="Month";
break;
default:
_15="UTC"+_12.charAt(0).toUpperCase()+_12.substring(1)+"s";
}
if(_15){
sum["set"+_15](sum["get"+_15]()+_13);
}
if(_14&&(sum.getDate()<_11.getDate())){
sum.setDate(0);
}
return sum;
};
_3.difference=function(_1a,_1b,_1c){
_1b=_1b||new Date();
_1c=_1c||"day";
var _1d=_1b.getFullYear()-_1a.getFullYear();
var _1e=1;
switch(_1c){
case "quarter":
var m1=_1a.getMonth();
var m2=_1b.getMonth();
var q1=Math.floor(m1/3)+1;
var q2=Math.floor(m2/3)+1;
q2+=(_1d*4);
_1e=q2-q1;
break;
case "weekday":
var _1f=Math.round(_3.difference(_1a,_1b,"day"));
var _20=parseInt(_3.difference(_1a,_1b,"week"));
var mod=_1f%7;
if(mod==0){
_1f=_20*5;
}else{
var adj=0;
var _21=_1a.getDay();
var _22=_1b.getDay();
_20=parseInt(_1f/7);
mod=_1f%7;
var _23=new Date(_1a);
_23.setDate(_23.getDate()+(_20*7));
var _24=_23.getDay();
if(_1f>0){
switch(true){
case _21==6:
adj=-1;
break;
case _21==0:
adj=0;
break;
case _22==6:
adj=-1;
break;
case _22==0:
adj=-2;
break;
case (_24+mod)>5:
adj=-2;
}
}else{
if(_1f<0){
switch(true){
case _21==6:
adj=0;
break;
case _21==0:
adj=1;
break;
case _22==6:
adj=2;
break;
case _22==0:
adj=1;
break;
case (_24+mod)<0:
adj=2;
}
}
}
_1f+=adj;
_1f-=(_20*2);
}
_1e=_1f;
break;
case "year":
_1e=_1d;
break;
case "month":
_1e=(_1b.getMonth()-_1a.getMonth())+(_1d*12);
break;
case "week":
_1e=parseInt(_3.difference(_1a,_1b,"day")/7);
break;
case "day":
_1e/=24;
case "hour":
_1e/=60;
case "minute":
_1e/=60;
case "second":
_1e/=1000;
case "millisecond":
_1e*=_1b.getTime()-_1a.getTime();
}
return Math.round(_1e);
};
_1("extend-dojo")&&_2.mixin(_2.getObject("dojo.date",true),_3);
return _3;
});


;define("dojo/i18n!dojo/cldr/nls/gregorian", {"field-era":"Era","dateFormat-long":"MMMM d, y","days-standAlone-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","dateTimeFormat-full":"{1} \'at\' {0}","dateFormatItem-MMMd":"MMM d","dateTimeFormats-appendItem-Timezone":"{0} {1}","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateFormat-full":"EEEE, MMMM d, y","dateFormatItem-MMMEd":"E, MMM d","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dateFormatItem-yQQQQ":"QQQQ y","dateTimeFormat-medium":"{1}, {0}","dateFormatItem-EHms":"E HH:mm:ss","timeFormat-medium":"h:mm:ss a","dateFormatItem-GyMMM":"MMM y G","field-minute":"Minute","field-day":"Day","dateFormatItem-yMMM":"MMM y","dateTimeFormats-appendItem-Year":"{0} {1}","dayPeriods-format-narrow-noon":"n","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraNames":["Before Christ","Anno Domini"],"dayPeriods-format-abbr-pm":"PM","dateFormatItem-Ehms":"E h:mm:ss a","dateTimeFormat-short":"{1}, {0}","dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dateFormatItem-MEd":"E, M/d","dayPeriods-format-wide-pm":"PM","dayPeriods-format-abbr-am":"AM","timeFormat-short":"h:mm a","months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-yMd":"M/d/y","field-zone":"Time Zone","field-second":"Second","dayPeriods-format-wide-am":"AM","dateFormatItem-Ed":"d E","dateFormatItem-Ehm":"E h:mm a","dateFormatItem-hms":"h:mm:ss a","dateTimeFormats-appendItem-Era":"{0} {1}","quarters-format-abbr":["Q1","Q2","Q3","Q4"],"dateFormatItem-yMMMEd":"E, MMM d, y","eraNarrow":["B","A"],"dateFormatItem-EHm":"E HH:mm","field-hour":"Hour","days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"field-week-relative+-1":"Last week","dateFormatItem-GyMMMd":"MMM d, y G","field-month-relative+-1":"Last month","field-week":"Week","dateFormatItem-yM":"M/y","quarters-format-narrow":["1","2","3","4"],"dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","quarters-standAlone-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-hm":"h:mm a","dateFormat-medium":"MMM d, y","months-standAlone-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"dateFormatItem-Gy":"y G","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","days-standAlone-narrow":["S","M","T","W","T","F","S"],"field-month-relative+0":"This month","field-month-relative+1":"Next month","dateFormatItem-Hm":"HH:mm","dayPeriods-format-wide-noon":"noon","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","field-year":"Year","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","dateFormatItem-yMMMd":"MMM d, y","field-day-relative+-1":"Yesterday","field-dayperiod":"AM/PM","field-weekday":"Day of the Week","dateFormatItem-MMM":"LLL","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-yMEd":"E, M/d/y","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"timeFormat-long":"h:mm:ss a z","dateFormatItem-GyMMMEd":"E, MMM d, y G","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","days-standAlone-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"timeFormat-full":"h:mm:ss a zzzz","dateFormatItem-ms":"mm:ss","months-standAlone-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"eraAbbr":["BC","AD"],"field-year-relative+-1":"Last year","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"dateFormatItem-Md":"M/d","dayPeriods-format-narrow-pm":"p","dateFormatItem-H":"HH","dateFormatItem-M":"L","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-d":"d","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-h":"h a","field-week-relative+0":"This week","field-week-relative+1":"Next week","dayPeriods-format-narrow-am":"a","dateFormatItem-y":"y","field-month":"Month","field-year-relative+0":"This year","field-year-relative+1":"Next year","dateFormat-short":"M/d/yy","dateTimeFormat-long":"{1} \'at\' {0}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","days-format-narrow":["S","M","T","W","T","F","S"],"quarters-standAlone-narrow":["1","2","3","4"]});

;define("dojo/date/locale",["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){
var _a={};
_1.setObject(_9.id.replace(/\//g,"."),_a);
function _b(_c,_d,_e,_f){
return _f.replace(/([a-z])\1*/ig,function(_10){
var s,pad,c=_10.charAt(0),l=_10.length,_11=["abbr","wide","narrow"];
switch(c){
case "G":
s=_d[(l<4)?"eraAbbr":"eraNames"][_c.getFullYear()<0?0:1];
break;
case "y":
s=_c.getFullYear();
switch(l){
case 1:
break;
case 2:
if(!_e.fullYear){
s=String(s);
s=s.substr(s.length-2);
break;
}
default:
pad=true;
}
break;
case "Q":
case "q":
s=Math.ceil((_c.getMonth()+1)/3);
pad=true;
break;
case "M":
case "L":
var m=_c.getMonth();
if(l<3){
s=m+1;
pad=true;
}else{
var _12=["months",c=="L"?"standAlone":"format",_11[l-3]].join("-");
s=_d[_12][m];
}
break;
case "w":
var _13=0;
s=_a._getWeekOfYear(_c,_13);
pad=true;
break;
case "d":
s=_c.getDate();
pad=true;
break;
case "D":
s=_a._getDayOfYear(_c);
pad=true;
break;
case "e":
case "c":
var d=_c.getDay();
if(l<2){
s=(d-_4.getFirstDayOfWeek(_e.locale)+8)%7;
break;
}
case "E":
d=_c.getDay();
if(l<3){
s=d+1;
pad=true;
}else{
var _14=["days",c=="c"?"standAlone":"format",_11[l-3]].join("-");
s=_d[_14][d];
}
break;
case "a":
var _15=_c.getHours()<12?"am":"pm";
s=_e[_15]||_d["dayPeriods-format-wide-"+_15];
break;
case "h":
case "H":
case "K":
case "k":
var h=_c.getHours();
switch(c){
case "h":
s=(h%12)||12;
break;
case "H":
s=h;
break;
case "K":
s=(h%12);
break;
case "k":
s=h||24;
break;
}
pad=true;
break;
case "m":
s=_c.getMinutes();
pad=true;
break;
case "s":
s=_c.getSeconds();
pad=true;
break;
case "S":
s=Math.round(_c.getMilliseconds()*Math.pow(10,l-3));
pad=true;
break;
case "v":
case "z":
s=_a._getZone(_c,true,_e);
if(s){
break;
}
l=4;
case "Z":
var _16=_a._getZone(_c,false,_e);
var tz=[(_16<=0?"+":"-"),_7.pad(Math.floor(Math.abs(_16)/60),2),_7.pad(Math.abs(_16)%60,2)];
if(l==4){
tz.splice(0,0,"GMT");
tz.splice(3,0,":");
}
s=tz.join("");
break;
default:
throw new Error("dojo.date.locale.format: invalid pattern char: "+_f);
}
if(pad){
s=_7.pad(s,l);
}
return s;
});
};
_a._getZone=function(_17,_18,_19){
if(_18){
return _3.getTimezoneName(_17);
}else{
return _17.getTimezoneOffset();
}
};
_a.format=function(_1a,_1b){
_1b=_1b||{};
var _1c=_5.normalizeLocale(_1b.locale),_1d=_1b.formatLength||"short",_1e=_a._getGregorianBundle(_1c),str=[],_1f=_1.hitch(this,_b,_1a,_1e,_1b);
if(_1b.selector=="year"){
return _20(_1e["dateFormatItem-yyyy"]||"yyyy",_1f);
}
var _21;
if(_1b.selector!="date"){
_21=_1b.timePattern||_1e["timeFormat-"+_1d];
if(_21){
str.push(_20(_21,_1f));
}
}
if(_1b.selector!="time"){
_21=_1b.datePattern||_1e["dateFormat-"+_1d];
if(_21){
str.push(_20(_21,_1f));
}
}
return str.length==1?str[0]:_1e["dateTimeFormat-"+_1d].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(_22,key){
return str[key];
});
};
_a.regexp=function(_23){
return _a._parseInfo(_23).regexp;
};
_a._parseInfo=function(_24){
_24=_24||{};
var _25=_5.normalizeLocale(_24.locale),_26=_a._getGregorianBundle(_25),_27=_24.formatLength||"short",_28=_24.datePattern||_26["dateFormat-"+_27],_29=_24.timePattern||_26["timeFormat-"+_27],_2a;
if(_24.selector=="date"){
_2a=_28;
}else{
if(_24.selector=="time"){
_2a=_29;
}else{
_2a=_26["dateTimeFormat-"+_27].replace(/\{(\d+)\}/g,function(_2b,key){
return [_29,_28][key];
});
}
}
var _2c=[],re=_20(_2a,_1.hitch(this,_2d,_2c,_26,_24));
return {regexp:re,tokens:_2c,bundle:_26};
};
_a.parse=function(_2e,_2f){
var _30=/[\u200E\u200F\u202A\u202E]/g,_31=_a._parseInfo(_2f),_32=_31.tokens,_33=_31.bundle,re=new RegExp("^"+_31.regexp.replace(_30,"")+"$",_31.strict?"":"i"),_34=re.exec(_2e&&_2e.replace(_30,""));
if(!_34){
return null;
}
var _35=["abbr","wide","narrow"],_36=[1970,0,1,0,0,0,0],_37="",_38=_2.every(_34,function(v,i){
if(!i){
return true;
}
var _39=_32[i-1],l=_39.length,c=_39.charAt(0);
switch(c){
case "y":
if(l!=2&&_2f.strict){
_36[0]=v;
}else{
if(v<100){
v=Number(v);
var _3a=""+new Date().getFullYear(),_3b=_3a.substring(0,2)*100,_3c=Math.min(Number(_3a.substring(2,4))+20,99);
_36[0]=(v<_3c)?_3b+v:_3b-100+v;
}else{
if(_2f.strict){
return false;
}
_36[0]=v;
}
}
break;
case "M":
case "L":
if(l>2){
var _3d=_33["months-"+(c=="L"?"standAlone":"format")+"-"+_35[l-3]].concat();
if(!_2f.strict){
v=v.replace(".","").toLowerCase();
_3d=_2.map(_3d,function(s){
return s.replace(".","").toLowerCase();
});
}
v=_2.indexOf(_3d,v);
if(v==-1){
return false;
}
}else{
v--;
}
_36[1]=v;
break;
case "E":
case "e":
case "c":
var _3e=_33["days-"+(c=="c"?"standAlone":"format")+"-"+_35[l-3]].concat();
if(!_2f.strict){
v=v.toLowerCase();
_3e=_2.map(_3e,function(d){
return d.toLowerCase();
});
}
v=_2.indexOf(_3e,v);
if(v==-1){
return false;
}
break;
case "D":
_36[1]=0;
case "d":
_36[2]=v;
break;
case "a":
var am=_2f.am||_33["dayPeriods-format-wide-am"],pm=_2f.pm||_33["dayPeriods-format-wide-pm"];
if(!_2f.strict){
var _3f=/\./g;
v=v.replace(_3f,"").toLowerCase();
am=am.replace(_3f,"").toLowerCase();
pm=pm.replace(_3f,"").toLowerCase();
}
if(_2f.strict&&v!=am&&v!=pm){
return false;
}
_37=(v==pm)?"p":(v==am)?"a":"";
break;
case "K":
if(v==24){
v=0;
}
case "h":
case "H":
case "k":
if(v>23){
return false;
}
_36[3]=v;
break;
case "m":
_36[4]=v;
break;
case "s":
_36[5]=v;
break;
case "S":
_36[6]=v;
}
return true;
});
var _40=+_36[3];
if(_37==="p"&&_40<12){
_36[3]=_40+12;
}else{
if(_37==="a"&&_40==12){
_36[3]=0;
}
}
var _41=new Date(_36[0],_36[1],_36[2],_36[3],_36[4],_36[5],_36[6]);
if(_2f.strict){
_41.setFullYear(_36[0]);
}
var _42=_32.join(""),_43=_42.indexOf("d")!=-1,_44=_42.indexOf("M")!=-1;
if(!_38||(_44&&_41.getMonth()>_36[1])||(_43&&_41.getDate()>_36[2])){
return null;
}
if((_44&&_41.getMonth()<_36[1])||(_43&&_41.getDate()<_36[2])){
_41=_3.add(_41,"hour",1);
}
return _41;
};
function _20(_45,_46,_47,_48){
var _49=function(x){
return x;
};
_46=_46||_49;
_47=_47||_49;
_48=_48||_49;
var _4a=_45.match(/(''|[^'])+/g),_4b=_45.charAt(0)=="'";
_2.forEach(_4a,function(_4c,i){
if(!_4c){
_4a[i]="";
}else{
_4a[i]=(_4b?_47:_46)(_4c.replace(/''/g,"'"));
_4b=!_4b;
}
});
return _48(_4a.join(""));
};
function _2d(_4d,_4e,_4f,_50){
_50=_6.escapeString(_50);
if(!_4f.strict){
_50=_50.replace(" a"," ?a");
}
return _50.replace(/([a-z])\1*/ig,function(_51){
var s,c=_51.charAt(0),l=_51.length,p2="",p3="";
if(_4f.strict){
if(l>1){
p2="0"+"{"+(l-1)+"}";
}
if(l>2){
p3="0"+"{"+(l-2)+"}";
}
}else{
p2="0?";
p3="0{0,2}";
}
switch(c){
case "y":
s="\\d{2,4}";
break;
case "M":
case "L":
s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";
break;
case "D":
s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";
break;
case "d":
s="3[01]|[12]\\d|"+p2+"[1-9]";
break;
case "w":
s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";
break;
case "E":
case "e":
case "c":
s=".+?";
break;
case "h":
s="1[0-2]|"+p2+"[1-9]";
break;
case "k":
s="1[01]|"+p2+"\\d";
break;
case "H":
s="1\\d|2[0-3]|"+p2+"\\d";
break;
case "K":
s="1\\d|2[0-4]|"+p2+"[1-9]";
break;
case "m":
case "s":
s="[0-5]\\d";
break;
case "S":
s="\\d{"+l+"}";
break;
case "a":
var am=_4f.am||_4e["dayPeriods-format-wide-am"],pm=_4f.pm||_4e["dayPeriods-format-wide-pm"];
s=am+"|"+pm;
if(!_4f.strict){
if(am!=am.toLowerCase()){
s+="|"+am.toLowerCase();
}
if(pm!=pm.toLowerCase()){
s+="|"+pm.toLowerCase();
}
if(s.indexOf(".")!=-1){
s+="|"+s.replace(/\./g,"");
}
}
s=s.replace(/\./g,"\\.");
break;
default:
s=".*";
}
if(_4d){
_4d.push(_51);
}
return "("+s+")";
}).replace(/[\xa0 ]/g,"[\\s\\xa0]");
};
var _52=[];
_a.addCustomFormats=function(_53,_54){
_52.push({pkg:_53,name:_54});
};
_a._getGregorianBundle=function(_55){
var _56={};
_2.forEach(_52,function(_57){
var _58=_5.getLocalization(_57.pkg,_57.name,_55);
_56=_1.mixin(_56,_58);
},this);
return _56;
};
_a.addCustomFormats(_9.id.replace(/\/date\/locale$/,".cldr"),"gregorian");
_a.getNames=function(_59,_5a,_5b,_5c){
var _5d,_5e=_a._getGregorianBundle(_5c),_5f=[_59,_5b,_5a];
if(_5b=="standAlone"){
var key=_5f.join("-");
_5d=_5e[key];
if(_5d[0]==1){
_5d=undefined;
}
}
_5f[1]="format";
return (_5d||_5e[_5f.join("-")]).concat();
};
_a.isWeekend=function(_60,_61){
var _62=_4.getWeekend(_61),day=(_60||new Date()).getDay();
if(_62.end<_62.start){
_62.end+=7;
if(day<_62.start){
day+=7;
}
}
return day>=_62.start&&day<=_62.end;
};
_a._getDayOfYear=function(_63){
return _3.difference(new Date(_63.getFullYear(),0,1,_63.getHours()),_63)+1;
};
_a._getWeekOfYear=function(_64,_65){
if(arguments.length==1){
_65=0;
}
var _66=new Date(_64.getFullYear(),0,1).getDay(),adj=(_66-_65+7)%7,_67=Math.floor((_a._getDayOfYear(_64)+adj-1)/7);
if(_66==_65){
_67++;
}
return _67;
};
return _a;
});


;define("dojo/dnd/move",["../_base/declare","../dom-geometry","../dom-style","./common","./Mover","./Moveable"],function(_1,_2,_3,_4,_5,_6){
var _7=_1("dojo.dnd.move.constrainedMoveable",_6,{constraints:function(){
},within:false,constructor:function(_8,_9){
if(!_9){
_9={};
}
this.constraints=_9.constraints;
this.within=_9.within;
},onFirstMove:function(_a){
var c=this.constraintBox=this.constraints.call(this,_a);
c.r=c.l+c.w;
c.b=c.t+c.h;
if(this.within){
var mb=_2.getMarginSize(_a.node);
c.r-=mb.w;
c.b-=mb.h;
}
},onMove:function(_b,_c){
var c=this.constraintBox,s=_b.node.style;
this.onMoving(_b,_c);
_c.l=_c.l<c.l?c.l:c.r<_c.l?c.r:_c.l;
_c.t=_c.t<c.t?c.t:c.b<_c.t?c.b:_c.t;
s.left=_c.l+"px";
s.top=_c.t+"px";
this.onMoved(_b,_c);
}});
var _d=_1("dojo.dnd.move.boxConstrainedMoveable",_7,{box:{},constructor:function(_e,_f){
var box=_f&&_f.box;
this.constraints=function(){
return box;
};
}});
var _10=_1("dojo.dnd.move.parentConstrainedMoveable",_7,{area:"content",constructor:function(_11,_12){
var _13=_12&&_12.area;
this.constraints=function(){
var n=this.node.parentNode,s=_3.getComputedStyle(n),mb=_2.getMarginBox(n,s);
if(_13=="margin"){
return mb;
}
var t=_2.getMarginExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
if(_13=="border"){
return mb;
}
t=_2.getBorderExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
if(_13=="padding"){
return mb;
}
t=_2.getPadExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
return mb;
};
}});
return {constrainedMoveable:_7,boxConstrainedMoveable:_d,parentConstrainedMoveable:_10};
});


;define("dojo/fx/Toggler",["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(_1,_2,_3,_4){
return _2("dojo.fx.Toggler",null,{node:null,showFunc:_3.fadeIn,hideFunc:_3.fadeOut,showDuration:200,hideDuration:200,constructor:function(_5){
var _6=this;
_1.mixin(_6,_5);
_6.node=_5.node;
_6._showArgs=_1.mixin({},_5);
_6._showArgs.node=_6.node;
_6._showArgs.duration=_6.showDuration;
_6.showAnim=_6.showFunc(_6._showArgs);
_6._hideArgs=_1.mixin({},_5);
_6._hideArgs.node=_6.node;
_6._hideArgs.duration=_6.hideDuration;
_6.hideAnim=_6.hideFunc(_6._hideArgs);
_4.after(_6.showAnim,"beforeBegin",_1.hitch(_6.hideAnim,"stop",true),true);
_4.after(_6.hideAnim,"beforeBegin",_1.hitch(_6.showAnim,"stop",true),true);
},show:function(_7){
return this.showAnim.play(_7||0);
},hide:function(_8){
return this.hideAnim.play(_8||0);
}});
});


;define("dojo/fx",["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require","./fx/Toggler"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){
var _c=_3.fx={};
var _d={_fire:function(_e,_f){
if(this[_e]){
this[_e].apply(this,_f||[]);
}
return this;
}};
var _10=function(_11){
this._index=-1;
this._animations=_11||[];
this._current=this._onAnimateCtx=this._onEndCtx=null;
this.duration=0;
_4.forEach(this._animations,function(a){
this.duration+=a.duration;
if(a.delay){
this.duration+=a.delay;
}
},this);
};
_10.prototype=new _2();
_1.extend(_10,{_onAnimate:function(){
this._fire("onAnimate",arguments);
},_onEnd:function(){
this._onAnimateCtx.remove();
this._onEndCtx.remove();
this._onAnimateCtx=this._onEndCtx=null;
if(this._index+1==this._animations.length){
this._fire("onEnd");
}else{
this._current=this._animations[++this._index];
this._onAnimateCtx=_5.after(this._current,"onAnimate",_1.hitch(this,"_onAnimate"),true);
this._onEndCtx=_5.after(this._current,"onEnd",_1.hitch(this,"_onEnd"),true);
this._current.play(0,true);
}
},play:function(_12,_13){
if(!this._current){
this._current=this._animations[this._index=0];
}
if(!_13&&this._current.status()=="playing"){
return this;
}
var _14=_5.after(this._current,"beforeBegin",_1.hitch(this,function(){
this._fire("beforeBegin");
}),true),_15=_5.after(this._current,"onBegin",_1.hitch(this,function(arg){
this._fire("onBegin",arguments);
}),true),_16=_5.after(this._current,"onPlay",_1.hitch(this,function(arg){
this._fire("onPlay",arguments);
_14.remove();
_15.remove();
_16.remove();
}));
if(this._onAnimateCtx){
this._onAnimateCtx.remove();
}
this._onAnimateCtx=_5.after(this._current,"onAnimate",_1.hitch(this,"_onAnimate"),true);
if(this._onEndCtx){
this._onEndCtx.remove();
}
this._onEndCtx=_5.after(this._current,"onEnd",_1.hitch(this,"_onEnd"),true);
this._current.play.apply(this._current,arguments);
return this;
},pause:function(){
if(this._current){
var e=_5.after(this._current,"onPause",_1.hitch(this,function(arg){
this._fire("onPause",arguments);
e.remove();
}),true);
this._current.pause();
}
return this;
},gotoPercent:function(_17,_18){
this.pause();
var _19=this.duration*_17;
this._current=null;
_4.some(this._animations,function(a){
if(a.duration<=_19){
this._current=a;
return true;
}
_19-=a.duration;
return false;
});
if(this._current){
this._current.gotoPercent(_19/this._current.duration,_18);
}
return this;
},stop:function(_1a){
if(this._current){
if(_1a){
for(;this._index+1<this._animations.length;++this._index){
this._animations[this._index].stop(true);
}
this._current=this._animations[this._index];
}
var e=_5.after(this._current,"onStop",_1.hitch(this,function(arg){
this._fire("onStop",arguments);
e.remove();
}),true);
this._current.stop();
}
return this;
},status:function(){
return this._current?this._current.status():"stopped";
},destroy:function(){
if(this._onAnimateCtx){
this._onAnimateCtx.remove();
}
if(this._onEndCtx){
this._onEndCtx.remove();
}
}});
_1.extend(_10,_d);
_c.chain=function(_1b){
return new _10(_1b);
};
var _1c=function(_1d){
this._animations=_1d||[];
this._connects=[];
this._finished=0;
this.duration=0;
_4.forEach(_1d,function(a){
var _1e=a.duration;
if(a.delay){
_1e+=a.delay;
}
if(this.duration<_1e){
this.duration=_1e;
}
this._connects.push(_5.after(a,"onEnd",_1.hitch(this,"_onEnd"),true));
},this);
this._pseudoAnimation=new _6.Animation({curve:[0,1],duration:this.duration});
var _1f=this;
_4.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){
_1f._connects.push(_5.after(_1f._pseudoAnimation,evt,function(){
_1f._fire(evt,arguments);
},true));
});
};
_1.extend(_1c,{_doAction:function(_20,_21){
_4.forEach(this._animations,function(a){
a[_20].apply(a,_21);
});
return this;
},_onEnd:function(){
if(++this._finished>this._animations.length){
this._fire("onEnd");
}
},_call:function(_22,_23){
var t=this._pseudoAnimation;
t[_22].apply(t,_23);
},play:function(_24,_25){
this._finished=0;
this._doAction("play",arguments);
this._call("play",arguments);
return this;
},pause:function(){
this._doAction("pause",arguments);
this._call("pause",arguments);
return this;
},gotoPercent:function(_26,_27){
var ms=this.duration*_26;
_4.forEach(this._animations,function(a){
a.gotoPercent(a.duration<ms?1:(ms/a.duration),_27);
});
this._call("gotoPercent",arguments);
return this;
},stop:function(_28){
this._doAction("stop",arguments);
this._call("stop",arguments);
return this;
},status:function(){
return this._pseudoAnimation.status();
},destroy:function(){
_4.forEach(this._connects,function(_29){
_29.remove();
});
}});
_1.extend(_1c,_d);
_c.combine=function(_2a){
return new _1c(_2a);
};
_c.wipeIn=function(_2b){
var _2c=_2b.node=_7.byId(_2b.node),s=_2c.style,o;
var _2d=_6.animateProperty(_1.mixin({properties:{height:{start:function(){
o=s.overflow;
s.overflow="hidden";
if(s.visibility=="hidden"||s.display=="none"){
s.height="1px";
s.display="";
s.visibility="";
return 1;
}else{
var _2e=_8.get(_2c,"height");
return Math.max(_2e,1);
}
},end:function(){
return _2c.scrollHeight;
}}}},_2b));
var _2f=function(){
s.height="auto";
s.overflow=o;
};
_5.after(_2d,"onStop",_2f,true);
_5.after(_2d,"onEnd",_2f,true);
return _2d;
};
_c.wipeOut=function(_30){
var _31=_30.node=_7.byId(_30.node),s=_31.style,o;
var _32=_6.animateProperty(_1.mixin({properties:{height:{end:1}}},_30));
_5.after(_32,"beforeBegin",function(){
o=s.overflow;
s.overflow="hidden";
s.display="";
},true);
var _33=function(){
s.overflow=o;
s.height="auto";
s.display="none";
};
_5.after(_32,"onStop",_33,true);
_5.after(_32,"onEnd",_33,true);
return _32;
};
_c.slideTo=function(_34){
var _35=_34.node=_7.byId(_34.node),top=null,_36=null;
var _37=(function(n){
return function(){
var cs=_8.getComputedStyle(n);
var pos=cs.position;
top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);
_36=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);
if(pos!="absolute"&&pos!="relative"){
var ret=_9.position(n,true);
top=ret.y;
_36=ret.x;
n.style.position="absolute";
n.style.top=top+"px";
n.style.left=_36+"px";
}
};
})(_35);
_37();
var _38=_6.animateProperty(_1.mixin({properties:{top:_34.top||0,left:_34.left||0}},_34));
_5.after(_38,"beforeBegin",_37,true);
return _38;
};
return _c;
});


;define("dojo/request/iframe",["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window","../NodeList-dom"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){
var _d=_1.id.replace(/[\/\.\-]/g,"_"),_e=_d+"_onload";
if(!_c.global[_e]){
_c.global[_e]=function(){
var _f=_10._currentDfd;
if(!_f){
_10._fireNextRequest();
return;
}
var _11=_f.response,_12=_11.options,_13=_a.byId(_12.form)||_f._tmpForm;
if(_13){
var _14=_f._contentToClean;
for(var i=0;i<_14.length;i++){
var key=_14[i];
for(var j=0;j<_13.childNodes.length;j++){
var _15=_13.childNodes[j];
if(_15.name===key){
_b.destroy(_15);
break;
}
}
}
_f._originalAction&&_13.setAttribute("action",_f._originalAction);
if(_f._originalMethod){
_13.setAttribute("method",_f._originalMethod);
_13.method=_f._originalMethod;
}
if(_f._originalTarget){
_13.setAttribute("target",_f._originalTarget);
_13.target=_f._originalTarget;
}
}
if(_f._tmpForm){
_b.destroy(_f._tmpForm);
delete _f._tmpForm;
}
_f._finished=true;
};
}
function _16(_17,_18,uri){
if(_c.global[_17]){
return _c.global[_17];
}
if(_c.global.frames[_17]){
return _c.global.frames[_17];
}
if(!uri){
if(_9("config-useXDomain")&&!_9("config-dojoBlankHtmlUrl")){
console.warn("dojo/request/iframe: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");
}
uri=(_9("config-dojoBlankHtmlUrl")||_2.toUrl("dojo/resources/blank.html"));
}
var _19=_b.place("<iframe id=\""+_17+"\" name=\""+_17+"\" src=\""+uri+"\" onload=\""+_18+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",_c.body());
_c.global[_17]=_19;
return _19;
};
function _1a(_1b,src,_1c){
var _1d=_c.global.frames[_1b.name];
if(_1d.contentWindow){
_1d=_1d.contentWindow;
}
try{
if(!_1c){
_1d.location=src;
}else{
_1d.location.replace(src);
}
}
catch(e){
console.log("dojo/request/iframe.setSrc: ",e);
}
};
function doc(_1e){
if(_1e.contentDocument){
return _1e.contentDocument;
}
var _1f=_1e.name;
if(_1f){
var _20=_c.doc.getElementsByTagName("iframe");
if(_1e.document&&_20[_1f].contentWindow&&_20[_1f].contentWindow.document){
return _20[_1f].contentWindow.document;
}else{
if(_c.doc.frames[_1f]&&_c.doc.frames[_1f].document){
return _c.doc.frames[_1f].document;
}
}
}
return null;
};
function _21(){
return _b.create("form",{name:_d+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},_c.body());
};
function _22(){
var dfd;
try{
if(_10._currentDfd||!_10._dfdQueue.length){
return;
}
do{
dfd=_10._currentDfd=_10._dfdQueue.shift();
}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_10._dfdQueue.length);
if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){
_10._currentDfd=null;
return;
}
var _23=dfd.response,_24=_23.options,c2c=dfd._contentToClean=[],_25=_a.byId(_24.form),_26=_4.notify,_27=_24.data||null,_28;
if(!dfd._legacy&&_24.method==="POST"&&!_25){
_25=dfd._tmpForm=_21();
}else{
if(_24.method==="GET"&&_25&&_23.url.indexOf("?")>-1){
_28=_23.url.slice(_23.url.indexOf("?")+1);
_27=_6.mixin(_7.queryToObject(_28),_27);
}
}
if(_25){
if(!dfd._legacy){
var _29=_25;
do{
_29=_29.parentNode;
}while(_29!==_c.doc.documentElement);
if(!_29){
_25.style.position="absolute";
_25.style.left="-1000px";
_25.style.top="-1000px";
_c.body().appendChild(_25);
}
if(!_25.name){
_25.name=_d+"_form";
}
}
if(_27){
var _2a=function(_2b,_2c){
_b.create("input",{type:"hidden",name:_2b,value:_2c},_25);
c2c.push(_2b);
};
for(var x in _27){
var val=_27[x];
if(_6.isArray(val)&&val.length>1){
for(var i=0;i<val.length;i++){
_2a(x,val[i]);
}
}else{
if(!_25[x]){
_2a(x,val);
}else{
_25[x].value=val;
}
}
}
}
var _2d=_25.getAttributeNode("action"),_2e=_25.getAttributeNode("method"),_2f=_25.getAttributeNode("target");
if(_23.url){
dfd._originalAction=_2d?_2d.value:null;
if(_2d){
_2d.value=_23.url;
}else{
_25.setAttribute("action",_23.url);
}
}
if(!dfd._legacy){
dfd._originalMethod=_2e?_2e.value:null;
if(_2e){
_2e.value=_24.method;
}else{
_25.setAttribute("method",_24.method);
}
}else{
if(!_2e||!_2e.value){
if(_2e){
_2e.value=_24.method;
}else{
_25.setAttribute("method",_24.method);
}
}
}
dfd._originalTarget=_2f?_2f.value:null;
if(_2f){
_2f.value=_10._iframeName;
}else{
_25.setAttribute("target",_10._iframeName);
}
_25.target=_10._iframeName;
_26&&_26.emit("send",_23,dfd.promise.cancel);
_10._notifyStart(_23);
_25.submit();
}else{
var _30="";
if(_23.options.data){
_30=_23.options.data;
if(typeof _30!=="string"){
_30=_7.objectToQuery(_30);
}
}
var _31=_23.url+(_23.url.indexOf("?")>-1?"&":"?")+_30;
_26&&_26.emit("send",_23,dfd.promise.cancel);
_10._notifyStart(_23);
_10.setSrc(_10._frame,_31,true);
}
}
catch(e){
dfd.reject(e);
}
};
function _32(_33){
return !this.isFulfilled();
};
function _34(_35){
return !!this._finished;
};
function _36(_37,_38){
if(!_38){
try{
var _39=_37.options,doc=_10.doc(_10._frame),_3a=_39.handleAs;
if(_3a!=="html"){
if(_3a==="xml"){
if(doc.documentElement.tagName.toLowerCase()==="html"){
_8("a",doc.documentElement).orphan();
var _3b=doc.documentElement.innerText;
_3b=_3b.replace(/>\s+</g,"><");
_37.text=_6.trim(_3b);
}else{
_37.data=doc;
}
}else{
_37.text=doc.getElementsByTagName("textarea")[0].value;
}
_5(_37);
}else{
_37.data=doc;
}
}
catch(e){
_38=e;
}
}
if(_38){
this.reject(_38);
}else{
if(this._finished){
this.resolve(_37);
}else{
this.reject(new Error("Invalid dojo/request/iframe request state"));
}
}
};
function _3c(_3d){
this._callNext();
};
var _3e={method:"POST"};
function _10(url,_3f,_40){
var _41=_4.parseArgs(url,_4.deepCreate(_3e,_3f),true);
url=_41.url;
_3f=_41.options;
if(_3f.method!=="GET"&&_3f.method!=="POST"){
throw new Error(_3f.method+" not supported by dojo/request/iframe");
}
if(!_10._frame){
_10._frame=_10.create(_10._iframeName,_e+"();");
}
var dfd=_4.deferred(_41,null,_32,_34,_36,_3c);
dfd._callNext=function(){
if(!this._calledNext){
this._calledNext=true;
_10._currentDfd=null;
_10._fireNextRequest();
}
};
dfd._legacy=_40;
_10._dfdQueue.push(dfd);
_10._fireNextRequest();
_3(dfd);
return _40?dfd:dfd.promise;
};
_10.create=_16;
_10.doc=doc;
_10.setSrc=_1a;
_10._iframeName=_d+"_IoIframe";
_10._notifyStart=function(){
};
_10._dfdQueue=[];
_10._currentDfd=null;
_10._fireNextRequest=_22;
_4.addCommonMethods(_10,["GET","POST"]);
return _10;
});


;define("dojo/io/iframe",["../_base/config","../_base/json","../_base/kernel","../_base/lang","../_base/xhr","../sniff","../_base/window","../dom","../dom-construct","../query","require","../aspect","../request/iframe"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d){
_3.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");
var _e=_d._iframeName;
_e=_e.substring(0,_e.lastIndexOf("_"));
var _f=_4.delegate(_d,{create:function(){
return _f._frame=_d.create.apply(_d,arguments);
},get:null,post:null,send:function(_10){
var _11;
var dfd=_5._ioSetArgs(_10,function(dfd){
_11&&_11.cancel();
},function(dfd){
var _12=null,_13=dfd.ioArgs;
try{
var _14=_13.handleAs;
if(_14==="xml"||_14==="html"){
_12=_11.response.data;
}else{
_12=_11.response.text;
if(_14==="json"){
_12=_2.fromJson(_12);
}else{
if(_14==="javascript"){
_12=_3.eval(_12);
}
}
}
}
catch(e){
_12=e;
}
return _12;
},function(_15,dfd){
dfd.ioArgs._hasError=true;
return _15;
});
var _16=dfd.ioArgs;
var _17="GET",_18=_8.byId(_10.form);
if(_10.method&&_10.method.toUpperCase()==="POST"&&_18){
_17="POST";
}
var _19={method:_17,handleAs:_10.handleAs==="json"||_10.handleAs==="javascript"?"text":_10.handleAs,form:_10.form,query:_18?null:_10.content,data:_18?_10.content:null,timeout:_10.timeout,ioArgs:_16};
if(_19.method){
_19.method=_19.method.toUpperCase();
}
if(_1.ioPublish&&_3.publish&&_16.args.ioPublish!==false){
var _1a=_c.after(_d,"_notifyStart",function(_1b){
if(_1b.options.ioArgs===_16){
_1a.remove();
_5._ioNotifyStart(dfd);
}
},true);
}
_11=_d(_16.url,_19,true);
_16._callNext=_11._callNext;
_11.then(function(){
dfd.resolve(dfd);
}).otherwise(function(_1c){
dfd.ioArgs.error=_1c;
dfd.reject(_1c);
});
return dfd;
},_iframeOnload:_7.global[_e+"_onload"]});
_4.setObject("dojo.io.iframe",_f);
return _f;
});

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["lconn.core"]=true;

;if(!dojo._hasResource["lconn.core.util.dojoPatches"]){
dojo._hasResource["lconn.core.util.dojoPatches"]=true;
dojo.provide("lconn.core.util.dojoPatches");
dijit._frames=new function(){
var _1=[];
this.pop=function(){
var _2;
if(_1.length){
_2=_1.pop();
_2.style.display="";
}else{
if(dojo.isIE){
var _3=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";
if(dojo.isIE>8){
_2=dojo.doc.createElement("iframe");
_2.setAttribute("src",_3);
_2.setAttribute("style","position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");");
}else{
var _4="<iframe src='"+_3+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";
_2=dojo.doc.createElement(_4);
}
}else{
_2=dojo.create("iframe");
_2.src="javascript:\"\"";
_2.className="dijitBackgroundIframe";
dojo.style(_2,"opacity",0.1);
}
_2.tabIndex=-1;
if(!dijit.hasWaiRole(_2)){
dijit.setWaiRole(_2,"presentation");
}
}
return _2;
};
this.push=function(_5){
_5.style.display="none";
_1.push(_5);
};
}();
}


;if(!dojo._hasResource["lconn.core.a11y"]){
dojo._hasResource["lconn.core.a11y"]=true;
dojo.provide("lconn.core.a11y");
dojo.addOnLoad(function(){
var _1=document.getElementsByTagName("body")[0];
if(dojo.hasClass(_1,"dijit_a11y")){
dojo.addClass(_1,"lotusImagesOff");
}
});
}


;define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(_1,_2,_3,_4,_5){
return _3("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,contextRequire:null,_beforeFillContent:function(){
if(this.widgetsInTemplate){
var _6=this.domNode;
if(this.containerNode&&!this.searchContainerNode){
this.containerNode.stopParser=true;
}
_5.parse(_6,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(_4.hitch(this,function(_7){
this._startupWidgets=_7;
for(var i=0;i<_7.length;i++){
this._processTemplateNode(_7[i],function(n,p){
return n[p];
},function(_8,_9,_a){
if(_9 in _8){
return _8.connect(_8,_9,_a);
}else{
return _8.on(_9,_a,true);
}
});
}
if(this.containerNode&&this.containerNode.stopParser){
delete this.containerNode.stopParser;
}
}));
if(!this._startupWidgets){
throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}
}
},_processTemplateNode:function(_b,_c,_d){
if(_c(_b,"dojoType")||_c(_b,"data-dojo-type")){
return true;
}
return this.inherited(arguments);
},startup:function(){
_1.forEach(this._startupWidgets,function(w){
if(w&&!w._started&&w.startup){
w.startup();
}
});
this._startupWidgets=null;
this.inherited(arguments);
}});
});


;define("dijit/_Templated",["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_1,_2,_3,_4,_5,_6,_7){
_6.extend(_1,{waiRole:"",waiState:""});
return _5("dijit._Templated",[_2,_3],{widgetsInTemplate:false,constructor:function(){
},_processNode:function(_8,_9){
var _a=this.inherited(arguments);
var _b=_9(_8,"waiRole");
if(_b){
_8.setAttribute("role",_b);
}
var _c=_9(_8,"waiState");
if(_c){
_4.forEach(_c.split(/\s*,\s*/),function(_d){
if(_d.indexOf("-")!=-1){
var _e=_d.split("-");
_8.setAttribute("aria-"+_e[0],_e[1]);
}
});
}
return _a;
}});
});


;if(!dojo._hasResource["lconn.core.util.html"]){
dojo._hasResource["lconn.core.util.html"]=true;
(function(){
dojo.provide("lconn.core.util.html");
var _1=lconn.core.util.html={getDirectionCode:function(){
return dojo._isBodyLtr()?"":"\u200f";
},destroyWidgets:function(el){
if(el&&el.nodeType!=11){
var _2=dojo.query("[widgetId]",el).map(dijit.byNode);
dojo.forEach(_2,function(w){
if(w){
w.destroyRecursive();
}
});
}
},removeChildren:function(el){
if(!el){
return;
}
lconn.core.util.html.destroyWidgets(el);
while(el.firstChild){
el.removeChild(el.firstChild);
}
},isEvent:function(e){
return (e&&(typeof e.target!="undefined"||typeof e.bubbles!="undefined"));
},append:function(el,_3){
var d=document;
if(dojo.isArray(_3)){
for(var i=0;i<_3.length;i++){
var c=_3[i];
el.appendChild((typeof c=="string")?d.createTextNode(c):c);
}
}else{
el.appendChild((typeof _3=="string")?d.createTextNode(_3):_3);
}
},createTable:function(d,_4){
var _5=d.createElement("table");
_5.cellPadding=_5.cellSpacing=0;
var _6=d.createElement("tbody");
var tr=d.createElement("tr");
var td=d.createElement("td");
if(_4){
td.appendChild(_4);
}
tr.appendChild(td);
_6.appendChild(tr);
_5.appendChild(_6);
return _5;
},countCells:function(tr,_7){
var td=tr.firstChild;
var c=0;
while(td){
if(_7==td){
break;
}
if(td.nodeName.toLowerCase()=="td"){
c+=(dojo.attr(td,"colSpan")||1);
}
td=td.nextSibling;
}
return c;
},formatFilename:function(s){
if(dojo._isBodyLtr()){
return lconn.core.util.html.encodeMultiSpaces(s);
}
return "\u202a"+lconn.core.util.html.encodeMultiSpaces(s)+"\u202c";
},breakString:function(s,d,el,_8){
if(!s){
return;
}
_8=_8||10;
var b=new RegExp("[^\\s]{"+(_8+1)+"}","g");
var r;
var _9=0,_a;
if(dojo.isIE||dojo.isWebKit){
while(r=b.exec(s)){
_a=--b.lastIndex;
var _b=s.charCodeAt(_a-1);
if(_b>=55296&&_b<56192){
_a++;
}
if(_b==3588){
_a++;
}
for(var i=0;i<s.length-2;i++){
if(s.charCodeAt(i)==3619&&s.charCodeAt(i+1)==3639&&s.charCodeAt(i+2)==3656){
_a=9;
break;
}else{
el.appendChild(d.createElement("wbr"));
}
}
el.appendChild(d.createTextNode(s.substring(_9,_a)));
_9=_a;
}
}else{
while(r=b.exec(s)){
_a=--b.lastIndex;
var _b=s.charCodeAt(_a-1);
if(_b>=55296&&_b<56192){
_a++;
}
if(_b==3588){
_a++;
}
for(var i=0;i<s.length-2;i++){
if(s.charCodeAt(i)==3619&&s.charCodeAt(i+1)==3639&&s.charCodeAt(i+2)==3656){
_a=9;
break;
}else{
el.appendChild(d.createElement("wbr"));
}
}
el.appendChild(d.createTextNode(s.substring(_9,_a)+"\u200b"));
_9=_a;
}
}
el.appendChild(d.createTextNode(s.substring(_a)));
return el;
},encodeHtmlAttribute:function(s){
return lconn.core.util.html.encodeHtml(s).replace(/\"/g,"&quot;");
},encodeHtml:function(s){
if(!s){
return "";
}
var e=lconn.core.util.html._encoder;
if(!e){
e=lconn.core.util.html._encoder=dojo.doc.createElement("div");
}
e.innerHTML="";
e.appendChild(dojo.doc.createTextNode(s));
return e.innerHTML;
},decodeHtml:function(s){
if(!s){
return "";
}
var e=lconn.core.util.html._encoder;
if(!e){
e=lconn.core.util.html._encoder=dojo.doc.createElement("div");
}
e.innerHTML=s;
return e.lastChild.nodeValue;
},getFrameDocument:function(_c){
var _d;
if(_c){
try{
if(dojo.isIE||dojo.isSafari>2){
_d=_c.contentWindow.document;
}else{
if(dojo.isSafari){
_d=_c.document;
}else{
_d=_c.contentWindow.document;
}
}
}
catch(e){
}
}
return _d;
},UNICODE_SPACE:/[\s\u3000]/g,UNICODE_DOUBLE_SPACE:/[\s\u3000]{2}/g,encodeSpaces:function(s){
if(!s){
return s;
}
return s.replace(lconn.core.util.html.UNICODE_SPACE,"\xa0");
},encodeMultiSpaces:function(s){
if(!s){
return s;
}
return s.replace(lconn.core.util.html.UNICODE_DOUBLE_SPACE," \xa0");
},htmlText:function(el){
if(!el){
return null;
}
var a=[];
for(var j=0;c=el.childNodes[j];j++){
if(c.nodeType==3){
a.push(c.nodeValue);
}
}
return a.length>0?a.join(""):null;
},SUBSTITUTION:/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,substitute:function(d,el,_e,_f,_10,_11,sub){
var re=sub||lconn.core.util.html.SUBSTITUTION;
el=el||d.createDocumentFragment();
var _12=0;
while(r=re.exec(_e)){
el.appendChild(d.createTextNode(_e.substring(_12,r.index)));
_12=r.index+r[0].length;
var key=r[1];
var _13=r[2];
var _14=dojo.getObject(key,false,_f);
if(typeof _14=="function"){
_14=_14.apply(_11||_f,[key,_13]);
}
if(_13){
_14=dojo.getObject(_13,false,_11)(_14);
}
if(_10){
_14=_10(_14,key);
}
if(typeof _14!="undefined"&&_14!=null){
if(_14.nodeType>0){
el.appendChild(_14);
}else{
el.appendChild(d.createTextNode(_14.toString()));
}
}
}
el.appendChild(d.createTextNode(_e.substring(_12)));
return el;
},EMBEDDED_URL_PATTERN:/(^|[\s])(([a-zA-Z]+:\/\/|www\.|mailto:)[^\s]+)/i,URL_PUNCTUATION_BACKTRACK:/[\.,\!;\:\'\"]+$/,createTextNode:function(d,el,_15,_16){
if(!_15){
return;
}
_15=dojo.trim(_15);
if(_15.length>0){
var _17=_15.split("\n");
dojo.forEach(_17,function(_18,i,arr){
var _19,_1a;
while(_19=lconn.core.util.html.EMBEDDED_URL_PATTERN.exec(_18)){
var _1b=_18.substring(0,_19.index)+_19[1];
var _1c=_19[2];
if(_1a=lconn.core.util.html.URL_PUNCTUATION_BACKTRACK.exec(_1c)){
_1c=_1c.substring(0,_1a.index);
}
_18=_18.substring(_1b.length+_1c.length);
var _1d=(_19[3]&&_19[3].toLowerCase()=="www.");
var _1e=(_19[3]&&_19[3].toLowerCase()=="mailto:");
var _1f=_1d?"http://"+_1c:_1c;
if(_1e){
_1c=_1c.substring(7);
}
if(_1b.length>0){
lconn.core.util.html.breakString(_1b,d,el,15);
}
var a=d.createElement("a");
a.href=_1f;
lconn.core.util.html.breakString(_1c,d,a,15);
el.appendChild(a);
}
if(_18.length>0){
lconn.core.util.html.breakString(_18,d,el,15);
}
if(i<arr.length-1){
el.appendChild(!_16?d.createElement("br"):d.createTextNode(" "));
}
});
}
},generateiWidgetEnablerCodeIfRequired:function(_20,doc){
if(_20.indexOf("mm_iWidget")>-1){
console.log("update generateiWidgetEnablerCodeIfRequired for MM1.1");
}
return null;
},evalScriptTag:function(tag){
if(tag.src){
var h=document.getElementsByTagName("head")[0];
var _21=document.createElement("SCRIPT");
_21.src=tag.src;
h.appendChild(_21);
}else{
if(tag.text&&tag.text.length>0){
if(window.execScript){
window.execScript(tag.text);
}else{
if(dojo.isSafari){
window.setTimeout(tag.text,0);
}else{
eval.call(window,tag.text);
}
}
}
}
},xhtmlToHtml:function(d,_22,_23,_24,ids){
if(!_22){
return;
}
if(!_24){
for(var i=0,a;a=_22.attributes[i];i++){
var n=a.nodeName.toLowerCase();
switch(n){
case "class":
_23.className=a.nodeValue;
break;
case "colspan":
_23.colSpan=a.nodeValue;
break;
case "style":
try{
_23.style.cssText=a.nodeValue;
}
catch(e){
}
break;
default:
if(n=="onclick"&&dojo.isIE){
_23.onclick=new Function(a.nodeValue);
}else{
_23.setAttribute(a.nodeName,a.nodeValue);
}
}
}
if(_23.id&&ids){
ids[_23.id]=_23;
}
}
var n=_22.nodeName.toLowerCase();
for(var i=0,x;x=_22.childNodes[i];i++){
switch(x.nodeType){
case 1:
var e=d.createElement(x.nodeName);
_23.appendChild(e);
lconn.core.util.html.xhtmlToHtml(d,x,e,false,ids);
break;
case 3:
switch(n){
case "script":
if(dojo.isIE){
_23.text=x.nodeValue;
}else{
_23.appendChild(d.createTextNode(x.nodeValue));
}
break;
case "style":
if(dojo.isIE){
_23.styleSheet.cssText=x.nodeValue;
}else{
_23.appendChild(d.createTextNode(x.nodeValue));
}
break;
default:
_23.appendChild(d.createTextNode(x.nodeValue));
break;
}
break;
}
}
},alert:function(msg){
alert(msg);
},confirm:function(msg,_25,_26){
var _27=confirm(msg);
if(_27&&_25){
_25();
}else{
if(!_27&&_26){
_26();
}
}
},checkFeedSubscription:function(msg,url,e){
if(dojo.isSafari<2||dojo.isChrome){
if(e){
dojo.stopEvent(e);
}
_1.confirm(msg,function(){
window.location=url;
});
}
},highlight:function(_28,key,_29,tag){
var _2a=_28.toLowerCase();
var _2b=key.toLowerCase();
tag=tag||"b";
var fn=_29?this.encodeHtml:function(s){
return s;
};
var _2c=0;
var _2d=null;
var _2e=_2b.split(/\s/);
var sbf=[];
for(var i=0;i<_2e.length;i++){
var s=_2e[i];
var _2d=_2a.indexOf(s,_2c);
if(_2d!=-1){
sbf.push(fn(_28.substring(_2c,_2d)));
sbf.push("<"+tag+">");
sbf.push(fn(_28.substring(_2d,_2d+s.length)));
sbf.push("</"+tag+">");
_2c=_2d+s.length;
}
}
sbf.push(fn(_28.substring(_2c)));
return sbf.join("");
}};
})();
}


;if(!dojo._hasResource["lconn.core.TypeAheadFormatMixin"]){
dojo._hasResource["lconn.core.TypeAheadFormatMixin"]=true;
dojo.provide("lconn.core.TypeAheadFormatMixin");




(function(_1,_2){
dojo.declare("lconn.core.TypeAheadFormatMixin",null,{formatItem:function(_3,_4){
return _4?_1.encodeHtml(_3):_3;
},formatItemHtml:function(_5){
return this.formatItem(_5,true);
},_getLabelFromItem:function(_6){
return _6;
},_setLabelForItem:function(_7,_8){
return _8;
},_getMenuLabelFromItem:function(_9){
var _a=this._getLabelFromItem(_9);
var _b=this.multipleValues?_2.trim(this.keyArr[this.keyIdx]):_2.trim(this.focusNode.value);
if(_9.type!=="-1"){
_a=_1.highlight(_a,_b,true);
}
_9=this._setLabelForItem(_9,_a);
return {html:true,label:_9};
}});
}(lconn.core.util.html,dojo.string));
}


;dojo.mixin(dojo.provide("lconn.core.config.properties"),{"ccmMediaView":"enabled","com.ibm.lconn.communities.includePublicRole":"true","com.ibm.lconn.files.api.throttler.filesync":"50","filesMediaView":"enabled","lconn.core.WidgetPlacement.communities.useCRE":"true","lconn.core.WidgetPlacement.profiles.useCRE":"true","people.typeahead":"enabled","shindig.config.container.overrides":"{\"atom.feed\" : {\"isEntryContentElementForced\" : true, \"isEntrySummaryElementForced\" : true}}","visitorModelEnabled":"true"});


;if(!dojo._hasResource["lconn.core.globalization.config"]){
dojo._hasResource["lconn.core.globalization.config"]=true;
(function(){
dojo.provide("lconn.core.globalization.config");


var _1={DEFAULT:"default",LEFT_TO_RIGHT:"ltr",RIGHT_TO_LEFT:"rtl",CONTEXTUAL:"contextual"},_2={GREGORIAN:"gregorian",HEBREW:"hebrew",HIJRI:"hijri"},_3={BIDI_ENABLED:"bidiEnabled",TEXT_DIRECTION:"textDirection",CALENDAR:"calendar"},_4={};
_4[_3.BIDI_ENABLED]=false;
_4[_3.TEXT_DIRECTION]=_1.DEFAULT;
_4[_3.CALENDAR]=_2.GREGORIAN;
dojo.mixin(lconn.core.globalization.config,{SETTINGS_ENABLED_PROPERTY_NAME:"com.ibm.lconn.core.web.globalization.settings.enabled",TEXT_DIRECTION:_1,CALENDAR:_2,SETTINGS:_3,areSettingsEnabled:function(){
return lconn.core.config.properties[this.SETTINGS_ENABLED_PROPERTY_NAME]!==false;
},languageEnabled:false,defaults:_4});
})();
}


;define("dojo/DeferredList",["./_base/kernel","./_base/Deferred","./_base/array"],function(_1,_2,_3){
_1.DeferredList=function(_4,_5,_6,_7,_8){
var _9=[];
_2.call(this);
var _a=this;
if(_4.length===0&&!_5){
this.resolve([0,[]]);
}
var _b=0;
_3.forEach(_4,function(_c,i){
_c.then(function(_d){
if(_5){
_a.resolve([i,_d]);
}else{
_e(true,_d);
}
},function(_f){
if(_6){
_a.reject(_f);
}else{
_e(false,_f);
}
if(_7){
return null;
}
throw _f;
});
function _e(_10,_11){
_9[i]=[_10,_11];
_b++;
if(_b===_4.length){
_a.resolve(_9);
}
};
});
};
_1.DeferredList.prototype=new _2();
_1.DeferredList.prototype.gatherResults=function(_12){
var d=new _1.DeferredList(_12,false,true,false);
d.addCallback(function(_13){
var ret=[];
_3.forEach(_13,function(_14){
ret.push(_14[1]);
});
return ret;
});
return d;
};
return _1.DeferredList;
});


;if(!dojo._hasResource["com.ibm.oneui.util.Url"]){
dojo._hasResource["com.ibm.oneui.util.Url"]=true;
(function(){
dojo.provide("com.ibm.oneui.util.Url");
dojo.declare("com.ibm.oneui.util.Url",dojo._Url,{getQuery:function(){
if(!this.queryParameters){
this.queryParameters=_1(this.query);
}
return this.queryParameters;
},getQueryString:function(){
var _2=this.queryParameters;
if(_2){
this.query=_3(_2);
this.queryParameters=null;
}
return this.query;
},toString:function(){
var _4=[];
if(this.scheme){
_4.push(this.scheme);
_4.push(":");
}
if(this.authority){
_4.push("//");
_4.push(this.authority);
}
_4.push(this.path);
var _5=this.getQueryString();
if(_5){
if(_5.charAt(0)!="?"){
_4.push("?");
}
_4.push(_5);
}
if(this.fragment){
_4.push("#");
_4.push(this.fragment);
}
return _4.join("");
}});
function _1(_6){
var _7={};
if(!_6){
return _7;
}
if(_6.charAt(0)=="?"){
_6=_6.substring(1);
}
var _8=_6.split("&");
for(var i=0;i<_8.length;i++){
if(_8[i].length>0){
var _9=_8[i].indexOf("=");
if(_9==-1){
var _a=decodeURIComponent(_8[i]);
var _b=_7[_a];
if(dojo.isArray(_b)){
_b.push("");
}else{
if(_b){
_7[_a]=[_b,""];
}else{
_7[_a]="";
}
}
}else{
if(_9>0){
var _a=decodeURIComponent(_8[i].substring(0,_9));
var _c=decodeURIComponent(_8[i].substring(_9+1));
var _b=_7[_a];
if(dojo.isArray(_b)){
_b.push(_c);
}else{
if(_b){
_7[_a]=[_b,_c];
}else{
_7[_a]=_c;
}
}
}
}
}
}
return _7;
};
function _3(_d){
var _e=[];
for(var _f in _d){
var _10=_d[_f];
if(_10!==undefined&&_10!=null){
_f=encodeURIComponent(_f);
if(dojo.isArray(_10)){
for(var i=0;i<_10.length;i++){
if(_10[i]){
_e.push(_e.length==0?"?":"&");
_e.push(_f);
_e.push("=");
_e.push(encodeURIComponent(_10[i]));
}
}
}else{
_e.push(_e.length==0?"?":"&");
_e.push(_f);
_e.push("=");
_e.push(encodeURIComponent(_10));
}
}
}
return _e.join("");
};
com.ibm.oneui.util.Url.secure=((window.location.protocol||"http").replace(":","")=="https");
})();
}


;if(!dojo._hasResource["lconn.core.url"]){
dojo._hasResource["lconn.core.url"]=true;
dojo.provide("lconn.core.url");
dojo.provide("lconn.core.url.ProxyUrlHelper");




lconn.core.url.parse=function(_1,_2){
var l=arguments.length,u=null;
if(!_1){
return null;
}else{
if((typeof _1!="string"&&console.trace)||(_2&&typeof _2!="string"&&console.trace)){
throw "Arguments for URI must be a string";
}
}
_1=new dojo._Url(_1,_2);
_1.queryParameters=lconn.core.url.getRequestParameters(_1);
return _1;
};
lconn.core.url.write=function(_3){
if(!_3){
return null;
}
var _4="";
if(_3.scheme){
_4+=_3.scheme+":";
}
if(_3.authority){
_4+="//"+_3.authority;
}
_4+=_3.path;
if(_3.queryParameters){
_4+=lconn.core.url.writeParameters(_3.queryParameters);
}else{
if(_3.query){
_4+=((_3.query.charAt(0)!="?")?"?":"")+_3.query;
}
}
if(_3.fragment){
_4+="#"+_3.fragment;
}
return _4;
};
dojo._Url.prototype.toCanonicalString=function(){
return lconn.core.url.write(this);
};
lconn.core.url.rewrite=function(_5,p){
if(_5&&p){
_5=lconn.core.url.parse(_5);
dojo.mixin(_5.queryParameters,p);
_5=lconn.core.url.write(_5);
}
return _5;
};
lconn.core.url.splitQuery=function(_6){
var _7={};
if(!_6){
return _7;
}
if(_6.charAt(0)=="?"){
_6=_6.substring(1);
}
var _8=_6.split("&");
for(var i=0;i<_8.length;i++){
if(_8[i].length>0){
var _9=_8[i].indexOf("=");
if(_9==-1){
var _a=decodeURIComponent(_8[i]);
var _b=_7[_a];
if(dojo.isArray(_b)){
_b.push("");
}else{
if(_b){
_7[_a]=[_b,""];
}else{
_7[_a]="";
}
}
}else{
if(_9>0){
var _a=decodeURIComponent(_8[i].substring(0,_9));
var _c=decodeURIComponent(_8[i].substring(_9+1));
var _b=_7[_a];
if(dojo.isArray(_b)){
_b.push(_c);
}else{
if(_b){
_7[_a]=[_b,_c];
}else{
_7[_a]=_c;
}
}
}
}
}
}
return _7;
};
lconn.core.url.getRequestParameters=function(_d){
if(!_d){
return {};
}
if(typeof _d=="string"){
_d=new dojo._Url(_d);
}
return lconn.core.url.splitQuery(_d.query);
};
lconn.core.url.writeParameters=function(_e){
var _f=[];
for(var key in _e){
var _10=_e[key];
if(typeof _10!="undefined"&&_10!=null){
key=encodeURIComponent(key);
if(dojo.isArray(_10)){
for(var i=0;i<_10.length;i++){
if(_10[i]){
_f.push(_f.length==0?"?":"&");
_f.push(key);
_f.push("=");
_f.push(encodeURIComponent(_10[i]));
}
}
}else{
_f.push(_f.length==0?"?":"&");
_f.push(key);
_f.push("=");
_f.push(encodeURIComponent(_10));
}
}
}
return _f.join("");
};
lconn.core.url.getServiceUrl=function(_11,_12){
var _13=com.ibm.oneui.util.Url,_14=null;
if(!_11){
return null;
}else{
if(_13.secure||_12){
if(_11.secureEnabled){
_14=_11.secureUrl;
}else{
if(_11.url){
_14=_11.url;
}else{
return null;
}
}
}else{
if(_11.url){
_14=_11.url;
}else{
if(_11.secureEnabled){
_14=_11.secureUrl;
}else{
return null;
}
}
}
}
return new _13(_14);
};
lconn.core.url.ensureQualified=function(_15){
if(!_15){
throw "Null URL is not permitted";
}
return new dojo._Url(dojo.global.location.toString(),_15).toString();
};
lconn.core.url.ProxyUrlHelper=function(_16){
dojo.deprecated("lconn.core.url.ProxyUrlHelper","Will be removed","6.0");
this.proxyUrl=_16;
};
lconn.core.url.ProxyUrlHelper.prototype={getProxifiedURL:function(url){
dojo.deprecated("lconn.core.url.ProxyUrlHelper.getProxifiedURL(url)","Use com.ibm.oneui.util.proxy(url, proxyUrl?) instead","6.0");
return com.ibm.oneui.util.proxy(url,this.proxyUrl);
}};
lconn.core.url.canonicalize=function(url,_17){
var _18=lconn.core.url.parse(url);
var _19=_17||ibmConfig.serviceName;
switch(_19){
case "wikis":
if(_18.fragment&&_18.fragment.indexOf("!")===0){
_18.fragment=_18.fragment.substr(1);
}
case "files":
if(_18.fragment){
_18.path+=_18.fragment;
delete _18.fragment;
}
break;
}
return _18.toCanonicalString();
};
}


;dojo.mixin(dojo.provide("lconn.core.config.services"),{"activities":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/activities","url":"http://www.ibm.com/developerworks/community/activities"},"blogs":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/blogs","url":"http://www.ibm.com/developerworks/community/blogs"},"bookmarklet":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/connections/bookmarklet","url":"http://www.ibm.com/developerworks/community/connections/bookmarklet"},"communities":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/groups","url":"http://www.ibm.com/developerworks/community/groups"},"deploymentConfig":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/connections","url":"http://www.ibm.com/developerworks/community/connections"},"files":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/files","url":"http://www.ibm.com/developerworks/community/files"},"forums":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/forums","url":"http://www.ibm.com/developerworks/community/forums"},"help":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/help","url":"http://www.ibm.com/developerworks/community/help"},"homepage":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/homepage","url":"http://www.ibm.com/developerworks/community/homepage"},"mediaGallery":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/news/widgets/lw","url":"http://www.ibm.com/developerworks/community/news/widgets/lw"},"microblogging":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/connections/opensocial","url":"http://www.ibm.com/developerworks/community/connections/opensocial"},"mobile":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/mobile","url":"http://www.ibm.com/developerworks/community/mobile"},"moderation":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/moderation","url":"http://www.ibm.com/developerworks/community/moderation"},"news":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/news","url":"http://www.ibm.com/developerworks/community/news"},"oauth":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/connections/oauth","url":"http://www.ibm.com/developerworks/community/connections/oauth"},"oauthprovider":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/oauth2","url":"http://www.ibm.com/developerworks/community/oauth2"},"opengraph":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/connections/opengraph","url":"http://www.ibm.com/developerworks/community/connections/opengraph"},"opensocial":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/connections/opensocial","url":"http://www.ibm.com/developerworks/community/connections/opensocial"},"personTag":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/profiles/ibm_semanticTagServlet","url":"http://www.ibm.com/developerworks/community/profiles/ibm_semanticTagServlet"},"profiles":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/profiles","url":"http://www.ibm.com/developerworks/community/profiles"},"sand":{"secureEnabled":true},"search":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/search","url":"http://www.ibm.com/developerworks/community/search"},"thumbnail":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/connections/thumbnail","url":"http://www.ibm.com/developerworks/community/connections/thumbnail"},"webresources":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/connections/resources","url":"http://www.ibm.com/developerworks/community/connections/resources"},"wikis":{"secureEnabled":true,"secureUrl":"https://www.ibm.com/developerworks/community/wikis","url":"http://www.ibm.com/developerworks/community/wikis"}});


;if(!dojo._hasResource["lconn.core.auth"]){
dojo._hasResource["lconn.core.auth"]=true;
dojo.provide("lconn.core.auth");












(function(_1,_2){
var _3=dojo.getObject("ibmConfig.serviceName");
var _4=5000,_5=[],_6=[],_7={defaultApp:"${appSvcUrl}/core/login_redirect?redirect=${redirectUrl}",activities:"${appSvcUrl}/service/authredirect.jsp",blogs:"${appSvcUrl}/roller-ui/login-redirect.jsp?redirect=${redirectUrl}",communities:"${appSvcUrl}/service/html/login",dogear:"${appSvcUrl}/loginredirect?redirect=${redirectUrl}",files:"${appSvcUrl}/form/login_redirect?redirect=${redirectUrl}",forums:"${appSvcUrl}/auth/redirect",homepage:"${appSvcUrl}/web/login_redirect?redirectUrl=${redirectUrl}",metrics:"${appSvcUrl}/login_redirect?redirect=${redirectUrl}",moderation:"${appSvcUrl}/login_redirect?redirect=${redirectUrl}",news:"${appSvcUrl}/login_redirect?redirect=${redirectUrl}",oauth:"${appSvcUrl}/login_redirect?redirect=${redirectUrl}",profiles:"${appSvcUrl}/auth/loginRedirect.do",search:"${appSvcUrl}/login_redirect?redirect=${redirectUrl}",wikis:"${appSvcUrl}/form/login_redirect?redirect=${redirectUrl}",webresources:"${appSvcUrl}/login_redirect?redirect=${redirectUrl}"},_8=null,_9=null,_a=null;
function _b(_c,_d){
switch(_c){
case "activities":
_e("ActivitiesRedirect",_d.redirectUrl);
break;
case "communities":
_e("CommunitiesReqURL",_d.redirectUrl);
break;
case "forums":
_e("ForumReqURL",_d.redirectUrl);
break;
case "homepage":
_e("ConnectionsHomepageActivityStreamState",_d.redirectUrl);
break;
case "profiles":
_e("ProfilesReqURL",_d.redirectUrl);
break;
}
};
function _f(){
var _10=[];
if(!lconn.core.auth.isAuthenticated()){
dojo.forEach(_5,function(_11,i){
var dfd=_11();
if(dfd&&dfd instanceof dojo.Deferred){
_10.push(dfd);
}
});
}
return _10;
};
function _12(_13){
var _14=[];
if(_13||lconn.core.auth.isAuthenticated()){
dojo.forEach(_6,function(_15,i){
var dfd=_15();
if(dfd&&dfd instanceof dojo.Deferred){
_14.push(dfd);
}
});
}
return _14;
};
function _e(key,_16){
_2.cookie=key+"="+_16+"; path=/";
};
function _17(){
if(_3){
return _3;
}
var _18=dojo.byId("lotusBaseStylesheet");
if(_18){
var _19=dojo.attr(_18,"appName");
if(_19){
return _19;
}
}
return "news";
};
function _1a(_1b){
var _1c=_1.location.href;
var _1d=_17();
var _1e=lconn.core.config.services[_1d];
if(_1e){
_1c=(_1e.secureEnabled&&_1b!==false)?_1e.secureUrl:_1e.url;
}
var _1f=lconn.core.url.parse(_1c);
return _1f.toString();
};
lconn.core.auth={addLoginHandler:function(_20){
_5.push(_20);
},addLogoutHandler:function(_21){
_6.push(_21);
},login:function(url){
var _22=new dojo.DeferredList(_f(),false);
var _23=url||lconn.core.auth.getLoginUrl();
_22.addBoth(function(_24){
_1.location.href=_23;
});
},logoutAndLogin:function(url){
_12(true);
var _25=lconn.core.auth.getLogoutUrl();
dojo.xhrPost({url:_25,handleAs:"text",handle:function(){
lconn.core.auth.login(url);
},secure:false,timeout:_4});
},logout:function(url){
var _26=new dojo.DeferredList(_12(),false);
var _27=url||lconn.core.auth.getLogoutUrl("/");
_26.addBoth(function(_28){
_1.location.href=_27;
});
},getUser:function(_29){
if(!this.isAuthenticated()){
return null;
}
_29=_29||_3;
if(!_a||dojo.config.isDebug){
_a=null;
switch(_29){
case "activities":
if(dojo.exists("_oa_current_user")){
_a={displayName:_oa_current_user.name,id:_oa_current_user.userid,email:_oa_current_user.email,isExternal:_oa_current_user.isExternal,_native:_oa_current_user};
}
break;
case "blogs":
case "dogear":
if(dojo.exists("currentLogin")){
_a={displayName:currentLogin.name,id:currentLogin.extid,email:currentLogin.email,isExternal:currentLogin.isExternal,_native:currentLogin};
}
break;
case "communities":
var _2a;
if(dojo.exists("communityActionData")){
_2a=communityActionData;
}else{
if(dojo.exists("lconn.communities.bizCard.core.community")){
_2a=lconn.communities.bizCard.core.community;
}
}
if(_2a){
_a={displayName:_2a.userName,id:_2a.userUuid,email:_2a.userEmail,isExternal:_2a.userIsExternal,_native:_2a};
}else{
if(dojo.exists("lconnCurrentUser")){
_a=dojo.clone(lconnCurrentUser);
_a._native=lconnCurrentUser;
}
}
break;
case "forums":
if(dojo.exists("forumsUser")){
_a={displayName:forumsUser};
}
if(dojo.exists("forumsUserId")){
_a=_a||{};
_a.id=forumsUserId;
}
if(dojo.exists("forumsUserExternal")){
_a=_a||{};
_a.isExternal=forumsUserExternal==1;
}
break;
case "homepage":
case "news":
if(dojo.exists("lconn.homepage.userName")){
_a={displayName:lconn.homepage.userName};
}
if(dojo.exists("lconn.homepage.userEmail")){
_a=_a||{};
_a.email=lconn.homepage.userEmail;
}
if(dojo.exists("lconn.homepage.userExtId")){
_a=_a||{};
_a.id=lconn.homepage.userExtId;
}
if(dojo.exists("lconn.homepage.userIsExternal")){
_a=_a||{};
_a.isExternal=lconn.homepage.userIsExternal;
}
break;
case "profiles":
if(dojo.exists("profilesData.loggedInUser")){
_a={displayName:profilesData.loggedInUser.displayName,id:profilesData.loggedInUser.userid,email:profilesData.loggedInUser.email,isExternal:profilesData.loggedInUser.isExternal,_native:profilesData.loggedInUser};
}
break;
case "files":
case "wikis":
case "metrics":
case "moderation":
if(dojo.exists("pe.authenticatedUser")){
_a={displayName:pe.authenticatedUser.name,id:pe.authenticatedUser.id,email:pe.authenticatedUser.email,isExternal:pe.authenticatedUser.isExternal,_native:pe.authenticatedUser};
}
break;
case "search":
if(dojo.exists("lconnCurrentUser")){
_a=dojo.clone(lconnCurrentUser);
_a._native=lconnCurrentUser;
}
break;
default:
if(dojo.exists("currentViewer")){
_a={displayName:currentViewer.displayName,id:currentViewer.id&&currentViewer.id.substring(currentViewer.id.lastIndexOf(":")+1),email:(dojo.filter(currentViewer.emails,function(e){
return e.primary;
})[0]||{}).value,isExternal:currentViewer.appData&&currentViewer.appData.connections&&currentViewer.appData.connections.isExternal==="true"};
_a._native=currentViewer;
}else{
if(dojo.exists("icUser")){
_a=dojo.clone(icUser);
_a._native=icUser;
}
}
}
}
return _a;
},isAuthenticated:function(){
if(dojo.isFunction(_8)){
return _8();
}
if(_9===null){
switch(_3){
case "files":
case "wikis":
_9=dojo.getObject("pe.authenticatedUser");
break;
default:
var _2b=dojo.query("#headerUserName img")[0];
_9=_2b&&_2b.alt!=="";
}
}
return _9;
},setAuthCheck:function(cb){
if(dojo.isFunction(cb)){
_8=cb;
}
},getLogoutUrl:function(_2c){
var _2d=_1a(com.ibm.oneui.util.Url.secure);
var _2e=_2c||"/";
_2d=_2d+"/ibm_security_logout?logoutExitPage="+encodeURIComponent(_2e);
return _2d;
},getLoginUrl:function(url){
url=url||_1.location.href;
var _2f=_17("default");
var u=lconn.core.url.parse(url);
if(u.fragment){
switch(_2f){
case "activities":
u.fragment=u.fragment.replace(/,/g,"%2C");
break;
case "files":
case "metrics":
case "moderation":
case "wikis":
u.path+=u.fragment.indexOf("!")===0?u.fragment.substring(1):u.fragment;
delete u.fragment;
}
}
var _30=lconn.core.config.services[_2f].secureUrl;
if(_30.charAt(_30.length-1)=="/"){
_30=_30.substring(0,_30.length-1);
}
var opt={appSvcUrl:_30,redirectUrl:u.toCanonicalString(),hashSegment:u.fragment||""};
_b(_2f,opt);
opt.redirectUrl=encodeURIComponent(opt.redirectUrl);
return dojo.string.substitute(_7[_2f],opt);
}};
lconn.core.auth.logoutAndlogin=lconn.core.auth.logoutAndLogin;
})(window,document);
}

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["lconn.metrics"]=true;

;if(!dojo._hasResource["lconn.metrics.util.iframe"]){
dojo._hasResource["lconn.metrics.util.iframe"]=true;
dojo.provide("lconn.metrics.util.iframe");


lconn.metrics.util.iframe={send:function(_1){
if((dojo.isWebKit||dojo.isIE<9)&&dojo.io.iframe["_frame"]){
dojo.destroy(dojo.io.iframe["_frame"]);
var _2=dojo.io.iframe._iframeName;
dojo.io.iframe._frame=null;
window[_2]=null;
if(window.frames){
window.frames[_2]=null;
}
}
return dojo.io.iframe.send(_1);
}};
}

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["lconn.metrics.plugins"]=true;

;if(!dojo._hasResource["lconn.metrics.plugins.logoutCognos"]){
dojo._hasResource["lconn.metrics.plugins.logoutCognos"]=true;
dojo.provide("lconn.metrics.plugins.logoutCognos");










(function(){
var _1=dojo.getObject("lconn.core.config.services.cognos");
function _2(){
if(dojo.cookie("accessCognos")=="true"){
var _3=lconn.core.url.getServiceUrl(_1);
var _4=lconn.metrics.util.iframe.send({url:_3+"/servlet/dispatch/ext?b_action=xts.run&m=portal/logoff.xts&h_CAM_action=logoff",timeout:3000});
dojo.cookie("accessCognos","false",{path:"/"});
return _4;
}
};
if(_1){
lconn.core.auth.addLogoutHandler(_2);
lconn.core.auth.addLoginHandler(_2);
}
})();
}


;if(!dojo._hasResource["lconn.core.util.PreferenceCache"]){
dojo._hasResource["lconn.core.util.PreferenceCache"]=true;
(function(_1,_2){
var _3=dojo.provide("lconn.core.util.PreferenceCache");
var _4="icprefs";
function _5(){
return dojo.fromJson(localStorage.getItem(_4))||{};
};
function _6(_7){
localStorage.setItem(_4,dojo.toJson(_7));
};
function _8(){
localStorage.removeItem(_4);
};
dojo.mixin(_3,{set:function(_9,_a){
var o={};
o[_9]=_a;
_6(dojo.mixin(_5(),o));
},unset:function(_b){
var p=_5();
delete p[_b];
_6(p);
},get:function(_c){
return _5()[_c];
},clear:function(){
_8();
}});
})(window,document);
}


;if(!dojo._hasResource["lconn.core.globalization.api"]){
dojo._hasResource["lconn.core.globalization.api"]=true;
(function(){
dojo.provide("lconn.core.globalization.api");










var _1=lconn.core.globalization.config,_2=lconn.core.util.PreferenceCache;
if(_1.areSettingsEnabled()){
var _3="globalization",_4=false;
function _5(_6,_7){
if(_6){
switch(_6.status){
case 500:
case 404:
dojo.publish("lconn/core/preferences/unavailable");
_4=true;
}
}
};
function _8(){
if(!lconn.core.auth.isAuthenticated()){
return {};
}
var _9=_a();
if(!_9&&!_4){
dojo.xhrGet({url:_b(),failOk:true,handleAs:"json",sync:true,handle:function(r,i){
if(r instanceof Error){
_5(r,i);
return;
}
_9=_c(r);
_d(r,i);
}});
}
return _9||{};
};
function _b(){
var _e=lconn.core.url.getServiceUrl(lconn.core.config.services.opensocial).toString();
return _e+"/rest/people/@me/@self?fields=userSettings.textDirection&fields=userSettings.bidiEnabled&fields=userSettings.calendar";
};
function _f(){
_10();
if(!lconn.core.auth.isAuthenticated()){
return;
}
if(_a()){
return;
}
if(!_4){
dojo.xhrGet({url:_b(),handleAs:"json",timeout:3000}).addCallback(_d).addErrback(_5);
}
};
function _11(){
if(arguments[1]){
_12(arguments[1]);
}else{
_13();
}
};
var MAP={CTX:"contextual",DEF:"default",LTR:"ltr",RTL:"rtl",HEB:"hebrew",HIJ:"hijri",GRE:"gregorian","true":true,"false":false};
function map(_14){
var to={};
for(var _15 in _14){
if(_14.hasOwnProperty(_15)){
to[_15]=typeof MAP[_14[_15]]!=="undefined"?MAP[_14[_15]]:_14[_15];
}
}
return to;
};
function _c(_16){
return (_16&&_16.entry&&_16.entry.appData)?map(_16.entry.appData.userSettings):null;
};
function _a(){
return _2.get(_3);
};
function _12(_17){
if(!_17){
console.debug("Trying to store invalid preference:",_17);
return;
}
_2.set(_3,_17);
};
function _d(_18,_19){
_12(_c(_18));
};
var _1a=false;
function _10(){
if(!_1a){
dojo.subscribe("lconn/core/globalization/saved",_11);
dojo.subscribe("lconn/core/globalization/restored",_11);
lconn.core.auth.addLogoutHandler(_13);
lconn.core.auth.addLoginHandler(_13);
_1a=true;
}
};
function _13(){
_2.unset(_3);
};
function _1b(_1c){
var ret=_8()[_1c];
return typeof ret!=="undefined"?ret:_1.defaults[_1c];
};
dojo.mixin(lconn.core.globalization.api,{isBidiEnabled:function(){
return _1b(_1.SETTINGS.BIDI_ENABLED);
},getCalendar:function(){
return _1b(_1.SETTINGS.CALENDAR);
},getTextDirection:function(){
return _1b(_1.SETTINGS.TEXT_DIRECTION);
}});
dojo.addOnLoad(function(){
setTimeout(_f,100);
});
}
})();
}

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["dojox"]=true;

;define("dojox/string/BidiComplex",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/sniff","dojo/keys"],function(_1,_2,_3,_4,_5,_6){
_1.experimental("dojox.string.BidiComplex");
var _7=_2.getObject("string.BidiComplex",true,dojox);
var _8=[];
_7.attachInput=function(_9,_a){
_9.alt=_a;
_4.connect(_9,"onkeydown",this,"_ceKeyDown");
_4.connect(_9,"onkeyup",this,"_ceKeyUp");
_4.connect(_9,"oncut",this,"_ceCutText");
_4.connect(_9,"oncopy",this,"_ceCopyText");
_9.value=_7.createDisplayString(_9.value,_9.alt);
};
_7.createDisplayString=function(_b,_c){
_b=_7.stripSpecialCharacters(_b);
var _d=_7._parse(_b,_c);
var _e="\u202a"+_b;
var _f=1;
_3.forEach(_d,function(n){
if(n!=null){
var _10=_e.substring(0,n+_f);
var _11=_e.substring(n+_f,_e.length);
_e=_10+"\u200e"+_11;
_f++;
}
});
return _e;
};
_7.stripSpecialCharacters=function(str){
return str.replace(/[\u200E\u200F\u202A-\u202E]/g,"");
};
_7._ceKeyDown=function(_12){
var _13=_5("ie")?_12.srcElement:_12.target;
_8=_13.value;
};
_7._ceKeyUp=function(_14){
var LRM="\u200e";
var _15=_5("ie")?_14.srcElement:_14.target;
var _16=_15.value;
var _17=_14.keyCode;
if((_17==_6.HOME)||(_17==_6.END)||(_17==_6.SHIFT)){
return;
}
var _18,_19;
var _1a=_7._getCaretPos(_14,_15);
if(_1a){
_18=_1a[0];
_19=_1a[1];
}
if(_5("ie")){
var _1b=_18,_1c=_19;
if(_17==_6.LEFT_ARROW){
if((_16.charAt(_19-1)==LRM)&&(_18==_19)){
_7._setSelectedRange(_15,_18-1,_19-1);
}
return;
}
if(_17==_6.RIGHT_ARROW){
if(_16.charAt(_19-1)==LRM){
_1c=_19+1;
if(_18==_19){
_1b=_18+1;
}
}
_7._setSelectedRange(_15,_1b,_1c);
return;
}
}else{
if(_17==_6.LEFT_ARROW){
if(_16.charAt(_19-1)==LRM){
_7._setSelectedRange(_15,_18-1,_19-1);
}
return;
}
if(_17==_6.RIGHT_ARROW){
if(_16.charAt(_19-1)==LRM){
_7._setSelectedRange(_15,_18+1,_19+1);
}
return;
}
}
var _1d=_7.createDisplayString(_16,_15.alt);
if(_16!=_1d){
window.status=_16+" c="+_19;
_15.value=_1d;
if((_17==_6.DELETE)&&(_1d.charAt(_19)==LRM)){
_15.value=_1d.substring(0,_19)+_1d.substring(_19+2,_1d.length);
}
if(_17==_6.DELETE){
_7._setSelectedRange(_15,_18,_19);
}else{
if(_17==_6.BACKSPACE){
if((_8.length>=_19)&&(_8.charAt(_19-1)==LRM)){
_7._setSelectedRange(_15,_18-1,_19-1);
}else{
_7._setSelectedRange(_15,_18,_19);
}
}else{
if(_15.value.charAt(_19)!=LRM){
_7._setSelectedRange(_15,_18+1,_19+1);
}
}
}
}
};
_7._processCopy=function(_1e,_1f,_20){
if(_1f==null){
if(_5("ie")){
var _21=document.selection.createRange();
_1f=_21.text;
}else{
_1f=_1e.value.substring(_1e.selectionStart,_1e.selectionEnd);
}
}
var _22=_7.stripSpecialCharacters(_1f);
if(_5("ie")){
window.clipboardData.setData("Text",_22);
}
return true;
};
_7._ceCopyText=function(_23){
if(_5("ie")){
_23.returnValue=false;
}
return _7._processCopy(_23,null,false);
};
_7._ceCutText=function(_24){
var ret=_7._processCopy(_24,null,false);
if(!ret){
return false;
}
if(_5("ie")){
document.selection.clear();
}else{
var _25=_24.selectionStart;
_24.value=_24.value.substring(0,_25)+_24.value.substring(_24.selectionEnd);
_24.setSelectionRange(_25,_25);
}
return true;
};
_7._getCaretPos=function(_26,_27){
if(_5("ie")){
var _28=0,_29=document.selection.createRange().duplicate(),_2a=_29.duplicate(),_2b=_29.text.length;
if(_27.type=="textarea"){
_2a.moveToElementText(_27);
}else{
_2a.expand("textedit");
}
while(_29.compareEndPoints("StartToStart",_2a)>0){
_29.moveStart("character",-1);
++_28;
}
return [_28,_28+_2b];
}
return [_26.target.selectionStart,_26.target.selectionEnd];
};
_7._setSelectedRange=function(_2c,_2d,_2e){
if(_5("ie")){
var _2f=_2c.createTextRange();
if(_2f){
if(_2c.type=="textarea"){
_2f.moveToElementText(_2c);
}else{
_2f.expand("textedit");
}
_2f.collapse();
_2f.moveEnd("character",_2e);
_2f.moveStart("character",_2d);
_2f.select();
}
}else{
_2c.selectionStart=_2d;
_2c.selectionEnd=_2e;
}
};
var _30=function(c){
return (c>="0"&&c<="9")||(c>"\xff");
};
var _31=function(c){
return (c>="A"&&c<="Z")||(c>="a"&&c<="z");
};
var _32=function(_33,i,_34){
while(i>0){
if(i==_34){
return false;
}
i--;
if(_30(_33.charAt(i))){
return true;
}
if(_31(_33.charAt(i))){
return false;
}
}
return false;
};
_7._parse=function(str,_35){
var _36=-1,_37=[];
var _38={FILE_PATH:"/\\:.",URL:"/:.?=&#",XPATH:"/\\:.<>=[]",EMAIL:"<>@.,;"}[_35];
switch(_35){
case "FILE_PATH":
case "URL":
case "XPATH":
_3.forEach(str,function(ch,i){
if(_38.indexOf(ch)>=0&&_32(str,i,_36)){
_36=i;
_37.push(i);
}
});
break;
case "EMAIL":
var _39=false;
_3.forEach(str,function(ch,i){
if(ch=="\""){
if(_32(str,i,_36)){
_36=i;
_37.push(i);
}
i++;
var i1=str.indexOf("\"",i);
if(i1>=i){
i=i1;
}
if(_32(str,i,_36)){
_36=i;
_37.push(i);
}
}
if(_38.indexOf(ch)>=0&&_32(str,i,_36)){
_36=i;
_37.push(i);
}
});
}
return _37;
};
return _7;
});


;if(!dojo._hasResource["lconn.core.globalization.bidiUtil"]){
dojo._hasResource["lconn.core.globalization.bidiUtil"]=true;
(function(){
dojo.provide("lconn.core.globalization.bidiUtil");






var w={};
w.LRM="\u200e";
w.RLM="\u200f";
w.LRE="\u202a";
w.RLE="\u202b";
w.PDF="\u202c";
w.enforceTextDirectionOnPage=function(_1){
if(lconn.core.globalization.config.areSettingsEnabled()&&lconn.core.globalization.api.isBidiEnabled()){
var _2=lconn.core.globalization.api.getTextDirection();
var t=_1?dojo.query(".bidiAware",_1):dojo.query(".bidiAware");
for(var i=0;i<t.length;i++){
var _3=t[i];
if(_3.tagName=="INPUT"||_3.tagName=="TEXTAREA"||(_3.tagName=="DIV"&&_3.contentEditable=="true")){
dojo.connect(_3,"onkeyup",_3,function(){
w.inputRTLProcessing(this,_2);
});
this.inputRTLProcessing(_3,_2);
}else{
if(_3.tagName=="DIV"||_3.tagName=="H1"||_3.tagName=="H2"||_3.tagName=="H3"||_3.tagName=="H4"||_3.tagName=="B"||_3.tagName=="P"){
_3.style.direction=this.getTextDirection(_3.textContent,_2);
_3.style.textAlign="inherit";
}else{
if(_3.tagName=="SELECT"){
this.enforceTextDirectionForSelect(_3,_2);
}else{
_3.dir=_3.style.direction=this.getTextDirection(_3.value||_3.text||_3.outerText||_3.innerHTML,_2);
if(_3.tagName=="A"){
var _4=_3.innerHTML;
var ch=_4.charAt(_4.length-1);
if((ch==w.LRM&&_3.dir==="rtl")||(ch==w.RLM&&_3.dir==="ltr")){
_3.innerHTML=_4.substr(0,_4.length-1);
}
}
}
}
}
}
var _5=_1?dojo.query(".bidiSTT_URL",_1):dojo.query(".bidiSTT_URL");
for(var i=0;i<_5.length;i++){
if(_5[i].tagName=="INPUT"||_5[i].tagName=="TEXTAREA"){
dojox.string.BidiComplex.attachInput(_5[i],"URL");
}else{
_5[i].innerHTML=dojox.string.BidiComplex.createDisplayString(_5[i].innerHTML,"URL");
}
}
var _6=_1?dojo.query(".bidiSTT_EMAIL",_1):dojo.query(".bidiSTT_EMAIL");
for(var i=0;i<_6.length;i++){
if(_6[i].tagName=="INPUT"||_6[i].tagName=="TEXTAREA"){
dojox.string.BidiComplex.attachInput(_6[i],"EMAIL");
}else{
_6[i].innerHTML=dojox.string.BidiComplex.createDisplayString(_6[i].innerHTML,"EMAIL");
}
}
var _7=(_5.length>0?_5[0].form:(_6.length>0?_6[0].form:null));
if(_7){
dojo.connect(_7,"onsubmit",_7,function(){
w.stripSpecialCharacters(_1);
});
}
var f=_1?dojo.query(".bidiFileInput",_1):dojo.query(".bidiFileInput");
for(var i=0;i<f.length;i++){
var _3=f[i];
dojo.connect(_3,"onkeydown",_3,function(){
w.onFileKeyDown(this);
});
dojo.connect(_3,"onchange",_3,function(){
w.processChange(this);
});
dojo.connect(_3,"onfocus",_3,function(){
w.fileOnFocus(this);
});
dojo.connect(_3,"onmousedown",_3,function(){
w.onFileMouseDown(this);
});
var _8=dojo.byId("bidi_faked_"+_3.id);
if(_8){
dojo.connect(_8,"onfocus",_8,function(){
w.onfocus(this);
});
dojo.connect(_8,"onkeydown",_8,function(){
w.onFakeKeyDown(event,this);
});
dojo.connect(_8,"oncopy",_8,function(){
w.processCopy(this);
});
dojo.connect(_8,"onpaste",_8,function(){
return false;
});
dojo.connect(_8,"oncut",_8,function(){
return false;
});
}
}
}
};
w.inputRTLProcessing=function(_9,_a){
if(lconn.core.globalization.config.areSettingsEnabled()&&lconn.core.globalization.api.isBidiEnabled()&&_9!=null&&(_9.value!=""||_9.innerHTML!="")){
_a=this.getTextDirectionPref(_a);
if(_9.tagName=="INPUT"||_9.tagName=="TEXTAREA"||(_9.tagName=="DIV"&&_9.contentEditable=="true")&&(_9.value||_9.innerHTML)){
if(_a==lconn.core.globalization.config.TEXT_DIRECTION.CONTEXTUAL){
if(this.isRTLValue(_9.value||_9.innerHTML)){
_9.dir=_9.style.direction="rtl";
}else{
_9.dir=_9.style.direction="ltr";
}
}else{
if(_a==lconn.core.globalization.config.TEXT_DIRECTION.LEFT_TO_RIGHT){
_9.dir=_9.style.direction="ltr";
}else{
if(_a==lconn.core.globalization.config.TEXT_DIRECTION.RIGHT_TO_LEFT){
_9.dir=_9.style.direction="rtl";
}
}
}
if(dojo.hasClass(_9,"lotusLeft")&&_9.style.direction==="rtl"){
_9.style.textAlign="right";
}else{
if(dojo.hasClass(_9,"lotusRight")&&_9.style.direction==="ltr"){
_9.style.textAlign="left";
}
}
}
}
};
w.enforceTextDirectionForSelect=function(_b,_c){
if(lconn.core.globalization.config.areSettingsEnabled()&&lconn.core.globalization.api.isBidiEnabled()){
var _d=dojo.query("option",_b);
for(var i=0;i<_d.length;i++){
var _e=_d[i];
_e.text=this.enforceTextDirection(_e.text,_c);
}
}
};
w.enforceTextDirection=function(_f,_10){
_10=this.getTextDirectionPref(_10);
var _11=this.getTextDirection(_f,_10);
var _12=_f;
if(_11=="ltr"){
_12=this.LRE+_12+this.PDF;
}else{
if(_11=="rtl"){
_12=this.RLE+_12+this.PDF;
}
}
return _12;
};
w.getTextDirection=function(_13,_14){
_14=this.getTextDirectionPref(_14);
var _15="";
if(typeof (_13)!="undefined"&&_13!=""){
if(_14==lconn.core.globalization.config.TEXT_DIRECTION.CONTEXTUAL){
if(this.isRTLValue(_13)){
_15="rtl";
}else{
_15="ltr";
}
}else{
if(_14==lconn.core.globalization.config.TEXT_DIRECTION.LEFT_TO_RIGHT){
_15="ltr";
}else{
if(_14==lconn.core.globalization.config.TEXT_DIRECTION.RIGHT_TO_LEFT){
_15="rtl";
}
}
}
}
return _15;
};
w.getTextDirectionPref=function(_16){
var _17="";
if(typeof (_16)!="undefined"){
_17=_16;
}else{
if(lconn.core.globalization.config.areSettingsEnabled()&&lconn.core.globalization.api.isBidiEnabled()){
_17=lconn.core.globalization.api.getTextDirection();
}
}
return _17;
};
w.isRTLValue=function(_18){
var i;
for(i=0;i<_18.length;i++){
if(this.isBidiChar(_18.charCodeAt(i))){
return true;
}else{
if(this.isLatinChar(_18.charCodeAt(i))){
return false;
}
}
}
return false;
};
w.isBidiChar=function(c){
if(c>=1488&&c<=1535){
return true;
}else{
if(c>=1536&&c<=1631){
return true;
}else{
if(c>=1642&&c<=1775){
return true;
}else{
if(c>=1786&&c<=2047){
return true;
}else{
if(c>=64285&&c<=65023){
return true;
}else{
if(c>=65136&&c<=65276){
return true;
}else{
return false;
}
}
}
}
}
}
};
w.isLatinChar=function(c){
if((c>64&&c<91)||(c>96&&c<123)){
return true;
}else{
return false;
}
};
w.fakeOnFocus=function(obj){
this.setRelatedElements(obj);
};
w.fileOnFocus=function(obj){
this.setRelatedElements(obj);
obj.relatedElement.value=dojox.string.BidiComplex.createDisplayString(obj.value,"FILE_PATH");
};
w.processChange=function(obj){
obj.relatedElement.value=dojox.string.BidiComplex.createDisplayString(obj.value,"FILE_PATH");
obj.relatedElement.focus();
};
w.onFakeKeyDown=function(_19,obj){
this.setRelatedElements(obj);
_19=(_19)?_19:((window.event)?window.event:"");
var _1a=_19.keyCode;
if(_19.altKey||_19.ctrlKey||_1a==VK_SHIFT){
return true;
}else{
if(!(_1a==VK_HOME||_1a==VK_END||_1a==VK_LEFT||_1a==VK_RIGHT)){
obj.relatedElement.focus();
return false;
}else{
return true;
}
}
};
w.onFileMouseDown=function(obj){
this.setRelatedElements(obj);
obj.relatedElement.focus();
return false;
};
w.onFileKeyDown=function(obj){
this.setRelatedElements(obj);
obj.relatedElement.focus();
return false;
};
w.setRelatedElements=function(obj){
if(obj.relatedElement){
return;
}
var _1b=obj.parentNode.childNodes;
var _1c;
for(var i=0;i<_1b.length;i++){
if(obj.id=="bidi_faked_"+_1b[i].id||_1b[i].id=="bidi_faked_"+obj.id){
_1c=_1b[i];
break;
}
}
obj.relatedElement=_1c;
_1c.relatedElement=obj;
};
w.processCopy=function(obj){
var _1d="";
try{
if(dojo.isIE){
var w=obj.document.parentWindow;
var e=w.event;
var _1e=obj.document.selection.createRange();
_1d=_1e.text;
}else{
_1d=obj.document.getSelection();
}
var _1f=dojox.string.BidiComplex.stripSpecialCharacters(_1d);
if(window.clipboardData){
window.clipboardData.setData("Text",_1f);
e.returnValue=false;
}
}
catch(ex){
}
};
w.stripSpecialCharacters=function(_20){
var _21=_20?dojo.query(".bidiSTT_URL",_20):dojo.query(".bidiSTT_URL");
for(var i=0;i<_21.length;i++){
if(_21[i].tagName=="INPUT"||_21[i].tagName=="TEXTAREA"){
_21[i].value=dojox.string.BidiComplex.stripSpecialCharacters(_21[i].value);
}
}
var _22=_20?dojo.query(".bidiSTT_EMAIL",_20):dojo.query(".bidiSTT_EMAIL");
for(var i=0;i<_22.length;i++){
if(_22[i].tagName=="INPUT"||_22[i].tagName=="TEXTAREA"){
_22[i].value=dojox.string.BidiComplex.stripSpecialCharacters(_22[i].value);
}
}
};
lconn.core.globalization.bidiUtil=w;
})();
}


;define("dojo/i18n!dojo/cldr/nls/number", {"scientificFormat":"#E0","decimalFormat-long":"000 trillion","exponential":"E","minusSign":"-","decimal":".","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]","decimalFormat-short":"000T","currencySpacing-afterCurrency-currencyMatch":"[:^S:]","nan":"NaN","percentFormat":"#,##0%","list":";","percentSign":"%","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","infinity":"\u221e","currencyFormat":"\xa4#,##0.00;(\xa4#,##0.00)","decimalFormat":"#,##0.###","perMille":"\u2030","currencySpacing-beforeCurrency-insertBetween":"\xa0","currencySpacing-afterCurrency-insertBetween":"\xa0","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","group":","});

;define("dojo/number",["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(_1,_2,_3,_4,_5){
var _6={};
_1.setObject("dojo.number",_6);
_6.format=function(_7,_8){
_8=_1.mixin({},_8||{});
var _9=_2.normalizeLocale(_8.locale),_a=_2.getLocalization("dojo.cldr","number",_9);
_8.customs=_a;
var _b=_8.pattern||_a[(_8.type||"decimal")+"Format"];
if(isNaN(_7)||Math.abs(_7)==Infinity){
return null;
}
return _6._applyPattern(_7,_b,_8);
};
_6._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;
_6._applyPattern=function(_c,_d,_e){
_e=_e||{};
var _f=_e.customs.group,_10=_e.customs.decimal,_11=_d.split(";"),_12=_11[0];
_d=_11[(_c<0)?1:0]||("-"+_12);
if(_d.indexOf("%")!=-1){
_c*=100;
}else{
if(_d.indexOf("\u2030")!=-1){
_c*=1000;
}else{
if(_d.indexOf("\xa4")!=-1){
_f=_e.customs.currencyGroup||_f;
_10=_e.customs.currencyDecimal||_10;
_d=_d.replace(/\u00a4{1,3}/,function(_13){
var _14=["symbol","currency","displayName"][_13.length-1];
return _e[_14]||_e.currency||"";
});
}else{
if(_d.indexOf("E")!=-1){
throw new Error("exponential notation not supported");
}
}
}
}
var _15=_6._numberPatternRE;
var _16=_12.match(_15);
if(!_16){
throw new Error("unable to find a number expression in pattern: "+_d);
}
if(_e.fractional===false){
_e.places=0;
}
return _d.replace(_15,_6._formatAbsolute(_c,_16[0],{decimal:_10,group:_f,places:_e.places,round:_e.round}));
};
_6.round=function(_17,_18,_19){
var _1a=10/(_19||10);
return (_1a*+_17).toFixed(_18)/_1a;
};
if((0.9).toFixed()==0){
var _1b=_6.round;
_6.round=function(v,p,m){
var d=Math.pow(10,-p||0),a=Math.abs(v);
if(!v||a>=d){
d=0;
}else{
a/=d;
if(a<0.5||a>=0.95){
d=0;
}
}
return _1b(v,p,m)+(v>0?d:-d);
};
}
_6._formatAbsolute=function(_1c,_1d,_1e){
_1e=_1e||{};
if(_1e.places===true){
_1e.places=0;
}
if(_1e.places===Infinity){
_1e.places=6;
}
var _1f=_1d.split("."),_20=typeof _1e.places=="string"&&_1e.places.indexOf(","),_21=_1e.places;
if(_20){
_21=_1e.places.substring(_20+1);
}else{
if(!(_21>=0)){
_21=(_1f[1]||[]).length;
}
}
if(!(_1e.round<0)){
_1c=_6.round(_1c,_21,_1e.round);
}
var _22=String(Math.abs(_1c)).split("."),_23=_22[1]||"";
if(_1f[1]||_1e.places){
if(_20){
_1e.places=_1e.places.substring(0,_20);
}
var pad=_1e.places!==undefined?_1e.places:(_1f[1]&&_1f[1].lastIndexOf("0")+1);
if(pad>_23.length){
_22[1]=_4.pad(_23,pad,"0",true);
}
if(_21<_23.length){
_22[1]=_23.substr(0,_21);
}
}else{
if(_22[1]){
_22.pop();
}
}
var _24=_1f[0].replace(",","");
pad=_24.indexOf("0");
if(pad!=-1){
pad=_24.length-pad;
if(pad>_22[0].length){
_22[0]=_4.pad(_22[0],pad);
}
if(_24.indexOf("#")==-1){
_22[0]=_22[0].substr(_22[0].length-pad);
}
}
var _25=_1f[0].lastIndexOf(","),_26,_27;
if(_25!=-1){
_26=_1f[0].length-_25-1;
var _28=_1f[0].substr(0,_25);
_25=_28.lastIndexOf(",");
if(_25!=-1){
_27=_28.length-_25-1;
}
}
var _29=[];
for(var _2a=_22[0];_2a;){
var off=_2a.length-_26;
_29.push((off>0)?_2a.substr(off):_2a);
_2a=(off>0)?_2a.slice(0,off):"";
if(_27){
_26=_27;
delete _27;
}
}
_22[0]=_29.reverse().join(_1e.group||",");
return _22.join(_1e.decimal||".");
};
_6.regexp=function(_2b){
return _6._parseInfo(_2b).regexp;
};
_6._parseInfo=function(_2c){
_2c=_2c||{};
var _2d=_2.normalizeLocale(_2c.locale),_2e=_2.getLocalization("dojo.cldr","number",_2d),_2f=_2c.pattern||_2e[(_2c.type||"decimal")+"Format"],_30=_2e.group,_31=_2e.decimal,_32=1;
if(_2f.indexOf("%")!=-1){
_32/=100;
}else{
if(_2f.indexOf("\u2030")!=-1){
_32/=1000;
}else{
var _33=_2f.indexOf("\xa4")!=-1;
if(_33){
_30=_2e.currencyGroup||_30;
_31=_2e.currencyDecimal||_31;
}
}
}
var _34=_2f.split(";");
if(_34.length==1){
_34.push("-"+_34[0]);
}
var re=_5.buildGroupRE(_34,function(_35){
_35="(?:"+_5.escapeString(_35,".")+")";
return _35.replace(_6._numberPatternRE,function(_36){
var _37={signed:false,separator:_2c.strict?_30:[_30,""],fractional:_2c.fractional,decimal:_31,exponent:false},_38=_36.split("."),_39=_2c.places;
if(_38.length==1&&_32!=1){
_38[1]="###";
}
if(_38.length==1||_39===0){
_37.fractional=false;
}else{
if(_39===undefined){
_39=_2c.pattern?_38[1].lastIndexOf("0")+1:Infinity;
}
if(_39&&_2c.fractional==undefined){
_37.fractional=true;
}
if(!_2c.places&&(_39<_38[1].length)){
_39+=","+_38[1].length;
}
_37.places=_39;
}
var _3a=_38[0].split(",");
if(_3a.length>1){
_37.groupSize=_3a.pop().length;
if(_3a.length>1){
_37.groupSize2=_3a.pop().length;
}
}
return "("+_6._realNumberRegexp(_37)+")";
});
},true);
if(_33){
re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_3b,_3c,_3d,_3e){
var _3f=["symbol","currency","displayName"][_3d.length-1],_40=_5.escapeString(_2c[_3f]||_2c.currency||"");
_3c=_3c?"[\\s\\xa0]":"";
_3e=_3e?"[\\s\\xa0]":"";
if(!_2c.strict){
if(_3c){
_3c+="*";
}
if(_3e){
_3e+="*";
}
return "(?:"+_3c+_40+_3e+")?";
}
return _3c+_40+_3e;
});
}
return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_30,decimal:_31,factor:_32};
};
_6.parse=function(_41,_42){
var _43=_6._parseInfo(_42),_44=(new RegExp("^"+_43.regexp+"$")).exec(_41);
if(!_44){
return NaN;
}
var _45=_44[1];
if(!_44[1]){
if(!_44[2]){
return NaN;
}
_45=_44[2];
_43.factor*=-1;
}
_45=_45.replace(new RegExp("["+_43.group+"\\s\\xa0"+"]","g"),"").replace(_43.decimal,".");
return _45*_43.factor;
};
_6._realNumberRegexp=function(_46){
_46=_46||{};
if(!("places" in _46)){
_46.places=Infinity;
}
if(typeof _46.decimal!="string"){
_46.decimal=".";
}
if(!("fractional" in _46)||/^0/.test(_46.places)){
_46.fractional=[true,false];
}
if(!("exponent" in _46)){
_46.exponent=[true,false];
}
if(!("eSigned" in _46)){
_46.eSigned=[true,false];
}
var _47=_6._integerRegexp(_46),_48=_5.buildGroupRE(_46.fractional,function(q){
var re="";
if(q&&(_46.places!==0)){
re="\\"+_46.decimal;
if(_46.places==Infinity){
re="(?:"+re+"\\d+)?";
}else{
re+="\\d{"+_46.places+"}";
}
}
return re;
},true);
var _49=_5.buildGroupRE(_46.exponent,function(q){
if(q){
return "([eE]"+_6._integerRegexp({signed:_46.eSigned})+")";
}
return "";
});
var _4a=_47+_48;
if(_48){
_4a="(?:(?:"+_4a+")|(?:"+_48+"))";
}
return _4a+_49;
};
_6._integerRegexp=function(_4b){
_4b=_4b||{};
if(!("signed" in _4b)){
_4b.signed=[true,false];
}
if(!("separator" in _4b)){
_4b.separator="";
}else{
if(!("groupSize" in _4b)){
_4b.groupSize=3;
}
}
var _4c=_5.buildGroupRE(_4b.signed,function(q){
return q?"[-+]":"";
},true);
var _4d=_5.buildGroupRE(_4b.separator,function(sep){
if(!sep){
return "(?:\\d+)";
}
sep=_5.escapeString(sep);
if(sep==" "){
sep="\\s";
}else{
if(sep=="\xa0"){
sep="\\s\\xa0";
}
}
var grp=_4b.groupSize,_4e=_4b.groupSize2;
if(_4e){
var _4f="(?:0|[1-9]\\d{0,"+(_4e-1)+"}(?:["+sep+"]\\d{"+_4e+"})*["+sep+"]\\d{"+grp+"})";
return ((grp-_4e)>0)?"(?:"+_4f+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_4f;
}
return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";
},true);
return _4c+_4d;
};
return _6;
});

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.social.layout"]=true;

;if(!dojo._hasResource["com.ibm.social.layout.people"]){
dojo._hasResource["com.ibm.social.layout.people"]=true;
dojo.provide("com.ibm.social.layout.people");
com.ibm.social.layout.people={createLink:function(_1){
return null;
},createImage:function(_2,_3,_4){
return null;
},getImageUrl:function(_5,_6){
return null;
},isImageEnabled:function(){
return false;
}};
}

dojo.provide("lconn.core.nls.strings")._built=true;
dojo.provide("lconn.core.nls.strings.en");
lconn.core.nls.strings.en={"rs_mobileBanner_title":"IBM Connections","rs_forumSettingCancel":"Cancel","rs_tunedOutPri":"Tuned Out","rs_personColon":"Person: ","rs_copyTemplateMembers":"Use members from template","rs_actUpdatedByDate":"Updated by ${0} ${1}","rs_forumMessages":"${0} messages","rs_messagebox_close_btn_title":"Close","rs_startActivity":"Start an Activity","rs_completedActivityLink":"Show completed Activities","rs_forumSortBy":"Sort by:","rs_noTemplate":"None","rs_jumpPage":"Jump to page ${0} of ${1}","rs_viewAsCloudDescription":"Viewing tags as a tag cloud","rs_PersonExternal":"${0} (External User)","rs_group_browse_cancel_button":"Cancel","rs_tagDialogCloseTile":"Close","rs_group_browse_paging":"Paging","rs_shared":"Shared","rs_relatedTagTitle":"Add the tag ${0} with count ${1}","rs_tagCloudRelatedTags":"Related Tags","rs_member_members":"Members","rs_postedBy":"Latest post by","rs_tuneOut":"Mark as Tuned Out","rs_browser_setting":"Browser Setting","rs_normalTemplate":"Mark as normal template","rs_group_browse_group_typeahead_label":"Type a group name:","rs_messagebox_success_a11y_label":"Success:","rs_docpicker_viewdetails_text":"View Details","rs_viewAsListDescription":"Viewing tags as a sequential list of tags","rs_forumSettingSave":"Save","rs_PersonPicture":"${0}\'s Picture","rs_numResults":"Showing ${0} results of ${1}","rs_clearAll":"Clear all","rs_notificationConfirm":"The notification message was sent successfully. ","rs_removeFilter":"Remove","rs_defaultForumList":"Show forum list by default","rs_normalTags":"Active Tags","rs_docpicker_viewdetails_title":"View details of ${0}","rs_group_browse_previous_page":"Previous Page","rs_advanced":"Advanced","rs_messagebox_error_a11y_label":"Error:","rs_startFirstTopic":"Start the First Topic","rs_group_browse_next_page":"Next Page","rs_activityFormGoal":"Activity Goal","rs_markComplete":"Mark Complete","rs_viewAsListTitle":"List tags as a sequential list of tags","rs_group_browse_page_info":"${0} - ${1} of ${2}","rs_group_browse_groups":"Browse Groups","rs_typeToFilter":"Type to filter this list","rs_externalLabel":"External","rs_favoriteTemplate":"Mark as Favorite Template","rs_noResults":"No Results found","rs_viewAsCloudTitle":"List tags as a tag cloud","rs_close":"Close","rs_prioritize":"Prioritize","rs_hide":"Hide","rs_noTopics":"There are no topics yet for this community.","rs_deleteEntry":"Delete","rs_searchCommunityDirectory":"Community not listed? Use full search...","rs_customLangaugeLinkLabel":"Custom Language","rs_feedError":"Failed to load feed.","rs_tagCloudError":"There was an error","rs_select_scope":"Select search scope","rs_restore":"Restore","rs_shadowText_searchDirectory":"Type to find person","rs_more":"More","rs_tagCloudViewAllTitle":"Browse all tags","rs_notifyColon":"Notify: ","rs_ok":"OK","rs_docpicker_title":"Insert Link to Files","rs_actTagsDelim":", ","rs_activitiesUnavailable":"The Activities service is unavailable.","rs_forumTopics":"${0} topics","rs_feedOpenQuestions":"Feed for these open questions","rs_peopleLabel":"People","rs_icfixlayout":{"dialog_title":"Reformat Contents","reformat_save":"Reformat and Save","warn_layout":"Your content exceeds the maximum display width.  Do you want to reformat automatically to fit the available space?","save_as_is":"Save as Is","button_label":"Reformat","cancel":"Cancel","warning":"Warning","remember_decision":"Remember my decision"},"rs_startTopic":"Start a Topic","rs_tagCloudSeachDesc":"Find a Tag","rs_linkMore":"... [more]","rs_group_browse_enter_string":"Type to find groups","rs_manageForumSetting":"Manage Forum Settings","rs_shadowText_searchPersonAndGroupDirectory":"Type to find person or group","rs_replace":"Replace","rs_template":"Template","rs_viewAll":"View All","rs_forumSettingNote":"Note: Topics display by default if there is only one forum.","rs_templateOptions":"Template options","rs_locked":"[Locked]","rs_attachedfile_filename":"Image ${0}","rs_forumSettingSaveAndClose":"Save and Close","rs_tagCloudRelatedTagsDescription":"Add a related tag to further refine your search","rs_forumSettingConfirm":"Your changes for Forums have been saved.","rs_messageColon":"Message: ","rs_externalText":"This activity can have members from outside your organization.","rs_forumSettingError":"An error occurred. Contact your administrator.","rs_tagCloudNoTagsProfiles":"Search the directory. Tags associated with the profiles returned by the search will be displayed here.","rs_shadowText_searchCommunityDirectory":"Type to find community","rs_topics":"topics","rs_group_browse_find_groups":"Find Groups","rs_moveActivitySuccess":"\"${activityTitle}\" was moved successfully to the \"${destCommName}\" subcommunity.","rs_sharefile_constraint_violation":"An error occurred while sharing the selected files.","rs_removeActFromComm":"Remove from community","rs_notificationFail":"The notification message was not sent. Try again later and contact your system administrator if the problem persists.","rs_forumLastAddedPost":"Latest post by ${0}","rs_aboutThisTemplate":"About This Template","rs_activityWidgetTitle":"Activities","rs_tagCloudSelectedTags":"Selected Tags","rs_linkLess":"... [less]","rs_group_browse_results_label":"Select a matching group:","rs_group_role":"Group Role","rs_messagebox_info_icon_alt":"Information","rs_medPri":"Medium Priority","rs_mobileBanner_open":"Open","rs_quote":"Quote","rs_tagDialogPageInfo":"${0} - ${1} of ${2} tags","rs_forumSettingCommunityOverviewPage":"Community overview page:","rs_yesterday":"Yesterday","rs_tagCloudNavigationLabel":"Tags","rs_group_name":"Group Name","rs_replies":"replies","rs_shadowText_searchGroupDirectory":"Type to find group","rs_member_add_to_community":"Click to add member","rs_messagebox_warning_a11y_label":"Warning:","rs_sharefile_sharing_intent_restriction":"The file can only be shared inside your organization.","rs_listItem":"List item","rs_navNextLabel":"Next","rs_messagebox_success_icon_alt":"Success","rs_typeName":"Type in a Name","rs_activityFeedLink":"Feed for these activities","rs_pageLabel":"Page:","rs_forumSettingApplicationView":"Forum application default view:","rs_group_remove_name":"Click to remove group","rs_activityWidgetBriefDescription":"Track community goals.  Create to-dos and share resources.","rs_sortByReplies":"Sort by Replies","rs_group_browse_parent_group_label":"You are in:","rs_PersonPictureExternal":"${0}\'s Picture (External User)","rs_tagLoadingTags":"Loading Content","rs_docpicker_label":"Link to Files","rs_actUpdatedBy":"Updated by ${0}","rs_loading":"Loading...","rs_removeTagTitle":"Remove the tag ${0} from the selected filter tags","rs_forumOpenQuestions":"Open Questions","rs_tomorrow":"Tomorrow","rs_startFromTemplate":"Start Activity from this Template","rs_edit":"Edit","rs_createPersonLink":"Create Person Link","rs_group_browse_next":"Next","rs_pickCommunity":"Pick from Community List","rs_notifyOthers":"Notify other people","rs_searchPersonAndGroupDirectory":"Person or group not listed? Use full search...","rs_activityWidgetDescription":"Community activities can be used to collaborate and track progress on community projects or initiatives.","rs_activity":"Activity","rs_tagCloudNoRecentTags":"No recent tags","rs_hideInfo":"Hide extra information","rs_mobileBanner_view":"View","rs_startFirstActivity":"Create Your First Activity","rs_inactivePerson":"${0} (inactive)","rs_messagebox_info_a11y_label":"Information:","rs_group_browse_group_name":"Group name:","rs_sharefile_invalid_request":"An error occurred while sharing the selected files.","rs_search":"Search","rs_pagepos":"${0} - ${1} of ${2}","rs_group_browse_remove_selection":"Remove nested group selection: ${0}","rs_defaultTopicList":"Show topic list by default","rs_reply":"reply","rs_tagCloudHelpAlt":"Get help with tags","rs_feedAnsweredQuestions":"Feed for these answered questions","rs_sharefile_access_denied":"This file was deleted or is no longer shared with you.","rs_PersonExternalLabel":"External User","rs_filterListPrompt":"Type to filter this list","rs_tagCloudSeach":"Search","rs_mobileBanner_author":"IBM Collaboration Solutions","rs_sharefile_error_title":"Error","rs_group_add_to_community":"Click to add group","rs_tagCloudViewAll":"Browse","rs_labelColon":"Label: ","rs_noReplies":"No replies","rs_filterGroupLabel":"Select Group","rs_member_remove_group":"Remove ${0}","rs_formSettingHideMessage":"Hide this message","rs_jumpPageLabel":"Jump to page","rs_group_browse_group_no_groups":"This group does not contain any groups","rs_member_groups":"Groups","rs_searchInputDefault":"Type to find a tag","rs_warning":"Warning","rs_forumUnAnsweredQuestion":"Unanswered question","rs_addTagTitle":"Filter by the tag ${0} with count ${1}","rs_messagebox_close_btn_alt":"Close","rs_messagebox_warning_icon_alt":"Warning","rs_forumSettingSubmit":"Submit","rs_forumAnsweredQuestion":"Answered question","rs_group_browse_add_button":"Add","rs_highPri":"High Priority","rs_searchDirectory":"Person not listed? Use full search...","rs_personLink":"Person Link","rs_forumSortByTopicsAndReplies":"Topics and Replies","rs_personExternalDesc":"This user has access to Files and Communities that are externally shared.","rs_searchInputTagSelected":"Type another tag","rs_topic":"topic","rs_viewAsList":"List","rs_tagDialogTitle":"All Tags","rs_searchGroupDirectory":"Group not listed? Use full search...","rs_docpicker_download_title":"Download ${0}","rs_noTopicsShort":"No topics","rs_all_connections":"All Connections","rs_member_no_results":"No results found","rs_viewAsCloud":"Cloud","rs_actDue":"Due ${0}","rs_normalPri":"Normal Priority (Default)","rs_today":"Today","rs_mobileBanner_inGooglePlay":"In Google Play","rs_sortbyTopicsAndReplies":"Sort by Topics and Replies","rs_errorPersists":"If the problem persists, contact your system administrator.","rs_markIncomplete":"Restore","rs_noActivities":"There are no activities started for this community.","rs_actTags":"Tags: ","rs_group_browse_previous":"Previous","rs_forumSortByReplies":"Replies","rs_group_browse_page_info_alt":"Matching groups ${0} through ${1} of ${2}","rs_tagCloudNoTags":"No tags yet","rs_tagCloudToggleHint":"Click to hide or show","rs_copyActivityMembers":"Use members from activity","rs_navPrevLabel":"Previous","rs_tagsLabel":"Tags","rs_moreInfo":"Show more information about this Activity","rs_forumSortByDate":"Date","rs_noTopicsLoggedIn":"Ask a question, brainstorm, or simply share your ideas.","rs_copyOf":"Copy of ${0}","rs_attachedfile_remove_alt":"Remove","rs_group_browse_group_selected":"Selected Group:","rs_a11y_warning":"Warning:","rs_group_browse_groups_dialog_title":"Browse Groups","rs_mobileBanner_hide":"Hide","rs_forumSortByTopic":"Topics","rs_messagebox_error_icon_alt":"Error","rs_removeTag":"Remove the tag from the selected filter tags","rs_mobileBanner_inAppStore":"On the App Store","rs_pageNumLabel":"Page Number","rs_feedreader_warning":"Warning: This link is meant for feed readers and may display incorrectly in your browser. Click OK to continue, or Cancel to return to page.","rs_member_remove_name":"Click to remove member"};
if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.lconn.layout"]=true;

;if(!dojo._hasResource["com.ibm.lconn.layout.people"]){
dojo._hasResource["com.ibm.lconn.layout.people"]=true;
(function com_ibm_lconn_layout_people(){
var _1=dojo.provide("com.ibm.lconn.layout.people");












dojo.requireLocalization("lconn.core","strings");
var _2=com.ibm.social.layout.people;
var _3="fn vcard";
var _4="fn";
var _5={className:_3};
var _6={className:"x-lconn-userid",style:{display:"none"}};
var _7={className:"email",style:{display:"none"}};
var _8="/html/profileView.do";
var _9="/photo2.do";
var _a=dojo.i18n.getLocalization("lconn.core","strings");
var _b=(dojo.isChrome>11||dojo.isIE>8||dojo.isFF>4)?true:null;
var _c=lconn.core.config.services.profiles;
var _d=(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif?etag=20150310.220517")).toString();
function _e(_f){
this.src=_f;
};
var _10={id:"userid",userid:"userid",uid:"uid",email:"email",dn:"distinguishedName",profileId:"key"};
function _11(_12,_13){
for(var key in _10){
if(_12[key]){
_13[_10[key]]=_12[key];
break;
}
}
return _13;
};
function _14(_15){
for(var key in _10){
if(_15[key]){
return _10[key]+"_"+encodeURIComponent(_15[key]);
}
}
};
if(_c){
var _16=com.ibm.oneui.util.Url.secure;
var url;
if(_16){
url=_c.secureUrl;
}else{
url=_c.url;
}
dojo.mixin(_1,{getProfileUrl:function(_17){
var _18=url+_8+lconn.core.url.writeParameters(_11(_17,{}));
return _18;
},createLink:function(_19,_1a,_1b){
var _1c=url+_8+lconn.core.url.writeParameters(_11(_19,{}));
var a;
var _1d=_19.name;
if(_19.state=="inactive"){
_1d=dojo.string.substitute(_a.rs_inactivePerson,[_1d]);
}
if(_1b){
dojo.addClass(_1b,_3);
if(_19.state=="inactive"){
dojo.addClass(_1b,"lotusPersonInactive");
}else{
dojo.addClass(_1b,"lotusPerson");
}
if(dojo.isIE===8){
var _1e=_1b.innerHTML;
}
dojo.attr(_1b,"href",_1c);
if(dojo.isIE===8){
_1b.innerHTML=_1e;
}
a=_1b;
a.setAttribute("aria-describedby","semtagmenu");
a.appendChild(_1a?_1a:dojo.doc.createTextNode(_1d));
}else{
a=dojo.create("a",{href:_1c});
dojo.addClass(a,_4);
if(_19.state=="inactive"){
dojo.addClass(a,"lotusPersonInactive");
}else{
dojo.addClass(a,"lotusPerson");
}
a.setAttribute("aria-describedby","semtagmenu");
a.appendChild(_1a?_1a:dojo.doc.createTextNode(_1d));
}
if((_19.uid!=null)&&(_19.uid!="")){
var _1f=dojo.create("span",_6,a);
_1f.appendChild(dojo.doc.createTextNode(_19.uid));
}else{
if((_19.userid!=null)&&(_19.userid!="")){
var _1f=dojo.create("span",_6,a);
_1f.appendChild(dojo.doc.createTextNode(_19.userid));
}else{
if((_19.email!=null)&&(_19.email!="")){
var _20=dojo.create("span",_7,a);
_20.appendChild(dojo.doc.createTextNode(_19.email));
}
}
}
dojo.addClass(a,"bidiAware");
return a;
},createImage:function(_21,_22,_23){
if(!_21){
console.log("Person parameter is null.");
return;
}
var _24=(!dojo._postLoad&&_22>=0);
var src=this.getImageUrl(_21,_22);
var _25=dojo.string.substitute(_a.rs_PersonPicture,[_21.name]);
var img=dojo.create("img",{src:_24?_d:src,alt:_25,style:(_22>=0)?{width:_22+"px",height:_22+"px"}:null});
if(_21.state=="inactive"){
dojo.addClass(img,"lotusDim");
}
if(_24){
dojo.addOnLoad(dojo.hitch(img,_e,src));
}
var out=_23?_1.createLink(_21,img):img;
out.title=_25;
return out;
},getImageUrl:function(_26,_27){
var _28={r:_b,small:(_27<=64)?true:null};
_11(_26,_28);
return url+_9+lconn.core.url.writeParameters(_28);
},isImageEnabled:function(){
return true;
}});
dojo.mixin(_2,_1);
}else{
com.ibm.lconn.layout.people=_2;
return null;
}
})();
}


;dojo.cache("lconn.core", "templates/bizcard.html", "<span class=\"vcard\" type=\"MentionsNode\" contenteditable=\"false\"><a class=\"fn url\" href=\"${url}\">${name}</a><span class=\"x-lconn-userid\" style=\"display:none\">${userid}</span></span>");

;if(!dojo._hasResource["lconn.core.util.text"]){
dojo._hasResource["lconn.core.util.text"]=true;
dojo.provide("lconn.core.util.text");










(function(){
var _1=/(mailto:|((https?|s?ftp):\/\/))[^\s]*/gi,_2=/\r?\n/g,_3=/@\{{2}([^|]+)\|([^|]+)(\|notify)?\}{2}/g,_4=/<span class="?vcard"?>\s*(?:<br\/?>)*\s*<span class="?fn"?>([^<>]+)<\/span>\s*(?:<br\/?>)*\s*<span class="?x-lconn-userid"?>([^<>]+)<\/span>\s*(?:<br\/?>)*\s*<\/span>/gi;
var _5={templatePath:dojo.moduleUrl("lconn.core","templates/bizcard.html")};
lconn.core.util.text={CODE_MAP:[[128,1],[2048,2],[55296,3],[56320,4,56320,57343,2]],trimToByteLength:function(_6,_7){
var _8="...";
_7=_7-_8.length;
var _9=lconn.core.util.text.CODE_MAP;
if(_7<=0){
return "";
}
var i=0,_a=0,_b=_6.length;
var _c=0;
while(i<_b){
if(_c>=_7){
return _6.substring(0,_a)+_8;
}
var _d=_6.charCodeAt(i);
if(_d<_9[0][0]){
_c+=_9[0][1];
}else{
if(_d<_9[1][0]){
_c+=_9[1][1];
}else{
if(_d<_9[2][0]){
_c+=_9[2][1];
}else{
if(i<_9[3][0]){
if(i+1<_b){
var b=_6.charCodeAt(i+1);
if(b>=_9[3][2]&&b<=_9[3][3]){
_c+=_9[3][1];
i++;
}else{
_c+=_9[3][4];
}
}else{
_c+=_9[3][4];
}
}
}
}
}
i++;
if(_c==_7){
return _6.substring(0,i)+_8;
}else{
if(_c>_7){
return _6.substring(0,_a)+_8;
}
}
_a=i;
}
return _6;
},getByteLength:function(_e){
var _f=lconn.core.util.text.CODE_MAP;
var i=0,len=_e.length;
var _10=0;
while(i<len){
var _11=_e.charCodeAt(i);
if(_11<_f[0][0]){
_10+=_f[0][1];
}else{
if(_11<_f[1][0]){
_10+=_f[1][1];
}else{
if(_11<_f[2][0]){
_10+=_f[2][1];
}else{
if(i<_f[3][0]){
if(i+1<len){
var b=_e.charCodeAt(i+1);
if(b>=_f[3][2]&&b<=_f[3][3]){
_10+=_f[3][1];
i++;
}else{
_10+=_f[3][4];
}
}else{
_10+=_f[3][4];
}
}
}
}
}
i++;
}
return _10;
},possessive:function(s){
if(s&&s[s.length-1]!="s"){
s+="'s";
}else{
s+="'";
}
return s;
},getExtension:function(s){
if(!s){
return "";
}
var i=s.lastIndexOf(".");
if(i!=-1){
return s.substring(i+1).toLowerCase();
}
return "";
},trimExtension:function(s){
if(!s){
return "";
}
var i=s.lastIndexOf(".");
if(i!=-1){
return s.substring(0,i);
}
return s;
},getFilename:function(s){
if(!s){
return "";
}
var i=s.lastIndexOf("\\");
var j=s.lastIndexOf("/");
if(i==j){
return s;
}
i=Math.max(i,j);
return s.substring(i+1);
},trimToLength:function(s,_12,_13){
if(!s){
return "";
}
s=lconn.core.util.text.trimEnd(s);
var _14="...";
if(_13>0){
var _15=s.split(/[\s\u3000]/);
for(var i=0;i<_15.length;i++){
if(_15[i].length>_13){
var l=s.indexOf(_15[i])+_13;
if(l>_12){
break;
}
return lconn.core.util.text.trimEnd(s.substring(0,l-_14.length))+_14;
}
}
}
if(s.length>_12){
s=lconn.core.util.text.trimEnd(s.substring(0,_12-_14.length))+_14;
}
return s;
},trim:function(s){
if(!s){
return "";
}
var e=/^[\s\u3000]*(.*?)[\s\u3000]*$/.exec(s+"");
return e?e[1]:s;
},trimEnd:function(s){
if(!s){
return "";
}
s+="";
s=/^(.*?)[\s\u3000]*$/.exec(s)[1];
return s;
},parseInt:function(s,def){
if(typeof def=="undefined"){
def=0;
}
if(!s){
return def;
}
var a=parseInt(s);
return isNaN(a)?def:a;
},parseFloat:function(s,def){
if(typeof def=="undefined"){
def=0;
}
if(!s){
return def;
}
var a=parseFloat(s);
return isNaN(a)?def:a;
},formatSize:function(){
var nls,_16;
if(arguments.length==2){
nls=arguments[0];
_16=arguments[1];
}else{
_16=arguments[0];
}
if(typeof _16=="undefined"||_16==null||typeof _16=="string"){
return _16;
}
var nls=nls||lconn.core.util.text._SIZE;
if(!nls){
throw "Must pass nls to formatSize or set the lconn.core.util.text._SIZE property during init";
}
if(_16>10*1024*1024*1024){
return dojo.string.substitute(nls.GB,[dojo.number.format(Math.floor(_16*10/(1024*1024*1024))/10)]);
}else{
if(_16>=1*1024*1024*1024){
return dojo.string.substitute(nls.GB,[dojo.number.format(Math.floor(_16*100/(1024*1024*1024))/100)]);
}else{
if(_16>100*1024*1024){
return dojo.string.substitute(nls.MB,[dojo.number.format(Math.floor(_16/(1024*1024)))]);
}else{
if(_16>10*1024*1024){
return dojo.string.substitute(nls.MB,[dojo.number.format(Math.floor(_16*10/(1024*1024))/10)]);
}else{
if(_16>=1*1024*1024){
return dojo.string.substitute(nls.MB,[dojo.number.format(Math.floor(_16*100/(1024*1024))/100)]);
}else{
if(_16>1*1024){
return dojo.string.substitute(nls.KB,[dojo.number.format(Math.floor(_16/1024))]);
}
}
}
}
}
}
return dojo.string.substitute(nls.KB,[dojo.number.format(_16>0?1:0)]);
},length:function(s){
var ret=0;
var t=encodeURIComponent(s);
var _17=0,_18=0;
while(true){
_18=t.indexOf("%",_17);
if(_18==-1){
ret+=(t.length-_17);
break;
}else{
ret+=(_18-_17);
var _19=parseInt(t.substr(_18+1,2),16);
if(_19<192){
ret+=1;
_17=_18+3;
}else{
if(_19>=192&&_19<224){
ret+=1;
_17=_18+6;
}else{
if(_19>=224&&_19<240){
ret+=1;
_17=_18+9;
}else{
if(_19>=240&&_19<248){
ret+=1;
_17=_18+12;
}else{
if(_19>=248&&_19<252){
ret+=1;
_17=_18+15;
}else{
if(_19>=252){
ret+=1;
_17=_18+18;
}
}
}
}
}
}
}
}
return ret;
},lengthUtf8:function(s){
var _1a=0;
var _1b=s.length;
for(var i=0;i<_1b;i++){
var c=s.charCodeAt(i);
if(c<=127){
_1a++;
}else{
if(c<=2047){
_1a+=2;
}else{
if(c<=65535){
_1a+=3;
if((c>>11)==27){
_1a++;
i++;
}
}else{
_1a+=4;
}
}
}
}
return _1a;
},getCharIndexForUtf8Index:function(s,max){
var _1c=0;
var _1d=s.length;
for(var i=0;i<_1d;i++){
var c=s.charCodeAt(i);
if(c<=127){
_1c++;
}else{
if(c<=2047){
_1c+=2;
}else{
if(c<=65535){
_1c+=3;
if((c>>11)==27){
_1c++;
i++;
}
}else{
_1c+=4;
}
}
}
if(_1c>max){
return i;
}
}
return -1;
},encodeHeaderUtf8:function(s){
return "=?UTF-8?Q?"+encodeURIComponent(s).replace(/%([0-9A-F]{2})/g,"=$1")+"?=";
},uniquifyStringList:function(_1e){
var _1f={},_20=[];
if(_1e&&_1e.length>0){
for(var s in _1e){
_1f[s]=1;
}
for(var s in _1f){
_20.push(s);
}
}
return _20;
},htmlify:function(str){
var _21;
while(_21=_2.exec(str)){
var u=_21[0];
var l="<br>";
_2.lastIndex+=l.length-u.length;
str=str.replace(u,l);
}
while(_21=_1.exec(str)){
var u=_21[0];
var _22=com.ibm.lconn.layout.people.getProfileUrl("","");
if(u.indexOf(_22)==-1){
var l="<a href=\""+u+"\">"+u+"</a>";
_1.lastIndex+=l.length-u.length;
str=str.replace(u,l);
}
}
str=this.htmlifyMentions(str);
return str;
},htmlifyMentions:function(str){
var _23;
dojo.forEach([_3,_4],function(_24){
while(_23=_24.exec(str)){
var u=_23[0],_25,_26;
if(_24==_3){
_25=!!_23[3]?"@"+_23[2]:_23[2],_26=_23[1];
}else{
_25=_23[1];
_26=_23[2];
}
href=com.ibm.lconn.layout.people.getProfileUrl({name:_25,userid:_26});
var l=dojo.string.substitute(dojo.cache("lconn.core","templates/bizcard.html"),{url:href,name:_25,userid:_26});
if(dojo.config.isDebug){
l=dojo.trim(l.replace(/<!--[\s\S]*?-->/g,""));
}
_24.lastIndex+=l.length-u.length;
str=str.replace(u,l);
}
});
return str;
}};
})();
}


;dojo.cache("lconn.core", "templates/ComboBox.html", "<span> <input type=\"text\" autocomplete=\"off\" ${nameAttrSetting} id=\"widget_${id}\" size=\"${size}\" dojoAttachEvent=\"onkeyup:_onKeyUp\" dojoAttachPoint=\"domNode,textbox,focusNode,comboNode,_popupStateNode\" waiRole=\"combobox\" waiState=\"haspopup-true,autocomplete-list,expanded-false\" /> <span style=\"display:none\" dojoAttachPoint=\"_buttonNode\"></span></span>");

;if(!dojo._hasResource["lconn.core.TypeAhead"]){
dojo._hasResource["lconn.core.TypeAhead"]=true;
dojo.provide("lconn.core.TypeAhead");










dojo.declare("lconn.core.TypeAhead",[dijit.form.ComboBox,lconn.core.TypeAheadFormatMixin],{size:"",templateString:null,templatePath:dojo.moduleUrl("lconn.core","templates/ComboBox.html"),getItem:function(){
return (this.item?this.item:null);
},minChars:1,maxChars:-1,multipleValues:true,token:"",hintText:null,autoComplete:false,submitFormOnKey:false,submitFormOnNonSelectingEnter:false,searchDelay:300,postCreate:function(){
this.connect(this,"_showResultList",this._fixPosition);
var _1=this.focusNode.style.fontFamily||"";
if(!this.downArrowNode){
this.downArrowNode=this.domNode.parentNode.appendChild(dojo.create("div",{style:{display:"none"}}));
}
this.dummyPopupNode=this.domNode.parentNode.appendChild(dojo.create("div",{id:this.id+"_dummypopup",style:{display:"none"}}));
dojo.attr(this.dummyPopupNode,"role","textbox");
dijit.setWaiState(this.domNode,"owns",this.dummyPopupNode.id);
this.inherited(arguments);
this.focusNode.style.fontFamily=_1;
this.updateHintText();
this.focusNode.style.direction=lconn.core.globalization.bidiUtil.getTextDirection(this.focusNode.value);
},_onFocus:function(_2){
this.updateHintText(null,true);
this.inherited(arguments);
if(dojo.isIE){
window.setTimeout("dijit.focus(dojo.byId('"+this.textbox.id+"'))",0);
}
},_trimKeys:function(){
if(this.maxChars>0){
var fn=this.focusNode;
var _3=((this.multipleValues)?fn.value.split(this.token):[fn.value]);
var _4=false;
for(var i=0;i<_3.length;i++){
if(lconn.core.util.text.getByteLength(_3[i])>this.maxChars){
var _5=_3[i];
_3[i]=lconn.core.util.text.trimToByteLength(_3[i],this.maxChars);
_4=true;
if(window.console){
console.log("lconn.core.TypeAhead key too long. Trimming '"+_5+"' to '"+_3[i]+"'.");
}
}
}
if(_4){
fn.value=_3.join((this.multipleValues)?this.token:"");
}
}
},_onBlur:function(_6){
this._trimKeys();
this.inherited(arguments);
if(dojo.isIE&&this.dropdownNode){
dojo.removeClass(this.dropdownNode,"lconnTypeAhead");
}
this.updateHintText();
},_hasAttr:function(_7,_8){
return dojo.isIE?_7.getAttribute(_8)!==null:_7.hasAttribute(_8);
},setValue:function(){
this.inherited(arguments);
this.updateHintText(arguments[0],false);
},updateHintText:function(_9,_a){
var _b=this.focusNode;
if(_9){
_b.title=this.hintText=_9;
}
if(this.hintText){
if(!this._focused&&(_b.value==""||!_b.hasInput)){
_b.hasInput=false;
_b.style.color="#666";
_b.value=this.hintText||"";
}else{
if(!_b.hasInput){
_b.hasInput=true;
_b.style.color="#000";
if(_b.value!=""){
_b.value="";
if(_a&&dojo.isFF){
setTimeout(function(){
dijit.focus(_b);
},1);
}
}
if(_a&&dojo.isIE){
try{
dijit.selectInputText(_b,0,0);
}
catch(e){
}
}
}
}
}
},_checkKeyLength:function(_c){
try{
if(this.maxChars>0){
var _d=this;
var _e=function(_f){
var k=_f.charOrCode;
var tk=_d.token;
if(_d.multipleValues&&tk.length==1&&tk==k){
return true;
}
var dk=dojo.keys;
for(dkname in dk){
if(dk[dkname]){
if(dkname!=="SPACE"&&dkname.indexOf("NUMPAD_")==-1&&k==dk[dkname]){
return true;
}
}
}
return false;
};
var _10=function(){
var fn=_d.focusNode;
var tk=_d.token;
var _11=_d._getCaretPos(_d.focusNode);
var _12=_d.getTextBoxValue();
if(_d.multipleValues&&tk.length>0){
_12=tk+_12+tk;
_12=_12.substring(0,_12.indexOf(tk,_11+tk.length));
_12=_12.substring(_12.lastIndexOf(tk)+tk.length);
}
return _12;
};
if(_e(_c)||lconn.core.util.text.getByteLength(_10())<this.maxChars){
return true;
}
if(_c.preventDefault){
_c.preventDefault();
}else{
_c.returnValue=false;
}
return false;
}
}
catch(e){
}
return true;
},_onKeyUp:function(evt){
this.inherited(arguments);
lconn.core.globalization.bidiUtil.inputRTLProcessing(this.textbox);
},_onKeyPress:function(_13){
},_onKey:function(evt){
if(!this._checkKeyLength(evt)){
return;
}
this.inherited(arguments);
if(evt.keyCode===dojo.keys.ENTER){
dijit.focus(this.domNode);
if(this.submitFormOnNonSelectingEnter){
if(this.searchTimer){
this.searchTimer.remove();
this.searchTimer=null;
}
this._lastQuery=null;
if(this._opened&&this._hideResultList){
this._hideResultList();
}
if(this._trimKeys){
this._trimKeys();
}
}else{
if(!this.submitFormOnKey){
dojo.stopEvent(evt);
}
}
}
},_numTokensPreceding:function(str,pos){
var _14=str.substring(0,pos);
var _15=_14.split(this.token).length-1;
return _15;
},_splitByToken:function _splitByToken(str){
var _16=[str];
if(this.token&&str.indexOf(this.token)!=-1){
str=str.replace(new RegExp(this.token+"+","g"),this.token);
str=str.replace(new RegExp("^"+this.token),"");
str=str.replace(new RegExp(this.token+"$"),"");
_16=str.split(this.token);
}
return _16;
},_autoCompleteText:function(_17){
var fn=this.focusNode;
var _18=this._getCaretPos(fn);
dijit.selectInputText(fn,fn.value.length);
var _19;
if(this.multipleValues){
_19=fn.value.split(this.token);
}else{
_19=[fn.value];
}
var _1a=0;
if(this.multipleValues){
_1a=this._numTokensPreceding(fn.value,_18);
}
if(this.multipleValues&&this.token!=" "&&_1a>0){
_17=" "+_17;
}
var _1b=this.ignoreCase?"toLowerCase":"substr";
if(dojo.string.trim(_17[_1b](0)).indexOf(dojo.string.trim(_19[_1a][_1b](0)))==0){
if(_18+1>fn.value.length||fn.value.charAt(_18)==this.token){
var end=_18+_17.length-_19[_1a].length;
if(_17!=this.NoResultsMessage&&_17!=this.searchDirectory&&_17.indexOf("**")==-1){
_19[_1a]=_17;
fn.value=_19.join(this.token);
dijit.selectInputText(fn,_18,end);
}else{
fn.value=this._currentInput;
}
}
}else{
if(_17!=this.NoResultsMessage&&_17!=this.searchDirectory&&_17.indexOf("**")==-1){
_19[_1a]=_17;
fn.value=_19.join(this.token);
var _1c=0;
for(var i=0;i<_1a;i++){
_1c+=_19[i].length;
}
_1c+=this.token.length*_1a;
dijit.selectInputText(fn,_1c,_1c+_17.length);
}else{
fn.value=this._currentInput;
}
}
},_openResultList:function(_1d,_1e){
this._fetchHandle=null;
if(!this.domNode||this.disabled||this.readOnly||(_1e.query!=this._lastQuery)){
return;
}
this._popupWidget.clearResultList();
if(!_1d.length&&(this.hideEmptyResults||_1e.hideEmptyResults)){
this._hideResultList();
return;
}
_1e._maxOptions=this._maxOptions;
var _1f=this._popupWidget.createOptions(_1d,_1e,dojo.hitch(this,"_getMenuLabelFromItem"));
this.results=_1d;
this._showResultList();
if(_1e.direction){
if(1==_1e.direction){
this._popupWidget.highlightFirstOption();
}else{
if(-1==_1e.direction){
this._popupWidget.highlightLastOption();
}
}
this._announceOption(this._popupWidget.getHighlightedOption());
}else{
if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_1e.query[this.searchAttr])){
this._announceOption(_1f[1]);
}
}
},_showResultList:function(){
this.inherited(arguments);
var fn=this.focusNode;
var pw=this._popupWidget;
if(this._opened&&pw&&pw.id&&!dijit.getWaiState(fn,"activedescendant")){
dijit.setWaiState(fn,"activedescendant",pw.id);
}
if(dojo.isIE){
dojo.addClass(pw.domNode.parentNode,"lconnTypeAhead");
this.dropdownNode=pw.domNode.parentNode;
}
},_fixPosition:function(){
var _20=this.focusNode;
if(_20){
var _21=this._popupWidget.domNode;
var _22=dojo.position(_21,true);
var _23=dijit.getViewport().w;
if(_22.x+_21.parentNode.clientWidth>_23){
dojo.style(_21.parentNode,{left:(_23-_21.parentNode.clientWidth)+"px"});
}
}
dojo.publish("com/ibm/social/incontext/typeahead/onDisplayChange",[this._popupWidget]);
},_announceOption:function(_24){
if(!_24){
return;
}
var _25=this._getCaretPos(this.focusNode);
var _26;
if(_24==this._popupWidget.nextButton||_24==this._popupWidget.previousButton||_24==this._popupWidget.searchButton||_24==this._popupWidget.resultsNode){
_26=_24.innerHTML;
this.item=undefined;
this.value="";
}else{
var _27=this.dropDown.items[_24.getAttribute("item")];
_26=this.formatItem(_27);
if(!this.multipleValues){
this.attr("item",_27,false,_26);
}
}
if(this.multipleValues){
_25=_25||this.caretPos||this.focusNode.value.length;
var _28=this.focusNode.value;
if(this._currentInput){
_28=this._currentInput;
}
var _29=_28.split(this.token);
var _2a=this._numTokensPreceding(_28,_25);
var q=this._lastQuery;
if(this.multipleValues&&this.token!=" "&&_2a>0){
q=" "+q;
}
_29[_2a]=q;
this.focusNode.value=_29.join(this.token);
}else{
this.focusNode.value=this.focusNode.value.substring(0,_25);
}
this._setCaretPos(this.focusNode,_25);
dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(_24,"id"));
if(_24!=this._popupWidget.resultsNode){
this._autoCompleteText(_26);
}
},_selectOption:function(_2b){
if(!this.noUpdateOnSelect){
this._announceOption(_2b);
}
this._hideResultList();
this._setCaretPos(this.focusNode,this.focusNode.value.length);
this.onSelect(this.dropDown.items[_2b.getAttribute("item")]);
this._handleOnChange(this.value,true);
this.focusNode.removeAttribute("aria-activedescendant");
},onSelect:function(_2c){
},_doSelect:function(tgt){
var _2d=this.formatItem(tgt.item);
if(this.multipleValues){
var _2e=this.keyArr[this.keyIdx];
this.keyArr[this.keyIdx]=(this.keyIdx!=0&&this.token!=" "?" ":"")+_2d;
_2d=this.keyArr.join(this.token);
var _2f=this.token+(this.token!=" "?" ":"");
if(_2d.length>=_2f.length&&_2d.substring(_2d.length-_2f.length)!=_2f){
_2d+=_2f;
}
}else{
this.item=tgt.item;
}
this.attr("value",_2d);
this._setCaretPos(this.focusNode,_2d.length);
},_startSearchAll:function(){
this._startSearch("");
},_startSearchFromInput:function(){
var _30=this._currentInput=this.focusNode.value;
var _31=_30;
if(this.multipleValues){
this.keyArr=_30.split(this.token);
this.caretPos=this._getCaretPos(this.focusNode);
this.keyIdx=this._numTokensPreceding(_30,this.caretPos);
_31=this.keyArr[this.keyIdx];
}
_31=dojo.string.trim(_31);
if(this.shouldStartSearch(_31)){
this._startSearch(_31);
}else{
this._hideResultList();
}
},_hideResultList:function(){
this.closeDropDown();
},shouldStartSearch:function(_32){
var _33;
if(this.store&&this.store.shouldStartSearch){
_33=this.store.shouldStartSearch(_32);
}
if(typeof _33=="undefined"){
var _34=this.minChars;
if(_32.length>=_34){
return true;
}
var _35=0;
var _36=encodeURIComponent(_32);
for(var i=0;i<_36.length;i++){
_35++;
if(_35>=_34){
break;
}
if(_36.charAt(i)=="%"){
i+=2;
}
}
_33=_35>=_34;
}
return _33;
},_startSearch:function(key){
var _37=this.id+"_popup";
if(!this._popupWidget){
this._popupWidget=this.dropDown=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption),id:_37});
dijit.setWaiRole(this._popupWidget.domNode,"listbox");
dijit.setWaiState(this._popupWidget.domNode,"live","polite");
this._popupWidget.domNode.style.listStyleType="none";
dijit.removeWaiState(this.focusNode,"activedescendant");
dijit.setWaiState(this.textbox,"owns",_37);
dojo.addClass(this._popupWidget.domNode,"lconnHighlight");
}else{
dijit.setWaiState(this.focusNode,"activedescendant",_37);
}
var _38=dojo.clone(this.query);
this._lastInput=key;
this._lastQuery=_38=key;
this.searchTimer=this.defer(dojo.hitch(this,function(_39,_3a){
this.searchTimer=null;
var _3b={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_39,onComplete:dojo.hitch(this,"_openResultList"),onError:function(_3c){
_3a._fetchHandle=null;
console.error("dijit.form.ComboBox: "+_3c);
dojo.hitch(_3a,"_hideResultList")();
},start:0,count:this.pageSize};
dojo.mixin(_3b,_3a.fetchProperties);
this._fetchHandle=_3a.store.fetch(_3b);
var _3d=function(_3e,_3f){
_3e.start+=_3e.count*_3f;
_3e.direction=_3f;
this._fetchHandle=this.store.fetch(_3e);
};
this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,_3d,this._fetchHandle);
},_38,this),this.searchDelay);
},getAttribute:function(_40){
if(this.item&&this.item[_40]){
return this.item[_40];
}else{
return "";
}
},getTextBoxValue:function(){
return this.focusNode.value;
}});
}


;dojo.cache("lconn.core", "CommonTags/templates/typeAhead.html", "<span> <input type=\"text\" id=\"widget_${id}\" class=\"lotusText\" autocomplete=\"off\" ${nameAttrSetting} dojoAttachEvent=\"onkeyup:_onKeyUp\" dojoAttachPoint=\"domNode,comboNode,textbox,focusNode\" waiState=\"haspopup-true,autocomplete-list,expanded-false\" role=\"combobox\"/> <span style=\"display:none\" dojoAttachPoint=\"_buttonNode\"></span></span>");

;if(!dojo._hasResource["lconn.core.CommonTags.CommonTagsTypeAhead"]){
dojo._hasResource["lconn.core.CommonTags.CommonTagsTypeAhead"]=true;
dojo.provide("lconn.core.CommonTags.CommonTagsTypeAhead");








(function(_1){
dojo.requireLocalization("lconn.core","strings");
dojo.declare("lconn.core.CommonTags.CommonTagsTypeAhead",lconn.core.TypeAhead,{hideEmptyResults:true,templateString:null,templatePath:dojo.moduleUrl("lconn.core","CommonTags/templates/typeAhead.html"),submitFormOnNonSelectingEnter:true,postMixInProperties:function(){
this.inherited(arguments);
var b=dojo.i18n.getLocalization("lconn.core","strings");
this.hintText=this.hintText||b.rs_searchInputDefault;
},formatItem:function(_2,_3){
var _4=this._getLabelFromItem(_2);
return _3?_1.encodeHtml(_4):_4;
},_getLabelFromItem:function(_5){
var _6=[];
if(_5){
if(typeof _5=="string"){
return _5;
}
var _7=_5.name||_5.displayName;
if(_7){
_6.push(_7);
}
}
return _6.join(" ");
}});
}(lconn.core.util.html));
}


;if(!dojo._hasResource["lconn.core.MenuUtility"]){
dojo._hasResource["lconn.core.MenuUtility"]=true;
dojo.provide("lconn.core.MenuUtility");




dojo.declare("lconn.core.MenuUtility",null,{openMenu:function(_1,_2,_3,_4){
dojo.deprecated("lconn.core.MenuUtility","Use com.ibm.oneui.util.openAround","3.5");
if(_1){
_1=dojo.fixEvent(_1);
}
com.ibm.oneui.util.openAround(_2,_3,_4,_1);
},openMenuA11y:function(_5,_6){
dojo.deprecated("lconn.core.MenuUtility","Use com.ibm.oneui.util.openAround, this is handled by standard onclick events","3.5");
if(_5.keyCode==dojo.keys.ENTER){
this.openMenu(_5,_6);
}
}});
menuUtility=new lconn.core.MenuUtility();
lconn.core.MenuUtility.open=function(_7,e){
dojo.deprecated("lconn.core.MenuUtility","Use com.ibm.oneui.util.openAround","3.5");
menuUtility.openMenu(e,_7);
};
lconn.core.MenuUtility.openAround=function(_8,_9,_a){
dojo.deprecated("lconn.core.MenuUtility","Use com.ibm.oneui.util.openAround","3.5");
menuUtility.openMenu(null,_8,_9,_a);
};
lconn.core.MenuUtility.attachListeners=function(_b,_c,_d){
var _d=_d||dojo.partial(lconn.core.MenuUtility.openAround,_b,_c);
dojo.connect(_c,"onclick",_d);
dojo.connect(_c,"onmousedown",function(){
_b.preventReopen=_b.isShowingNow||_b.wasShowing;
_b.wasShowing=false;
});
dojo.connect(_c,"onkeypress",function(e){
_b.wasShowing=_b.preventReopen=false;
if(e.charOrCode==dojo.keys.DOWN_ARROW){
dojo.stopEvent(e);
_d();
}
});
_c=null;
};
}


;if(!dojo._hasResource["lconn.core.Res"]){
dojo._hasResource["lconn.core.Res"]=true;
dojo.provide("lconn.core.Res");




dojo.requireLocalization("lconn.core","strings");
dojo.declare("lconn.core.Res",[],{bundleFor:"lconn.core",resBundle:null,loadDefaultBundle:function(){
this.resBundle=dojo.i18n.getLocalization(this.bundleFor,"strings");
},loadBundle:function(_1){
this.resBundle=dojo.i18n.getLocalization(_1,"strings");
},getDefaultBundle:function(){
return dojo.i18n.getLocalization(this.bundleFor,"strings");
},getBundle:function(_2){
return dojo.i18n.getLocalization(_2,"strings");
},getStringFrom:function(_3,_4,_5){
var _6=dojo.i18n.getLocalization(_3,"strings")[_4];
if(_5==undefined){
return _6;
}else{
return dojo.string.substitute(_6,_5);
}
},getString:function(_7,_8){
var _9=dojo.i18n.getLocalization(this.bundleFor,"strings")[_7];
if(_8==undefined){
return _9;
}else{
return dojo.string.substitute(_9,_8);
}
}});
}


;if(!dojo._hasResource["lconn.core.LanguageSelector"]){
dojo._hasResource["lconn.core.LanguageSelector"]=true;
(function(){
dojo.provide("lconn.core.LanguageSelector");












var _1="BD";
function _2(_3){
var _4=0;
for(var _5 in _3){
if(_3.hasOwnProperty(_5)){
switch(_5){
case _1:
break;
default:
_4++;
}
}
}
return _4>1;
};
dojo.declare("lconn.core.LanguageSelector",null,{_jsonString:null,_selectorNode:null,_menu:null,_cookieProperties:null,COOKIE_NAME:null,constructor:function(_6,_7,_8,_9){
this._selectorNode=_6;
this._jsonString=_7;
this._cookieProperties=_9;
this.id=this._selectorNode.id;
this.COOKIE_NAME=lconn.core.LanguageSelector.COOKIE_NAME=_8;
if(_2(_7)){
this._setSelectorLabel();
dojo.connect(this._selectorNode,"onclick",dojo.hitch(this,"_openMenu"));
}
},_openMenu:function(_a){
try{
this._buildLanguageMenu();
this._attachLanguageMenu(this.id);
menuUtility.openMenu(null,this._menu.id,this._selectorNode);
dojo.stopEvent(_a);
}
catch(e){
console.log(e);
}
},_setSelectorLabel:function(){
var _b=dojo.cookie(this.COOKIE_NAME);
var _c=new lconn.core.Res();
_c.loadDefaultBundle();
this.strBundle=_c.resBundle;
var _d=" <img alt=\"\" role=\"presentation\" src=\""+dijit._Widget.prototype._blankGif+"\"  class=\"lotusArrow lotusDropDownSprite\"><span class=\"lotusAltText\">&#9660;</span>";
var _e="<span class=\"lotusAccess\">Language Selector</span>";
if(_b){
var _f=0;
var _10=this.strBundle.rs_customLangaugeLinkLabel+_e+_d;
for(var key in this._jsonString){
if(this._isCodeEqual(key,_b)){
_10=this._jsonString[key]+_e+_d;
break;
}else{
if(this._isCodeEqualOrMoreSpecific(key,_b)&&key.length>_f){
_10=this._jsonString[key]+_e+_d;
_f=key.length;
}
}
}
this._selectorNode.innerHTML=_10;
}else{
this._selectorNode.innerHTML=this.strBundle.rs_customLangaugeLinkLabel+_e+_d;
}
},_attachLanguageMenu:function(id){
var _11=dojo.byId(id);
dijit.setWaiState(_11,"owns",id+"_popup");
},_buildLanguageMenu:function(){
if(this._menu==null){
var _12=true;
this._menu=new dijit.Menu({"class":"lotusNavMenu",id:this.id+"_popup"});
for(var key in this._jsonString){
if(key!=_1){
this._menu.addChild(this._buildMenuItem(this._jsonString[key],key));
}else{
_12=false;
}
}
var res=new lconn.core.Res();
res.loadDefaultBundle();
this.strBundle=res.resBundle;
if(_12){
this._menu.addChild(this._buildMenuItem(this.strBundle.rs_browser_setting,_1));
}
this._menu.domNode.style.display="none";
dojo.body().appendChild(this._menu.domNode);
var _13=this;
dojo.connect(this._menu,"onItemClick",function(_14){
if((_14!=null)&&(typeof _14.language!="undefined")){
dojo.cookie(_13.COOKIE_NAME,_14.language,_13._cookieProperties);
var _15=null;
var _16=document.getElementById("REFRESH_URL");
if(_16){
_15=_16.getAttribute("href");
}
if(!_15){
_15=window.location.href;
}
var _17=_14.language;
if(_17==_1||!_17){
_17=null;
}
var url=lconn.core.url.parse(_15);
if(_17==null&&url.queryParameters.lang==null){
window.location.reload(true);
}else{
window.location=lconn.core.url.rewrite(_15,{lang:_17});
}
}
});
}
},_buildMenuItem:function(_18,_19){
var _1a=new dijit.MenuItem({label:_18,iconClass:"lotusHidden"});
_1a.attr("lang",_19);
_1a.language=_19;
return _1a;
},_isCodeEqualOrMoreSpecific:function(_1b,_1c){
var _1d=_1b.toLowerCase().replace(/-/,"_");
var _1e=_1c.toLowerCase().replace(/-/,"_");
if(_1d==_1e){
return true;
}
var _1f=_1d.length>0&&_1e.indexOf(_1d+"_")==0;
if(_1f){
var _20={zh:"zh_tw",pt:"pt_br"};
if(_20[_1d]==_1e){
return false;
}else{
return true;
}
}
return false;
},_isCodeEqual:function(_21,_22){
var _23=_21.toLowerCase().replace(/-/,"_");
var _24=_22.toLowerCase().replace(/-/,"_");
return _23===_24;
}});
})();
}


;if(!dojo._hasResource["lconn.core.TypeAheadDataStore"]){
dojo._hasResource["lconn.core.TypeAheadDataStore"]=true;
dojo.provide("lconn.core.TypeAheadDataStore");
dojo.declare("lconn.core.TypeAheadDataStore",null,{constructor:function(_1,_2){
this.queryParam=(_1.queryParam?_1.queryParam:_2.getAttribute("queryParam"));
this.url=(_1.url?_1.url:_2.getAttribute("url"));
},queryParam:"",maxQueryLength:255,cache:[],timeout:5000,clear:function(){
this.cache=[];
},fetch:function(_3){
var _4={};
this.searchDirectory=(_3.queryOptions.searchDirectory?true:false);
if(typeof this.cache[_3.query.toLowerCase()]=="object"){
_3.onComplete(this.cache[_3.query.toLowerCase()],_3);
return _3;
}
if(this.queryParam){
if(this.getUTF8Length(_3.query)>this.maxQueryLength){
var _5=this.getUTF8Substring(_3.query);
_4[this.queryParam]=_5;
}else{
_4[this.queryParam]=_3.query;
}
}
dojo.xhrGet({url:this.url,content:_4,handleAs:"json",timeout:this.timeout,load:dojo.hitch(this,function(_6){
this.cache[_3.query.toLowerCase()]=_6;
if(_3.onComplete){
_3.onComplete(_6,_3);
}
}),error:function(){
console.log("There was an error");
}});
return _3;
},getUTF8Length:function(_7){
var _8=0;
if(_7!=null){
for(var i=0;i<_7.length;i++){
var c=_7.charCodeAt(i);
if(c<127){
_8+=1;
}else{
if((128<=c)&&(c<=2047)){
_8+=2;
}else{
if((2048<=c)&&(c<=65535)){
_8+=3;
}
}
}
}
}
return _8;
},getUTF8Substring:function(_9){
var _a=_9;
var i=0;
while(this.getUTF8Length(_a)>this.maxQueryLength){
_a=_9.substring(0,_9.length-i);
i++;
}
return _a;
},getValue:function(_b,_c,_d){
return _b;
}});
}


;if(!dojo._hasResource["lconn.core.theme"]){
dojo._hasResource["lconn.core.theme"]=true;
(function(){
dojo.provide("lconn.core.theme");






var _1,_2,_3,_4,_5,_6,_7,_8;
var _9="_css_url_rewriter";
window[_9]=typeof window[_9]==="function"?window[_9]:function(_a){
return _a;
};
var _b="lotusBaseStylesheet",_c="lotusAppStylesheet",_d="lotusThemeStylesheet",_e="lotusSpritesStylesheet",_f="stylesheet";
var _10="com.ibm.lconn.core.web.styles.theme.default",_11="default",_12="gen4";
function _13(){
return lconn.core.config.properties[_10]||_12;
};
function _14(){
var _15=dojo.byId(_b),_16=dojo.byId(_d),_17=dojo.byId(_e),_18=dojo.byId(_c);
if(!_5&&_15){
_7=dojo.attr(_15,"base")||dojo.attr(_15,"href").substr(0,dojo.attr(_15,"href").indexOf("_style"));
_5=new com.ibm.oneui.util.Url(_7);
_5.query=dojo.attr(_15,"query")||dojo.attr(_16,"href").substr(dojo.attr(_16,"href").indexOf("?"));
_4=_5.path;
_6=_1=dojo.attr(_15,"theme")||_13();
_2=dojo.attr(_15,"defaultTheme")||_1;
_3=dojo.attr(_15,"appName")||ibmConfig.serviceName;
_7+="com.ibm.lconn.core.styles.oneui"+(dojo.attr(_15,"oneui")||3)+"/";
_8="?etag="+encodeURIComponent(_5.getQuery().etag);
}
return {baseLink:_15,themeLink:_16,spritesLink:_17,appLink:_18};
};
function _19(_1a){
if(_1a){
_1a.id="";
setTimeout(function(){
var _1b=_1a.parentNode;
if(_1b){
_1b.removeChild(_1a);
}
},1);
}
return _1a;
};
function _1c(){
return !dojo._isBodyLtr();
};
function _1d(){
return lconn.core.url.getServiceUrl(lconn.core.config.services.webresources);
};
function _1e(_1f){
if(_1f){
var _20={};
if(dojo.config.isDebug){
_20.debug=true;
}else{
_20.etag=encodeURIComponent(ibmConfig.versionStamp);
}
_1f=new com.ibm.oneui.util.Url(lconn.core.url.rewrite(_1f,_20));
}
return window[_9](_1f);
};
var _21=0;
function seq(){
return _21++;
};
function _22(_23,_24){
if(dojo.isIE>=9){
return document.createStyleSheet(_24.toString()).owningElement;
}else{
s=_23.cloneNode(true);
s.href=_24.toString();
return s;
}
};
dojo.mixin(lconn.core.theme,{addBaseStylesheet:function(){
_14();
if(!dojo.byId(_b)){
var _25=_1e(_1d()+"/web/_style?include=com.ibm.lconn.core.styles.oneui3/base/package3.css");
if(!dojo.config.isDebug){
_25.query+="&etag="+encodeURIComponent(ibmConfig.versionStamp);
}
var _26=dojo.create("link",{id:_b,rel:_f,path:_25.path,query:_25.query,href:_25.toString()},dojo.query("head")[0]);
}
return this;
},addThemeStylesheet:function(_27){
_14();
_27=_27||_6;
if(!dojo.byId(_d)){
var _28=_1e(_1d()+"/web/_lconntheme/"+encodeURIComponent(_27)+".css?version=oneui3&rtl="+_1c());
var _29=dojo.create("link",{id:_d,rel:_f,path:_28.path,query:_28.query,href:_28.toString()},dojo.query("head")[0]);
}else{
console.warn("Theme stylesheet '%s' already included in this page",_6);
}
return this;
},addAppStylesheet:function(_2a,_2b){
_14();
_2a=_2a||_3;
_2b=_2b||_6;
if(!dojo.byId(_c)){
var _2c=_1e(_1d()+"/web/_lconnappstyles/"+encodeURIComponent(_2b)+"/"+encodeURIComponent(_2a)+".css?version=oneui3&rtl="+_1c());
var _2d=dojo.create("link",{id:_c,rel:_f,path:_2c.path,query:_2c.query,href:_2c.toString()},dojo.query("head")[0]);
}else{
console.warn("Application stylesheet '%s' with theme '%s' already included in this page",_3,_6);
}
return this;
},addStylesheet:function(_2e,_2f){
if(!_2e){
return;
}
_14();
_2f=_2f||_6;
if(1){
var _30=_1e(_1d()+"/web/_lconnappstyles/"+encodeURIComponent(_2f)+"/"+encodeURIComponent(_2e)+".css?version=oneui3&rtl="+_1c());
var _31=dojo.create("link",{id:"lotusStylesheet_"+seq(),rel:_f,path:_30.path,query:_30.query,href:_30.toString()},dojo.query("head")[0]);
}
return this;
},addAllStylesheets:function(_32,_33){
this.addBaseStylesheet().addThemeStylesheet(_33).addAppStylesheet(_32,_33);
},getUrl:function(_34){
_14();
return _1e(_7+_34);
},switchTheme:function(_35,_36){
var _37=_14(),_38=_37.baseLink,_39=_37.spritesLink;
if(!_35){
_35=_1;
}
if(_35===_11&&!_36){
_35=_13();
}
if(_35==_6||!_38){
return;
}
_6=_35;
var _3a=encodeURIComponent(_35);
if(_35){
_19(dojo.byId(_d));
_5.path=_4+"_lconntheme/"+_3a+".css";
themeLink=_22(_38,_5);
themeLink.id=_d;
dojo.place(themeLink,_39,"after");
if(_3){
_19(dojo.byId(_c));
_5.path=_4+"_lconnappstyles/"+_3a+"/"+encodeURIComponent(_3)+".css";
appLink=_22(_38,_5);
appLink.id=_c;
dojo.place(appLink,themeLink,"after");
}
}
}});
})();
}


;if(!dojo._hasResource["lconn.core.widget.MenuLauncher"]){
dojo._hasResource["lconn.core.widget.MenuLauncher"]=true;
dojo.provide("lconn.core.widget.MenuLauncher");


dojo.declare("lconn.core.widget.MenuLauncher",dijit._Widget,{hideDelay:1000,openDelay:0,preloadDelay:0,classActive:"lotusHover",activeParent:0,activateOnFocus:false,activateOnMouseOver:true,widthAdjust:0,orient:{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"},orientRTL:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"},buildRendering:function(){
this.domNode=this.popupStateNode=this.srcNodeRef;
var _1=this.activateOnMouseOver;
if(this.domNode.tagName==="LI"){
var _2=dojo.query(">a",this.domNode)[0];
if(_2&&!_2.onmouseover){
_1=false;
}
}
if(_1){
this.connect(this,"onMouseEnter","_delayOpen");
}
this.connect(this,"onMouseEnter","_delayOpen");
this.connect(this,"onMouseLeave","_delayClose");
if(this.activateOnFocus){
this.connect(this,"onFocus","_delayOpen");
this.connect(this,"onBlur","_closeMenu");
}else{
this.connect(this,"onClick","_onClick");
}
this.menuId=this.menuId||dojo.attr(this.domNode,"aria-owns")||dojo.attr(this.domNode,"aria-describedby")||(this.id?(this.id+"_popup"):dijit.getUniqueId("ml"));
this.externalContent=dojo.attr(this.domNode,"external-content");
delete this.srcNodeRef;
},decorateAria:function(){
dojo.attr(this.domNode,"aria-owns",this.menuId);
},whenInit:function(){
this.decorateAria();
var _3=this._initDfd;
if(!_3){
var _4=this._initMenu();
if(!(_4 instanceof dojo.Deferred)){
if(!this.menu){
throw "_initMenu must initialize this.menu or return a deferred";
}
_4=new dojo.Deferred();
_4.callback(this.menu);
}
_3=this._initDfd=_4;
_3.addCallback(this,"initFinal").addErrback(this,function(){
this._initDfd=null;
});
}
return _3;
},initFinal:function(){
var _5=this.menu;
_5._launcher=this;
dijit.popup.moveOffScreen(_5.domNode);
var _6=document.createElement("span");
_6.style.display="none";
dojo.attr(_6,"widgetId",_5.id);
dojo.body().appendChild(_6);
var _7=this.domNode;
for(var i=0;i<this.activeParent;i++){
_7=_7.parentNode;
}
this.activeNode=_7;
if(this.externalContent){
var _8=dijit.byId(this.externalContent);
this.connect(_8,"onMouseEnter","_openMenu");
this.connect(_8,"onMouseLeave","_delayClose");
this.connect(_8,"onClose","_closeMenu");
dojo.connect(this,"onOpen",dojo.hitch(this,function(){
dojo.style(this.menu.domNode,{padding:0});
var _9=dojo.position(dojo.byId(_8.bindto),true);
dojo.style(_8.domNode,{top:_9.y+"px",left:_9.x+"px",height:_9.h+"px",width:_9.w+"px",zIndex:2000});
_8.show(arguments);
}));
dojo.connect(this,"onClose",function(){
_8.hide();
});
}
this.connect(_5,"onMouseEnter","_openMenu");
this.connect(_5,"onMouseLeave","_delayClose");
},_initMenu:function(){
throw "Must override initMenu() to do dynamic loading";
},_onClick:function(e){
if(e){
dojo.stopEvent(e);
}
this._openMenu("click");
},_preloadMenu:function(){
this.whenInit().addCallback(this,function(){
var _a=this.menu;
var _b=dojo.getObject("dijit.layout.ContentPane");
if(_a._preload){
_a._preload();
}else{
if(_b&&_a instanceof _b){
if(_a.isLoaded||_a.isFailed||_a._xhrDfd){
return;
}
_a._load();
}
}
});
},_openMenu:function(_c){
this._shouldBeOpen=true;
this.whenInit().addCallback(this,function(){
if((!this._opened&&this._closing)||!this._shouldBeOpen){
return;
}
if(typeof _c!="string"){
_c=null;
}
this._delayEnd();
var _d=this.menu;
if(!_d){
return;
}
if(!this._opened){
if(_d.href&&!(_d.isLoaded||_d.isFailed)){
var _e=this;
var _f=dojo.connect(_d,"onLoad",function(){
dojo.disconnect(_f);
_e._openFinal(_c);
});
var _10=dojo.connect(_d,"onDownloadError",function(){
dojo.disconnect(_10);
_e._openFinal(_c);
});
this._preloadMenu();
return;
}else{
this._openFinal(_c);
}
}else{
this.onOpen(_c);
}
});
},_openFinal:function(_11){
if(!this._shouldBeOpen){
return;
}
if(typeof _11!="string"){
_11=null;
}
var _12=this.menu;
var _13=_12.domNode.style.width;
var _14=this;
if(lconn.core.widget.MenuLauncher._menu){
dijit.popup.close(lconn.core.widget.MenuLauncher._menu);
}
if(this.onBeforeOpen(_11)===true){
return;
}
dojo.addClass(this.activeNode,this.classActive);
dijit.popup.open({parent:this,popup:_12,around:this.domNode,orient:this.getOrient(),onExecute:function(){
_14._closeMenu(true);
},onCancel:function(){
_14._closeMenu(true);
},onClose:function(){
_14._delayEnd();
lconn.core.widget.MenuLauncher._menu=null;
_12.domNode.style.width=_13;
dijit.setWaiState(_12.domNode,"hidden","true");
if(_14.domNode){
dojo.removeClass(_14.activeNode,_14.classActive);
}
_14._opened=false;
_14.onClose();
}});
lconn.core.widget.MenuLauncher._menu=_12;
this._opened=true;
this.onOpen(_11);
},_closeMenu:function(_15){
this._delayEnd();
this._shouldBeOpen=false;
if(this._opened){
if(dojo.isIE){
setTimeout(dojo.hitch(this,"_closeMenuFinal",_15),0);
}else{
this._closeMenuFinal(_15);
}
}
},_closeMenuFinal:function(_16){
this._shouldBeOpen=false;
dijit.popup.close(this.menu);
if(_16){
dijit.focus(this.focusNode||this.domNode);
}
},getOrient:function(){
return this.isLeftToRight()?this.orient:this.orientRTL;
},_delayOpen:function(){
if(!this._opening){
this._delayEnd();
this._opening=setTimeout(dojo.hitch(this,"_openMenu","mouseover"),this.openDelay);
if(this.preloadDelay>0&&(!this.menu||!this.menu.isLoaded)){
this._preload=setTimeout(dojo.hitch(this,"_preloadMenu"),this.preloadDelay);
}
}
},_delayClose:function(){
if(!this._closing){
this._delayEnd();
this._closing=setTimeout(dojo.hitch(this,"_closeMenu",false),this.hideDelay);
}
},_delayEnd:function(){
try{
clearTimeout(this._opening);
}
catch(e){
}
try{
clearTimeout(this._closing);
}
catch(e){
}
try{
clearTimeout(this._preload);
}
catch(e){
}
this._closing=this._opening=this._preload=null;
},onBeforeOpen:function(_17){
return false;
},onOpen:function(_18){
if(_18=="click"&&!this.activateOnFocus){
this.focusMenu();
}
dijit.setWaiState(this.menu.domNode,"hidden","false");
},onClose:function(){
},focusMenu:function(){
var _19=this.menu;
if(_19.focus){
_19.focus();
}else{
_19._getFocusItems(_19.containerNode);
dijit.focus(_19._firstFocusItem);
}
}});
}

dojo.provide("com.ibm.oneui.controls.nls.MessageBox")._built=true;
dojo.provide("com.ibm.oneui.controls.nls.MessageBox.en");
com.ibm.oneui.controls.nls.MessageBox.en={"showMore":"Show More","SUCCESS":{"a11y_label":"Success:","icon_alt":"Success"},"SHARED_EXTERNAL":{"a11y_label":"Shared externally:","icon_alt":"Shared externally"},"showLess":"Show Less","ERROR":{"a11y_label":"Error:","icon_alt":"Error"},"common":{"close_btn_title":"Close","close_btn_alt":"Close"},"WARNING":{"a11y_label":"Warning:","icon_alt":"Warning"},"INFO":{"a11y_label":"Information:","icon_alt":"Information"}};

;dojo.cache("com.ibm.oneui", "controls/templates/MessageBox.html", "<div class=\"lotusMessage2\" role=\"alert\"> <img class=\"lotusIcon\" dojoAttachPoint=\"imgNode\" src=\"${_blankGif}\" alt=\"${_strings.icon_alt}\" /> <span class=\"lotusAltText\">${_strings.a11y_label}</span> <div class=\"lotusMessageBody\"><span dojoAttachPoint=\"msgBody\"></span> <a href=\"javascript:;\" class=\"${showMoreClass}\" dojoAttachPoint=\"showMoreNode\" dojoAttachEvent=\"onclick: showMoreLessClicked\">${messages.showMore}</a> <a href=\"javascript:;\" class=\"lotusHidden\" dojoAttachPoint=\"showLessNode\" dojoAttachEvent=\"onclick: showMoreLessClicked\">${messages.showLess}</a> <div dojoAttachPoint=\"showMoreMessageNode\" class=\"lotusHidden\">${msgMore}</div> </div> <a href=\"javascript:;\" class=\"lotusDelete lotusHidden\" dojoAttachPoint=\"closeBtn\" role=\"button\" title=\"${_strings.close_btn_title}\"> <img alt=\"${_strings.close_btn_alt}\" src=\"${_blankGif}\" /> <span class=\"lotusAltText\">X</span> </a></div>");

;if(!dojo._hasResource["com.ibm.oneui.controls.MessageBox"]){
dojo._hasResource["com.ibm.oneui.controls.MessageBox"]=true;
dojo.provide("com.ibm.oneui.controls.MessageBox");








dojo.requireLocalization("com.ibm.oneui.controls","MessageBox");
(function(_1,_2){
var _3={ERROR:0,WARNING:1,INFO:2,SUCCESS:3,SHARED_EXTERNAL:4};
var _4=dojo.i18n.getLocalization("com.ibm.oneui.controls","MessageBox");
dojo.declare("com.ibm.oneui.controls.MessageBox",[dijit._Widget,dijit._Templated],{type:_3.ERROR,canClose:false,msg:"",msgMore:"",showMoreClass:"lotusHidden",messages:_4,_strings:{},templatePath:dojo.moduleUrl("com.ibm.oneui","controls/templates/MessageBox.html"),msgBody:null,closeBtn:null,imgNode:null,showMoreMessageNode:null,showMoreNode:null,showLessNode:null,focusPostClose:null,buildRendering:function(){
for(var _5 in _3){
if(_3.hasOwnProperty(_5)){
if(this.type==_3[_5]){
this._strings=dojo.mixin({},this.messages[_5],this._strings);
}
}
}
this._strings=dojo.mixin({},this.messages["common"],this._strings);
if(this.srcNodeRef.id){
dijit.registry.remove(this.id);
this.id=dijit.registry.getUniqueId(this.declaredClass.replace(/\./g,"_"));
dijit.registry.add(this);
}
this.srcNodeRef=dojo.create("div",{},this.srcNodeRef);
if(this.msgMore){
this.showMoreClass="";
}
this.inherited(arguments);
switch(this.type){
case _3.ERROR:
dojo.addClass(this.imgNode," lotusIconMsgError");
break;
case _3.WARNING:
dojo.addClass(this.imgNode," lotusIconMsgWarning");
dojo.addClass(this.domNode," lotusWarning");
break;
case _3.INFO:
dojo.addClass(this.imgNode," lotusIconMsgInfo");
dojo.addClass(this.domNode," lotusInfo");
break;
case _3.SHARED_EXTERNAL:
dojo.addClass(this.imgNode," lconnIconMsgSharedExternal");
dojo.addClass(this.domNode," lconnSharedExternal");
break;
default:
dojo.addClass(this.imgNode," lotusIconMsgSuccess");
dojo.addClass(this.domNode," lotusSuccess");
break;
}
if(this.msg){
var _6,m=this.msg,n=dojo.byId(m);
if(dojo.isFunction(m)){
_6=m.call(this,this.d||dojo.doc);
}else{
if(n&&n.nodeType){
_6=n;
}else{
if(dojo.isString(m)){
_6=dojo.doc.createTextNode(m);
}else{
console.warn("MessageBox: msg should be a string, a DOM node or an id of a DOM node, or a function returning a DOM node.");
_6=dojo._toDom("<!-- No message -->");
}
}
}
dojo.place(_6,this.msgBody,"only");
}
this.containerNode=this.domNode;
},postCreate:function(){
if(this.canClose){
dojo.removeClass(this.closeBtn,"lotusHidden");
this.connect(this.closeBtn,"onclick","close");
}
},close:function(e){
if(e){
dojo.stopEvent(e);
}
dojo.addClass(this.domNode,"lotusHidden");
if(this.focusPostClose){
setTimeout(dojo.partial(dijit.focus,this.focusPostClose),100);
}
this.onClose();
},onClose:function(){
dojo.publish("com/ibm/oneui/message/closed",[this]);
this.destroy();
},showMoreLessClicked:function(){
dojo.toggleClass(this.showMoreMessageNode,"lotusHidden");
dojo.toggleClass(this.showMoreNode,"lotusHidden");
dojo.toggleClass(this.showLessNode,"lotusHidden");
}});
dojo.mixin(com.ibm.oneui.controls.MessageBox,{TYPE:_3});
})(window,document);
}


;if(!dojo._hasResource["lconn.core.header"]){
dojo._hasResource["lconn.core.header"]=true;
(function(){
dojo.provide("lconn.core.header");










lconn.core.header={initMenu:function(a,_1){
a._init=true;
var id=dojo.attr(a,"_lconn_menuid");
a.removeAttribute("_lconn_menuid");
var _2=new lconn.core.header.MenuLauncher({menuHref:dojo.attr(a,"src"),menuId:id,dialogTitle:dojo.attr(a,"aria-label"),focusNode:a,errorMessageText:dojo.attr(a,"errormessage")},a.parentNode);
_2[_1]();
},menuFocus:function(a){
if(!a._init){
this.initMenu(a,"onFocus");
}
},menuClick:function(a){
if(!a._init){
this.initMenu(a,"onClick");
}
},menuMouseover:function(a){
if(!a._init){
this.initMenu(a,"onMouseEnter");
}
},enableLanguageSelector:function(_3,_4,_5,_6,_7){
var dj=dojo;
var _8={path:"/"};
var _9=_7==-1?0:(_7/86400);
if(_9>0){
_8.expires=_9;
}
var _a=_6;
if(_a&&_a!="."){
dj.require("lconn.core.url");
var _b=lconn.core.url.parse(window.location.href);
var _c=_b.host;
_8.domain=_a+_c.substring(_c.indexOf("."),_c.length);
}
_3=dojo.byId(_3);
if(!_3){
console.log("language selector node not present in header or footer");
return;
}
try{
dj.require("lconn.core.LanguageSelector");
var _d=_3.nextSibling;
while(_d){
if(_d.nodeType==1){
dojo.removeClass(_d,"lotusFirst");
}
_d=_d.nextSibling;
}
_3.innerHTML="<a id='headerLanguageSelectorMenu' href='javascript:;' role='button' aria-haspopup='true'></a>";
_3.style.display="";
new lconn.core.LanguageSelector(_3.firstChild,_4,_5,_8);
}
catch(e){
console.error("lconn/core/LanguageSelector.js unavailable ");
console.error(e);
}
},decorateUser:function(_e,_f,_10){
if(!_e||!_e.id||!_e.displayName){
return;
}
var hun=dojo.query("#headerUserName img")[0];
if(hun){
var img=com.ibm.lconn.layout.people.createImage({userid:_e.id,name:_e.displayName},26);
if(img){
dojo.place(img,hun,"replace");
}else{
dojo.addClass(hun,"otherPeople24 otherPeople24-NoPhotoPerson24");
hun.src=dojo.config.blankGif;
}
}
var lp=dojo.byId("lotusPerson");
if(lp){
dojo.removeClass(lp,"lotusHidden");
dojo.style(lp,"display","");
}
dojo.attr("headerUserName","src",dojo.string.substitute(_f.user_jsp,{username:_e.displayName,userId:_e.id}));
var hs=dojo.byId("headerSharebox");
if(hs){
dojo.removeClass(hs,"lotusHidden");
dojo.style(hs,"display","");
}
var ll=dojo.byId("logoutLink");
if(ll){
ll.replaceChild(document.createTextNode(_10.logout),ll.firstChild);
ll.href=_f.logout;
dojo.addClass(ll,"lotusHidden");
ll.style.display="none";
}
dojo.query("li",dojo.byId("headerMenuContainer")).forEach(function(el){
if(el.previousSibling){
dojo.removeClass(el,"lotusFirst");
}
});
var _11=dojo.byId("lotusBannerCommunitiesLink");
if(_11){
var _12=dijit.byId(dojo.attr(_11,"aria-owns"));
var _13=_f.communities_jsp;
if(_12){
_12.attr("href",_13);
}else{
dojo.attr(_11,"src",_13);
}
}
lconn.core.header.apps.updateBannerByRoles();
},switchTheme:lconn.core.theme.switchTheme};
dojo.declare("lconn.core.header.MenuLauncher",lconn.core.widget.MenuLauncher,{activeParent:0,_initMenuFinal:function(){
if(!dojo.getObject("lconn.core.header.Menu")){
var d=dojo;
d.provide("lconn.core.header.Menu");
dojo.declare("lconn.core.header.Menu",dijit.TooltipDialog,{autofocus:false,"class":"lotusNavMenu",isFailed:false,postCreate:function(){
this.inherited(arguments);
dijit.setWaiState(this.containerNode,"label",this.dialogTitle);
if(!this.errorMessageText){
var _14=dojo.i18n.getLocalization("dijit","loading");
if(_14){
this.errorMessageText=_14["errorState"];
}
}
this._strings=dojo.i18n.getLocalization("lconn.core","strings");
},_attachTemplateNodes:function(){
this.inherited(arguments);
this.connect(this.domNode,"onmouseover","onMouseOver");
this.connect(this.domNode,"onmouseout","onMouseOut");
this.connect(this.domNode,"onclick","onMenuClick");
this.connect(this.domNode,"onclose","onClose");
},onClose:function(){
this.inherited(arguments);
if(this.domNode){
dojo.removeAttr(this.domNode.parentNode,"style");
}
},orient:function(_15,_16,_17){
this.domNode.className=this["class"]+" dijitTooltipAB"+(_17.charAt(1)=="L"?"Left":"Right");
var mb=dojo.marginBox(this.domNode);
var _18=false;
if(!this.isFailed){
var _19=dojo.attr(this.domNode.parentNode,"dijitpopupparent");
if(_19){
var _1a=dojo.byId(_19);
if(_1a){
var _1b=dojo.attr(_1a,"external-content-style");
if(_1b){
var _1c="";
var _1d="";
var _1e=_1b.split(";");
for(var i=0;i<_1e.length;i++){
var _1f=_1e[i].split(":");
if(_1f[0]&&_1f[1]){
if(_1f[0]=="height"){
_1c=_1f[1];
}
if(_1f[0]=="width"){
_1d=_1f[1];
}
}
}
if(_1c=="auto"&&_1d=="auto"){
_18=true;
}else{
if(_1c=="auto"){
dojo.marginBox(_15,{w:mb.w});
_18=true;
}else{
if(_1d=="auto"){
dojo.marginBox(_15,{h:mb.h});
_18=true;
}
}
}
}
}
}
}
if(!_18){
dojo.style(this.domNode,"height","");
dojo.style(this.domNode,"width","");
dojo.style(this.domNode.parentNode,"height","");
dojo.style(this.domNode.parentNode,"width","");
}
},onMenuClick:function(e){
var el=e.target;
for(var i=0;el&&i<5;i++){
if(el.nodeName.toLowerCase()=="a"){
if(dojo.isIE<9){
var _20=el.style;
_20.visibility="hidden";
setTimeout(function(){
_20.visibility="";
},1);
}
this.onCancel();
return;
}else{
el=el.parentNode;
}
}
},_onError:function(_21,err,_22){
this.inherited(arguments);
this.isFailed=true;
},onDownloadError:function(_23){
dojo.addClass(this.domNode,"lotusNavMenuError");
if(this.errorMessageText){
var _24=this.messageBox=new com.ibm.oneui.controls.MessageBox({canClose:false,_strings:{icon_alt:this._strings.rs_messagebox_warning_icon_alt,a11y_label:this._strings.rs_messagebox_warning_a11y_label},type:com.ibm.oneui.controls.MessageBox.TYPE.WARNING,msg:this.errorMessageText},dojo.create("div"));
this.errorMessage=_24.domNode;
}
return this.inherited(arguments);
},uninitialize:function(){
if(this._beingDestroyed&&this.messageBox){
this.messageBox.destroy();
}
this.inherited(arguments);
}});
}
this.menu=new lconn.core.header.Menu({widthAdjust:8,href:this.menuHref,dialogTitle:this.dialogTitle,id:this.menuId||undefined,errorMessageText:this.errorMessageText});
var _25=dojo.attr(this.focusNode,"onmenuloaded");
if(_25){
this.connect(this.menu,"onLoad",dojo.getObject(_25));
}
},_initMenu:function(){
return this._whenDialog().addCallback(this,"_initMenuFinal");
},_whenDialog:function(){
var dfd=this._dlgDfd;
if(!dfd){
var d=dojo;
d.require("dijit.Dialog");
dfd=this._dlgDfd=new dojo.Deferred();
dfd.callback();
}
return dfd;
}});
})();
}

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.lconn.socialmail"]=true;

;if(!dojo._hasResource["com.ibm.lconn.socialmail.gadget._NavigationHandler"]){
dojo._hasResource["com.ibm.lconn.socialmail.gadget._NavigationHandler"]=true;
(function(){
dojo.provide("com.ibm.lconn.socialmail.gadget._NavigationHandler");
var _1=1350900150611;
window.navHandlerVer=_1;
function _2(){
};
_2.prototype={gadget:null,commonContainer:null,notifySite:null,inboxSite:null,calendarSite:null,messageSite:null,currentSite:null,iContainer:null,messageDialog:null,hoverLoaded:null,debugRpc:null,headerMenu:null,focusedElement:null,bootedState:{badge:false,inbox:false,calendar:false,document:false},bootstrapCallbacks:{badge:[],inbox:[],calendar:[],document:[]},gadgetReady:{badge:false,inbox:false,calendar:false,document:false},gadgetReadyCallbacks:{badge:[],inbox:[],calendar:[],document:[]},calMinHeight:400,refreshCache:14400,gadgetIDs:null,setCalendarDisplay:function(el,_3){
if(el&&el.firstChild&&el.firstChild.id){
var _4=window.frames[el.firstChild.id];
if(_4&&_4.document.getElementsByTagName("table").length>0){
_4.document.getElementsByTagName("table")[0].style.display=_3;
}
}
},getSiteFromArea:function(cc,_5){
return cc.getSiteById(this.gadgetIDs[_5]);
},addBootstrapCallback:function(_6,_7){
this.bootstrapCallbacks[_6].push(_7);
this.runBootstrapCallbacks(_6);
},runBootstrapCallbacks:function(_8){
if(!this.bootedState[_8]){
return;
}
for(var _9=null;_9=this.bootstrapCallbacks[_8].shift();){
_9();
}
},handleIntermediateBootstrap:function(cc,_a){
if(_a.dataObject=="inbox"||_a.dataObject=="calendar"){
var _b=this.getSiteFromArea(cc,_a.dataObject);
this.addBootstrapCallback("badge",cre$.util.hitch(this,function(){
this.addGadgetReadyCallback(_a.dataObject,cre$.util.hitch(this,function(){
this.hoverLoaded[_a.dataObject]="ready";
if(this.headerMenu[_a.dataObject]){
if(this.debugRpc){
console.log("com.ibm.socpim.rpc.bootstrap - badge - "+_b.getId());
}
_b.rpcCall("com.ibm.socpim.rpc.bootstrap","","badge");
}
}));
}));
}
},handleBootstrap:function(cc,_c){
this.bootedState[_c.dataObject]=true;
this.runBootstrapCallbacks(_c.dataObject);
},handleGadgetReady:function(_d){
this.gadgetReady[_d]=true;
this.runGadgetReadyCallbacks(_d);
},addGadgetReadyCallback:function(_e,_f){
this.gadgetReadyCallbacks[_e].push(_f);
this.runGadgetReadyCallbacks(_e);
},runGadgetReadyCallbacks:function(_10){
if(!this.gadgetReady[_10]){
return;
}
for(var _11=null;_11=this.gadgetReadyCallbacks[_10].shift();){
_11();
}
},registerGadgetReadyHandler:function(cc,_12,_13){
var _14="com.ibm.socpim.navigateGadget_"+_12;
cc.addGadgetLifecycleCallback(_14,{onRender:cre$.util.hitch(this,function(_15,_16){
if(_16===_13){
cc.removeGadgetLifecycleCallback(_14);
this.handleGadgetReady(_12);
}
})});
},registerGadgetVisibilityController:function(cc,_17){
var _18=_17+"_visibilityController";
cc.addGadgetLifecycleCallback(_18,{onRender:cre$.util.hitch(this,function(_19,_1a){
if(_1a===_17){
cc.removeGadgetLifecycleCallback(_18);
this.showSiteContent(_17);
}
})});
},setOffsetPos:function(cc,_1b,_1c,_1d,_1e){
if(!_1b||!this.hoverLoaded||this.hoverLoaded[_1c]!=="loaded"||typeof _1b._offsetTop=="undefined"){
return;
}
cc.getSiteById(_1d).rpcCall("com.ibm.socpim.rpc","",{type:_1e,dataObject:{top:_1b._offsetTop}});
},setBorderExtents:function(cc,_1f,_20,_21,_22){
if(!_1f||!this.hoverLoaded||this.hoverLoaded[_20]!=="loaded"||typeof _1f._borderWidth=="undefined"){
return;
}
cc.getSiteById(_21).rpcCall("com.ibm.socpim.rpc","",{type:_22,dataObject:{b:_1f._borderWidth}});
},createElementForEEHandler:function(rel,_23,_24,_25,_26){
if(_24=="container/mail/preview/ee"&&_26.getId()==this.gadgetIDs.message){
var _27=document.getElementById(_26.getId()),_28=_27.parentElement,_29=document.getElementById(this.gadgetIDs.message),_2a=document.getElementById(this.gadgetIDs.messageEE);
var _2b=_26.container_.getSiteById(this.gadgetIDs.messageEE);
if(_2b){
_26.container_.closeGadget(_2b);
}
_29.style.height="auto";
_2a.style.display="block";
var _2c;
if(document.defaultView&&document.defaultView.getComputedStyle){
_2c=document.defaultView.getComputedStyle(_27);
}else{
_2c=_27.currentStyle;
}
var _2d=_27.offsetHeight+parseFloat(_2c.marginTop==="auto"?"0px":_2c.marginTop)+parseFloat(_2c.marginBottom==="auto"?"0px":_2c.marginBottom);
_2a.style.marginTop=_2d+"px";
var h=Math.abs(_28.offsetHeight-_2d)+"px";
_2a.style.height=h;
return _2a;
}
},destroyElementForEEHandler:function(_2e){
var id=_2e.getId(),_2f=document.getElementById(this.gadgetIDs.message),_30=document.getElementById(this.gadgetIDs.messageEE);
if(id==this.gadgetIDs.message){
var _31=_2e.container_.getSiteById(this.gadgetIDs.messageEE);
if(_31){
_2e.container_.closeGadget(_31);
}
}else{
if(id==this.gadgetIDs.messageEE){
_2f.style.height="";
_30.style.display="";
}
}
_2e.container_.closeGadget(_2e);
},saveFocusedElement:function(_32){
if(_32&&_32[0]==="mouseover"){
this.focusedElement=document.activeElement;
}
},restoreFocusedElement:function(){
if(this.focusedElement){
this.focusedElement.focus();
}
this.focusedElement=undefined;
},initialization:function(){
if(!this.commonContainer){
if(this.isDebug){
console.log("Initializing container");
}
if(!this.verifyExpectedData()){
return false;
}
this.generateSuffixToSiteIdsOnHeader();
if(!this.addSuffixToSiteIdsOnHeader()){
return false;
}
var _33=document.getElementById(this.gadgetIDs.badge);
_33.style.visibility="hidden";
this.iContainer=this.initContainer();
this.commonContainer=this.iContainer.getCommonContainer();
var _34=null;
this.hoverLoaded={inbox:false,calendar:false,badgeNotified:false};
this.debugRpc=(location.search.match(/[&\?]debugRpc=([^&]*)/i)||[])[1] in {"true":1,1:1};
this.headerMenu={inbox:null,calendar:null};
_34=this.getServiceUrl();
if(_34){
_34=_34.toString();
if(_34.search(/inbox\.xml/)===-1){
_34=_34+"/gadgets/inbox.xml";
}
}
this.gadget=_34;
var _35=this.getUrlParameter(window.location.href,"gadget");
if(this.isDebug&&_35&&_35!=""){
this.gadget=window.location.protocol+"//"+_35;
}
var _36=function(_37){
if(typeof (cre$)==="undefined"){
setTimeout(function(){
_36(_37);
},50);
}else{
_37.addLoginLogoutHandlers();
_37.iContainer.views.registerCreateElementForEEHandler("container/mail/preview/ee",cre$.util.hitch(_37,_37.createElementForEEHandler),cre$.util.hitch(_37,_37.destroyElementForEEHandler));
_37.commonContainer.then(function(cc){
osapi.container.GadgetHolder.prototype.createIframeAttributeMap=function(url,_38){
if(this.el_.id==_37.gadgetIDs.messageEE){
_38=_38||{};
_38["scrolling"]="auto";
}
return osapi.container.SiteHolder.prototype.createIframeAttributeMap.call(this,url,_38);
};
cc.preloadGadget(_37.gadget,function(){
if(_37.iContainer&&_37.iContainer.ICactions){
_37.iContainer.ICactions.registerNavigateGadgetHandler(cre$.util.hitch(_37,_37.navigateGadgetHandler));
}else{
cc.actions.registerNavigateGadgetHandler(cre$.util.hitch(_37,_37.navigateGadgetHandler));
}
var _39={};
var _3a=osapi.container.RenderParam;
_39[_3a.WIDTH]="15px";
_39[_3a.HEIGHT]=_37.isIE()?"0px":"15px";
_39[_3a.REFRESH]=_37.refreshCache;
_39[_3a.USER_PREFS]=_37.getUserPrefs();
var _3b={gadgetId:_37.gadgetIDs.badge,dynamicSiteIdSuffix:_37.dynamicSiteIdSuffix,currentUserId:_37.getUserId()};
if(!_37.notifySite){
_37.notifySite=cc.newGadgetSite(document.getElementById(_37.gadgetIDs.badge));
}
_37.registerGadgetReadyHandler(cc,"badge",_37.notifySite.getId());
cc.navigateGadget(_37.notifySite,_37.gadget,_3b,_39);
_37.iContainer.loadWidget({definitionUrl:_37.gadget,placement:_37.gadgetIDs.inbox,componentType:"gadget"});
_37.setBadgeAccessibilityAttributes();
});
cc.actions.addListener(cre$.util.hitch(_37,_37.onMessageOpen),"com.ibm.socpim.openDocument");
cc.actions.addListener(cre$.util.hitch(_37,_37.onMessageCompose),"com.ibm.socpim.mail.messageCompose");
cc.actions.addListener(cre$.util.hitch(_37,_37.onMessageClose),"com.ibm.socpim.closeDocument.sm");
_37.addBootstrapCallback("badge",function(){
setTimeout(function(){
_37.navigateInbox();
},100);
setTimeout(function(){
_37.navigateCalendar();
},150);
setTimeout(function(){
_37.navigateOpenMessage(_37.gadget,"Document");
},200);
});
_37.startupSettings();
cc.rpcRegister("com.ibm.socpim.rpc",function(_3c,_3d){
_37.debugRpc&&window.console&&console.log("com.ibm.socpim.rpc received: "+_3d.type+": "+(typeof _3d.dataObject=="object"&&(window.JSON||{}).stringify?JSON.stringify(_3d.dataObject):_3d.dataObject));
if(_3d.type=="com.ibm.socpim.bootstrap.beingloaded"){
_37.handleIntermediateBootstrap(cc,_3d);
}else{
if(_3d.type=="com.ibm.socpim.bootstrap.loaded"){
_37.handleBootstrap(cc,_3d);
_37.verifyVisibility(_3d.dataObject);
if(_3d.dataObject=="inbox"){
_37.hoverLoaded.inbox="loaded";
}else{
if(_3d.dataObject=="calendar"){
_37.hoverLoaded.calendar="loaded";
}else{
if(_3d.dataObject=="badge"){
var _3e=document.getElementById(_37.gadgetIDs.badge);
_3e.style.visibility="";
}else{
if(_3d.dataObject=="document"){
_37.messageSite.loaded=true;
}
}
}
}
var win=document.parentWindow||document.defaultView;
_37.commonContainer.then(function(cc){
if(_3d.dataObject=="inbox"||_3d.dataObject=="calendar"){
var _3f=(_3d.dataObject=="inbox")?_37.gadgetIDs.inbox:_37.gadgetIDs.calendar;
var _40=function(){
cc.getSiteById(_3f).rpcCall("com.ibm.socpim.rpc","",{type:"com.ibm.socpim.windowgeom",dataObject:{w:document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth||win.innerWidth,h:document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight||win.innerHeight}});
};
_40();
if(window.addEventListener){
window.addEventListener("resize",_40);
}else{
if(window.attachEvent){
window.attachEvent("onresize",_40);
}
}
}
});
if(_37.inboxSite){
_37.setOffsetPos(cc,_37.inboxSite,"inbox",_37.gadgetIDs.inbox,"com.ibm.socpim.mailoffsetpos");
_37.setBorderExtents(cc,_37.inboxSite,"inbox",_37.gadgetIDs.inbox,"com.ibm.socpim.mailborderextents");
}
if(_37.calendarSite){
_37.setOffsetPos(cc,_37.calendarSite,"calendar",_37.gadgetIDs.calendar,"com.ibm.socpim.calendaroffsetpos");
_37.setBorderExtents(cc,_37.calendarSite,"calendar",_37.gadgetIDs.calendar,"com.ibm.socpim.calendarborderextents");
}
}else{
if(_3d.type=="com.ibm.socpim.calendar.datepicker.visibility"){
_37.calendarSite._datepick=_3d.dataObject=="visible";
if(_37.calendarSite._currentHeight){
_37.calendarSite.domNode.style.height=_37.calendarSite.domNode.firstChild.style.height=Math.max(_3d.dataObject=="visible"?_37.calMinHeight:0,_37.calendarSite._currentHeight)+"px";
}
}
}
}
_37.extraRpcCalls(_3d);
});
});
}
};
_36(this);
}
},navigateGadgetHandler:function(_41,_42){
if(this.gadget===_41){
this.navigateGadgetHandlerCustomProperties();
var _43=osapi.container.actions.OptParam;
var _44=_42[_43.VIEW];
var _45=_42[_43.VIEW_TARGET];
if(_45=="container/mail/preview"){
this.navigateOpenMessage(_41,_44);
}
}
},navigateInbox:function(_46,_47){
if(!this.notifySite){
return;
}
if(!this.headerMenu.inbox&&_46){
this.headerMenu.inbox=this.getDropdownContainerId(_46);
if(this.inboxSite){
this.loadContainerDropdown(_46,_47);
if(this.hoverLoaded.inbox==="ready"){
this.commonContainer.then(cre$.util.hitch(this,function(cc){
if(this.debugRpc){
console.log("com.ibm.socpim.rpc.bootstrap - badge - sending to "+this.inboxSite.site.getId());
}
cc.getSiteById(this.inboxSite.site.getId()).rpcCall("com.ibm.socpim.rpc.bootstrap","","badge");
}));
}
}
}
if(!this.inboxSite){
this.commonContainer.then(cre$.util.hitch(this,function(cc){
this.inboxSite=this.generateGadgetSite({id:this.gadgetIDs.inbox,bindto:this.idMailLoadingSpinner,"class":this.classMailDropdown,hide:cre$.util.hitch(this,function(){
this.inboxSite.domNode.style.visibility="hidden";
this.inboxSite.domNode.style.zIndex=-1;
var _48={type:"com.ibm.socpim.MailDropDown",dataObject:"hidden"};
if(this.debugRpc){
console.log("com.ibm.socpim.rpc sending "+_48.type+": "+_48.dataObject+" to os-site-mail-notify");
}
cc.getSiteById(this.gadgetIDs.badge).rpcCall("com.ibm.socpim.rpc","",_48);
var _49=function(_4a){
if(_4a.hoverLoaded.inbox!=="loaded"){
setTimeout(function(){
_49(_4a);
},10);
}else{
if(_4a.debugRpc){
console.log("com.ibm.socpim.rpc sending "+_48.type+": "+_48.dataObject+" to os-site-mail-hover");
}
cc.getSiteById(_4a.gadgetIDs.inbox).rpcCall("com.ibm.socpim.rpc","",_48);
}
};
_49(this);
this.restoreFocusedElement();
}),show:cre$.util.hitch(this,function(){
this.saveFocusedElement(arguments[0]);
this.inboxSite.domNode.style.visibility="visible";
this.inboxSite.domNode.style.zIndex=2000;
if(typeof this.inboxSite._currentHeight!="undefined"){
this.setDropDownHeight(this.inboxSite,this.inboxSite._currentHeight,"inbox");
}
if(typeof this.inboxSite._offsetTop=="undefined"){
this.inboxSite._offsetTop=this.inboxSite.domNode.offsetTop;
this.setOffsetPos(cc,this.inboxSite,"inbox",this.gadgetIDs.inbox,"com.ibm.socpim.mailoffsetpos");
}
if(typeof this.inboxSite._borderWidth=="undefined"){
var _4b=document.getElementById(this.headerMenu.inbox);
if(_4b){
this.inboxSite._borderWidth=this.calculateBorderWidth(_4b);
this.setBorderExtents(cc,this.inboxSite,"inbox",this.gadgetIDs.inbox,"com.ibm.socpim.mailborderextents");
}
}
var _4c={type:"com.ibm.socpim.MailDropDown",dataObject:"visible"};
if(this.debugRpc){
console.log("com.ibm.socpim.rpc sending "+_4c.type+": "+_4c.dataObject+" to os-site-mail-notify");
}
cc.getSiteById(this.gadgetIDs.badge).rpcCall("com.ibm.socpim.rpc","",_4c);
var _4d=function(_4e){
if(_4e.hoverLoaded.inbox!=="loaded"){
setTimeout(function(){
_4d(_4e);
},10);
}else{
if(_4e.debugRpc){
console.log("com.ibm.socpim.rpc sending "+_4c.type+": "+_4c.dataObject+" to os-site-mail-hover");
}
cc.getSiteById(_4e.gadgetIDs.inbox).rpcCall("com.ibm.socpim.rpc","",_4c);
if(!_4e.hoverLoaded.badgeNotified){
if(_4e.debugRpc){
console.log("com.ibm.socpim.rpc.bootstrap sending to os-site-mail-notify");
}
cc.getSiteById(_4e.gadgetIDs.badge).rpcCall("com.ibm.socpim.rpc.bootstrap","",null);
_4e.hoverLoaded.badgeNotified=true;
}
if(!_4e.hoverLoaded.messagesNotified&&!!cc.getSiteById(_4e.gadgetIDs.message)){
if(_4e.debugRpc){
console.log("com.ibm.socpim.rpc.bootstrap sending to os-site-mail-hover-preview-messages");
}
cc.getSiteById(_4e.gadgetIDs.message).rpcCall("com.ibm.socpim.rpc.bootstrap","",null);
_4e.hoverLoaded.messagesNotified=true;
}
_4e.updateWarning(_4e.inboxSite);
}
};
_4d(this);
})});
document.getElementsByTagName("body")[0].appendChild(this.inboxSite.domNode);
var _4f={};
var _50=osapi.container.RenderParam;
_4f[_50.WIDTH]="100%";
_4f[_50.HEIGHT]="100%";
_4f[_50.VIEW]="HoverView";
_4f[_50.REFRESH]=this.refreshCache;
var _51={gadgetId:this.gadgetIDs.inbox,dynamicSiteIdSuffix:this.dynamicSiteIdSuffix,currentUserId:this.getUserId()};
_4f[_50.USER_PREFS]=this.getUserPrefs();
this.inboxSite.site=cc.newGadgetSite(this.inboxSite.domNode);
var _52=this.inboxSite.site.getId();
this.registerGadgetReadyHandler(cc,"inbox",_52);
this.registerGadgetVisibilityController(cc,_52);
cc.navigateGadget(this.inboxSite.site,this.gadget,_51,_4f,function(){
});
this.hideInboxWhileLoading();
})).then(cre$.util.hitch(this,function(){
if(_46){
this.loadContainerDropdown(_46,_47);
}
}));
}
this.currentSite="mail";
},navigateCalendar:function(_53,_54){
if(!this.notifySite){
return;
}
if(!this.headerMenu.calendar&&_53){
this.headerMenu.calendar=this.getDropdownContainerId(_53);
if(this.calendarSite){
this.loadContainerDropdown(_53,_54);
if(this.hoverLoaded.calendar==="ready"){
this.commonContainer.then(cre$.util.hitch(this,function(cc){
if(this.debugRpc){
console.log("com.ibm.socpim.rpc.bootstrap - badge - sending to "+this.calendarSite.site.getId());
}
cc.getSiteById(this.calendarSite.site.getId()).rpcCall("com.ibm.socpim.rpc.bootstrap","","badge");
}));
}
}
}
if(!this.calendarSite){
this.commonContainer.then(cre$.util.hitch(this,function(cc){
this.calendarSite=this.generateGadgetSite({id:this.gadgetIDs.calendar,bindto:this.idCalendarLoadingSpinner,"class":this.classCalendarDropdown,hide:cre$.util.hitch(this,function(){
this.calendarSite.domNode.style.visibility="hidden";
this.calendarSite.domNode.style.zIndex=-1;
var _55={type:"com.ibm.socpim.CalendarDropDown",dataObject:"hidden"};
var _56=function(_57){
if(_57.hoverLoaded.calendar!=="loaded"){
setTimeout(function(){
_56(_57);
},10);
}else{
if(_57.debugRpc){
console.log("com.ibm.socpim.rpc sending "+_55.type+": "+_55.dataObject+" to os-site-calendar-hover");
}
cc.getSiteById(_57.gadgetIDs.calendar).rpcCall("com.ibm.socpim.rpc","",_55);
}
};
_56(this);
this.setCalendarDisplay(this.calendarSite.domNode,"none");
this.restoreFocusedElement();
}),show:cre$.util.hitch(this,function(){
this.saveFocusedElement(arguments[0]);
this.calendarSite.domNode.style.visibility="visible";
this.calendarSite.domNode.style.zIndex=2000;
if(typeof this.calendarSite._currentHeight!="undefined"){
this.setDropDownHeight(this.calendarSite,this.calendarSite._currentHeight,"calendar");
}
if(typeof this.calendarSite._offsetTop=="undefined"){
this.calendarSite._offsetTop=this.calendarSite.domNode.offsetTop;
this.setOffsetPos(cc,this.calendarSite,"calendar",this.gadgetIDs.calendar,"com.ibm.socpim.calendaroffsetpos");
}
if(typeof this.calendarSite._borderWidth=="undefined"){
var _58=document.getElementById(this.headerMenu.calendar);
if(_58){
this.calendarSite._borderWidth=this.calculateBorderWidth(_58);
this.setBorderExtents(cc,this.calendarSite,"calendar",this.gadgetIDs.calendar,"com.ibm.socpim.calendarborderextents");
}
}
var _59={type:"com.ibm.socpim.CalendarDropDown",dataObject:"visible"};
var _5a=function(_5b){
if(_5b.hoverLoaded.calendar!=="loaded"){
setTimeout(function(){
_5a(_5b);
},10);
}else{
if(_5b.debugRpc){
console.log("com.ibm.socpim.rpc sending "+_59.type+": "+_59.dataObject+" to os-site-calendar-hover");
}
cc.getSiteById(_5b.gadgetIDs.calendar).rpcCall("com.ibm.socpim.rpc","",_59);
_5b.updateWarning(_5b.calendarSite);
}
};
_5a(this);
this.setCalendarDisplay(this.calendarSite.domNode,"table");
})});
document.getElementsByTagName("body")[0].appendChild(this.calendarSite.domNode);
var _5c={};
var _5d=osapi.container.RenderParam;
_5c[_5d.WIDTH]="100%";
_5c[_5d.HEIGHT]="100%";
_5c[_5d.VIEW]="CalendarHoverView";
_5c[_5d.REFRESH]=this.refreshCache;
var _5e={gadgetId:this.gadgetIDs.calendar,dynamicSiteIdSuffix:this.dynamicSiteIdSuffix,currentUserId:this.getUserId()};
_5c[_5d.USER_PREFS]=this.getUserPrefs();
this.calendarSite.site=cc.newGadgetSite(this.calendarSite.domNode);
var _5f=this.calendarSite.site.getId();
this.registerGadgetReadyHandler(cc,"calendar",_5f);
this.registerGadgetVisibilityController(cc,_5f);
cc.navigateGadget(this.calendarSite.site,this.gadget,_5e,_5c,function(){
});
this.hideCalendarWhileLoading();
})).then(cre$.util.hitch(this,function(){
if(_53){
this.loadContainerDropdown(_53,_54);
}
}));
}
this.currentSite="calendar";
},navigateOpenMessage:function(_60,_61){
this.closeCurrentSite();
if(!this.messageDialog){
if(!this.messageSite){
this.generateMessageSite();
}
this.generateMessageDialog();
this.commonContainer.then(cre$.util.hitch(this,function(cc){
var _62={};
var _63=osapi.container.RenderParam;
_62[_63.WIDTH]="100%";
_62[_63.HEIGHT]="100%";
_62[_63.VIEW]=_61;
_62[_63.REFRESH]=this.refreshCache;
var _64={gadgetId:this.gadgetIDs.message,dynamicSiteIdSuffix:this.dynamicSiteIdSuffix,currentUserId:this.getUserId()};
_62[_63.USER_PREFS]=this.getUserPrefs();
var _65=document.getElementById(this.gadgetIDs.message);
this.messageSite.site=cc.newGadgetSite(_65);
var _66=this.messageSite.site.getId();
this.registerGadgetReadyHandler(cc,"document",_66);
this.registerGadgetVisibilityController(cc,_66);
cc.navigateGadget(this.messageSite.site,_60,_64,_62,function(){
});
this.hideLightboxWhileLoading();
}));
this.messageDialog.domNode.style.visibility="hidden";
this.messageDialog.domNode.style.display="block";
}
},setDropDownHeight:function(_67,_68,_69){
if(!_67||!this.headerMenu||!this.headerMenu[_69]){
return;
}
var _6a=0;
if(_67._datepick){
_6a=this.calMinHeight;
}
_68=_68[0]?_68[0]:_68;
_68=parseInt(_68,10);
_67._currentHeight=_68;
var _6b=document.getElementById(this.headerMenu[_69]),_6c=document.getElementById(_67.bindto);
if(!_6b||!_6c){
return;
}
_6b.style.height=_68+"px";
_6c.style.height=_68+"px";
var mh=(typeof _6a!="undefined"?Math.max(_68,_6a):_68)+"px";
_67.domNode.style.height=mh;
_67.domNode.firstChild.style.height=mh;
},getPane:function(key){
return {inbox:this.inboxSite,calendar:this.calendarSite,document:this.messageSite,badge:this.notifySite}[key];
},handleCloseDocument:function(){
this.commonContainer.then(cre$.util.hitch(this,function(cc){
if(this.messageSite.loaded){
cc.actions.runAction("com.ibm.socpim.closeDocument");
}else{
this.onMessageClose();
}
}));
},verifyExpectedData:function(){
var _6d=true;
var _6e=["idMailListItem","idCalendarListItem","idMailLoadingSpinner","idCalendarLoadingSpinner","classBadge","classMailDropdown","classCalendarDropdown","generateSuffixToSiteIdsOnHeader","loadContainerDropdown","getDropdownContainerId","getServiceUrl","getUrlParameter","initContainer","addLoginLogoutHandlers","addAttribute","getUserPrefs","generateMessageSite","generateMessageDialog","calculateBorderWidth","getBadgeSpan","navigateGadgetHandlerCustomProperties","startupSettings","onMessageOpen","onMessageClose","onMessageCompose","generateGadgetSite","showSiteContent","hideInboxWhileLoading","hideCalendarWhileLoading","hideLightboxWhileLoading","setBadgeAccessibilityAttributes","showDialog","updateWarning","extraRpcCalls","verifyVisibility","closeCurrentSite","isIE","getUserId"];
var _6f="";
for(var _70=0;_70<_6e.length;_70++){
var _71=_6e[_70];
if(!this[_71]){
_6f+=("- "+_71+"\n");
}
}
if(_6f!==""){
alert("Contact your system administrator.\nMissing following fields/methods:\n"+_6f);
return false;
}
return true;
},addSuffixToSiteIdsOnHeader:function(){
var _72="";
if(!document.getElementById(this.idMailListItem)){
_72+="\nMissing element with id=\""+this.idMailListItem+"\"";
}
if(!document.getElementById(this.idCalendarListItem)){
_72+="\nMissing element with id=\""+this.idCalendarListItem+"\"";
}
var _73=this.getBadgeSpan();
if(!_73){
_72+="\nMissing element with class=\""+this.classBadge+"\"";
}
if(_72!==""){
alert("Contact your system administrator: "+_72);
return false;
}
this.addAttribute(document.getElementById(this.idMailListItem),"external-content",this.gadgetIDs.inbox);
this.addAttribute(document.getElementById(this.idCalendarListItem),"external-content",this.gadgetIDs.calendar);
this.addAttribute(_73,"id",this.gadgetIDs.badge);
return true;
}};
com.ibm.lconn.socialmail.gadget._NavigationHandler=_2;
})();
}


;define("dojox/uuid/_base",["dojo/_base/kernel","dojo/_base/lang"],function(_1){
_1.getObject("uuid",true,dojox);
dojox.uuid.NIL_UUID="00000000-0000-0000-0000-000000000000";
dojox.uuid.version={UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};
dojox.uuid.variant={NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};
dojox.uuid.assert=function(_2,_3){
if(!_2){
if(!_3){
_3="An assert statement failed.\n"+"The method dojox.uuid.assert() was called with a 'false' value.\n";
}
throw new Error(_3);
}
};
dojox.uuid.generateNilUuid=function(){
return dojox.uuid.NIL_UUID;
};
dojox.uuid.isValid=function(_4){
_4=_4.toString();
var _5=(_1.isString(_4)&&(_4.length==36)&&(_4==_4.toLowerCase()));
if(_5){
var _6=_4.split("-");
_5=((_6.length==5)&&(_6[0].length==8)&&(_6[1].length==4)&&(_6[2].length==4)&&(_6[3].length==4)&&(_6[4].length==12));
var _7=16;
for(var i in _6){
var _8=_6[i];
var _9=parseInt(_8,_7);
_5=_5&&isFinite(_9);
}
}
return _5;
};
dojox.uuid.getVariant=function(_a){
if(!dojox.uuid._ourVariantLookupTable){
var _b=dojox.uuid.variant;
var _c=[];
_c[0]=_b.NCS;
_c[1]=_b.NCS;
_c[2]=_b.NCS;
_c[3]=_b.NCS;
_c[4]=_b.NCS;
_c[5]=_b.NCS;
_c[6]=_b.NCS;
_c[7]=_b.NCS;
_c[8]=_b.DCE;
_c[9]=_b.DCE;
_c[10]=_b.DCE;
_c[11]=_b.DCE;
_c[12]=_b.MICROSOFT;
_c[13]=_b.MICROSOFT;
_c[14]=_b.UNKNOWN;
_c[15]=_b.UNKNOWN;
dojox.uuid._ourVariantLookupTable=_c;
}
_a=_a.toString();
var _d=_a.charAt(19);
var _e=16;
var _f=parseInt(_d,_e);
dojox.uuid.assert((_f>=0)&&(_f<=16));
return dojox.uuid._ourVariantLookupTable[_f];
};
dojox.uuid.getVersion=function(_10){
var _11="dojox.uuid.getVersion() was not passed a DCE Variant UUID.";
dojox.uuid.assert(dojox.uuid.getVariant(_10)==dojox.uuid.variant.DCE,_11);
_10=_10.toString();
var _12=_10.charAt(14);
var _13=16;
var _14=parseInt(_12,_13);
return _14;
};
dojox.uuid.getNode=function(_15){
var _16="dojox.uuid.getNode() was not passed a TIME_BASED UUID.";
dojox.uuid.assert(dojox.uuid.getVersion(_15)==dojox.uuid.version.TIME_BASED,_16);
_15=_15.toString();
var _17=_15.split("-");
var _18=_17[4];
return _18;
};
dojox.uuid.getTimestamp=function(_19,_1a){
var _1b="dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.";
dojox.uuid.assert(dojox.uuid.getVersion(_19)==dojox.uuid.version.TIME_BASED,_1b);
_19=_19.toString();
if(!_1a){
_1a=null;
}
switch(_1a){
case "string":
case String:
return dojox.uuid.getTimestamp(_19,Date).toUTCString();
break;
case "hex":
var _1c=_19.split("-");
var _1d=_1c[0];
var _1e=_1c[1];
var _1f=_1c[2];
_1f=_1f.slice(1);
var _20=_1f+_1e+_1d;
dojox.uuid.assert(_20.length==15);
return _20;
break;
case null:
case "date":
case Date:
var _21=3394248;
var _22=16;
var _23=_19.split("-");
var _24=parseInt(_23[0],_22);
var _25=parseInt(_23[1],_22);
var _26=parseInt(_23[2],_22);
var _27=_26&4095;
_27<<=16;
_27+=_25;
_27*=4294967296;
_27+=_24;
var _28=_27/10000;
var _29=60*60;
var _2a=_21;
var _2b=_2a*_29;
var _2c=_2b*1000;
var _2d=_28-_2c;
var _2e=new Date(_2d);
return _2e;
break;
default:
dojox.uuid.assert(false,"dojox.uuid.getTimestamp was not passed a valid returnType: "+_1a);
break;
}
};
return dojox.uuid;
});


;define("dojox/uuid",["dojox/uuid/_base"],function(_1){
return _1;
});


;define("dojox/uuid/generateRandomUuid",["./_base"],function(){
dojox.uuid.generateRandomUuid=function(){
var _1=16;
function _2(){
var _3=Math.floor((Math.random()%1)*Math.pow(2,32));
var _4=_3.toString(_1);
while(_4.length<8){
_4="0"+_4;
}
return _4;
};
var _5="-";
var _6="4";
var _7="8";
var a=_2();
var b=_2();
b=b.substring(0,4)+_5+_6+b.substring(5,8);
var c=_2();
c=_7+c.substring(1,4)+_5+c.substring(4,8);
var d=_2();
var _8=a+_5+b+_5+c+d;
_8=_8.toLowerCase();
return _8;
};
return dojox.uuid.generateRandomUuid;
});

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.lconn.gadget"]=true;

;if(!dojo._hasResource["com.ibm.lconn.gadget.container.Handle"]){
dojo._hasResource["com.ibm.lconn.gadget.container.Handle"]=true;
dojo.provide("com.ibm.lconn.gadget.container.Handle");
dojo.declare("com.ibm.lconn.gadget.container.Handle",null,{load:function(){
},unload:function(){
},refresh:function(){
if(this.getState()===com.ibm.lconn.gadget.container.Handle.LOADED){
this.unload();
this.load();
}
},getWidgetInfo:function(){
},getState:function(){
}});
dojo.mixin(com.ibm.lconn.gadget.container.Handle,{LOADING:"LOADING",LOADED:"LOADED",UNLOADED:"UNLOADED",ERROR:"ERROR",__factory__:function(_1,_2,_3){
}});
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.container.Accessor"]){
dojo._hasResource["com.ibm.lconn.gadget.container.Accessor"]=true;
dojo.provide("com.ibm.lconn.gadget.container.Accessor");


dojo.declare("com.ibm.lconn.gadget.container.Accessor",null,{getCommonContainer:function(){
},getIRuntime:function(){
}});
com.ibm.lconn.gadget.container.Accessor.__instance__=com.ibm.lconn.gadget.container.Accessor.__instance__||function(_1){
};
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.container.Topics"]){
dojo._hasResource["com.ibm.lconn.gadget.container.Topics"]=true;
dojo.provide("com.ibm.lconn.gadget.container.Topics");
com.ibm.lconn.gadget.container.Topics=(function(){
var _1={};
var _2="com/ibm/lconn/gadget/";
_1.GadgetWindow={};
_1.GadgetWindow.SITE_TOPIC_SET_TITLE="setTitle";
_1.GadgetWindow.AFTER_ADJUST_WIDTH="afterAdjustWidth";
_1.GadgetWindow.AFTER_ADJUST_HEIGHT="afterAdjustHeight";
_1.GadgetWindow.SET_PREFS="setPrefs";
_1.getSiteTopic=function(_3,_4){
return _2+"site/"+_3+"/"+_4;
};
_1.getLifecycleEventTopic=function(_5){
return _2+_5;
};
_1.getMasterLifecycleTopic=function(){
return _2+"lifecycle";
};
return _1;
})();
}


;if(!dojo._hasResource["lconn.core.util.jsonCompat"]){
dojo._hasResource["lconn.core.util.jsonCompat"]=true;
dojo.provide("lconn.core.util.jsonCompat");
var JSON;
if(!JSON){
JSON={};
}
(function(){
"use strict";
function f(n){
return n<10?"0"+n:n;
};
if(typeof Date.prototype.toJSON!=="function"){
Date.prototype.toJSON=function(_1){
return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;
};
String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(_2){
return this.valueOf();
};
}
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_3=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_4,_5,_6={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"},_7;
function _8(_9){
_3.lastIndex=0;
return _3.test(_9)?"\""+_9.replace(_3,function(a){
var c=_6[a];
return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);
})+"\"":"\""+_9+"\"";
};
function _a(_b,_c){
var i,k,v,_d,_e=_4,_f,_10=_c[_b];
if(_10&&typeof _10==="object"&&typeof _10.toJSON==="function"){
_10=_10.toJSON(_b);
}
if(typeof _7==="function"){
_10=_7.call(_c,_b,_10);
}
switch(typeof _10){
case "string":
return _8(_10);
case "number":
return isFinite(_10)?String(_10):"null";
case "boolean":
case "null":
return String(_10);
case "object":
if(!_10){
return "null";
}
_4+=_5;
_f=[];
if(Object.prototype.toString.apply(_10)==="[object Array]"){
_d=_10.length;
for(i=0;i<_d;i+=1){
_f[i]=_a(i,_10)||"null";
}
v=_f.length===0?"[]":_4?"[\n"+_4+_f.join(",\n"+_4)+"\n"+_e+"]":"["+_f.join(",")+"]";
_4=_e;
return v;
}
if(_7&&typeof _7==="object"){
_d=_7.length;
for(i=0;i<_d;i+=1){
if(typeof _7[i]==="string"){
k=_7[i];
v=_a(k,_10);
if(v){
_f.push(_8(k)+(_4?": ":":")+v);
}
}
}
}else{
for(k in _10){
if(Object.prototype.hasOwnProperty.call(_10,k)){
v=_a(k,_10);
if(v){
_f.push(_8(k)+(_4?": ":":")+v);
}
}
}
}
v=_f.length===0?"{}":_4?"{\n"+_4+_f.join(",\n"+_4)+"\n"+_e+"}":"{"+_f.join(",")+"}";
_4=_e;
return v;
}
};
if(typeof JSON.stringify!=="function"){
JSON.stringify=function(_11,_12,_13){
var i;
_4="";
_5="";
if(typeof _13==="number"){
for(i=0;i<_13;i+=1){
_5+=" ";
}
}else{
if(typeof _13==="string"){
_5=_13;
}
}
_7=_12;
if(_12&&typeof _12!=="function"&&(typeof _12!=="object"||typeof _12.length!=="number")){
throw new Error("JSON.stringify");
}
return _a("",{"":_11});
};
}
if(typeof JSON.parse!=="function"){
JSON.parse=function(_14,_15){
var j;
function _16(_17,key){
var k,v,_18=_17[key];
if(_18&&typeof _18==="object"){
for(k in _18){
if(Object.prototype.hasOwnProperty.call(_18,k)){
v=_16(_18,k);
if(v!==undefined){
_18[k]=v;
}else{
delete _18[k];
}
}
}
}
return _15.call(_17,key,_18);
};
_14=String(_14);
cx.lastIndex=0;
if(cx.test(_14)){
_14=_14.replace(cx,function(a){
return "\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);
});
}
if(/^[\],:{}\s]*$/.test(_14.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){
j=eval("("+_14+")");
return typeof _15==="function"?_16({"":j},""):j;
}
throw new SyntaxError("JSON.parse");
};
}
}());
}

dojo.provide("com.ibm.social.gadget.nls.i18n")._built=true;
dojo.provide("com.ibm.social.gadget.nls.i18n.en");
com.ibm.social.gadget.nls.i18n.en={"This is a link to the profile of ${0}":"This is a link to the profile of ${0}","Photo of ${0}":"Photo of ${0}"};
if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.social.gadget"]=true;

;if(!dojo._hasResource["com.ibm.social.gadget.people.util.localizer"]){
dojo._hasResource["com.ibm.social.gadget.people.util.localizer"]=true;
dojo.provide("com.ibm.social.gadget.people.util.localizer");




dojo.requireLocalization("com.ibm.social.gadget","i18n");
(function(){
var _1=function(_2,_3){
var _4=dojo.i18n.getLocalization("com.ibm.social.gadget","i18n");
_1=function(_5,_6){
var _7=_4[_5];
return (_6)?dojo.string.substitute(_7,_6):_7;
};
return _1(_2,_3);
};
dojo.declare("",null,{constructor:function(){
dojo.i18n.getLocalization("com.ibm.social.gadget","i18n");
}});
dojo.declare("com.ibm.social.gadget.people.util.localizer",null,{getLocalizedString:function(_8,_9){
return _1(_8,_9);
}});
})();
}


;if(!dojo._hasResource["com.ibm.social.gadget.people._vcard_utils"]){
dojo._hasResource["com.ibm.social.gadget.people._vcard_utils"]=true;
dojo.provide("com.ibm.social.gadget.people._vcard_utils");






com.ibm.social.gadget.people._vcard_utils=(function(){
var _1=typeof lconn.core.config.services.profiles==="undefined"&&!(dojo.getObject("gadgets.util.hasFeature")&&dojo.getObject("gadgets.util.hasFeature")("smartcloud3"));
var _2=dojo.declare("",[com.ibm.social.gadget.people.util.localizer],{finalize_plain_vcards:function(_3){
if(_1){
this.killLinks_(_3);
}else{
}
return _3;
},finalize_biz_vcards:function(_4){
dojo.query("a.fn",_4).forEach(function(_5){
_5.removeAttribute("title");
});
SemTagSvc.parseDom(null,_4);
return _4;
},killLinks_:function(_6){
dojo.query("a.fn",_6).forEach(function(_7){
_7.removeAttribute("href");
_7.removeAttribute("target");
_7.removeAttribute("title");
dojo.style(_7,{"textDecoration":"none","cursor":"default"});
});
},generateVcard:function(_8,_9,_a,_b){
_b=_b||{"inline":false};
var _c=lconn.core.url.getServiceUrl(lconn.core.config.services.profiles);
var _d=this.getLocalizedString("Photo of ${0}",[_9]);
var _e=this.getLocalizedString("This is a link to the profile of ${0}",[_9]);
var _f=_c+"/html/profileView.do?userid="+_8;
var _10=dojo.create("span",{className:"vcard"});
_10=dojo.place(_10,_a.refNode,_a.relPos);
var _11=dojo.create("a",{href:_f,title:_e,className:"fn url bidiAware",target:this.linkTarget,innerHTML:_9},_10);
dojo.create("span",{className:"photo",src:_c+"/photo.do?userid="+_8,alt:_d,style:{display:"none"}},_11);
dojo.create("span",{className:"x-lconn-userid",style:{display:"none"},innerHTML:_8},_10);
if(_b.inline&&typeof window.SemTagSvc!=="undefined"){
return this.finalize_biz_vcards(_10);
}else{
return this.finalize_plain_vcards(_10);
}
}});
return new _2();
})();
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.people_container"]){
dojo._hasResource["com.ibm.lconn.gadget.services.people_container"]=true;
dojo.provide("com.ibm.lconn.gadget.services.people_container");








com.ibm.lconn.gadget.services.people_container=(function(){
var _1=dojo.declare("",[com.ibm.social.gadget.people.util.localizer],{generateVcard:function(_2,_3,_4){
var _5=lconn.core.url.getServiceUrl(lconn.core.config.services.profiles);
var _6=this.getLocalizedString("Photo of ${0}",[_3]);
var _7=this.getLocalizedString("This is a link to the profile of ${0}",[_3]);
var _8=_5+"/html/profileView.do?userid="+_2;
var _9=dojo.create("span",{className:"vcard"});
_9=dojo.place(_9,_4.refNode,_4.relPos);
var _a=dojo.create("a",{href:_8,title:_7,className:"fn url",target:this.linkTarget,innerHTML:_3},_9);
dojo.create("span",{className:"photo",src:_5+"/photo.do?userid="+_2,alt:_6,style:{display:"none"}},_a);
dojo.create("span",{className:"x-lconn-userid",style:{display:"none"},innerHTML:_2},_9);
return _9;
}});
return new _1();
})();
}

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.social.sharebox"]=true;

;if(!dojo._hasResource["com.ibm.social.sharebox._dialog_utils"]){
dojo._hasResource["com.ibm.social.sharebox._dialog_utils"]=true;
dojo.provide("com.ibm.social.sharebox._dialog_utils");
if(!com.ibm.social.sharebox._dialog_utils.getInstance){
dojo.mixin(com.ibm.social.sharebox._dialog_utils,(function(){
var _1;
function _2(){
return {close:function(){
},displayMessage:function(_3,_4){
},displayMessageHtml:function(_5,_6){
},shareAddActivityEntry:function(_7){
},setDirty:function(_8,_9){
},setSubmitState:function(_a){
},onClose:function(){
},onForceResize:function(){
}};
};
return {getInstance:function(){
if(!_1){
_1=_2();
}
return _1;
}};
})());
}
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.resources.iRuntimeModule"]){
dojo._hasResource["com.ibm.lconn.gadget.resources.iRuntimeModule"]=true;
dojo.provide("com.ibm.lconn.gadget.resources.iRuntimeModule");






}


;if(!dojo._hasResource["com.ibm.lconn.gadget.container.Views"]){
dojo._hasResource["com.ibm.lconn.gadget.container.Views"]=true;
dojo.provide("com.ibm.lconn.gadget.container.Views");
dojo.declare("com.ibm.lconn.gadget.container.Views",null,{registerCreateElementGadgetHandler:function(_1,_2,_3){
},registerCreateElementForEEHandler:function(_4,_5,_6){
},registerCreateElementForUrlHandler:function(_7,_8,_9){
}});
dojo.mixin(com.ibm.lconn.gadget.container.Views,{__instance__:function(){
}});
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.util.domStore"]){
dojo._hasResource["com.ibm.lconn.gadget.util.domStore"]=true;
dojo.provide("com.ibm.lconn.gadget.util.domStore");
com.ibm.lconn.gadget.util.domStore=(function(){
var _1=[0],_2="data-iContainer-data-"+ +new Date();
return function(_3){
var _4=dojo.attr(_3,_2),_5=_1.length;
if(!_4){
_4=_5;
dojo.attr(_3,_2,_5);
_1[_4]={};
}
return {get:function(_6){
return _1[_4][_6];
},set:function(_7,_8){
_1[_4][_7]=_8;
return _8;
}};
};
})();
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.ViewHandler"]){
dojo._hasResource["com.ibm.lconn.gadget.services.ViewHandler"]=true;
dojo.provide("com.ibm.lconn.gadget.services.ViewHandler");


(function(_1,_2){
var _3="_____NULL_____";
var _4="data-iContainer-destroy-handler";
function _5(_6){
if(!_6||_6===""){
return _3;
}else{
return _6;
}
};
function _7(_8){
return _8.el_;
};
_1.declare("com.ibm.lconn.gadget.services.ViewHandler",null,{_registry:null,_handledMethod:null,constructor:function(_9){
this._registry={};
this._handledMethod=_9;
},registerHandler:function(_a,_b,_c){
_a=_5(_a);
var _d={"createHandler":_b,"destroyHandler":_c};
this._registry[_a]=_d;
},invokeCreate:function(_e,_f,_10){
_f=_5(_f);
var _11=this._registry,_12=_11[_f]||_11[_3];
_13=null;
if(_12){
var _13=_12.createHandler.apply(_e,_10);
_2(_13).set(_4,_12.destroyHandler);
return _13;
}else{
throw "Unknown view target for "+this._handledMethod+": "+_f;
}
}});
_1.mixin(com.ibm.lconn.gadget.services.ViewHandler,{invokeDestroy:function(_14,_15,_16){
var _17=_7(_15),_18=_2(_17).get(_4);
if(_18){
_18.apply(_14,_16);
}else{
throw "Could not find handler method";
}
}});
})(dojo,com.ibm.lconn.gadget.util.domStore);
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.ViewContainer"]){
dojo._hasResource["com.ibm.lconn.gadget.services.ViewContainer"]=true;
dojo.provide("com.ibm.lconn.gadget.services.ViewContainer");




(function(_1,_2,_3){
var _4=_1.declare("com.ibm.lconn.gadget.services.ViewContainer",[_2],{_createForGadgetRegistry:null,_createForEERegistry:null,_createForUrlRegistry:null,_container:null,constructor:function(){
this._createForGadgetRegistry=new _3("createElementForGadget");
this._createForEERegistry=new _3("createElementForEmbeddedExperience");
this._createForUrlRegistry=new _3("createElementForUrl");
},registerCreateElementGadgetHandler:function(_5,_6,_7){
return this._createForGadgetRegistry.registerHandler(_5,_6,_7);
},registerCreateElementForEEHandler:function(_8,_9,_a){
return this._createForEERegistry.registerHandler(_8,_9,_a);
},registerCreateElementForUrlHandler:function(_b,_c,_d){
return this._createForUrlRegistry.registerHandler(_b,_c,_d);
},bindContainer:function(_e){
this._container=_e;
},createElementForGadget:function(_f,rel,_10,_11,_12,_13){
return this._createForGadgetRegistry.invokeCreate(this._container,_11,arguments);
},createElementForEmbeddedExperience:function(rel,_14,_15,_16,_17){
return this._createForEERegistry.invokeCreate(this._container,_15,arguments);
},createElementForUrl:function(rel,_18,_19,_1a){
return this._createForUrlRegistry.invokeCreate(this._container,_18,arguments);
},destroyElement:function(_1b){
return _3.invokeDestroy(this._container,_1b,arguments);
}});
var _1c=new _4();
_2.__instance__=function(){
return _1c;
};
})(dojo,com.ibm.lconn.gadget.container.Views,com.ibm.lconn.gadget.services.ViewHandler);
}

dojo.provide("com.ibm.lconn.gadget.nls.gadgetDialogStrings")._built=true;
dojo.provide("com.ibm.lconn.gadget.nls.gadgetDialogStrings.en");
com.ibm.lconn.gadget.nls.gadgetDialogStrings.en={"cancel":{"a11y":"Cancel","label":"Cancel","tooltip":"Cancel"}};

;dojo.cache("com.ibm.lconn.gadget", "services/dialog/templates/GadgetDialog.html", "<div aria-live=\"assertive\"><div id=\"${id}_dialog\" role=\"dialog\" aria-labelledby=\"${gadgetNodeId}_title\"> <div class=\"lotusDialogBorder\"> <div class=\"lotusDialog\"> <div class=\"lotusDialogHeader\"> <h1 dojoAttachPoint=\"titleNode\" id=\"${gadgetNodeId}_title\" class=\"lotusHeading\">${gadgettitle}</h1> <a class=\"lotusDialogClose\" role=\"button\" href=\"javascript:;\" dojoAttachEvent=\"onclick:closeDialog\" title=\"${nlsCommon.rs_close}\"> <img alt=\"${nlsCommon.rs_close}\" src=\"${blankGif}\" /> <span class=\"lotusAltText\">${nlsCommon.rs_close}</span> </a> </div> <div class=\"lotusDialogContent\" id=\"${gadgetNodeId}\" dojoAttachPoint=\"gadgetNode\" style=\"padding-right:0px;padding-bottom:0px;overflow:auto;width:${gadgetwidth};height:${gadgetheight};\">gadget goes here</div> </div> </div></div></div>");

;if(!dojo._hasResource["com.ibm.lconn.gadget.services.dialog.GadgetDialog"]){
dojo._hasResource["com.ibm.lconn.gadget.services.dialog.GadgetDialog"]=true;
dojo.provide("com.ibm.lconn.gadget.services.dialog.GadgetDialog");










dojo.requireLocalization("com.ibm.lconn.gadget","gadgetDialogStrings");
dojo.requireLocalization("lconn.core","strings");
dojo.declare("com.ibm.lconn.gadget.services.dialog.GadgetDialog",[dijit._Widget,dijit._Templated],{blankGif:"",_extents:{"height":300,"width":700},nlsCommon:dojo.i18n.getLocalization("lconn.core","strings"),templatePath:dojo.moduleUrl("com.ibm.lconn.gadget","services/dialog/templates/GadgetDialog.html"),popup:null,_setExtentStyle:function(_1,_2){
var _3="gadget"+_1;
if((typeof (_2)!="undefined")&&(_2!=null)){
var _4=_2["modulePrefs"][_1];
if(_4!=0){
this._extents[_1]=_4;
}
}
this[_3]=this._extents[_1]+"px";
},constructor:function(_5){
var _6=function(_7,_8){
var _9="gadgettitle";
if(typeof _8!="undefined"){
var _a=_8["modulePrefs"]["title"];
this[_9]=_a!==""?_a:_7;
}else{
this[_9]=_7;
}
};
_6.apply(this,["Gadget Dialog",_5.gadget_metadata]);
this._setExtentStyle("width",_5.gadget_metadata);
this._setExtentStyle("height",_5.gadget_metadata);
this.inherited(arguments);
},postMixInProperties:function(){
this.blankGif=dojo.config.blankGif;
this.inherited(arguments);
this.nls=dojo.i18n.getLocalization("com.ibm.lconn.gadget","gadgetDialogStrings");
},postCreate:function(){
this._subscribeAll();
},_subscribeAll:function(){
var _b=com.ibm.lconn.gadget.container.Topics.getSiteTopic(this.gadgetNodeId,com.ibm.lconn.gadget.container.Topics.GadgetWindow.SITE_TOPIC_SET_TITLE);
this.subscribe(_b,"onGadgetTitleUpdated");
_b=com.ibm.lconn.gadget.container.Topics.getSiteTopic(this.gadgetNodeId,com.ibm.lconn.gadget.container.Topics.GadgetWindow.AFTER_ADJUST_WIDTH);
this.subscribe(_b,"onWidthUpdated");
_b=com.ibm.lconn.gadget.container.Topics.getSiteTopic(this.gadgetNodeId,com.ibm.lconn.gadget.container.Topics.GadgetWindow.AFTER_ADJUST_HEIGHT);
this.subscribe(_b,"onHeightUpdated");
_b=com.ibm.lconn.gadget.container.Topics.getLifecycleEventTopic(osapi.container.CallbackType.ON_RENDER);
this.subscribe(_b,"onGadgetLoaded");
},show:function(){
if(this.popup==null){
this.popup=new dijit.Dialog();
}
this.popup.attr({content:this.domNode,title:""});
this.popup.show();
},_updateStyles:function(){
this.popup.layout();
try{
dojo.style(this.gadgetNode,"overflow",null);
}
catch(e){
}
var _c=dojo.style(this.popup.containerNode,"height");
var _d=dojo.style(this.popup.containerNode,"width");
if(_c<this._extents["height"]){
dojo.style(this.gadgetNode,"height","auto");
dojo.style(this.popup.containerNode,"height","auto");
if(!dojo.isIE){
if(dojo.isSafari){
dojo.style(this.gadgetNode,"height",this._extents.height+"px");
}else{
dojo.style(this.gadgetNode,"height","auto");
}
dojo.style(this.popup.containerNode,"overflow","visible");
}else{
dojo.style(this.popup.containerNode,"height",(this._extents.height+67)+"px");
dojo.style(this.popup.containerNode,"overflow","visible");
}
}
if(_d<this._extents["width"]){
dojo.style(this.popup.containerNode,"width","auto");
if(!dojo.isIE){
dojo.style(this.gadgetNode,"width","auto");
dojo.style(this.popup.containerNode,"overflow","visible");
}else{
dojo.style(this.popup.containerNode,"width",(this._extents.width+25)+"px");
dojo.style(this.popup.containerNode,"overflow","visible");
}
}
},hide:function(){
this.popup.hide();
},destroy:function(){
this.inherited(arguments);
},onGadgetTitleUpdated:function(_e){
this.titleNode.innerHTML=_e;
},onWidthUpdated:function(_f){
this._extents.width=dojo.style(dojo.query("iframe",this.gadgetNode)[0],"width");
this._updateStyles();
},onHeightUpdated:function(_10){
this._extents.height=dojo.style(dojo.query("iframe",this.gadgetNode)[0],"height");
this._updateStyles();
},onGadgetLoaded:function(_11,_12){
if(dojo.isIE&&_12==this.gadgetNodeId){
if(_12===this.gadgetNodeId){
var _13=dojo.query("iframe",dojo.byId(_12))[0];
if(_13){
if(dojo.attr(_13,"scrolling")=="no"){
dojo.attr(_13,"scrolling","auto");
}
}
}
}
var _13=dojo.query("iframe",this.gadgetNode)[0];
if(_13){
dojo.style(_13,"maxHeight","300px");
dojo.style(this.gadgetNode,{"height":"auto","width":"auto"});
this._updateStyles();
if(dojo.query("iframe",this.gadgetNode).length>0){
dojo.query("iframe",this.gadgetNode)[0].setAttribute("role","presentation");
}
}
},closeDialog:function(){
this.hide();
}});
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.util.specHelper"]){
dojo._hasResource["com.ibm.lconn.gadget.util.specHelper"]=true;
dojo.provide("com.ibm.lconn.gadget.util.specHelper");






com.ibm.lconn.gadget.util.specHelper=(function(_1){
var _2={},_3=dojo.global.location.toString(),_4=function(){
},_5=dojo.global;
var _6=function(_7){
if(_7){
if(dojo.isString(_7)){
return function(){
(_5[_7]||_4).apply(null,arguments);
};
}else{
return _7;
}
}else{
return _4;
}
};
var _8=_2.nextDomId=function(){
return "gadget_"+dojox.uuid.generateRandomUuid();
};
var _9=function(_a){
var _b=_a.placement;
if(_b&&!dojo.isString(_b)){
if(!_b.id){
_b.id=_8();
}
}
};
var _c=function(_d){
return (_d&&_d.instanceData&&_d.instanceData.renderType&&_d.instanceData.renderType==="inline");
};
var _e=_2.isGadget=function(_f){
return (_f&&_f.componentType&&_f.componentType==="gadget");
};
var _10=_2.isEEGadget=function(_11){
return (_e(_11)&&_11.instanceData&&_11.instanceData.eeDataModel);
};
var _12=_2.isInlineEE=function(_13){
return (_10(_13)&&_c(_13));
};
var _14=_2.isInlineGadget=function(_15){
return (_e(_15)&&_c(_15));
};
var _16=_2.normalizeWidgetSpec=function(_17){
var _18=null,_19=null,_1a=null,_1b=null;
_17.definitionUrl=_1.parse(_3,_17.definitionUrl).toString();
_18=_17.instanceData||(_17.instanceData={});
if(_12(_17)){
throw "Inline EE gadgets are not permitted. Attempted to load: "+_17.definitionUrl;
}
if(_e(_17)){
_18=_17.instanceData||(_17.instanceData={});
_19=_18.renderParams||(_18.renderParams={});
var _1c=_19.userPrefs||(_19.userPrefs={});
if(lconn.core.globalization.api){
_1c["lconn.core.globalization.api.calendar"]=lconn.core.globalization.api.getCalendar();
_1c["lconn.core.globalization.api.textDirection"]=lconn.core.globalization.api.getTextDirection();
_1c["lconn.core.globalization.api.bidiEnabled"]=lconn.core.globalization.api.isBidiEnabled();
}
if(dojo.config.isDebug){
_19[com.ibm.lconn.gadget.container.Container.RenderParam.TEST_MODE]=true;
}
}
_9(_17);
_18.errback=_6(_17.errback);
return _17;
};
var _1d=_2.cloneSpec=function(_1e){
if(!_1e){
return _1e;
}
var _1f={};
for(var key in _1e){
if(key==="placement"){
var val=_1e[key];
if(!dojo.isString(val)){
val=dojo.byId(val).id;
}
_1f[key]=val;
}else{
_1f[key]=_1e[key];
}
}
return _1f;
};
return _2;
})(lconn.core.url);
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.util.trace"]){
dojo._hasResource["com.ibm.lconn.gadget.util.trace"]=true;
dojo.provide("com.ibm.lconn.gadget.util.trace");
com.ibm.lconn.gadget.util.trace=(function(){
var _1={},_2=dojo.global,_3=null,_4=null;
if(!_2.console){
_4={log:function(){
}};
}else{
_4=console;
}
if(dojo.isFunction(_4.log)&&_4.log.apply){
_3=function(_5){
return dojo.hitch(_4,_4[_5]);
};
}else{
_3=function(_6){
return function(){
_4[_6](Array.prototype.slice.call(arguments));
};
};
}
dojo.forEach(["log","debug","warn","error"],function(_7){
if(_2.console&&(_7!=="debug"||dojo.config.isDebug===true)){
_1[_7]=(_4[_7])?_3(_7):_3("log");
}else{
_1[_7]=function(){
};
}
});
_1.entering=function(_8,_9,_a){
if(!_a){
_1.debug("ENTER: "+_8+"."+_9);
}else{
_1.debug("ENTER: "+_8+"."+_9);
}
};
_1.exiting=function(_b,_c,_d){
if(!_d){
_1.debug("EXITING: "+_b+"."+_c);
}else{
_1.debug("EXITING: "+_b+"."+_c);
}
};
_1.throwing=function(_e,_f,_10){
if(!_10){
_1.debug("THOWING: "+_e+"."+_f);
}else{
_1.debug("THOWING: "+_e+"."+_f+" -- ERROR: "+dojo.toJson(_10));
}
};
return _1;
})();
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.viewModifications"]){
dojo._hasResource["com.ibm.lconn.gadget.services.viewModifications"]=true;
dojo.provide("com.ibm.lconn.gadget.services.viewModifications");














com.ibm.lconn.gadget.services.viewModifications=(function(_1,_2){
var _3={};
var _4=com.ibm.lconn.gadget.container.Views.__instance__();
var _5=com.ibm.lconn.gadget.util.specHelper.nextDomId;
var _6=function(_7,_8){
var _9=osapi.container.GadgetSite.prototype[_7];
osapi.container.GadgetSite.prototype[_7]=function(){
_9.apply(this,arguments);
var _a=com.ibm.lconn.gadget.container.Topics.getSiteTopic(this.getId(),com.ibm.lconn.gadget.container.Topics.GadgetWindow[_8]);
dojo.publish(_a,Array.prototype.slice.call(arguments,0));
};
};
_3.registerService=function(_b){
var _c=_b.views;
_4.bindContainer(_b);
_c.createElementForGadget=dojo.hitch(_4,"createElementForGadget");
_c.createElementForEmbeddedExperience=dojo.hitch(_4,"createElementForEmbeddedExperience");
_c.createElementForUrl=dojo.hitch(_4,"createElementForUrl");
_c.destroyElement=dojo.hitch(_4,"destroyElement");
_b.rpcRegister("requestNavigateTo",function(_d,_e,_f,_10){
var _11=_d.gs;
var _12=_11.currentGadgetHolder_.gadgetInfo_.url;
var _13=_11.currentGadgetHolder_.renderParams_||{};
_13.view=_e;
var _14={};
if(_f){
if(dojo.isObject(_f)){
dojo.mixin(_14,_f);
}else{
if(dojo.isString(_f)){
dojo.mixin(_14,_1.splitQuery(_f));
}else{
_2.log("opt_params passed to gadgets.views.requestNavigateTo could not be processed.",_f);
}
}
}
_b.navigateGadget(_11,_12,_14,_13,null);
});
_6("setHeight","AFTER_ADJUST_HEIGHT");
_6("setWidth","AFTER_ADJUST_WIDTH");
};
_4.registerCreateElementGadgetHandler(null,_15,_16);
_4.registerCreateElementForEEHandler(null,_17,_16);
_4.registerCreateElementForUrlHandler(null,_18,_16);
function _15(_19,rel,_1a,_1b,_1c,_1d){
var _1e=_1a||"default";
var _1f=_1b||"default";
switch(_1f.toLowerCase()){
case "modaldialog":
return _20(this,true,_1e,true,_19);
break;
default:
return _20(this,true,_1e,true,_19);
}
};
function _17(rel,_21,_22,_23,_24){
return _20(this,true,"embedded",true);
};
function _18(rel,_25,_26,_27){
return _17.apply(this,arguments);
};
function _16(_28){
_29(this,_28);
};
function _20(_2a,_2b,_2c,_2d,_2e,_2f){
var _30=_5();
var _31={"id":"gadget_dialog_"+_30,"gadgetNodeId":_30,"gadget_metadata":_2e};
var _32=new com.ibm.lconn.gadget.services.dialog.GadgetDialog(_31);
_32.closeDialog=function(){
var _33=dojo.attr(dojo.query("#"+_30+">iframe")[0],"id");
_16.call(_2a,_2a.getGadgetSiteByIframeId_(_33));
};
_32.show();
return _32.gadgetNode;
};
function _29(_34,_35){
var _36=_35.el_.id;
var _37="gadget_dialog_"+_36;
_34.closeGadget(_35);
var _38=dijit.byId(_37);
if(_38){
_38.hide();
_38.destroyRecursive();
}
};
return _3;
})(lconn.core.url,com.ibm.lconn.gadget.util.trace);
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.lifecycleModifications"]){
dojo._hasResource["com.ibm.lconn.gadget.services.lifecycleModifications"]=true;
dojo.provide("com.ibm.lconn.gadget.services.lifecycleModifications");
com.ibm.lconn.gadget.services.lifecycleModifications=(function(){
var _1={};
_1.registerService=function(_2){
var _3,_4,_5;
_3=com.ibm.lconn.gadget.container.Topics.getMasterLifecycleTopic();
_4={};
_5=function(_6,_7){
var _8=com.ibm.lconn.gadget.container.Topics.getLifecycleEventTopic(_6);
return function(){
dojo.publish(_8,arguments);
dojo.publish(_7,arguments);
};
};
for(var _9 in osapi.container.CallbackType){
_4[osapi.container.CallbackType[_9]]=_5(osapi.container.CallbackType[_9],_3);
}
_2.addGadgetLifecycleCallback("lconn_gadget_lifecycle_publisher",_4);
};
return _1;
})();
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.set_title"]){
dojo._hasResource["com.ibm.lconn.gadget.services.set_title"]=true;
dojo.provide("com.ibm.lconn.gadget.services.set_title");




com.ibm.lconn.gadget.services.set_title=(function(_1){
var _2={};
_2.registerService=function(_3){
_3.rpcRegister("set_title",function(_4,_5){
var _6,_7;
if(_4.gs&&_4.gs.id_){
var _8=com.ibm.lconn.gadget.container.Topics.getSiteTopic(_4.gs.id_,com.ibm.lconn.gadget.container.Topics.GadgetWindow.SITE_TOPIC_SET_TITLE);
dojo.publish(_8,[_5]);
_7=document.getElementById(_4.gs.id_);
if(_7.title){
_7.title=_5;
}
}else{
_1.log("looks like you're trying to set the title on an inline gadget, you need to use a better rpc call");
_1.log("try gadgets.rpc.call('', 'set_title', null, {'mid':__MODULE_ID__})");
}
});
};
return _2;
})(com.ibm.lconn.gadget.util.trace);
}

dojo.provide("com.ibm.lconn.gadget.nls.iframeDialogStrings")._built=true;
dojo.provide("com.ibm.lconn.gadget.nls.iframeDialogStrings.en");
com.ibm.lconn.gadget.nls.iframeDialogStrings.en={"dialogTitle":"OAuth Authorization"};

;if(!dojo._hasResource["com.ibm.lconn.gadget.services.dialog.IframeDialog"]){
dojo._hasResource["com.ibm.lconn.gadget.services.dialog.IframeDialog"]=true;
dojo.provide("com.ibm.lconn.gadget.services.dialog.IframeDialog");


dojo.requireLocalization("com.ibm.lconn.gadget","iframeDialogStrings");
dojo.declare("com.ibm.lconn.gadget.services.dialog.IframeDialog",null,{nls:dojo.i18n.getLocalization("com.ibm.lconn.gadget","iframeDialogStrings"),_w:500,_h:500,_url:"",_ifElement:null,_dialog:null,_wRegex:/width=(\d+)/,_hRegex:/height=(\d+)/,isAuto:null,constructor:function(_1,_2,_3){
this._url=_1;
this.isAuto=_3;
if(_2){
var _4,_5;
if(_4=_2.match(this._wRegex)){
this._w=_4[1];
}
if(_5=_2.match(this._hRegex)){
this._h=_5[1];
}
}
},init:function(_6,_7){
if(!this._dialog){
var _8=this._dialog=new dijit.Dialog({title:this.nls.dialogTitle,"class":"lcSharebox"});
var _9=document.createElement("div");
var _a="<iframe";
if(_6){
_a+=" id='"+_6+"'";
_a+=" name='"+_6+"'";
}
_a+="></iframe>";
_9.innerHTML=_a;
var _b=this._ifElement=_9.firstChild;
if(_7){
dojo.attr(_8.containerNode,"id",_7);
}
dojo.attr(_b,"src",this._url);
if(this._w){
_b.style.width=this._w+"px";
}
if(this._h){
_b.style.height=this._h+"px";
}
_8.attr("content",_b);
dojo.connect(_8,"onHide",this,"onClose");
}
},show:function(){
this._dialog.show();
},getWindow:function(){
return this._ifElement.contentWindow;
},hide:function(){
this._dialog.hide();
},destroy:function(){
this._dialog.destroyRecursive(false);
},onClose:function(){
}});
}

dojo.provide("com.ibm.social.ee.nls.socialEEStrings")._built=true;
dojo.provide("com.ibm.social.ee.nls.socialEEStrings.en");
com.ibm.social.ee.nls.socialEEStrings.en={"size":{"B":"${0} B","GB":"${0} GB","MB":"${0} MB","KB":"${0} KB"},"REPLIES_SUBMITTED":{"CONFIRM":"Your reply has been submitted for review and will be available when approved."},"DOWNLOAD_INFO":{"COUNT_SHORT":"${0}-${1}","COUNT":"${0}-${1} of ${2}","PAGE":"Page","ITEMS_PER_PAGE":" items per page.","SHOW_PEOPLE":"See who has downloaded...","ELLIPSIS":"...","NEXT":"Next","PREVIOUS":"Previous","NEXT_TOOLTIP":"Next page","VERSION":{"MONTH":"Version ${version} on ${date}","TODAY":"Version ${version} at ${time}","YESTERDAY":"Version ${version} yesterday","DAY":"Version ${version} on ${date}","YEAR":"Version ${version} on ${date}"},"PREVIOUS_TOOLTIP":"Previous page","FILE":{"ERROR":"Unable to load download information","V_LATEST":"You have downloaded the latest version of this file","V_OLDER":"You last downloaded version ${0} of this file","LOADING":"Loading...","EMPTY":"Anonymous users only"},"SHOW":"Show"},"EE_DIALOG":{"CONFIRM_CLOSE_MESSAGE":"Are you sure you want to abandon your changes? Press OK to continue or Cancel to return","ERROR_MSG_GENERIC":"Something went wrong.  Please try again.","ERROR_MSG_CONTENT_NOT_AVAILABLE":"The content for this item is not available.","TITLE_NI":"${author} invited you to join their network.","AUTHOR_TITLE":"View profile for ${author}","ERROR":"Error","ERROR_MSG_NOT_AVAILABLE":"This item has been deleted or is no longer available.","TITLE_SU":"${author} posted a message.","ERROR_MSG_NO_ACCESS":"You no longer have access to this item.","OPEN_LINK":"Open ${title}","CONFIRM_CLOSE_TITLE":"Confirm","CANCEL":"Cancel","ERROR_ALT_TEXT":"Error:","OK":"OK","LOADING":"Loading..."},"COMMENTS_SUBMITTED":{"OK":"OK","CONFIRM":"Your comment has been submitted for review and will be available when approved.","DIALOG_TITLE":"Submission Confirmation"},"FILE_SHARE_INFO":{"ADD":"Add","READERS_LABEL":"Readers:\xa0","SHARE_WITH":"Share with:","COMMUNITY":"a Community","A11Y_READER_REMOVED":"Removed ${0} as a reader","READER_IF_PUBLIC":"Everyone (public)","INFO_SUCCESS":"The file was shared successfully.","ADD_TXT":"Add people or communities as readers","PLACEHOLDER":"Person name or email...","PERSON":"a Person","SELECT_USER_ERROR":"You must select at least one person or community to share with","SHOW_MORE":"Show more...","EDITORS_LABEL":"Editors:\xa0","EMPTY_READERS":"None","NOT_LOGGED_IN_ERROR":"The file was not shared because you were not logged in.  Click \'Share\' to share the file.","TRIM_LONG_MESSAGE":"Shorten message?","SELF_REFERENCE_ERROR":"You cannot share with yourself.","TOOLTIP":"Give others access to this file","CANCEL_ERROR":"The file was not shared because the request was cancelled.  Click \'Share\' to try again.","ERROR_SHARING":"The file could not be shared.  Please try again later.","MESSAGE":"Message:","VISIBILITY_RESTRICTION_ERROR_SHARE":"A file that is restricted may not be made public.","OWNER_REFERENCE_ERROR":"You cannot share with the owner of the file.","ERROR":"Unable to load share information","OWNER_LABEL":"Owner:\xa0","TIMEOUT_ERROR":"The file was not shared because the server could not be contacted.  Click \'Share\' to try again.","A11Y_READER_ADDED":"Selected ${0} as a reader","READER_IF_PUBLIC_TOOLTIP":"This file is public and visible to everyone","MAX_SHARES_ERROR":"The maximum number of shares has been exceeded.","REMOVE_ITEM_ALT":"Remove ${0}","MESSAGE_TXT":"Add an optional message","CANCEL":"Cancel","NO_MEMBERS":"None","SHARE_COMMUNITY_WARN":"Sharing with the public community \'${0}\' will make this file public.","WARN_LONG_MESSAGE":"The message is too long.","ACCESS_DENIED_ERROR":"You no longer have permission to share this file.","NOT_FOUND_ERROR":"The file has been deleted or is no longer visible to you and cannot be shared.","SHARE":"Share","ERROR_ACCESS_DENIED":"You do not have permission to view this file.  The file is not public and is not shared with you.","ERROR_NOT_FOUND":"The file you have requested has been deleted or moved. If someone sent you this link, check that it is correct."},"repost":{"title":"Repost this update to my followers or communities","msg_generic":"Something went wrong.  Please try again.","name":"Repost","msg_success":"The update was successfully reposted to your followers."},"authUser":{"error":"An error occurred retrieving the current user.  ${again}.","error_403":"You do not have permission to retrieve user information.","error_again":"Please try again","error_404":"Unable to find authenticated user."},"COMMENTS_DELETE":{"DIALOG_TITLE":"Delete Comment","CANCEL":"Cancel","TOOLTIP":"Delete Comment","NAME":"Delete Comment","OK":"OK"},"generic":{"visibility":{"pub":"Public","priv":"Private"},"comments":"Comments","untitled":"(Untitled)","action":{"created":"Created","updated":"Updated"},"timestamp":{"created":{"MONTH":"Created ${MMM} ${d}","TODAY":"Created today at ${time}","YESTERDAY":"Created yesterday at ${time}","DAY":"Created ${EEEE} at ${time}","TOMORROW":"Created ${MMM} ${d}, ${YYYY}","YEAR":"Created ${MMM} ${d}, ${YYYY}"},"updated":{"MONTH":"Updated ${MMM} ${d}","TODAY":"Updated today at ${time}","YESTERDAY":"Updated yesterday at ${time}","DAY":"Updated ${EEEE} at ${time}","TOMORROW":"Updated ${MMM} ${d}, ${YYYY}","YEAR":"Updated ${MMM} ${d}, ${YYYY}"}},"error":"Unable to retrieve data.","tags":"Tags:","titleTooltip":"Navigate to ${app}","tags_more":"and ${0} more","likes":"Likes"},"statusUpdate":{"notifications":{"POST_COMMENT":"${user} wrote:","USER_BOARD_POST":"${user} wrote on your board","STATUS_UPDATE":"${user} posted a message"},"error":"An error occurred.  ${again}.","error_404":"The status update no longer exists.","error_again":"Please try again","createdCompact":{"MONTH":"Created: ${MMM} ${d}","TODAY":"Created: Today at ${time}","YESTERDAY":"Created: Yesterday at ${time}","DAY":"Created: ${EEEE} at ${time}","TOMORROW":"Created: ${MMM} ${d}, ${YYYY}","YEAR":"Created: ${MMM} ${d}, ${YYYY}"}},"VERSIONS":{"REVERT_DESCRIPTION":"Restored from version ${0}","ERROR_REQUEST_UNKNOWN":"An unknown error has occurred.","DELETE_VERSION_SINGLE":"Delete version ${0}","ERROR_REQUEST_CANCELLED":"The request was canceled.","COUNT_SHORT":"${0}-${1}","PAGE":"Page","ITEMS_PER_PAGE":" items per page.","ELLIPSIS":"...","NEXT_TOOLTIP":"Next page","CONTENT":{"DOWNLOAD":"Download","VIEW_TOOLTIP":"View version ${0}","REVERT":{"WIDGET":"Restore this version","A11Y":"This button opens a dialog that allows the user to confirm restoring a file from a previous version. Confirming this action will result in a refresh of the contents on the page.","FULL":"Restore"},"DOWNLOAD_TOOLTIP":"Download this version (${0})","VIEW":"View","DELETE_TOOLTIP":"Delete version ${0}"},"NO_VERSIONS":"There are no versions","CREATE_VERSION_TOOLTIP":"Create a version of this file","ERROR_REQUEST_TIMEOUT":"The server could not be contacted.","PREVIOUS_TOOLTIP":"Previous page","LOADING":"Loading ..","DELETEERROR":"The version was not deleted due to an error.","REVERT_VERSION":"Restore version ${0}","REVERT":{"GENERIC_ERROR":"The version could not be restored because of an unknown error.  Click \'Restore\' again to try your request again.","ERROR_CANCEL":"The version was not restored because the request was canceled.  Click \'Restore\' again to try your request again.","ERROR_QUOTA_VIOLATION":"The version could not be restored because of space restrictions.","ERROR_NAME_EXISTS":"The version could not be restored because another file has the same name.","ERROR_MAX_CONTENT_SIZE":"The version could not be restored because it is larger than the maximum allowed file size of ${0}","ERROR_TIMEOUT":"The version was not restored because the server could not be contacted.  Click \'Restore\' again to try your request again.","ERROR_NOT_FOUND":"The version could not be restored because it has been deleted or is no longer visible to you.","ERROR_ACCESS_DENIED":"The version could not be restored because you are not an editor."},"ERROR":"Unable to load version information.","DELETE":{"GENERIC_ERROR":"The version could not be deleted because of an unknown error.  Click \'Delete\' again to try your request again.","ERROR_CANCEL":"The version was not deleted because the request was canceled.  Click \'Delete\' again to try your request again.","A11Y":"This button opens a dialog that allows the user to confirm the deletion of this version. Confirming this action will result in a refresh of the contents on the page.","ERROR_TIMEOUT":"The version was not deleted because the server could not be contacted.  Click \'Delete\' again to try your request again.","ERROR_NOT_FOUND":"The version could not be deleted because it has been already deleted or is no longer visible to you.","ERROR_ACCESS_DENIED":"The version could not be deleted because you are not an editor.","ERROR_NOT_LOGGED_IN":"You must be logged in to delete this version.  Click \'Delete\' to be prompted to log in.","FULL":"Delete"},"DELETE_ALL":"Delete all versions prior to version","DATE":{"RELATIVE_TIME":{"MONTH":"${date}","TODAY":"Today at ${time}","YESTERDAY":"Yesterday at ${time}","DAY":"${date}","YEAR":"${date_long}","FULL":"${date_long} ${time_long}"},"UPDATED":{"MONTH":"Updated ${date_short}","TODAY":"Updated today at ${time}","YESTERDAY":"Updated yesterday at ${time}","DAY":"Updated ${EEee} at ${time}","YEAR":"Updated ${date_short}","FULL":"${EEEE}, ${date_long} ${time_long}"},"AM":"AM","RELATIVE_TIME_L":{"MONTH":"${date_short} at ${time}","TODAY":"today at ${time}","YESTERDAY":"yesterday at ${time}","DAY":"${EEee} at ${time}","YEAR":"${date_short} at ${time}","FULL":"${EEEE}, ${date_long} ${time_long}"}},"INFO":"Version ${0} created ${1} by ","COUNT":"${0}-${1} of ${2}","VERSION_NUMBER":"Version ${0}","NEXT":"Next","CREATE_VERSION":"Create a new version","PREVIOUS":"Previous","DELETED":"Deleted","SHOW":"Show"},"forum":{"attachments":"${count} Attachments","error_403":"You do not have permission to view this forum. The forum is not public and is not shared with you.","error_404":"The forum no longer exists or you do not have sufficient permissions to access it.","QUESTION_NOT_ANSWERED":"This question has not been answered yet.","QUESTION_ANSWERED":"This question has been answered.","attachments_one":"${count} Attachment","error":"An error occurred.  ${again}.","error_again":"Please try again","readMore":"View full topic...","readMore_a11y":"Activating this link will open the ${name} forum topic in a new window.","readMore_tooltip":"Open the ${name} forum topic."},"THISCOMMENT":{"TAB_TITLE":"This Comment","REPLY_ACTION_TOOLTIP":"Reply to this comment","REPLY_ACTION":"Reply"},"blog":{"error_403":"You do not have permission to view this blog. The blog is not public and is not shared with you.","error_404":"The blog no longer exists or you do not have sufficient permissions to access it.","error":"An error occurred.  ${again}.","graduated":"Graduated","error_again":"Please try again","vote":{"LOADING":"Loading...","TEMPLATE_STRINGS":{"LIKES":"Voted"},"INLINE":{"RECOMMENDED_BYMANY":{"TEXT":"${recommendCount}","TOOLTIP":"${recommendCount} voted for this","READONLYTEXT":"${recommendCount}"},"UNRECOMMENDED":{"TEXT":"\x3ca class=\'lotusLikeAction\' role=\'button\' href=\'javascript:;\' id=\'TOGGLE_${id}\'\x3eVote\x3c/a\x3e","TOOLTIP":"Vote for this","READONLYTEXT":""},"RECOMMENDED_BYONE":{"TEXT":"${recommendCount}","TOOLTIP":"1 person voted for this","READONLYTEXT":"${recommendCount}"},"RECOMMENDED_BYNONE":{"TEXT":"${recommendCount}","TOOLTIP":"0 people voted for this","READONLYTEXT":"${recommendCount}"},"RECOMMENDED":{"TEXT":"\x3cspan class=\'lotusLikeDescription\'\x3eVoted\x3c/span\x3e \x3cspan class=\'lotusDivider\' role=\'presentation\'\x3e-\x3c/span\x3e \x3ca class=\'lotusLikeActions\' role=\'button\' aria-label=\'Voted - Undo\' href=\'javascript:;\' id=\'TOGGLE_${id}\'\x3eUndo\x3c/a\x3e","TOOLTIP":"Remove your vote from this","READONLYTEXT":"\x3cspan class=\'lotusLikeDescription\'\x3eVoted\x3c/span\x3e"}}},"readMore":" Read more ...","readMore_a11y":"Activating this link will open the ${name} blog entry in a new window.","readMore_tooltip":"Open the ${name} blog entry."},"MESSAGE":{"SUCCESS":"Confirmation","HIDE_DETAILS":"Hide details","ERROR":"Error","MORE_DETAILS":"More details","ERROR_ALT_TEXT":"Error:","DISMISS":"Hide this message","WARNING":"Warning","INFO":"Information"},"REPLIES":{"SHOW_FULL_REPLY_TOOLTIP":"Navigate to the original reply in the forum topic","PREV_COMMENTS":"Show More Replies","ADD_COMMENT":"Reply to this topic","REPLY_TITLE":"Re: ${0}","ERROR_CREATE_CANCEL":"Your reply could not be saved because the request was canceled.  Click \'Save\' to try again.","ERROR_CREATE_ACCESS_DENIED":"Your reply could not be saved because the topic has been deleted or is no longer visible to you.","ERROR_CREATE_NOT_FOUND":"Your reply could not be saved because the topic has been deleted or is no longer visible to you.","REPLY_ACTION":"Reply","THIS_TAB_TITLE":"This Reply","ERROR_NO_CONTENT":"Enter your reply and click \'Save.\'  If you no longer want to leave a reply click \'Cancel.\'","NAVIGATE_TO_REPLY":"Navigate to the parent reply","WARN_LONG_COMMENT":"The reply is too long.  ${shorten}","NAVIGATE_TO_TOPIC":"Navigate to the parent topic","REPLY_TO_REPLY":"In reponse to ${thisReply}","SHOW_FULL_REPLY":"View full reply","MODERATION_PENDING":"This reply is pending review.","SHOWING_RECENT_REPLIES":"Showing ${0} most recent replies","ARIA_LABEL":"Replies","THIS_ARIA_LABEL":"This Reply","REPLY_TO_TOPIC":"In response to ${thisTopic}","PLACEHOLDER_TXT":"Reply to this topic","ADD_COMMENT_TOOLTIP":"Reply to this forum topic","MODERATION_REMOVED":{"MONTH":"This reply was removed by ${user} on ${MMM} ${d}.","TODAY":"This reply was removed by ${user} today at ${time}.","YESTERDAY":"This reply was removed by ${user} yesterday at ${time}.","DAY":"This reply was removed by ${user} on ${EEEE} at ${time}.","TOMORROW":"This reply was removed by ${user} on ${MMM} ${d}, ${YYYY}.","YEAR":"This reply was removed by ${user} on ${MMM} ${d}, ${YYYY}."},"ERROR":"An error has occurred while retrieving the replies. ${again}","THIS_REPLY":"this reply","ERROR_CREATE_NOT_LOGGED_IN":"You must be logged in to create this reply.  Click \'Save\' to be prompted to log in.","ERROR_UNAUTHORIZED":"Your reply could not be saved because you are not authorized to leave a reply.","EMPTY":"There are no replies.","THIS_TOPIC":"this topic","TAB_TITLE":"Replies (${0})","REPLY_ACTION_TOOLTIP":"Reply to this post","ERROR_CREATE":"Your reply could not be saved.  Try again later.","ERROR_CREATE_TIMEOUT":"Your reply could not be saved because the server could not be contacted.  Click \'Save\' to try again.","MODERATION_REJECTED":{"MONTH":"This reply was rejected by ${user} on ${MMM} ${d}.","TODAY":"This reply was rejected by ${user} today at ${time}.","YESTERDAY":"This reply was rejected by ${user} yesterday at ${time}.","DAY":"This reply was rejected by ${user} on ${EEEE} at ${time}.","TOMORROW":"This reply was rejected by ${user} on ${MMM} ${d}, ${YYYY}.","YEAR":"This reply was rejected by ${user} on ${MMM} ${d}, ${YYYY}."},"COMMENT_DELETED":{"MONTH":"Reply deleted by ${user} on ${MMM} ${d}","TODAY":"Reply deleted by ${user} today at ${time}","YESTERDAY":"Reply deleted by ${user} yesterday at ${time}","DAY":"Reply deleted by ${user} on ${EEEE} at ${time}","TOMORROW":"Reply deleted by ${user} on ${MMM} ${d}, ${YYYY}","YEAR":"Reply deleted by ${user} on ${MMM} ${d}, ${YYYY}"},"TRIM_LONG_COMMENT":"Shorten reply?","MODERATION_QUARANTINED":"The post has been quarantined by the moderator.","REASON_FOR_DELETION":"Reason for deletion: ${reason}"},"login":{"error":"Your user name and/or password does not match any existing accounts. Please try again.","logIn":"Log In","welcome":"Login to IBM Connections","user":"User name:","password":"Password:"},"common":{"like_error":"Your like could not be saved. Please try again later.","ERROR_ALT":"Error","vote_error":"Your vote could not be saved. Please try again later.","inactiveIndicator":"(inactive)","more":{"label":"More","tooltip":"More Actions"},"inactiveUser":"${user} (inactive)","tags_more":"and ${0} more","PERSON_TITLE":"Open the profile of ${user}."},"ecm_file":{"error_403":"The file was deleted or is no longer shared with you.","error_preview":"The file is no longer available for preview.","error_404":"The file was deleted or is no longer shared with you.","draft_review_canceled":"The review was canceled and the draft is no longer shared with you. Your review is no longer requested.","draft_404_info":"The draft was deleted or is no longer shared with you. The published version is now the latest version of this file.","tooltip":"Open the ${name} file in the library","checkedout_you":"Checked out by you","checkedout_other":"Checked out by ${user}","switch_ee":"View draft","switch_ee_tooltip":"View the latest draft for this file"},"DATE":{"RELATIVE_TIME":{"MONTH":"${date_short}","TODAY":"Today at ${time}","YESTERDAY":"Yesterday at ${time}","TOMORROW":"${date_short}","DAY":"${EEee} at ${time}","YEAR":"${date_short}","FULL":"${EEEE}, ${date_long} ${time_long}"},"ADDED":{"MONTH":"Added ${date_long}","TODAY":"Added today at ${time}","YESTERDAY":"Added yesterday at ${time}","DAY":"Added ${EEee} at ${time}","YEAR":"Added ${date_long}","FULL":"${EEEE}, ${date_long} ${time_long}"},"TODAY":"today","YESTERDAY":"yesterday","COMPACT":{"MONTH":"${date_short}","TODAY":"Today","YESTERDAY":"Yesterday","TOMORROW":"Tomorrow","DAY":"${EEee}","YEAR":"${date_short}","FULL":"${EEEE}, ${date_long} ${time_long}"},"AM":"AM","FULL":"${EEEE}, ${date_long} ${time_long}","LAST_UPDATED":{"MONTH":"Last updated ${date_long}","TODAY":"Last updated today at ${time}","YESTERDAY":"Last updated yesterday at ${time}","DAY":"Last updated ${EEee} at ${time}","YEAR":"Last updated ${date_long}","FULL":"${EEEE}, ${date_long} ${time_long}"},"TODAY_U":"Today","YESTERDAY_U":"Yesterday","UPDATED":{"MONTH":"Updated ${date_long}","TODAY":"Updated today at ${time}","YESTERDAY":"Updated yesterday at ${time}","DAY":"Updated ${EEee} at ${time}","YEAR":"Updated ${date_long}","FULL":"${EEEE}, ${date_long} ${time_long}"},"RELATIVE_TIME_LONG":{"MONTH":"${date_long}","TODAY":"Today at ${time}","YESTERDAY":"Yesterday at ${time}","TOMORROW":"${date_long}","DAY":"${EEee} at ${time}","YEAR":"${date_long}","FULL":"${EEEE}, ${date_long} ${time_long}"},"DATE_ONLY":{"MONTH":"${date_short}","TODAY":"${date_short}","YESTERDAY":"${date_short}","TOMORROW":"${date_short}","DAY":"${date_short}","YEAR":"${date_short}","FULL":"${EEEE}, ${date_long}"},"MONTHS_ABBR":{"11":"DEC","0":"JAN","1":"FEB","2":"MAR","3":"APR","4":"MAY","5":"JUN","6":"JUL","7":"AUG","8":"SEP","9":"OCT","10":"NOV"},"PM":"PM","TIME_ONLY":{"MONTH":"${time}","TODAY":"${time}","YESTERDAY":"${time}","TOMORROW":"${time}","DAY":"${time}","YEAR":"${time}","FULL":"${time_long}"},"DATE_TIME":{"MONTH":"${date_short} at ${time}","TODAY":"${date_short} at ${time}","YESTERDAY":"${date_short} at ${time}","TOMORROW":"${date_short} at ${time}","DAY":"${date_short} at ${time}","YEAR":"${date_short} at ${time}","FULL":"${EEEE}, ${date_long} ${time_long}"}},"network":{"friendsInviteUpdatesDescription":"Receive updates about people you are following on the Home page and in an email summary.","error_404":"The network request no longer exists.","profile_title":"Open the profile of ${user}.","timestamp":{"created":{"MONTH":"${MMM} ${d}","TODAY":"Today at ${time}","YESTERDAY":"Yesterday at ${time}","DAY":"${EEEE} at ${time}","TOMORROW":"${MMM} ${d}, ${YYYY}","YEAR":"${MMM} ${d}, ${YYYY}"}},"error":"An error occurred.  ${again}.","error_again":"Please try again","messages":{"error":{"accept":"There was an error accepting the request.","ignore":"There was an error ignoring the request."},"success":{"accept":{"follow":"You are now network contacts and following ${user}.","nofollow":"You are now network contacts."},"ignore":{"follow":"You have ignored the invitation but are now following ${user}.","nofollow":"You have ignored the invitation."}}},"warning":"Warning","profile_a11y":"Activating this link will open the profile of ${user} in a new window."},"ecm_draft":{"error_403":"You cannot view this draft because it is not shared with you.","error_404":"The draft was deleted or is no longer shared with you.","draft_general_info":"The previous draft no longer exists and a newer draft is now the latest version.","tooltip":"Open the ${name} draft in the library","accept_info":"You approved this draft.","draft_review_request_info":"Your review is requested.","review_required_all":"Community Owners require all reviewers to review this draft.","switch_ee":"View published version","accept_success":"You have approved this draft.","approve":"Approve","reject_info":"You rejected this draft.","reviewers":"Reviewers","reviwers_addtl":"Additional Reviewers","switch_ee_tooltip":"View the published version of this file","review_additional_required":"All reviewers added by the draft submitter are required to review this draft.","accept_error":"There was an error approving this draft. Try again.","approve_tooltip":"Approve this draft","error_preview":"The draft is no longer available for preview.","review_required_any":"Community Owners require one reviewer to review this draft.","pending":"Pending","review":"Review","draft_review_404_require_info":"The previous draft no longer exists and the latest draft was submitted for review. Your review is required.","reject":"Reject","draft":"Draft","reject_success":"You have rejected this draft.","reject_tooltip":"Reject this draft","draft_tooltip":"Viewing draft","pending_rejected":"Review no longer needed because draft was rejected","reject_error":"There was an error rejecting this draft. Try again.","draft_review_404_request_info":"The previous draft no longer exists and the latest draft was submitted for review. Your review is requested.","draft_review_require_info":"Your review is required.","in_review":"Draft in Review","draft_review_404_general_info":"One of the reviewers has already voted. You are no longer requested to review this draft.","in_review_tooltip":"Viewing draft in Review","community_owners":"Community Owners","approved":"Approved","rejected":"Rejected","review_required_generic":"Community Owners require these reviewers to review this draft.","reivew_submitted_date":{"MONTH":"${user} submitted the draft for review on ${MMM} ${d}.","TODAY":"${user} submitted the draft for review today at ${time}.","YESTERDAY":"${user} submitted the draft for review yesterday at ${time}.","DAY":"${user} submitted the draft for review on ${EEEE} at ${time}.","TOMORROW":"${user} submitted the draft for review on ${MMM} ${d}, ${YYYY}.","YEAR":"${user} submitted the draft for review on ${MMM} ${d}, ${YYYY}."}},"COMMENTS":{"PREV_COMMENTS":"Show Previous Comments","ERROR_EDIT":"Your comment could not be updated.  Try again later.","DIALOG_TITLE":"Shorten Comment","ADD_COMMENT":"Add a Comment","PROFILE_TITLE":"Open the profile of ${user}.","ERROR_EDIT_TIMEOUT":"Your comment could not be updated because the server could not be contacted.  Click \'Post\' to try again.","FLAG_ITEM":{"ERROR_SAVING":"There was an error with processing the request. Try again later.","DESCRIPTION_LABEL":"Provide a reason for flagging this item (optional)","SUCCESS_SAVING":"Your flag has been submitted. A moderator will investigate shortly.","ACTION":"Flag as Inappropriate","TITLE":"Flag this item as inappropriate","BUSY":"Saving...","CANCEL":"Cancel","OK":"Save","EDITERROR":"The file\'s metadata was not edited due to an error","COMMENT":{"TITLE":"Flag this comment as inappropriate","A11Y":"This button opens a dialog that allows the user to flag this comment as inappropriate."}},"ERROR_CREATE_CANCEL":"Your comment could not be saved because the request was canceled.  Click \'Post\' to try again.","EDIT":"Edit","NAME":"Shorten Comment","DELETE_CONFIRM":"Are you sure you want to delete this comment?","ERROR_NO_CONTENT":"Enter your comment and click \'Post.\'  If you no longer want to leave a comment click \'Cancel.\'","WARN_LONG_COMMENT":"The comment is too long.  ${shorten}","ERROR_NO_CONTENT_EDIT":"Enter your comment and click \'Post.\'  If you no longer want to edit your comment click \'Cancel.\'","ERROR_EDIT_NOT_FOUND":"Your comment could not be updated because the item has been deleted or is no longer visible to you.","ERROR_EDIT_ACCESS_DENIED":"Your comment could not be updated because the item has been deleted or is no longer visible to you.","ARIA_LABEL":"Comments","COMMENT_CREATED_NOVERSION":{"MONTH":"${user} ${MMM} ${d}","TODAY":"${user} today at ${time}","YESTERDAY":"${user} yesterday at ${time}","DAY":"${user} ${EEEE} at ${time}","TOMORROW":"${user} ${MMM} ${d}, ${YYYY}","YEAR":"${user} ${MMM} ${d}, ${YYYY}"},"POST":"Post","ERROR_AGAIN_TITLE":"Try the request again for more comments.","ERROR_ADDTL":"An error occurred while retrieving additional comments. ${again}","SUBSCRIBE_TO_COMMENTS":"Subscribe to these comments","ADD_COMMENT_TOOLTIP":"Add a comment to this item","MODERATION_REMOVED":{"MONTH":"This comment was removed by ${user} on ${MMM} ${d}.","TODAY":"This comment was removed by ${user} today at ${time}.","YESTERDAY":"This comment was removed by ${user} yesterday at ${time}.","DAY":"This comment was removed by ${user} on ${EEEE} at ${time}.","TOMORROW":"This comment was removed by ${user} on ${MMM} ${d}, ${YYYY}.","YEAR":"This comment was removed by ${user} on ${MMM} ${d}, ${YYYY}."},"COMMENT_EDITED":{"MONTH":"${user} edited ${MMM} ${d} (version ${version})","TODAY":"${user} edited today at ${time} (version ${version})","YESTERDAY":"${user} edited yesterday at ${time} (version ${version})","DAY":"${user} edited ${EEEE} at ${time} (version ${version})","TOMORROW":"${user} edited ${MMM} ${d}, ${YYYY} (version ${version})","YEAR":"${user} edited ${MMM} ${d}, ${YYYY} (version ${version})"},"ERROR_AGAIN":"Try again.","DELETE":"Delete","EMPTY":"There are no comments.","EDIT_TOOLTIP":"Edit comment","DELETEREASON":"Reason for deleting this comment:","COMMENT_COUNT_MANY":"${0} comments","ERROR_ALT":"Error","ERROR_CREATE":"Your comment could not be saved.  Try again later.","ERROR_CREATE_TIMEOUT":"Your comment could not be saved because the server could not be contacted.  Click \'Post\' to try again.","ERROR_EDIT_NOT_LOGGED_IN":"You must be logged in to edit this comment.  Click \'Post\' to be prompted to log in.","ERROR_DELETE_ACCESS_DENIED":"Your comment could not be deleted because the item has been deleted or is no longer visible to you.","ERROR_DELETE_NOT_FOUND":"Your comment could not be deleted because the comment or item has been deleted or is no longer visible to you.","ACTION_NOT_SUPPORTED":"Unsupported Action","COMMENT_EDITED_NOVERSION":{"MONTH":"${user} edited ${MMM} ${d}","TODAY":"${user} edited today at ${time}","YESTERDAY":"${user} edited yesterday at ${time}","DAY":"${user} edited ${EEEE} at ${time}","TOMORROW":"${user} edited ${MMM} ${d}, ${YYYY}","YEAR":"${user} edited ${MMM} ${d}, ${YYYY}"},"SUBSCRIBE_TO_COMMENTS_TOOLTIP":"Follow changes to these comments through your feed reader","YES":"Yes","COMMENT_CREATED":{"MONTH":"${user} ${MMM} ${d} (version ${version})","TODAY":"${user} today at ${time} (version ${version})","YESTERDAY":"${user} yesterday at ${time} (version ${version})","DAY":"${user} ${EEEE} at ${time} (version ${version})","TOMORROW":"${user} ${MMM} ${d}, ${YYYY} (version ${version})","YEAR":"${user} ${MMM} ${d}, ${YYYY} (version ${version})"},"ERROR_CREATE_ACCESS_DENIED":"Your comment could not be saved because the item has been deleted or is no longer visible to you.","ERROR_CREATE_NOT_FOUND":"Your comment could not be saved because the item has been deleted or is no longer visible to you.","VIEW_COMMENTS_FILE":"View comments on this file","PROFILE_A11Y":"Activating this link will open the profile of ${user} in a new window.","DELETE_TOOLTIP":"Delete comment","SHOWMORE":"Read more...","COMMENT_LABEL":"Comment:","ERROR_DELETE_NOT_LOGGED_IN":"You must be logged in to delete this comment.  Click \'Delete\' to be prompted to log in.","OK":"OK","MODERATION_PENDING":"This comment is pending review.","ERROR_DELETE":"Your comment could not be deleted.  Try again later.","TOOLTIP":"Shorten Comment","COMMENT_CREATED_TIME":{"MONTH":"${MMM} ${d}","TODAY":"Today at ${time}","YESTERDAY":"Yesterday at ${time}","DAY":"${EEEE} at ${time}","TOMORROW":"${MMM} ${d}, ${YYYY}","YEAR":"${MMM} ${d}, ${YYYY}"},"ERROR_DELETE_TIMEOUT":"Your comment could not be deleted because the server could not be contacted.  Click \'Delete\' to try again.","PLACEHOLDER_TXT":"Add a comment","ERROR":"An error has occurred while retrieving the comments. ${again}","ERROR_CREATE_NOT_LOGGED_IN":"You must be logged in to create this comment.  Click \'Post\' to be prompted to log in.","ERROR_UNAUTHORIZED":"Your comment could not be saved because you are not authorized to leave a comment.","TAB_TITLE":"Comments (${0})","ERROR_GENERAL":"An error has occurred.","COMMENT_COUNT_ONE":"${0} comment","MODERATION_REJECTED":{"MONTH":"This comment was rejected by ${user} on ${MMM} ${d}.","TODAY":"This comment was rejected by ${user} today at ${time}.","YESTERDAY":"This comment was rejected by ${user} yesterday at ${time}.","DAY":"This comment was rejected by ${user} on ${EEEE} at ${time}.","TOMORROW":"This comment was rejected by ${user} on ${MMM} ${d}, ${YYYY}.","YEAR":"This comment was rejected by ${user} on ${MMM} ${d}, ${YYYY}."},"ERROR_DELETE_CANCEL":"Your comment could not be deleted because the request was canceled.  Click \'Delete\' to try again.","ERROR_EDIT_CANCEL":"Your comment could not be updated because the request was canceled.  Click \'Post\' to try again.","COMMENT_DELETED":{"MONTH":"Comment deleted by ${user} on ${MMM} ${d}","TODAY":"Comment deleted by ${user} today at ${time}","YESTERDAY":"Comment deleted by ${user} yesterday at ${time}","DAY":"Comment deleted by ${user} on ${EEEE} at ${time}","TOMORROW":"Comment deleted by ${user} on ${MMM} ${d}, ${YYYY}","YEAR":"Comment deleted by ${user} on ${MMM} ${d}, ${YYYY}"},"TRIM_LONG_COMMENT":"Shorten comment?","LINK":"Link","CANCEL":"Cancel","SAVE":"Save"},"HISTORY":{"ERROR_ADDTL":"An error occurred while retrieving additional updates. ${again}","ERROR_AGAIN_TITLE":"Try the request again for more updates.","PROFILE_TITLE":"Open the profile of ${user}.","ERROR":"An error has occurred while retrieving the updates. ${again}","ERROR_AGAIN":"Try again.","EMPTY":"Could not retrieve recent updates for this item. It has been deleted or you no longer have access to it.","TAB_TITLE":"Recent Updates","ERROR_ALT":"Error","MORE":"Show Previous Updates","SORTS":{"DATE_TOOLTIP_REVERSE":"Sort from least recent history to most recent updates","DATE_TOOLTIP":"Sort from most recent history to least recent updates","DATE":"Date"},"NO_HISTORY":"There are no recent updates.","TIMESTAMP":{"CREATED":{"MONTH":"${MMM} ${d}","TODAY":"Today at ${time}","YESTERDAY":"Yesterday at ${time}","DAY":"${EEEE} at ${time}","TOMORROW":"${MMM} ${d}, ${YYYY}","YEAR":"${MMM} ${d}, ${YYYY}"}},"SORT_BY":"Sort by:"},"UNSAVEDCHANGES":{"CONFIRM":"Are you sure you want to abandon your changes?  Press OK to continue or Cancel to return.","DIALOG_TITLE":"Confirm","CANCEL":"Cancel","TOOLTIP":"Confirm","NAME":"Confirm","OK":"OK"},"idea":{"readMore_a11y":"Activating this link will open the ${name} idea in a new window.","error_404":"We could not save your vote because you have either reached your voting limit or the idea is no longer available to you.","readMore_tooltip":"Open the ${name} idea."},"OAUTH":{"infoMsg":"Connections needs your authorization to access your data.","authorizeGadget":"${clickHere} to authorize this application to access your Connections information.","clickHere":"Click here","confirmAuthorization":"${clickHere} to confirm that you have authorized this application to access your Connections information.","continueBtnA11y":"Activating this link will open a new window that will allow you to authorize access to Connections.","welcomeHeader":"Welcome to Connections","continueBtnLabel":"Continue"},"OAUTH_FILENET":{"confirmAuthorization":"${clickHere} to confirm that you have authorized this application to access your Connections Library repository information.","infoMsg":"The Connections Library repository needs your authorization to access your data.","continueBtnA11y":"Activating this link will open a new window that will allow you to authorize access to the Connections Library repository.","authorizeGadget":"${clickHere} to authorize this application to access your Connections Library repository information."},"COMMENTS_SHORTEN":{"CONFIRM":"Shortening will remove the text beyond the comment limit.  Click \'OK\' to shorten or \'Cancel\' to edit the comment yourself.","DIALOG_TITLE":"Shorten Comment","CANCEL":"Cancel","TOOLTIP":"Shorten Comment","NAME":"Shorten Comment","OK":"OK"},"file":{"error_403":"You do not have permission to view this file. The file is not public and is not shared with you.","error_404":"The file no longer exists or you do not have sufficient permissions to access it.","profile_title":"Open the profile of ${user}.","tooltip":"Open ${name} in the Files application","notifications":{"USER_SHARED":"${user} wrote:","NO_CHANGE_SUMMARY":"${user} did not provide a change summary","COMMENTED":"${user} commented","CHANGE_SUMMARY":"${user} provided change summary"},"error":"An error occurred.  ${again}.","PREVIEW":{"TITLE":"Preview this file in a new window.","LINK":"Preview"},"download":{"DOWNLOAD_ALT":"Download","TOOLTIP":"Download this file (${size})"},"a11y_help":"Activating this link will open ${name} in a new window.","error_again":"Please try again","download_tooltip":"Download this file (${0})","about":{"ANYUPDATE_TIMESTAMP":"${date_long} ${time_long}","UPDATE_TIMESTAMP":"${date_long} ${time_long} by ${user}","CREATE_TIMESTAMP":"${date_long} ${time_long} by ${user}"},"profile_a11y":"Activating this link will open the profile of ${user} in a new window.","following":{"title":"Toggle whether you will receive updates about this file","remove":"Stop Following","add":"Follow File"},"timestamp":{"updatedCompact":{"MONTH":"Updated: ${MMM} ${d}","TODAY":"Updated: Today at ${time}","YESTERDAY":"Updated: Yesterday at ${time}","DAY":"Updated: ${EEEE} at ${time}","TOMORROW":"Updated: ${MMM} ${d}, ${YYYY}","YEAR":"Updated: ${MMM} ${d}, ${YYYY}"},"createdOther":{"MONTH":"${user} created on ${MMM} ${d}","TODAY":"${user} created today at ${time}","YESTERDAY":"${user} created yesterday at ${time}","DAY":"${user} created on ${EEEE} at ${time}","TOMORROW":"${user} created on ${MMM} ${d}, ${YYYY}","YEAR":"${user} created on ${MMM} ${d}, ${YYYY}"},"created":{"MONTH":"Created ${MMM} ${d}","TODAY":"Created today at ${time}","YESTERDAY":"Created yesterday at ${time}","DAY":"Created ${EEEE} at ${time}","TOMORROW":"Created ${MMM} ${d}, ${YYYY}","YEAR":"Created ${MMM} ${d}, ${YYYY}"},"createdCompact":{"MONTH":"Created: ${MMM} ${d}","TODAY":"Created: Today at ${time}","YESTERDAY":"Created: Yesterday at ${time}","DAY":"Created: ${EEEE} at ${time}","TOMORROW":"Created: ${MMM} ${d}, ${YYYY}","YEAR":"Created: ${MMM} ${d}, ${YYYY}"},"updated":{"MONTH":"Updated ${MMM} ${d}","TODAY":"Updated today at ${time}","YESTERDAY":"Updated yesterday at ${time}","DAY":"Updated ${EEEE} at ${time}","TOMORROW":"Updated ${MMM} ${d}, ${YYYY}","YEAR":"Updated ${MMM} ${d}, ${YYYY}"},"updatedOther":{"MONTH":"${user} updated on ${MMM} ${d}","TODAY":"${user} updated today at ${time}","YESTERDAY":"${user} updated yesterday at ${time}","DAY":"${user} updated on ${EEEE} at ${time}","TOMORROW":"${user} updated on ${MMM} ${d}, ${YYYY}","YEAR":"${user} updated on ${MMM} ${d}, ${YYYY}"}},"TAGS":"Tags:","share":{"label":"Share","title":"Give others access to this file"}}};

;dojo.cache("com.ibm.lconn.gadget", "services/dialog/templates/OAuthErrorDialog.html", "<div id=\"${id}_dialog\" role=\"dialog\" aria-labelledby=\"${id}_title\" class=\"lotusDialog\"> <div class=\"lotusDialogBorder\"> <div class=\"lotusDialog\"> <div class=\"lotusDialogHeader\"> <a class=\"lotusDialogClose\" href=\"javascript:;\" dojoAttachEvent=\"onclick:closeDialog\" title=\"${nls.MESSAGE.DISMISS}\"> <img alt=\"${nls.MESSAGE.DISMISS}\" src=\"${blankGif}\" /> <span class=\"lotusAltText\">${nls.MESSAGE.DISMISS}</span> </a> </div> <div class=\"lotusDialogContent\" id=\"${id}_dialog_content\"> <div class=\"lotusMessage2\" role=\"alert\"> <img class=\"lotusIcon lotusIconMsgError\" src=\"${blankGif}\" alt=\"${nls.MESSAGE.ERROR_ALT_TEXT}\" /> <span class=\"lotusAltText\">${nls.MESSAGE.ERROR_ALT_TEXT}</span> <div class=\"lotusMessageBody\">${errorMessage}</div> </div> </div> </div> </div></div>");

;if(!dojo._hasResource["com.ibm.lconn.gadget.services.dialog.OAuthErrorDialog"]){
dojo._hasResource["com.ibm.lconn.gadget.services.dialog.OAuthErrorDialog"]=true;
dojo.provide("com.ibm.lconn.gadget.services.dialog.OAuthErrorDialog");






dojo.requireLocalization("com.ibm.social.ee","socialEEStrings");
dojo.declare("com.ibm.lconn.gadget.services.dialog.OAuthErrorDialog",[dijit._Widget,dijit._Templated],{widgetsInTemplate:true,nls:dojo.i18n.getLocalization("com.ibm.social.ee","socialEEStrings"),templatePath:dojo.moduleUrl("com.ibm.lconn.gadget","services/dialog/templates/OAuthErrorDialog.html"),blankGif:null,errorMessage:null,dialog:null,constructor:function(){
var _1=this.nls.network;
this.blankGif=dojo.config.blankGif;
this.errorMessage=dojo.replace(_1.error,{again:_1.error_again},/\$\{([^\}]+)\}/g);
this.dialog=new dijit.Dialog();
},show:function(){
this.dialog.show();
this.dialog.attr({content:this.domNode});
},closeDialog:function(){
this.dialog.destroy();
this.dialog=null;
this.destroy();
}});
}


;dojo.mixin(dojo.provide("com.ibm.lconn.gadget.config.settings"),{"developer":{"allowIntranetProxyAccess":false,"allowSSOFeature":false,"enabled":false},"security":{"allowUrlCheckPattern":"","authErrorRetryIntervalSec":300,"containerTokenCheckSec":7200,"containerTokenTTLSec":43200,"featureAdminEnabled":true,"gadgetTokenTTLSec":64800,"preloadJS":false,"preloadJSSafari":true,"ssoDomain":".ibm.com","transientErrorRetryIntervalSec":60,"urlWhitelistEnabled":true,"whiteListEnabled":true}});


;if(!dojo._hasResource["lconn.core.util.LCDeferred"]){
dojo._hasResource["lconn.core.util.LCDeferred"]=true;
dojo.provide("lconn.core.util.LCDeferred");
(function(){
var _1=function(){
};
var _2=Object.freeze||function(){
};
lconn.core.util.LCDeferred=function(_3){
var _4,_5,_6,_7,_8;
var _9=(this.promise={});
function _a(_b){
dojo.deprecated("lconn.core.util.LCDeferred","Use dojo.Deferred instead","5.0");
if(!_5){
_4=_b;
_5=true;
_c();
}
};
function _c(){
var _d;
while(!_d&&_8){
var _e=_8;
_8=_8.next;
if((_d=(_e.progress==_1))){
_5=false;
}
var _f=(_6?_e.error:_e.resolved);
if(_f){
try{
var _10=_f(_4);
if(_10&&typeof _10.then==="function"){
_10.then(dojo.hitch(_e.deferred,"resolve"),dojo.hitch(_e.deferred,"reject"));
continue;
}
var _11=_d&&_10===undefined;
if(_d&&!_11){
_6=_10 instanceof Error;
}
_e.deferred[_11&&_6?"reject":"resolve"](_11?_4:_10);
}
catch(e){
_e.deferred.reject(e);
}
}else{
if(_6){
_e.deferred.reject(_4);
}else{
_e.deferred.resolve(_4);
}
}
}
};
this.resolve=this.callback=function(_12){
this.fired=0;
this.results=[_12,null];
_a(_12);
};
this.reject=this.errback=function(_13){
_6=true;
this.fired=1;
_a(_13);
this.results=[null,_13];
if(!_13||_13.log!==false){
(dojo.config.deferredOnError||function(x){
console.error(x);
})(_13);
}
};
this.progress=function(_14){
var _15=_8;
while(_15){
var _16=_15.progress;
_16&&_16(_14);
_15=_15.next;
}
};
this.addCallbacks=function(_17,_18){
this.then(_17,_18,_1);
return this;
};
this.then=_9.then=function(_19,_1a,_1b){
var _1c=_1b==_1?this:new lconn.core.util.LCDeferred(_9.cancel);
var _1d={resolved:_19,error:_1a,progress:_1b,deferred:_1c};
if(_8){
_7=_7.next=_1d;
}else{
_8=_7=_1d;
}
if(_5){
_c();
}
return _1c.promise;
};
var _1e=this;
this.cancel=_9.cancel=function(){
if(!_5){
var _1f=_3&&_3(_1e);
if(!_5){
if(!(_1f instanceof Error)){
_1f=new Error(_1f);
}
_1f.log=false;
_1e.reject(_1f);
}
}
};
_2(_9);
};
dojo.extend(lconn.core.util.LCDeferred,{addCallback:function(_20){
return this.addCallbacks(dojo.hitch.apply(dojo,arguments));
},addErrback:function(_21){
return this.addCallbacks(null,dojo.hitch.apply(dojo,arguments));
},addBoth:function(_22){
var _23=dojo.hitch.apply(dojo,arguments);
return this.addCallbacks(_23,_23);
},fired:-1});
})();
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.TokenRefreshHandler"]){
dojo._hasResource["com.ibm.lconn.gadget.services.TokenRefreshHandler"]=true;
dojo.provide("com.ibm.lconn.gadget.services.TokenRefreshHandler");
















com.ibm.lconn.gadget.services.TokenRefreshHandler=(function(_1,_2,_3,_4,_5,_6,_7,_8,_9){
var _a={};
var _b=_8.security;
var _c="X-LConn-Auth",_d="X-IC-CRE-User",_e="X-IC-CRE-Request-Origin",_f="X-Update-Nonce",_10="X-IC-Container-Token";
var _11=_4.opensocial,_12=_3.parse(_1.global.location.toString(),_11?_6(_3.getServiceUrl(_11).toString()):"");
var _13=_1.global.location;
_7.debug("Container token refresh TTL is: "+_b.containerTokenTTLSec);
_7.debug("Container token check: "+_b.containerTokenCheckSec);
function _14(_15,_16){
return _15&&_15.userId===_16.userId;
};
function _17(_18){
_7.debug("Invalidating current token data");
var _19=_18.sites_;
for(var _1a in _19){
var _1b=_19[_1a];
if(_1b instanceof osapi.container.GadgetSite){
var _1c=_1b.getActiveSiteHolder();
var _1d=_18.service_.getCachedGadgetMetadata(_1c.getUrl());
_1d[osapi.container.MetadataResponse.NEEDS_TOKEN_REFRESH]=true;
}
}
};
function _1e(_1f){
var c=document.cookie,_20="(?:^|; )"+_1.regexp.escapeString(_1f)+"=([^;]*)",_21,_22=new RegExp(_20),res,_23=[],i;
_21=c.match(new RegExp(_20,"g"));
if(_21&&_21.length>0){
i=_21.length;
while(i--){
res=_21[i];
_23.push(decodeURIComponent(res.match(_22)[1]));
}
}
return _23;
};
function _24(_25,_26){
var _27,_28,_29;
var _2a=false,_2b=null,_2c;
var _2d=_13.hostname;
var i,c;
if(_26){
i=_26.length;
while(i--){
_27=_26[i];
if((c=_27.indexOf("$"))>0&&c<_27.length-1){
_29=_27.substring(0,c);
_28=_27.substring(c+1);
_2c=_14(_25,{userId:_28,isAuth:(_28.indexOf("anonymous")!==0)});
if((_2d.indexOf(_29)+_29.length)===_2d.length){
if(_2b===null||_29===_2d){
if(_2b===_29){
_2a=_2a||_2c;
}else{
_2b=_29;
_2a=_2c;
}
}
}
}
}
}
return _2a;
};
function _2e(_2f){
var _30=_1e(_10);
if(!_24(_2f,_30)){
_7.debug("Must be in proxy situation, not getting container token cookie back from server.");
var _31=_13.hostname+"$"+_2f.userId;
_1.cookie(_10,_31,{path:"/"});
}
};
_a=_1.declare("",[],{_userData:null,_lastUpdate:null,_containerToken:null,_commonContainer:null,getContainerToken:function(_32){
var _33=this,_34=new _5(),p=_32?_32:com.ibm.lconn.gadget.container.iContainer2.getIRuntime();
if(typeof (window["__isgadget"])=="undefined"){
p.then(function(){
var _35=typeof window["user"]!=="undefined"?window["user"]:null,_36=typeof window["userid"]!=="undefined"?window["userid"]:null,u=_35?_35:_36,_37=shindig.sha1();
u=u?u:((new Date).valueOf());
_37.update(u);
var _38=_37.digestString(),_39=[_12.toString(),"/common/tokenRefresh?type=container&token=","&u=",_38].join("");
var _3a={};
_3a[_f]="check";
_3a[_e]=_13.href;
_1.xhrGet({url:_39,handleAs:"json",headers:_3a,sync:false,load:_1.hitch(_33,"_creTokenDataHandlerLoad",_34),error:_1.hitch(_33,"_creTokenDataHandlerError",_34)});
});
}
return _34;
},_getCachedToken:function(){
var now=new Date().getTime();
var _3b=_1e(_10);
var _3c=this._containerToken;
var _3d=this._lastUpdate;
if(_3d){
_3d+=(_b.containerTokenTTLSec*1000);
}
if(!_24(this._userData,_3b)){
return false;
}else{
if((_3c&&_3c.token)&&(_3d&&now<_3d)){
return _3c.token;
}else{
return false;
}
}
},_creTokenDataHandlerLoad:function(_3e,_3f,_40){
_7.debug("SUCCESS: Load token: %o",_3f);
var _41=this._parseUserData(_40);
_2e(_41);
_3e.callback({creToken:_3f.containerToken,userData:_41});
if(!this._userData){
this._lastUpdate=new Date().getTime();
this._containerToken=_3f.containerToken;
this._userData=_41;
}
},_parseUserData:function(_42){
var _43=("true"===_42.xhr.getResponseHeader(_c));
var _44=_42.xhr.getResponseHeader(_d);
if(!_44){
_43=false;
_44="anonymous_12cb0bb53b1e82f9abb84c4bc1a21f1ed371c5165ff8a629e88547b6b9d368f5";
_7.warn("No X-IC-CRE-User header, switching to anon user");
}
return {isAuth:_43,userId:_44};
},_creTokenDataHandlerError:function(_45,_46,_47){
_7.error("ERROR: "+_46);
_45.errback(_46);
},_clearTokenData:function(_48){
this._invalidateGadgetTokens();
},tokenRefresh:function(_49){
var _4a=this,_4b=this._getCachedToken();
if(!_4b){
this.getContainerToken().then(function(_4c){
if((!_4c)||(!_4c.creToken)||(!_4c.userData)||(!_4c.userData.userId)){
var _4d,_4e=_b.transientErrorRetryIntervalSec;
_7.debug("data: "+_4c);
_7.debug("data.creToken: "+_4c.creToken);
_7.debug("data.userData: "+_4c.userData);
_7.debug("data.userData.userId: "+_4c.userData.userId);
_7.warn("Error while refreshing container token - bad data.  Will retry in: "+_4e+" seconds");
_49(_4d,_4e);
return;
}
_4a._containerToken=_4c.creToken;
_4a._lastUpdate=new Date().getTime();
if(!_14(_4a._userData,_4c.userData)){
_17(_4a._commonContainer);
_4a._userData=_4c.userData;
_49(_4c.creToken.token,_b.containerTokenCheckSec);
_4a._commonContainer.refreshTokens_();
cre$.internalutil.setCREContainerToken(_4c.creToken);
}else{
_7.debug("Token refresh success %o",_4c);
_49(_4c.creToken.token,_b.containerTokenCheckSec);
cre$.internalutil.setCREContainerToken(_4c.creToken);
}
},function(_4f){
var _50,_51=_b.transientErrorRetryIntervalSec;
_7.warn("Error while refreshing container token.  Will retry in: "+_51+" seconds");
_49(_50,_51);
});
}else{
_49(_4b,_b.containerTokenCheckSec);
}
},setCommonContainer:function(_52){
this._commonContainer=_52;
},logoutHandler:function(){
_1.cookie(_10,_9,{expires:-1,domain:_b.ssoDomain,path:"/"});
_1.cookie(_10,_9,{expires:-1,path:"/"});
}});
return _a;
})(dojo,lconn.core.auth,lconn.core.url,lconn.core.config.services,lconn.core.util.LCDeferred,com.ibm.oneui.util.proxy,com.ibm.lconn.gadget.util.trace,com.ibm.lconn.gadget.config.settings);
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.tokenRefreshService"]){
dojo._hasResource["com.ibm.lconn.gadget.services.tokenRefreshService"]=true;
dojo.provide("com.ibm.lconn.gadget.services.tokenRefreshService");






com.ibm.lconn.gadget.services.tokenRefreshService=(function(_1,_2,_3){
var _4={};
var _5=new _2();
_4.getContainerToken=function(p){
return _5.getContainerToken(p);
};
_4.getTokenRefresher=function(){
return _1.hitch(_5,"tokenRefresh");
};
_4.registerService=function(_6){
_5.setCommonContainer(_6);
};
_3.addLogoutHandler(function(){
_5.logoutHandler();
});
return _4;
})(dojo,com.ibm.lconn.gadget.services.TokenRefreshHandler,lconn.core.auth);
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.oauthPopupDialog"]){
dojo._hasResource["com.ibm.lconn.gadget.services.oauthPopupDialog"]=true;
dojo.provide("com.ibm.lconn.gadget.services.oauthPopupDialog");










com.ibm.lconn.gadget.services.oauthPopupDialog.registerService=function(_1){
var _2={};
var _3=com.ibm.lconn.gadget.services.tokenRefreshService,_4=lconn.core.auth;
var _5=com.ibm.lconn.gadget.util.trace;
var _6={AUTHORIZE_SUCCESS:"authorize_success",AUTHORIZE_REJECTED:"authorize_rejected",AUTHORIZE_SERVER_ERROR:"authorize_server_error",AUTO_AUTHORIZE_REJECTED:"auto_authorize_rejected"};
_1.rpcRegister("_ic_oauth_dialog_status",function(_7,_8){
if(!_8.status){
return;
}
var _9=_8.status,_a=_8.message,_b=_2[_7.f].handler,_c=_2[_7.f].dialog;
if(_b===undefined){
return;
}
switch(_9){
case _6.AUTHORIZE_SUCCESS:
_b();
break;
case _6.AUTHORIZE_REJECTED:
_b();
break;
case _6.AUTHORIZE_SERVER_ERROR:
if(_c.isAuto){
_b(true);
}else{
_c.show();
}
break;
case _6.AUTO_AUTHORIZE_REJECTED:
if(_c.isAuto){
_b(true);
}else{
_c.show();
}
break;
}
if(_a){
console.log(_a);
}
});
var _d={};
_1.setupNonGadgetRpcEndpoint();
_1.rpcRegister("_ic_oauth_dialog_open",function(_e,_f,_10,pid,_11){
var _12=_e[osapi.container.GadgetSite.RPC_ARG_KEY];
var _13=_12.getId();
var _14=null;
function _15(_16){
_12.rpcCall("_ic_oauth_dialog_closed",function(){
},{isAutoFail:_16,pids:_d[_13]});
delete (_d[_13]);
if(_14){
delete _2[_14];
}
};
function _17(){
var _18=["_ic_oauth_dialog_status","__ack","__cb","gadgets.rpc.config","gadgets.rpc.register","gadgets.rpc.unregister","gadgets.rpc.registerDefault","gadgets.rpc.unregisterDefault","gadgets.rpc.forceParentVerifiable","gadgets.rpc.call","gadgets.rpc.getRelayUrl","gadgets.rpc.setRelayUrl","gadgets.rpc.setAuthToken","gadgets.rpc.setupReceiver","gadgets.rpc.getAuthToken","gadgets.rpc.removeReceiver","gadgets.rpc.getRelayChannel","gadgets.rpc.receive","gadgets.rpc.receiveSameDomain","gadgets.rpc.getOrigin","gadgets.rpc.getTargetOrigin"],ifd=new com.ibm.lconn.gadget.services.dialog.IframeDialog(_f,_10,_11),_19=com.ibm.lconn.gadget.util.specHelper.nextDomId(),_1a=com.ibm.lconn.gadget.util.specHelper.nextDomId();
gadgets.rpc.setUpRpcIdsForNonGadgetIframe(_19,_1a,_f,_18);
ifd.init(_19,_1a);
if(!_11){
ifd.show();
}
_14=_19;
var _1b=function(_1c){
ifd.destroy();
_15(_1c);
};
dojo.connect(ifd,"onClose",_1b);
_2[_19]={window:ifd.getWindow(),handler:_1b,dialog:ifd};
};
if(!_d[_13]){
_d[_13]=[pid];
_3.getContainerToken().then(function(_1d){
var _1e=_1d.userData;
if(!_1e.isAuth){
_4.login();
}else{
_17();
}
},function(_1f){
_5.error("Error checking user authentication: "+_1f);
var _20=new com.ibm.lconn.gadget.services.dialog.OAuthErrorDialog();
_20.startup();
_20.show();
_15(_11);
});
}else{
_d[_13].push(pid);
}
});
};
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.sso_reauth_callback"]){
dojo._hasResource["com.ibm.lconn.gadget.services.sso_reauth_callback"]=true;
dojo.provide("com.ibm.lconn.gadget.services.sso_reauth_callback");




com.ibm.lconn.gadget.services.sso_reauth_callback.registerService=function(_1){
_1.rpcRegister("_cre_sso_reauth_cb",function(_2){
com.ibm.lconn.gadget.util.trace.log("_cre_sso_reauth_cb rpc service fired with arguments",arguments);
com.ibm.lconn.gadget.util.trace.log("redirecting to login...");
lconn.core.auth.logoutAndlogin();
});
};
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.fake_handleRpcMethod"]){
dojo._hasResource["com.ibm.lconn.gadget.services.fake_handleRpcMethod"]=true;
dojo.provide("com.ibm.lconn.gadget.services.fake_handleRpcMethod");


com.ibm.lconn.gadget.services.fake_handleRpcMethod=(function(_1){
var _2={},_3="osapi._handleRpcMethod called - method not implemented in this container. arguments : ";
_2.registerService=function(_4){
_4.rpcRegister("osapi._handleGadgetRpcMethod",function(){
_1.debug(_3,arguments);
});
};
return _2;
})(com.ibm.lconn.gadget.util.trace);
}


;dojo.mixin(dojo.provide("lconn.core.config"),{"deploymentId":"com.ibm.lc.9872d4bf-a673-4073-805b-176d11e6438f","enableEmail":true,"languageSensitivity":true,"sessionCookies":["JSESSIONID"],"versionStamp":"20150310.220517"});


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.urlSecurityService"]){
dojo._hasResource["com.ibm.lconn.gadget.services.urlSecurityService"]=true;
dojo.provide("com.ibm.lconn.gadget.services.urlSecurityService");










com.ibm.lconn.gadget.services.urlSecurityService=(function(_1,_2,_3,_4,_5,_6){
var _7={},_8=_3.security.urlWhitelistEnabled,_9=_3.security.allowUrlCheckPattern;
opensocialUrl_=_2.getServiceUrl(_6.opensocial),errorPage_=opensocialUrl_+"/ic/errors/errorMini.jsp";
if(_9){
_9=new RegExp(_3.security.allowUrlCheckPattern,"i");
}else{
_9={"test":function(){
return false;
}};
}
function _a(_b,_c,_d){
if(_e(_c)){
return this.navigateUrlNoSecurity.apply(this,arguments);
}else{
_4.warn("Blocking access to url: "+_c+".  URL does not match whitelist.");
var _f=Array.prototype.slice.call(arguments);
_f[1]=errorPage_;
return this.navigateUrlNoSecurity.apply(this,_f);
}
};
function _e(url){
if(!_8){
return true;
}
return url&&url.indexOf("..")===-1&&_9.test(url);
};
_7.registerService=function(_10){
_10.navigateUrlNoSecurity=_10.navigateUrl;
_10.navigateUrl=_a;
};
return _7;
})(dojo,lconn.core.url,com.ibm.lconn.gadget.config.settings,com.ibm.lconn.gadget.util.trace,com.ibm.lconn.gadget.services.dialog.UrlAccessDeniedDialog,lconn.core.config.services);
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.container.ICActions"]){
dojo._hasResource["com.ibm.lconn.gadget.container.ICActions"]=true;
dojo.provide("com.ibm.lconn.gadget.container.ICActions");
dojo.declare("com.ibm.lconn.gadget.container.ICActions",null,{registerNavigateGadgetHandler:function(_1){
},registerService:function(_2){
}});
dojo.mixin(com.ibm.lconn.gadget.container.ICActions,{__instance__:function(){
}});
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.services.ICActionsContainer"]){
dojo._hasResource["com.ibm.lconn.gadget.services.ICActionsContainer"]=true;
dojo.provide("com.ibm.lconn.gadget.services.ICActionsContainer");


(function(_1,_2){
var _3=_1.declare("com.ibm.lconn.gadget.services.ICActionsContainer",[_2],{_renderGadgetInContainer:null,constructor:function(){
this._renderGadgetInContainer=[];
},registerService:function(_4){
_4.actions.registerNavigateGadgetHandler(_1.hitch(this,this.handleGadgetSelection));
},registerNavigateGadgetHandler:function(_5){
if(typeof _5==="function"){
this._renderGadgetInContainer.push(_5);
}
},handleGadgetSelection:function(_6,_7){
_1.forEach(this._renderGadgetInContainer,function(_8){
_8(_6,_7);
});
}});
var _9=new _3();
_2.__instance__=function(){
return _9;
};
})(dojo,com.ibm.lconn.gadget.container.ICActions);
}


;if(!dojo._hasResource["lconn.core.util.LCDeferredList"]){
dojo._hasResource["lconn.core.util.LCDeferredList"]=true;
dojo.provide("lconn.core.util.LCDeferredList");


(function(_1,_2){
lconn.core.util.LCDeferredList=function(_3,_4,_5,_6,_7){
var _8=[];
_2.call(this);
var _9=this;
if(_3.length===0&&!_4){
this.resolve([0,[]]);
}
var _a=0;
_1.forEach(_3,function(_b,i){
_b.then(function(_c){
if(_4){
_9.resolve([i,_c]);
}else{
_d(true,_c);
}
},function(_e){
if(_5){
_9.reject(_e);
}else{
_d(false,_e);
}
if(_6){
return null;
}
throw _e;
});
function _d(_f,_10){
_8[i]=[_f,_10];
_a++;
if(_a===_3.length){
_9.resolve(_8);
}
};
});
};
lconn.core.util.LCDeferredList.prototype=new _1.Deferred();
lconn.core.util.LCDeferredList.prototype.gatherResults=function(_11){
var d=new lconn.core.util.LCDeferredList(_11,false,true,false);
d.addCallback(function(_12){
var ret=[];
_1.forEach(_12,function(_13){
ret.push(_13[1]);
});
return ret;
});
return d;
};
return lconn.core.util.LCDeferredList;
})(dojo,lconn.core.util.LCDeferred);
}


;if(!dojo._hasResource["lconn.core.util.amdLoader"]){
dojo._hasResource["lconn.core.util.amdLoader"]=true;
dojo.provide("lconn.core.util.amdLoader");
lconn.core.util.amdLoader=(function(_1){
var _2,_3,_4;
var _5="2.0.2",_6=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,_7=/require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,_8=/\.js$/,_9=/^\.\//,_a=Object.prototype.toString,ap=Array.prototype,_b=ap.slice,_c=ap.splice,_d=!!(typeof window!=="undefined"&&navigator&&document),_e=!_d&&typeof importScripts!=="undefined",_f=_d&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,_10="_",_11=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",_12={},cfg={},_13=[],_14=false,req,s,_15,_16,_17,src,_18,_19,_1a,_1b;
function _1c(it){
return _a.call(it)==="[object Function]";
};
function _1d(it){
return _a.call(it)==="[object Array]";
};
function _1e(ary,_1f){
if(ary){
var i;
for(i=0;i<ary.length;i+=1){
if(ary[i]&&_1f(ary[i],i,ary)){
break;
}
}
}
};
function _20(ary,_21){
if(ary){
var i;
for(i=ary.length-1;i>-1;i-=1){
if(ary[i]&&_21(ary[i],i,ary)){
break;
}
}
}
};
function _22(obj,_23){
return obj.hasOwnProperty(_23);
};
function _24(obj,_25){
var _26;
for(_26 in obj){
if(obj.hasOwnProperty(_26)){
if(_25(obj[_26],_26)){
break;
}
}
}
};
function _27(_28,_29,_2a,_2b){
if(_29){
_24(_29,function(_2c,_2d){
if(_2a||!_22(_28,_2d)){
if(_2b&&typeof _2c!=="string"){
if(!_28[_2d]){
_28[_2d]={};
}
_27(_28[_2d],_2c,_2a,_2b);
}else{
_28[_2d]=_2c;
}
}
});
}
return _28;
};
function _2e(obj,fn){
return function(){
return fn.apply(obj,arguments);
};
};
function _2f(){
return document.getElementsByTagName("script");
};
function _30(_31){
if(!_31){
return _31;
}
var g=_1;
_1e(_31.split("."),function(_32){
g=g[_32];
});
return g;
};
function _33(_34,_35,_36){
return function(){
var _37=_b.call(arguments,0),_38;
if(_36&&_1c((_38=_37[_37.length-1]))){
_38.__requireJsBuild=true;
}
_37.push(_35);
return _34.apply(null,_37);
};
};
function _39(req,_3a,_3b){
_1e([["toUrl"],["undef"],["defined","requireDefined"],["specified","requireSpecified"]],function(_3c){
var _3d=_3c[1]||_3c[0];
req[_3c[0]]=_3a?_33(_3a[_3d],_3b):function(){
var ctx=_12[_10];
return ctx[_3d].apply(ctx,arguments);
};
});
};
function _3e(id,msg,err,_3f){
var e=new Error(msg+"\nhttp://requirejs.org/docs/errors.html#"+id);
e.requireType=id;
e.requireModules=_3f;
if(err){
e.originalError=err;
}
return e;
};
if(typeof _3!=="undefined"){
return;
}
if(typeof _4!=="undefined"){
if(_1c(_4)){
return;
}
cfg=_4;
_4=undefined;
}
if(typeof _2!=="undefined"&&!_1c(_2)){
cfg=_2;
_2=undefined;
}
function _40(_41){
var _42={waitSeconds:60,baseUrl:"./",paths:{},pkgs:{},shim:{}},_43={},_44={},_45=[],_46={},_47={},_48=1,_49=1,_4a=[],_4b,_4c,_4d,_4e,_4f;
function _50(ary){
var i,_51;
for(i=0;ary[i];i+=1){
_51=ary[i];
if(_51==="."){
ary.splice(i,1);
i-=1;
}else{
if(_51===".."){
if(i===1&&(ary[2]===".."||ary[0]==="..")){
break;
}else{
if(i>0){
ary.splice(i-1,2);
i-=2;
}
}
}
}
}
};
function _52(_53,_54,_55){
var _56=_54&&_54.split("/"),map=_42.map,_57=map&&map["*"],_58,_59,_5a,_5b,i,j,_5c,_5d;
if(_53&&_53.charAt(0)==="."){
if(_54){
if(_42.pkgs[_54]){
_56=[_54];
}else{
_56=_56.slice(0,_56.length-1);
}
_53=_56.concat(_53.split("/"));
_50(_53);
_59=_42.pkgs[(_58=_53[0])];
_53=_53.join("/");
if(_59&&_53===_58+"/"+_59.main){
_53=_58;
}
}else{
if(_53.indexOf("./")===0){
_53=_53.substring(2);
}
}
}
if(_55&&(_56||_57)&&map){
_5b=_53.split("/");
for(i=_5b.length;i>0;i-=1){
_5c=_5b.slice(0,i).join("/");
if(_56){
for(j=_56.length;j>0;j-=1){
_5a=map[_56.slice(0,j).join("/")];
if(_5a){
_5a=_5a[_5c];
if(_5a){
_5d=_5a;
break;
}
}
}
}
if(!_5d&&_57&&_57[_5c]){
_5d=_57[_5c];
}
if(_5d){
_5b.splice(0,i,_5d);
_53=_5b.join("/");
break;
}
}
}
return _53;
};
function _5e(_5f){
if(_d){
_1e(_2f(),function(_60){
if(_60.getAttribute("data-requiremodule")===_5f&&_60.getAttribute("data-requirecontext")===_4d.contextName){
_60.parentNode.removeChild(_60);
return true;
}
});
}
};
function _61(id){
var _62=_42.paths[id];
if(_62&&_1d(_62)&&_62.length>1){
_5e(id);
_62.shift();
_4d.undef(id);
_4d.require([id]);
return true;
}
};
function _63(_64,_65,_66,_67){
var _68=_64?_64.indexOf("!"):-1,_69=null,_6a=_65?_65.name:null,_6b=_64,_6c=true,_6d="",url,_6e,_6f;
if(!_64){
_6c=false;
_64="_@r"+(_48+=1);
}
if(_68!==-1){
_69=_64.substring(0,_68);
_64=_64.substring(_68+1,_64.length);
}
if(_69){
_69=_52(_69,_6a,_67);
_6e=_46[_69];
}
if(_64){
if(_69){
if(_6e&&_6e.normalize){
_6d=_6e.normalize(_64,function(_70){
return _52(_70,_6a,_67);
});
}else{
_6d=_52(_64,_6a,_67);
}
}else{
_6d=_52(_64,_6a,_67);
url=_4d.nameToUrl(_64,null,_65);
}
}
_6f=_69&&!_6e&&!_66?"_unnormalized"+(_49+=1):"";
return {prefix:_69,name:_6d,parentMap:_65,unnormalized:!!_6f,url:url,originalName:_6b,isDefine:_6c,id:(_69?_69+"!"+_6d:_6d)+_6f};
};
function _71(_72){
var id=_72.id,mod=_43[id];
if(!mod){
mod=_43[id]=new _4d.Module(_72);
}
return mod;
};
function on(_73,_74,fn){
var id=_73.id,mod=_43[id];
if(_22(_46,id)&&(!mod||mod.defineEmitComplete)){
if(_74==="defined"){
fn(_46[id]);
}
}else{
_71(_73).on(_74,fn);
}
};
function _75(err,_76){
var ids=err.requireModules,_77=false;
if(_76){
_76(err);
}else{
_1e(ids,function(id){
var mod=_43[id];
if(mod){
mod.error=err;
if(mod.events.error){
_77=true;
mod.emit("error",err);
}
}
});
if(!_77){
req.onError(err);
}
}
};
function _78(){
if(_13.length){
_c.apply(_45,[_45.length-1,0].concat(_13));
_13=[];
}
};
function _79(mod,_7a,_7b){
var _7c=mod&&mod.map,_7d=_33(_7b||_4d.require,_7c,_7a);
_39(_7d,_4d,_7c);
_7d.isBrowser=_d;
return _7d;
};
_4e={"require":function(mod){
return _79(mod);
},"exports":function(mod){
mod.usingExports=true;
if(mod.map.isDefine){
return (mod.exports=_46[mod.map.id]={});
}
},"module":function(mod){
return (mod.module={id:mod.map.id,uri:mod.map.url,config:function(){
return (_42.config&&_42.config[mod.map.id])||{};
},exports:_46[mod.map.id]});
}};
function _7e(id){
delete _43[id];
_1e(_4a,function(mod,i){
if(mod.map.id===id){
_4a.splice(i,1);
if(!mod.defined){
_4d.waitCount-=1;
}
return true;
}
});
};
function _7f(mod,_80){
var id=mod.map.id,_81=mod.depMaps,_82;
if(!mod.inited){
return;
}
if(_80[id]){
return mod;
}
_80[id]=true;
_1e(_81,function(_83){
var _84=_83.id,_85=_43[_84];
if(!_85){
return;
}
if(!_85.inited||!_85.enabled){
_82=null;
delete _80[id];
return true;
}
return (_82=_7f(_85,_27({},_80)));
});
return _82;
};
function _86(mod,_87,_88){
var id=mod.map.id,_89=mod.depMaps;
if(!mod.inited||!mod.map.isDefine){
return;
}
if(_87[id]){
return _46[id];
}
_87[id]=mod;
_1e(_89,function(_8a){
var _8b=_8a.id,_8c=_43[_8b],_8d;
if(_4e[_8b]){
return;
}
if(_8c){
if(!_8c.inited||!_8c.enabled){
_88[id]=true;
return;
}
_8d=_86(_8c,_87,_88);
if(!_88[_8b]){
mod.defineDepById(_8b,_8d);
}
}
});
mod.check(true);
return _46[id];
};
function _8e(mod){
mod.check();
};
function _8f(){
var _90=_42.waitSeconds*1000,_91=_90&&(_4d.startTime+_90)<new Date().getTime(),_92=[],_93=false,_94=true,map,_95,err,_96;
if(_4b){
return;
}
_4b=true;
_24(_43,function(mod){
map=mod.map;
_95=map.id;
if(!mod.enabled){
return;
}
if(!mod.error){
if(!mod.inited&&_91){
if(_61(_95)){
_96=true;
_93=true;
}else{
_92.push(_95);
_5e(_95);
}
}else{
if(!mod.inited&&mod.fetched&&map.isDefine){
_93=true;
if(!map.prefix){
return (_94=false);
}
}
}
}
});
if(_91&&_92.length){
err=_3e("timeout","Load timeout for modules: "+_92,null,_92);
err.contextName=_4d.contextName;
return _75(err);
}
if(_94){
_1e(_4a,function(mod){
if(mod.defined){
return;
}
var _97=_7f(mod,{}),_98={};
if(_97){
_86(_97,_98,{});
_24(_98,_8e);
}
});
_24(_43,_8e);
}
if((!_91||_96)&&_93){
if((_d||_e)&&!_4f){
_4f=setTimeout(function(){
_4f=0;
_8f();
},50);
}
}
_4b=false;
};
_4c=function(map){
this.events=_44[map.id]||{};
this.map=map;
this.shim=_42.shim[map.id];
this.depExports=[];
this.depMaps=[];
this.depMatched=[];
this.pluginMaps={};
this.depCount=0;
};
_4c.prototype={init:function(_99,_9a,_9b,_9c){
_9c=_9c||{};
if(this.inited){
return;
}
this.factory=_9a;
if(_9b){
this.on("error",_9b);
}else{
if(this.events.error){
_9b=_2e(this,function(err){
this.emit("error",err);
});
}
}
this.depMaps=_99&&_99.slice(0);
this.depMaps.rjsSkipMap=_99.rjsSkipMap;
this.errback=_9b;
this.inited=true;
this.ignore=_9c.ignore;
if(_9c.enabled||this.enabled){
this.enable();
}else{
this.check();
}
},defineDepById:function(id,_9d){
var i;
_1e(this.depMaps,function(map,_9e){
if(map.id===id){
i=_9e;
return true;
}
});
return this.defineDep(i,_9d);
},defineDep:function(i,_9f){
if(!this.depMatched[i]){
this.depMatched[i]=true;
this.depCount-=1;
this.depExports[i]=_9f;
}
},fetch:function(){
if(this.fetched){
return;
}
this.fetched=true;
_4d.startTime=(new Date()).getTime();
var map=this.map;
if(this.shim){
_79(this,true)(this.shim.deps||[],_2e(this,function(){
return map.prefix?this.callPlugin():this.load();
}));
}else{
return map.prefix?this.callPlugin():this.load();
}
},load:function(){
var url=this.map.url;
if(!_47[url]){
_47[url]=true;
_4d.load(this.map.id,url);
}
},check:function(_a0){
if(!this.enabled||this.enabling){
return;
}
var id=this.map.id,_a1=this.depExports,_a2=this.exports,_a3=this.factory,err,_a4;
if(!this.inited){
this.fetch();
}else{
if(this.error){
this.emit("error",this.error);
}else{
if(!this.defining){
this.defining=true;
if(this.depCount<1&&!this.defined){
if(_1c(_a3)){
if(this.events.error){
try{
_a2=_4d.execCb(id,_a3,_a1,_a2);
}
catch(e){
err=e;
}
}else{
_a2=_4d.execCb(id,_a3,_a1,_a2);
}
if(this.map.isDefine){
_a4=this.module;
if(_a4&&_a4.exports!==undefined&&_a4.exports!==this.exports){
_a2=_a4.exports;
}else{
if(_a2===undefined&&this.usingExports){
_a2=this.exports;
}
}
}
if(err){
err.requireMap=this.map;
err.requireModules=[this.map.id];
err.requireType="define";
return _75((this.error=err));
}
}else{
_a2=_a3;
}
this.exports=_a2;
if(this.map.isDefine&&!this.ignore){
_46[id]=_a2;
if(req.onResourceLoad){
req.onResourceLoad(_4d,this.map,this.depMaps);
}
}
delete _43[id];
this.defined=true;
_4d.waitCount-=1;
if(_4d.waitCount===0){
_4a=[];
}
}
this.defining=false;
if(!_a0){
if(this.defined&&!this.defineEmitted){
this.defineEmitted=true;
this.emit("defined",this.exports);
this.defineEmitComplete=true;
}
}
}
}
}
},callPlugin:function(){
var map=this.map,id=map.id,_a5=_63(map.prefix,null,false,true);
on(_a5,"defined",_2e(this,function(_a6){
var _a7=this.map.name,_a8=this.map.parentMap?this.map.parentMap.name:null,_a9,_aa,_ab;
if(this.map.unnormalized){
if(_a6.normalize){
_a7=_a6.normalize(_a7,function(_ac){
return _52(_ac,_a8,true);
})||"";
}
_aa=_63(map.prefix+"!"+_a7,this.map.parentMap,false,true);
on(_aa,"defined",_2e(this,function(_ad){
this.init([],function(){
return _ad;
},null,{enabled:true,ignore:true});
}));
_ab=_43[_aa.id];
if(_ab){
if(this.events.error){
_ab.on("error",_2e(this,function(err){
this.emit("error",err);
}));
}
_ab.enable();
}
return;
}
_a9=_2e(this,function(_ae){
this.init([],function(){
return _ae;
},null,{enabled:true});
});
_a9.error=_2e(this,function(err){
this.inited=true;
this.error=err;
err.requireModules=[id];
_24(_43,function(mod){
if(mod.map.id.indexOf(id+"_unnormalized")===0){
_7e(mod.map.id);
}
});
_75(err);
});
_a9.fromText=function(_af,_b0){
var _b1=_14;
if(_b1){
_14=false;
}
_71(_63(_af));
req.exec(_b0);
if(_b1){
_14=true;
}
_4d.completeLoad(_af);
};
_a6.load(map.name,_79(map.parentMap,true,function(_b2,cb){
_b2.rjsSkipMap=true;
return _4d.require(_b2,cb);
}),_a9,_42);
}));
_4d.enable(_a5,this);
this.pluginMaps[_a5.id]=_a5;
},enable:function(){
this.enabled=true;
if(!this.waitPushed){
_4a.push(this);
_4d.waitCount+=1;
this.waitPushed=true;
}
this.enabling=true;
_1e(this.depMaps,_2e(this,function(_b3,i){
var id,mod,_b4;
if(typeof _b3==="string"){
_b3=_63(_b3,(this.map.isDefine?this.map:this.map.parentMap),false,!this.depMaps.rjsSkipMap);
this.depMaps[i]=_b3;
_b4=_4e[_b3.id];
if(_b4){
this.depExports[i]=_b4(this);
return;
}
this.depCount+=1;
on(_b3,"defined",_2e(this,function(_b5){
this.defineDep(i,_b5);
this.check();
}));
if(this.errback){
on(_b3,"error",this.errback);
}
}
id=_b3.id;
mod=_43[id];
if(!_4e[id]&&mod&&!mod.enabled){
_4d.enable(_b3,this);
}
}));
_24(this.pluginMaps,_2e(this,function(_b6){
var mod=_43[_b6.id];
if(mod&&!mod.enabled){
_4d.enable(_b6,this);
}
}));
this.enabling=false;
this.check();
},on:function(_b7,cb){
var cbs=this.events[_b7];
if(!cbs){
cbs=this.events[_b7]=[];
}
cbs.push(cb);
},emit:function(_b8,evt){
_1e(this.events[_b8],function(cb){
cb(evt);
});
if(_b8==="error"){
delete this.events[_b8];
}
}};
function _b9(_ba){
_71(_63(_ba[0],null,true)).init(_ba[1],_ba[2]);
};
function _bb(_bc,_bd,_be,_bf){
if(_bc.detachEvent&&!_11){
if(_bf){
_bc.detachEvent(_bf,_bd);
}
}else{
_bc.removeEventListener(_be,_bd,false);
}
};
function _c0(evt){
var _c1=evt.currentTarget||evt.srcElement;
_bb(_c1,_4d.onScriptLoad,"load","onreadystatechange");
_bb(_c1,_4d.onScriptError,"error");
return {node:_c1,id:_c1&&_c1.getAttribute("data-requiremodule")};
};
return (_4d={config:_42,contextName:_41,registry:_43,defined:_46,urlFetched:_47,waitCount:0,defQueue:_45,Module:_4c,makeModuleMap:_63,configure:function(cfg){
if(cfg.baseUrl){
if(cfg.baseUrl.charAt(cfg.baseUrl.length-1)!=="/"){
cfg.baseUrl+="/";
}
}
var _c2=_42.pkgs,_c3=_42.shim,_c4=_42.paths,map=_42.map;
_27(_42,cfg,true);
_42.paths=_27(_c4,cfg.paths,true);
if(cfg.map){
_42.map=_27(map||{},cfg.map,true,true);
}
if(cfg.shim){
_24(cfg.shim,function(_c5,id){
if(_1d(_c5)){
_c5={deps:_c5};
}
if(_c5.exports&&!_c5.exports.__buildReady){
_c5.exports=_4d.makeShimExports(_c5.exports);
}
_c3[id]=_c5;
});
_42.shim=_c3;
}
if(cfg.packages){
_1e(cfg.packages,function(_c6){
var _c7;
_c6=typeof _c6==="string"?{name:_c6}:_c6;
_c7=_c6.location;
_c2[_c6.name]={name:_c6.name,location:_c7||_c6.name,main:(_c6.main||"main").replace(_9,"").replace(_8,"")};
});
_42.pkgs=_c2;
}
_24(_43,function(mod,id){
mod.map=_63(id);
});
if(cfg.deps||cfg.callback){
_4d.require(cfg.deps||[],cfg.callback);
}
},makeShimExports:function(_c8){
var _c9;
if(typeof _c8==="string"){
_c9=function(){
return _30(_c8);
};
_c9.exports=_c8;
return _c9;
}else{
return function(){
return _c8.apply(_1,arguments);
};
}
},requireDefined:function(id,_ca){
return _22(_46,_63(id,_ca,false,true).id);
},requireSpecified:function(id,_cb){
id=_63(id,_cb,false,true).id;
return _22(_46,id)||_22(_43,id);
},require:function(_cc,_cd,_ce,_cf){
var _d0,id,map,_d1,_d2;
if(typeof _cc==="string"){
if(_1c(_cd)){
return _75(_3e("requireargs","Invalid require call"),_ce);
}
if(req.get){
return req.get(_4d,_cc,_cd);
}
_d0=_cc;
_cf=_cd;
map=_63(_d0,_cf,false,true);
id=map.id;
if(!_22(_46,id)){
return _75(_3e("notloaded","Module name \""+id+"\" has not been loaded yet for context: "+_41));
}
return _46[id];
}
if(_ce&&!_1c(_ce)){
_cf=_ce;
_ce=undefined;
}
if(_cd&&!_1c(_cd)){
_cf=_cd;
_cd=undefined;
}
_78();
while(_45.length){
_d2=_45.shift();
if(_d2[0]===null){
return _75(_3e("mismatch","Mismatched anonymous define() module: "+_d2[_d2.length-1]));
}else{
_b9(_d2);
}
}
_d1=_71(_63(null,_cf));
_d1.init(_cc,_cd,_ce,{enabled:true});
_8f();
return _4d.require;
},undef:function(id){
var map=_63(id,null,true),mod=_43[id];
delete _46[id];
delete _47[map.url];
delete _44[id];
if(mod){
if(mod.events.defined){
_44[id]=mod.events;
}
_7e(id);
}
},enable:function(_d3,_d4){
var mod=_43[_d3.id];
if(mod){
_71(_d3).enable();
}
},completeLoad:function(_d5){
var _d6=_42.shim[_d5]||{},_d7=_d6.exports&&_d6.exports.exports,_d8,_d9,mod;
_78();
while(_45.length){
_d9=_45.shift();
if(_d9[0]===null){
_d9[0]=_d5;
if(_d8){
break;
}
_d8=true;
}else{
if(_d9[0]===_d5){
_d8=true;
}
}
_b9(_d9);
}
mod=_43[_d5];
if(!_d8&&!_46[_d5]&&mod&&!mod.inited){
if(_42.enforceDefine&&(!_d7||!_30(_d7))){
if(_61(_d5)){
return;
}else{
return _75(_3e("nodefine","No define call for "+_d5,null,[_d5]));
}
}else{
_b9([_d5,(_d6.deps||[]),_d6.exports]);
}
}
_8f();
},toUrl:function(_da,_db){
var _dc=_da.lastIndexOf("."),ext=null;
if(_dc!==-1){
ext=_da.substring(_dc,_da.length);
_da=_da.substring(0,_dc);
}
return _4d.nameToUrl(_da,ext,_db);
},nameToUrl:function(_dd,ext,_de){
var _df,_e0,pkg,_e1,_e2,i,_e3,url,_e4;
_dd=_52(_dd,_de&&_de.id,true);
if(req.jsExtRegExp.test(_dd)){
url=_dd+(ext||"");
}else{
_df=_42.paths;
_e0=_42.pkgs;
_e2=_dd.split("/");
for(i=_e2.length;i>0;i-=1){
_e3=_e2.slice(0,i).join("/");
pkg=_e0[_e3];
_e4=_df[_e3];
if(_e4){
if(_1d(_e4)){
_e4=_e4[0];
}
_e2.splice(0,i,_e4);
break;
}else{
if(pkg){
if(_dd===pkg.name){
_e1=pkg.location+"/"+pkg.main;
}else{
_e1=pkg.location;
}
_e2.splice(0,i,_e1);
break;
}
}
}
url=_e2.join("/")+(ext||".js");
url=(url.charAt(0)==="/"||url.match(/^[\w\+\.\-]+:/)?"":_42.baseUrl)+url;
}
return _42.urlArgs?url+((url.indexOf("?")===-1?"?":"&")+_42.urlArgs):url;
},load:function(id,url){
req.load(_4d,id,url);
},execCb:function(_e5,_e6,_e7,_e8){
return _e6.apply(_e8,_e7);
},onScriptLoad:function(evt){
if(evt.type==="load"||(_f.test((evt.currentTarget||evt.srcElement).readyState))){
_18=null;
var _e9=_c0(evt);
_4d.completeLoad(_e9.id);
}
},onScriptError:function(evt){
var _ea=_c0(evt);
if(!_61(_ea.id)){
return _75(_3e("scripterror","Script error",evt,[_ea.id]));
}
}});
};
req=_4=function(_eb,_ec,_ed,_ee){
var _ef=_10,_f0,_f1;
if(!_1d(_eb)&&typeof _eb!=="string"){
_f1=_eb;
if(_1d(_ec)){
_eb=_ec;
_ec=_ed;
_ed=_ee;
}else{
_eb=[];
}
}
if(_f1&&_f1.context){
_ef=_f1.context;
}
_f0=_12[_ef];
if(!_f0){
_f0=_12[_ef]=req.s.newContext(_ef);
}
if(_f1){
_f0.configure(_f1);
}
return _f0.require(_eb,_ec,_ed);
};
req.config=function(_f2){
return req(_f2);
};
if(!_2){
_2=req;
}
req.version=_5;
req.jsExtRegExp=/^\/|:|\?|\.js$/;
req.isBrowser=_d;
s=req.s={contexts:_12,newContext:_40};
req({});
_39(req);
if(_d){
_15=s.head=document.getElementsByTagName("head")[0];
_16=document.getElementsByTagName("base")[0];
if(_16){
_15=s.head=_16.parentNode;
}
}
req.onError=function(err){
throw err;
};
req.load=function(_f3,_f4,url){
var _f5=(_f3&&_f3.config)||{},_f6;
if(_d){
_f6=_f5.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");
_f6.type=_f5.scriptType||"text/javascript";
_f6.charset="utf-8";
_f6.setAttribute("data-requirecontext",_f3.contextName);
_f6.setAttribute("data-requiremodule",_f4);
if(_f6.attachEvent&&!(_f6.attachEvent.toString&&_f6.attachEvent.toString().indexOf("[native code")<0)&&!_11){
_14=true;
_f6.attachEvent("onreadystatechange",_f3.onScriptLoad);
}else{
_f6.addEventListener("load",_f3.onScriptLoad,false);
_f6.addEventListener("error",_f3.onScriptError,false);
}
_f6.src=url;
_19=_f6;
if(_16){
_15.insertBefore(_f6,_16);
}else{
_15.appendChild(_f6);
}
_19=null;
return _f6;
}else{
if(_e){
importScripts(url);
_f3.completeLoad(_f4);
}
}
};
function _f7(){
if(_18&&_18.readyState==="interactive"){
return _18;
}
_20(_2f(),function(_f8){
if(_f8.readyState==="interactive"){
return (_18=_f8);
}
});
return _18;
};
if(_d){
_20(_2f(),function(_f9){
if(!_15){
_15=_f9.parentNode;
}
_17=_f9.getAttribute("data-main");
if(_17){
src=_17.split("/");
_1a=src.pop();
_1b=src.length?src.join("/")+"/":"./";
if(!cfg.baseUrl){
cfg.baseUrl=_1b;
}
_17=_1a.replace(_8,"");
cfg.deps=cfg.deps?cfg.deps.concat(_17):[_17];
return true;
}
});
}
_3=function(_fa,_fb,_fc){
var _fd,_fe;
if(typeof _fa!=="string"){
_fc=_fb;
_fb=_fa;
_fa=null;
}
if(!_1d(_fb)){
_fc=_fb;
_fb=[];
}
if(!_fb.length&&_1c(_fc)){
if(_fc.length){
_fc.toString().replace(_6,"").replace(_7,function(_ff,dep){
_fb.push(dep);
});
_fb=(_fc.length===1?["require"]:["require","exports","module"]).concat(_fb);
}
}
if(_14){
_fd=_19||_f7();
if(_fd){
if(!_fa){
_fa=_fd.getAttribute("data-requiremodule");
}
_fe=_12[_fd.getAttribute("data-requirecontext")];
}
}
(_fe?_fe.defQueue:_13).push([_fa,_fb,_fc]);
};
_3.amd={jQuery:true};
req.exec=function(text){
return eval(text);
};
req(cfg);
return {require:_2,requirejs:_4,define:_3};
})(dojo.global);
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.container._Accessor"]){
dojo._hasResource["com.ibm.lconn.gadget.container._Accessor"]=true;
dojo.provide("com.ibm.lconn.gadget.container._Accessor");














































(function init_com_ibm_lconn_gadget_container__Accessor(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){
var _c=null;
var _d=lconn.core.util.amdLoader.require;
var _e=_7.security;
var _f=_1.global.location;
var _10="X-IC-Preload";
var _11=(function(){
var _12=navigator.appName;
var _13=navigator.userAgent.indexOf("Safari");
return (_13!==-1||_12==="Safari");
})();
var _14=(_1.config.locale||""),_15=_14.substr(0,Math.min(_14.length,2)),_16=_14.substr(Math.min(_14.length,3),Math.min(_14.length,5));
var _17=(function(){
var _18={"pt":"br","zh":"tw"};
var _19={"zh":"zh-cn","he":"iw","id":"in","nb":"no"};
var _1a=_15;
if(_18[_15]&&_18[_15]==_16){
_1a=_1a+"-"+_16;
}
_1a=_19[_1a]||_1a;
if(!_1a){
_1a="en";
}
return _1a;
})();
var _1b=_4.opensocial,_1c=_2.parse(_f.toString(),_1b?_9(_2.getServiceUrl(_1b).toString()):"");
if(!_1.config.blankGif){
(function configBlankGif_(){
var _1d=_4.webresources,_1e=_2.parse(_f.toString(),_9(_2.getServiceUrl(_1d).toString()));
_1.config.blankGif=_1e.toString()+"/web/com.ibm.lconn.core.styles.oneui3/images/blank.gif";
})();
}
function _1f(){
var _20=new _5();
var _21=_3.versionStamp||"";
var _22=(_17&&_17!=="")?"cre.messages."+_17+":":"",_23="&_ic_versionStamp="+_21,_24=(_1.config.isDebug?"&debug=1&noCache=1":_23),_25=_1c.toString()+"/gadgets/js/cre.iruntime:cre.iwidget.event:cre.wire:cre.iwidget:cre.iwidget.itemset:"+"cre.util.stringify:cre.service.event:cre.osgadget:"+_22+"core:container:rpc:pubsub-2:views:embedded-experiences:open-views:selection:actions:viewenhancements:shared-script-frame:"+"cre.service.people:ibm.connections.sharedialog:com.ibm.connections.sharedialog:"+"com.ibm.connections.ee:ibm.connections.ee:container.nongadget:shindig.sha1:"+"open-views.js?c=1"+_24;
if(!_1.global.cre$){
_8.debug("_Accessor.loadCreJs_ loading CRE JS from: "+_25);
setTimeout(function(){
_d([_25],function(){
_8.debug("_Accessor.loadCreJs_ SUCCESS: Load CRE JS");
_20.resolve();
_8.debug("_Accessor.__instance__ Exit load");
},function(_26){
_8.error("_Accessor.loadCreJs_ ERROR: "+_26);
_20.errback(_26);
});
},0);
}else{
_8.debug("_Accessor.loadCreJs_ SUCCESS: Load CRE JS via JS Bridge");
_20.resolve();
}
return _20;
};
function _27(_28){
var loc=_f;
cre$.config.SCHEME=loc.protocol.substring(0,loc.protocol.length-1);
cre$.config.HOST=loc.hostname;
cre$.config.PORT=(loc.port&&loc.port!=="")?loc.port:"";
cre$.config.CONTEXT_ROOT=_1c.path;
cre$.config.locales=[_17];
cre$.config.MAX_TOKEN_TTL=_e.gadgetTokenTTLSec;
};
function _29(_2a){
var cc={},CC=osapi.container.ContainerConfig;
cc[osapi.container.ServiceConfig.API_HOST]=[_1c.scheme,"://",_1c.authority].join("");
cc[osapi.container.ServiceConfig.API_PATH]=_1c.path+"/rpc";
cc[CC.TOKEN_REFRESH_INTERVAL]=_e.gadgetTokenTTLSec*1000;
cc[CC.GET_CONTAINER_TOKEN]=_b.getTokenRefresher();
cc[CC.GET_LANGUAGE]=function(){
return _15;
};
cc[CC.GET_COUNTRY]=function(){
return _16;
};
cc[CC.SET_PREFERENCES]=function(_2b,_2c,_2d){
var _2e=_a.getSiteTopic(_2c,_a.GadgetWindow.SET_PREFS);
_1.publish(_2e,[{"siteId":_2b,"gadgetUrl":_2c,"preferences":_2d}]);
};
if(_1.config.isDebug){
cc[CC.RENDER_DEBUG]=true;
cc[CC.RENDER_TEST]=true;
}
return cc;
};
function _2f(_30){
com.ibm.lconn.gadget.services.viewModifications.registerService(_30);
com.ibm.lconn.gadget.services.set_title.registerService(_30);
com.ibm.lconn.gadget.services.lifecycleModifications.registerService(_30);
com.ibm.lconn.gadget.services.oauthPopupDialog.registerService(_30);
com.ibm.lconn.gadget.services.sso_reauth_callback.registerService(_30);
com.ibm.lconn.gadget.services.fake_handleRpcMethod.registerService(_30);
_b.registerService(_30);
com.ibm.lconn.gadget.container.ICActions.__instance__().registerService(_30);
com.ibm.lconn.gadget.services.urlSecurityService.registerService(_30);
};
var _31=_1.declare("",[com.ibm.lconn.gadget.container.Accessor],{_commonContainerPromise:null,_iRuntimePromise:null,constructor:function(_32,_33){
_8.entering("com.ibm.lconn.gadget.container._Accessor.prototype","constructor",arguments);
this._commonContainerPromise=new _5();
this._iRuntimePromise=new _5();
_32.then(_1.hitch(this,"_loadComplete",_33),_1.hitch(this,"_loadError"));
_8.exiting("com.ibm.lconn.gadget.container._Accessor.prototype","constructor",arguments);
},getCommonContainer:function(){
return this._commonContainerPromise;
},getIRuntime:function(){
return this._iRuntimePromise;
},fakeOpen:function(){
var _34={"id":"0",eventType:"PRELOAD"};
var _35=_4.webresources,_36=_2.parse(_f.toString(),_9(_2.getServiceUrl(_35).toString()));
var _37=_36.toString();
var _38=_37+"/web/com.ibm.social.ee/ConnectionsEE.xml";
var c=document.getElementsByTagName("body")[0];
var div=_1.create("div",{id:dijit.getUniqueId("fake")},c);
div.style.display="none";
var def=[{definitionUrl:_38,mode:"preload",placement:_1.attr(div,"id"),componentType:"gadget",instanceData:{renderParams:{},viewParams:{},eeDataModel:{context:_34}}}];
if(cre$&&cre$.iRuntime){
cre$.iRuntime.loadWidgets(def).then(function(){
_8.debug("_Accessor.fakeOpen preload done");
_1.cookie(_10,"true",{path:"/"});
},function(_39){
_8.error("_Accessor.fakeOpen ERROR: "+_39);
});
}
},_loadComplete:function(_3a,_3b){
_8.entering("com.ibm.lconn.gadget.container._Accessor.prototype","_loadComplete");
var _3c=_3b[0][1];
_27(_3a);
var _3d=_29(_3a),_3e=new osapi.container.Container(_3d);
_1.global.__CONTAINER="default";
_2f(_3e);
cre$.internalutil.setCREContainerToken(_3c.creToken);
_3e.updateContainerSecurityToken(null,cre$.internalutil.getCREContainerToken().token,_e.containerTokenCheckSec);
cre$.iRuntime.setCommonContainer(_3e,{configSecurityToken:false,configInlineOAH:true});
this._commonContainerPromise.resolve(_3e);
this._iRuntimePromise.resolve(cre$.iRuntime);
if((_e.preloadJS)||(_11&&(_e.preloadJSSafari))){
var _3f=this.getCookieVals_(_10);
if(!_3f||(!_3f.length>0)){
this.fakeOpen();
}
}
_8.exiting("com.ibm.lconn.gadget.container._Accessor.prototype","_loadComplete");
},getCookieVals_:function(_40){
var c=document.cookie,_41="(?:^|; )"+_1.regexp.escapeString(_40)+"=([^;]*)",_42,_43=new RegExp(_41),res,_44=[],i;
_42=c.match(new RegExp(_41,"g"));
if(_42&&_42.length>0){
i=_42.length;
while(i--){
res=_42[i];
_44.push(decodeURIComponent(res.match(_43)[1]));
}
}
return _44;
},_loadError:function(_45){
_8.error("_Accessor.prototype._loadError called.",_45);
this._commonContainerPromise.errback(_45);
this._iRuntimePromise.errback(_45);
}});
_1.mixin(com.ibm.lconn.gadget.container.Accessor,{__instance__:function(_46){
_8.entering("com.ibm.lconn.gadget.container._Accessor","__instance__");
if(_c===null){
var _47=_1f(),_48=_b.getContainerToken(_47);
_c=new _31(new _6([_48,_47]),_46);
}else{
_8.debug("_Accessor.__instance__ Already called, skipping re-init");
}
_8.exiting("com.ibm.lconn.gadget.container._Accessor","__instance__");
return _c;
}});
})(dojo,lconn.core.url,lconn.core.config,lconn.core.config.services,lconn.core.util.LCDeferred,lconn.core.util.LCDeferredList,com.ibm.lconn.gadget.config.settings,com.ibm.lconn.gadget.util.trace,com.ibm.oneui.util.proxy,com.ibm.lconn.gadget.container.Topics,com.ibm.lconn.gadget.services.tokenRefreshService);
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.container.Container"]){
dojo._hasResource["com.ibm.lconn.gadget.container.Container"]=true;
dojo.provide("com.ibm.lconn.gadget.container.Container");




dojo.declare("com.ibm.lconn.gadget.container.Container",null,{loadWidget:function(_1){
},preloadWidgets:function(_2){
},loadWidgets:function(_3){
},unloadWidgets:function(_4){
},getGadgetInfo:function(_5){
}});
com.ibm.lconn.gadget.container.Container.__instance__=com.ibm.lconn.gadget.container.Container.__instance__||function(_6){
};
com.ibm.lconn.gadget.container.Container.RenderParam={TEST_MODE:"testmode"};
}


;if(!dojo._hasResource["lconn.core.util.promises"]){
dojo._hasResource["lconn.core.util.promises"]=true;
dojo.provide("lconn.core.util.promises");




(function(_1,d,_2,_3){
_1.iFaceClass=d.declare("",null,{then:function(){
},cancel:function(){
}});
_1.isPromiseLike=function(_4){
if(_4&&(_4.then&&d.isFunction(_4.then))){
return true;
}else{
return false;
}
};
_1.deferredToPromise=function(_5){
if(_1.isPromiseLike(_5)){
return _5;
}else{
var p=new _2();
_5.addCallback(p,"callback");
_5.addErrback(p,"errback");
return p;
}
};
})(lconn.core.util.promises,dojo,lconn.core.util.LCDeferred,lconn.core.util.LCDeferredList);
}


;if(!dojo._hasResource["lconn.core.util.LCChainedDeferred"]){
dojo._hasResource["lconn.core.util.LCChainedDeferred"]=true;
dojo.provide("lconn.core.util.LCChainedDeferred");




(function(d,_1,_2){
d.declare("lconn.core.util.LCChainedDeferred",_1.iFaceClass,{_promiseChain:null,_deferred:null,_errored:false,constructor:function(_3){
this._deferred=new _2();
this._promiseChain=_3;
this._hitch();
},then:function(cb,_4){
return this._deferred.then(cb,_4);
},cancel:function(){
if(this._promiseChain.cancel){
return this._promiseChain.cancel.apply(this._promiseChain,arguments);
}else{
this._errback.apply(this,arguments);
}
},_errback:function(){
this._errored=true;
var _5=this._deferred;
_5.errback.apply(_5.errback,arguments);
},_callback:function(_6){
if(!this._errored){
if(_1.isPromiseLike(_6)){
this._promiseChain=_6;
this._hitch();
}else{
this._deferred.callback(_6);
}
}
},_hitch:function(){
this._promiseChain.then(dojo.hitch(this,"_callback"),dojo.hitch(this,"_errback"));
}});
})(dojo,lconn.core.util.promises,lconn.core.util.LCDeferred);
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.container._Handle"]){
dojo._hasResource["com.ibm.lconn.gadget.container._Handle"]=true;
dojo.provide("com.ibm.lconn.gadget.container._Handle");












(function(_1,_2,_3,_4,_5,_6){
function _7(_8){
if(_8){
if(_1.isString(_8)){
return _8;
}else{
return _1.attr(_8,"id");
}
}
return null;
};
var _9=_1.declare("",_2,{_accessor:null,_widgetSpec:null,_promise:null,_state:_2.UNLOADED,_originalPlacement:null,constructor:function(_a,_b,_c){
this._accessor=_a;
this._widgetSpec=_b;
this._originalPlacement=this._widgetSpec.placement;
if(_c){
this._state=_2.LOADING;
this._promise=_c;
_c.then(_1.hitch(this,"_loaded"),_1.hitch(this,this._failLoad));
}
},load:function(){
if(this._state===_2.UNLOADED){
this._state=_2.LOADING;
this._widgetSpec.placement=this._originalPlacement;
this._promise=this._withRuntime(_1.hitch(this,"_loading"),_1.hitch(this,"_failLoad"));
}
},_loading:function(_d){
alert("UNIMPLEMENTED: _loading()");
},_loaded:function(_e){
alert("UNIMPLEMENTED: _loaded()");
},_failLoad:function(){
this._state=_2.ERROR;
_3.error("_WidgetHandleBase - "+this._widgetSpec.componentType+" failed to load (%o): ",this._widgetSpec.definitionUrl);
this._widgetSpec.instanceData.errback.apply(null,arguments);
},unload:function(){
var _f=this._state;
if(_f===_2.LOADING||_f===_2.LOADED){
this._promise.then(_1.hitch(this,"_unload"),_1.hitch(this,"_failUnload"));
}
},_unload:function(_10){
alert("UNIMPLEMENTED: _unload()");
},_failUnload:function(){
this._state=_2.ERROR;
_3.error("_WidgetHandleBase - "+this._widgetSpec.componentType+" failed to load (%o): ",this._widgetSpec.definitionUrl);
},getState:function(){
return this._state;
},open:function(){
_3.log("open() is deprecated, use load() method instead.");
this.load();
},close:function(){
_3.log("close() is deprecated, use unload() method instead.");
this.unload();
}});
var _11=_1.declare("",[_9],{_widgetId:null,_loading:function(_12){
return _12.loadWidgets([_4.cloneSpec(this._widgetSpec)]).then(_1.hitch(this,"_loaded",_12),_1.hitch(this,"_failLoad"));
},_loaded:function(_13){
_3.debug("_WidgetHandleImpl - %s loaded successfully: %o",this._widgetSpec.componentType,this._widgetSpec.definitionUrl);
var _14=_7(this._widgetSpec.placement);
this._widgetId=_13.getWidgetIdByDomId(_14);
if(this._widgetId==null){
this._widgetId=this._originalPlacement;
}
this._state=_2.LOADED;
return _13;
},_unload:function(_15){
var wid=this._widgetId;
if(this._widgetId){
if(this._widgetSpec.componentType=="gadget"){
wid=_15.getWidgetIdByDomId(wid);
}
_15.unLoadWidgets([wid]);
this._widgetId=null;
this._promise=null;
this._state=_2.UNLOADED;
}
},getWidgetInfo:function(){
var _16=this._state,_17=this;
if(_16===_2.LOADING||_16===_2.LOADED){
return this._promise.then(function(_18){
return _18.getWidgetById(_17._widgetId);
});
}else{
var _19="Unable to call getWidgetInfo() when widget handle is not in loaded state.  State of handle is:  "+this._state;
_3.debug(_19);
var _1a=new _6();
_1a.reject(_19);
return (_1a);
}
},_withRuntime:function(_1b,_1c){
return new _5(this._accessor.getIRuntime().then(_1b,_1c));
}});
var _1d=_1.declare("",[_9],{_gadgetSite:null,_withRuntime:function(_1e,_1f){
return new _5(this._accessor.getCommonContainer().then(_1e,_1f));
},_execCallback:function(){
try{
var _20=this._widgetSpec.instanceData||{},_21=_20.callback;
if(_21){
if(_1.isString(_21)){
_21=_1.global[_21];
if(_21){
_21();
}
}else{
_21();
}
}
}
catch(e){
}
}});
var _22=_1.declare("",[_1d],{_placement:null,_loading:function(cc){
var _23=this._widgetSpec,_24=_23.instanceData||{},_25=_24.renderParams||{},_26=_24.viewParams||{},_27=new _6();
this._placement=_23.placement;
var _28=this._gadgetSite||(this._gadgetSite=cc.newGadgetSite(_1.byId(_23.placement)));
var _29=_4.isInlineGadget(_23),_2a=(_29?cc.inline:cc);
if(!_25[osapi.container.RenderParam.VIEW]){
_25[osapi.container.RenderParam.VIEW]="home";
}
_2a.navigateGadget(_28,_23.definitionUrl,_26,_25,_1.hitch(this,"_loaded",cc,_27));
return _27;
},_loaded:function(cc,_2b,_2c){
if(_2c.error){
_2b.errback(_2c.error);
this._failLoad(_2c.error);
}else{
this._state=_2.LOADED;
_2b.callback(cc);
this._execCallback(_2c);
}
},_unload:function(cc){
cc.closeGadget(this._gadgetSite);
if(this._placement!=null){
this._widgetSpec.placement=this._placement;
}
this._gadgetSite=null;
this._state=_2.UNLOADED;
return null;
}});
var _2d=_1.declare("",[_1d],{_loading:function(cc){
var _2e=this._widgetSpec,_2f=_2e.instanceData||{},_30={},_31=_2f.eeDataModel||{},_32=new _6();
var _33=osapi.container.ee.RenderParam;
if(_2e.definitionUrl){
_30[_33.GADGET_RENDER_PARAMS]=_2f.renderParams||{};
_30[_33.GADGET_VIEW_PARAMS]=_2f.viewParams||{};
_31.gadget=_2e.definitionUrl;
}else{
_30[_33.URL_RENDER_PARAMS]=_2f.renderParams||{};
}
cc.ee.navigate(_1.byId(_2e.placement),_31,_30,_1.hitch(this,"_loaded",cc,_32));
return _32;
},_loaded:function(cc,_34,_35,_36){
if(_36&&_36.error){
_34.errback(_36.error);
this._failLoad(_36.error);
}else{
this._state=_2.LOADED;
this._gadgetSite=_35;
_34.callback(cc);
this._execCallback(_36);
}
},_unload:function(cc){
cc.ee.close(this._gadgetSite);
this._gadgetSite=null;
this._state=_2.UNLOADED;
return null;
}});
_2.__factory__=function(_37,_38,_39){
if(_4.isInlineEE(_38)){
throw "Inline EE gadgets are not permitted. Attempted to load: ";
}
if(!_39&&_4.isGadget(_38)){
if(_4.isEEGadget(_38)){
return new _2d(_37,_38);
}else{
return new _22(_37,_38);
}
}else{
return new _11(_37,_38,_39);
}
};
})(dojo,com.ibm.lconn.gadget.container.Handle,com.ibm.lconn.gadget.util.trace,com.ibm.lconn.gadget.util.specHelper,lconn.core.util.LCChainedDeferred,lconn.core.util.LCDeferred);
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.container._Container"]){
dojo._hasResource["com.ibm.lconn.gadget.container._Container"]=true;
dojo.provide("com.ibm.lconn.gadget.container._Container");




















(function init_com_ibm_lconn_gadget_container_Container(_1,_2,_3){
var _4=null,_5=_2.normalizeWidgetSpec,_6=_2.cloneSpec;
var _7=dojo.declare("",com.ibm.lconn.gadget.container.Container,{_accessor:null,constructor:function(_8){
this._accessor=_8;
},loadWidgets:function(_9){
_1.debug("Container's loadWidgets called");
var _a=this._accessor;
if(_9&&dojo.isArray(_9)){
var _b=_9.length,_c=null;
var _d=[];
var _e=[];
var _f=[];
while(_b--){
_d[_b]=_6(_5(_9[_b]));
_1.debug("_CONTAINER 1 widgetSpecs[idx].placement:  ",_9[_b].placement);
}
function _10(_11,_12){
dojo.forEach(_12,function(_13,i){
var _14=_f[_13.widgetObject.domId];
if(_13.isError()){
var err=_13.getError();
_1.error("Error (",_13.getError().message,") while loading widget: ",_13);
_14.errback(_13.getError());
}else{
_14.callback(_11);
}
});
};
function _15(_16){
_1.error("Error while loading widgets: ",_9);
dojo.forEach(_16,function(_17,i){
var _18=_f[i];
_18.errback(_16);
});
};
function _19(_1a){
if(dojo.isString(_1a)){
return _1a;
}
return _1a.id;
};
dojo.forEach(_9,function(_1b){
var _1c=new lconn.core.util.LCDeferred();
_f[_19(_1b.placement)]=_1c;
_e.push(_3.__factory__(_a,_1b,_1c));
});
_a.getIRuntime().then(function(_1d){
var _1e=dojo.hitch(null,_10,_1d);
_1d.loadWidgets(_d).then(_1e,_1e);
},_15);
return _e;
}else{
throw ("parameter must be an array: "+_9);
}
},loadWidget:function(_1f){
var _20=null;
_5(_1f);
_20=_3.__factory__(this._accessor,_1f);
_20.open();
return _20;
},preloadWidgets:function(_21){
if(_21&&dojo.isArray(_21)&&_21.length>0){
var idx=_21.length,_22=null;
while(idx--){
_5(_21[idx]);
}
return new lconn.core.util.LCChainedDeferred(this._accessor.getIRuntime().then(function(_23){
return _23.preloadWidgets(_21);
},function(_24){
_1.error("Error (",_24,") while preloading widgets: ",_21);
}));
}else{
var _22=new lconn.core.util.LCDeferred();
_22.errback("WidgetSpecs is empty, undefined or a non-array type.");
return _22;
}
},unloadWidgets:function(_25){
_1.debug("Container's unloadWidgets called");
this._accessor.getIRuntime().then(function(_26){
return _26.unLoadWidgets(_25,true);
},function(_27){
_1.error("Error (",_27,") while unloading widgets: ",_25);
});
},getGadgetInfo:function(url){
var _28=new lconn.core.util.LCDeferred();
return new lconn.core.util.LCChainedDeferred(this._accessor.getCommonContainer().then(dojo.hitch(this,function(cc){
cc.preloadGadget(url,dojo.hitch(this,this._cb,_28,url));
return (_28);
}),dojo.hitch(this,function(_29){
_1.error("Error (",_29,") while getting gadget metadata:  ",url);
_28.resolve(null);
})));
},_cb:function(_2a,url,_2b){
if(_2a!=null){
_2a.resolve(_2b[url]);
}else{
_1.error("Error while getting gadget metadata");
_2a.resolve(null);
}
}});
dojo.mixin(com.ibm.lconn.gadget.container.Container,{__instance__:function(_2c){
if(!_4){
_4=new _7(_2c);
}
return _4;
}});
})(com.ibm.lconn.gadget.util.trace,com.ibm.lconn.gadget.util.specHelper,com.ibm.lconn.gadget.container.Handle);
}


;if(!dojo._hasResource["com.ibm.lconn.gadget.container.iContainer2"]){
dojo._hasResource["com.ibm.lconn.gadget.container.iContainer2"]=true;
dojo.provide("com.ibm.lconn.gadget.container.iContainer2");


















(function init_com_ibm_lconn_gadget_container_iContainer2(){
var _1=com.ibm.lconn.gadget.container.iContainer2,_2=com.ibm.lconn.gadget.container.Container,_3=com.ibm.lconn.gadget.container.Accessor,_4=null,_5=null,_6=com.ibm.lconn.gadget.util.trace,_7=null,_8=new (dojo.declare("",null,{constructor:function(){
}}))();
_7=function(_9,_a){
var _b,_c,_d=_1;
for(var i=0,_e=_9.length;i<_e;i++){
_c=_9[i];
for(_b in _c){
if(!_8[_b]&&dojo.isFunction(_c[_b])){
_d[_b]=_a(_b);
}
}
}
};
_7([_3.prototype,_2.prototype],function(_f){
return function(){
var _10=arguments,_11=_1.init();
return _11[_f].apply(null,_10);
};
});
dojo.mixin(_1,{init:function(_12){
_6.entering("com.ibm.lconn.gadget.container.iContainer","init",_12);
_4=_3.__instance__(_12);
_5=_2.__instance__(_4);
_6.debug("Accessor: "+_4);
_6.debug("Container: "+_5);
_1.init=function(){
return _1;
};
_7([_3.prototype],function(_13){
return dojo.hitch(_4,_13);
});
_7([_2.prototype],function(_14){
return dojo.hitch(_5,_14);
});
_6.exiting("com.ibm.lconn.gadget.container.iContainer","init",_12);
return _1;
},views:com.ibm.lconn.gadget.container.Views.__instance__(),ICactions:com.ibm.lconn.gadget.container.ICActions.__instance__()});
if(dojo.global.__iContainer_skip_init__){
_6.debug("Defering iContainer init.");
}else{
dojo.ready(function(){
_1.init();
});
}
})();
}


;define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){
return _6("dijit.layout._LayoutWidget",[_2,_3,_4],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){
this.inherited(arguments);
_7.add(this.domNode,"dijitContainer");
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
var _a=this.getParent&&this.getParent();
if(!(_a&&_a.isLayoutContainer)){
this.resize();
this.own(_5.on("resize",_1.hitch(this,"resize")));
}
},resize:function(_b,_c){
var _d=this.domNode;
if(_b){
_8.setMarginBox(_d,_b);
}
var mb=_c||{};
_1.mixin(mb,_b||{});
if(!("h" in mb)||!("w" in mb)){
mb=_1.mixin(_8.getMarginBox(_d),mb);
}
var cs=_9.getComputedStyle(_d);
var me=_8.getMarginExtents(_d,cs);
var be=_8.getBorderExtents(_d,cs);
var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});
var pe=_8.getPadExtents(_d,cs);
this._contentBox={l:_9.toPixelValue(_d,cs.paddingLeft),t:_9.toPixelValue(_d,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};
this.layout();
},layout:function(){
},_setupChild:function(_e){
var _f=this.baseClass+"-child "+(_e.baseClass?this.baseClass+"-"+_e.baseClass:"");
_7.add(_e.domNode,_f);
},addChild:function(_10,_11){
this.inherited(arguments);
if(this._started){
this._setupChild(_10);
}
},removeChild:function(_12){
var cls=this.baseClass+"-child"+(_12.baseClass?" "+this.baseClass+"-"+_12.baseClass:"");
_7.remove(_12.domNode,cls);
this.inherited(arguments);
}});
});


;define("dijit/dijit",["./main","./_base","dojo/parser","./_Widget","./_TemplatedMixin","./_Container","./layout/_LayoutWidget","./form/_FormWidget","./form/_FormValueWidget"],function(_1){
return _1;
});


;if(!dojo._hasResource["com.ibm.lconn.socialmail.gadget.NavigationHandler"]){
dojo._hasResource["com.ibm.lconn.socialmail.gadget.NavigationHandler"]=true;
dojo.provide("com.ibm.lconn.socialmail.gadget.NavigationHandler");




















var NavigationHandler;
function extend(_1,_2){
for(var k in _2){
if(_2.hasOwnProperty(k)){
_1[k]=_2[k];
}
}
return _1;
};
dojo.declare("com.ibm.lconn.socialmail.gadget.NavigationHandler",null,{constructor:function(){
if(!NavigationHandler){
function _3(){
};
_3.prototype=new com.ibm.lconn.socialmail.gadget._NavigationHandler();
var _4={idMailListItem:"lotusBannerMail",idCalendarListItem:"lotusBannerCalendar",idMailLoadingSpinner:"os-site-mail-hover-loading",idCalendarLoadingSpinner:"os-site-calendar-hover-loading",classBadge:"os-site-mail-notify",classMailDropdown:"os-site-mail-hover",classCalendarDropdown:"os-site-calendar-hover",classDisplayNone:"dijitDisplayNone",topics:[],classHidden:"dijitHidden",classLightboxContainer:"cm-preview-site-container",classLightboxMessage:"os-site os-site-mail-hover-preview-messages",classLightboxMessageEE:"os-site os-site-mail-hover-preview-messages-ee",classLightboxDialog:"mailMessageDialog",classCloseIconLightboxRtl:"dijitDialogRtl",generateSuffixToSiteIdsOnHeader:function(){
this.dynamicSiteIdSuffix=dojox.uuid.generateRandomUuid();
this.gadgetIDs={badge:"os-site-mail-notify"+this.dynamicSiteIdSuffix,inbox:"os-site-mail-hover"+this.dynamicSiteIdSuffix,calendar:"os-site-calendar-hover"+this.dynamicSiteIdSuffix,message:"os-site-mail-hover-preview-messages"+this.dynamicSiteIdSuffix,messageEE:"os-site-mail-hover-preview-messages-ee"+this.dynamicSiteIdSuffix};
},loadContainerDropdown:function(_5,_6){
if(_6.type==="mouseover"){
lconn.core.header.menuMouseover(_5);
}else{
if(_6.type==="click"){
lconn.core.header.menuClick(_5);
}else{
if(_6.type==="focus"){
lconn.core.header.menuFocus(_5);
}
}
}
},getDropdownContainerId:function(_7){
return dojo.attr(_7,"_lconn_menuid");
},getServiceUrl:function(){
var _8=null;
var _9=lconn.core.config.services.connectionsmail;
if(_9){
_8=lconn.core.url.getServiceUrl(_9);
}
return _8;
},getUrlParameter:function(_a,_b){
return lconn.core.url.parse(_a).queryParameters[_b];
},initContainer:function(){
var _c=dojo.getObject("com.ibm.lconn.gadget.container.iContainer2");
if(_c){
_c.init();
}
return _c;
},addLoginLogoutHandlers:function(){
lconn.core.auth.addLoginHandler(cre$.util.hitch(this,this.clearCache));
lconn.core.auth.addLogoutHandler(cre$.util.hitch(this,this.clearCache));
},addAttribute:function(_d,_e,_f){
return dojo.attr(_d,_e,_f);
},removeAttribute:function(_10,_11){
return dojo.removeAttr(_10,_11);
},hasClass:function(_12,_13){
return dojo.hasClass(_12,_13);
},addClass:function(_14,_15){
dojo.addClass(_14,_15);
},getUserPrefs:function(){
return {calendar:lconn.core.globalization.api.getCalendar(),textDirection:lconn.core.globalization.api.getTextDirection(),bidiEnabled:lconn.core.globalization.api.isBidiEnabled()};
},generateMessageSite:function(){
this.messageSite=new dijit.layout.ContentPane({content:"<div class=\""+this.classLightboxContainer+"\">"+"<div id=\""+this.gadgetIDs.message+"\" class=\""+this.classLightboxMessage+"\"></div>"+"<div id=\""+this.gadgetIDs.messageEE+"\" class=\""+this.classLightboxMessageEE+"\"></div>"+"</div>"});
},generateMessageDialog:function(){


this.messageDialog=new dijit.Dialog({content:this.messageSite,draggable:false});
this.addClass(this.messageDialog.domNode,this.classLightboxDialog);
this.messageDialog.closeButtonNode&&this.messageDialog.closeButtonNode.setAttribute("role","button");
var _16=this;
var _17=this.messageDialog.hide;
this.messageDialog.hide=function(){
if(!this.closeConfirmed){
_16.handleCloseDocument();
return;
}
_17.apply(this,arguments);
};
var _18=520,_19=740;
this.messageDialog._singleChild=true;
this.messageDialog._size=function(){
if(this._singleChild){
if(this._singleChildOriginalStyle){
this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;
}
delete this._singleChildOriginalStyle;
}else{
this.containerNode.style.width="auto";
this.containerNode.style.height="auto";
}
var bb=dojo.position(this.containerNode);


var _1a=dijit.getViewport();
if(bb.w>=_1a.w||bb.h>=_1a.h){
var w=Math.min(bb.w,Math.floor(_1a.w*0.75)),h=Math.min(bb.h,Math.floor(_1a.h*0.75));
w=w<_19?_19:w;
h=h<_18?_18:h;
if(this._singleChild&&this._singleChild.resize){
this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;
this._singleChild.resize({w:w,h:h});
}else{
this.containerNode.style.width=w+"px";
this.containerNode.style.height=h+"px";
this.containerNode.style.overflow="auto";
this.containerNode.style.position="relative";
}
}else{
if(this._singleChild&&this._singleChild.resize){
this._singleChild.resize();
}
}
};
this.messageDialog._position=function(){
if(!dojo.hasClass(dojo.body(),"dojoMove")){
var _1b=this.domNode;


var _1c=dijit.getViewport();
p=this._relativePosition,bb=p?null:dojo.position(_1b),l=Math.floor(_1c.l+(p?p.x:(_1c.w-bb.w)/2)),t=Math.floor(_1c.t+(p?p.y:(_1c.h-bb.h)/2));
l=l>0?l:5;
t=t>0?t:5;
if(t>_1c.t){
_1b.style.top=t+"px";
}
if(l>_1c.l){
_1b.style.left=l+"px";
}
if(!!dojo.isIE&&!dojo._isBodyLtr()&&!!dijit._underlay&&!!dijit._underlay.domNode){
_1b.style.left=Math.floor((_1c.w-bb.w)/2)+"px";
dijit._underlay.domNode.style.left="0px";
}
}
};
},calculateBorderWidth:function(_1d){
return (dojo.marginBox(_1d).h-dojo.contentBox(_1d).h)/2;
},getBadgeSpan:function(){
var _1e=dojo.query("."+this.classBadge);
if(_1e.length>0){
return _1e[0];
}
return;
},navigateGadgetHandlerCustomProperties:function(){
this.addClass(document.getElementsByTagName("body")[0],"lotusui30dojo");
},clearCache:function(){
var _1f=new dojo.Deferred();
var _20=cre$.util.hitch(_1f,"callback");
var _21=5000;
this.commonContainer.then(cre$.util.hitch(this,function(cc){
var _22=[];
var _23="com.ibm.socpim.rpc.cleanup";
var _24=["badge","inbox","calendar","message"];
cre$.util.forEach(_24,cre$.util.hitch(this,function(_25,_26){
if(_26==0&&this.notifySite||_26==1&&this.inboxSite||_26==2&&this.calendarSite||_26==3&&this.messageSite){
var _27=new lconn.core.util.LCDeferred();
_22.push(_27);
var _28=this.getSiteFromArea(cc,_25);
this.debugRpc&&console.log("calling "+_23+": "+_25);
_28.rpcCall(_23,cre$.util.hitch(_27,"resolve"),_28);
}
}));
new lconn.core.util.LCDeferredList(_22).then(_20,_20);
}),_20);
setTimeout(_20,_21);
return _1f;
},startupSettings:function(){
var _29=com.ibm.lconn.gadget.container.Topics.getSiteTopic(this.gadgetIDs.message,com.ibm.lconn.gadget.container.Topics.GadgetWindow.SITE_TOPIC_SET_TITLE);
this.topics.push(dojo.subscribe(_29,cre$.util.hitch(this,function(){
this.updateDialogTitle(arguments[0]?arguments[0]:arguments);
})));
var _2a=com.ibm.lconn.gadget.container.Topics.getSiteTopic(this.gadgetIDs.inbox,com.ibm.lconn.gadget.container.Topics.GadgetWindow.AFTER_ADJUST_HEIGHT);
this.topics.push(dojo.subscribe(_2a,cre$.util.hitch(this,function(){
this.setDropDownHeight(this.getPane("inbox"),arguments,"inbox");
})));
var _2b=com.ibm.lconn.gadget.container.Topics.getSiteTopic(this.gadgetIDs.calendar,com.ibm.lconn.gadget.container.Topics.GadgetWindow.AFTER_ADJUST_HEIGHT);
this.topics.push(dojo.subscribe(_2b,cre$.util.hitch(this,function(){
this.setDropDownHeight(this.getPane("calendar"),arguments,"calendar");
})));
},onMessageOpen:function(id,_2c){
this.closeCurrentSite();
this.messageDialog.closeConfirmed=false;
this.messageDialog.domNode.style.visibility="";
this.messageDialog.show();
},onMessageClose:function(id,_2d){
this.messageDialog.closeConfirmed=true;
this.messageDialog.hide();
},onMessageCompose:function(id,_2e){
this.inboxSite.onClose();
this.messageDialog.closeConfirmed=false;
this.messageDialog.domNode.style.visibility="";
this.messageDialog.show();
},generateGadgetSite:function(_2f){
return new dijit.layout.ContentPane(_2f);
},showSiteContent:function(_30){
var _31=document.getElementById(_30);
if(_31){
var _32=_31.getElementsByTagName("iframe")[0];
if(_32){
_32.style.visibility="";
}
}
},hideInboxWhileLoading:function(){
var _33=this.inboxSite&&this.inboxSite.containerNode.getElementsByTagName("iframe")[0];
if(_33){
_33.style.visibility="hidden";
}
},hideCalendarWhileLoading:function(){
var _34=this.calendarSite&&this.calendarSite.containerNode.getElementsByTagName("iframe")[0];
if(_34){
_34.style.visibility="hidden";
_34.allowTransparency="true";
}
},hideLightboxWhileLoading:function(){
var _35=this.messageSite&&this.messageSite.containerNode.getElementsByTagName("iframe")[0];
if(_35){
_35.style.visibility="hidden";
dojo.place("<table id=\""+(this.messageSite.progressId="messageSiteProgress")+"\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><td>&nbsp;</td></tr></table>",_35,"before");
}
},setBadgeAccessibilityAttributes:function(){
var _36=this.notifySite&&this.notifySite.el_.firstChild;
if(_36){
_36.setAttribute("title","Unread messages");
_36.setAttribute("tabindex","-1");
_36.setAttribute("role","presentation");
}
},showDialog:function(){
this.removeAttribute(this.messageDialog.domNode,"aria-labelledby");
this.addAttribute(this.messageSite.domNode,"role","dialog");
if(this.isIE()){
this.messageDialog.containerNode.style.overflowY="auto";
}
this.messageDialog.domNode.style.visibility="";
this.messageDialog.show();
if(dijit._underlay&&dijit._underlay.bgIframe&&dijit._underlay.bgIframe.iframe){
var _37=dijit._underlay.bgIframe.iframe;
_37.setAttribute("role","presentation");
_37.setAttribute("title","Background");
_37.contentWindow.document.write("<html><head><title>Background</title></head><body></body></html>");
}
if(this.messageDialog.titleNode){
this.addClass(this.messageDialog.titleNode,this.classHidden);
}
},updateDialogTitle:function(_38){
if(!!this.messageDialog&&!!this.messageSite&&!!_38){
this.addAttribute(this.messageDialog.domNode,"title",_38);
this.addAttribute(this.messageDialog.domNode,"aria-label",_38);
if(document.documentElement.dir==="rtl"){
this.addClass(this.messageDialog.domNode,this.classCloseIconLightboxRtl);
}
this.addAttribute(this.messageSite.domNode,"title",_38);
this.addAttribute(this.messageSite.domNode,"aria-label",_38);
var _39=this.messageDialog.containerNode.getElementsByTagName("iframe")[0];
if(_39){
this.addAttribute(_39,"title",_38);
}
}
},updateWarning:function(_3a){
var _3b=_3a.domNode.getElementsByTagName("iframe")[0];
var _3c=_3b.contentWindow.document.getElementById("warningMsgDropdown");
if(_3c){
this.removeAttribute(_3c,"role");
var _3d=_3c.innerHTML;
dojo.empty(_3c);
dojo.html.set(_3c,_3d);
this.addAttribute(_3c,"role","alert");
}
},extraRpcCalls:function(_3e){
if(_3e.type=="com.ibm.socpim.MailDropDown"){
if(_3e.dataObject=="hidden"&&this.hoverLoaded.inbox){
this.inboxSite.onClose(true);
}
}else{
if(_3e.type=="com.ibm.socpim.CalendarDropDown"){
if(_3e.dataObject=="hidden"&&this.hoverLoaded.calendar){
this.calendarSite.onClose(true);
}
}
}
if(_3e.type=="com.ibm.socpim.calendarview.height"){
this.setDropDownHeight(this.getPane("calendar"),_3e.dataObject,"calendar");
}else{
if(_3e.type=="com.ibm.socpim.messagelist.height"){
this.setDropDownHeight(this.getPane("inbox"),_3e.dataObject,"inbox");
}else{
if(_3e.type=="com.ibm.socpim.a11y.dialog"){
if(!!_3e.dataObject&&_3e.dataObject["name"]=="pageTitle"){
this.updateDialogTitle(_3e.dataObject["value"]);
}
}
}
}
},verifyVisibility:function(_3f){
var _40=this.getPane(_3f);
var _41=document.getElementById(_40.progressId);
if(_41){
this.addClass(_41,"dijitDisplayNone");
}
var _42=_40&&_40.containerNode&&_40.containerNode.getElementsByTagName("iframe")[0];
if(_42){
_42.style.visibility="";
}
},closeCurrentSite:function(){
if(this.currentSite=="mail"){
this.inboxSite.onClose();
}else{
this.calendarSite.onClose();
}
},isIE:function(){
return this.hasClass(document.getElementsByTagName("body")[0].parentNode,"dj_ie");
},getUserId:function(){
var _43=lconn.core.auth.getUser();
return _43&&_43.id||null;
}};
extend(_3.prototype,_4);
NavigationHandler=new _3();
if(dojo.config.isDebug){
NavigationHandler.isDebug=true;
}
NavigationHandler.initialization();
var _44=dijit.popup.open;
dijit.popup.open=function(_45){
if(_45&&_45.popup&&(_45.popup.id==="lconnheadermenu-mail"||_45.popup.id==="lconnheadermenu-calendar")){
_45.maxHeight=Infinity;
}
_44.apply(this,arguments);
};
}
},navigateInbox:function(_46,_47){
var _48=(_47.type==="focus"&&!lconn.core.widget.MenuLauncher.prototype.activateOnFocus);
if(!_48){
NavigationHandler.navigateInbox(_46,_47);
}
},navigateCalendar:function(_49,_4a){
var _4b=(_4a.type==="focus"&&!lconn.core.widget.MenuLauncher.prototype.activateOnFocus);
if(!_4b){
NavigationHandler.navigateCalendar(_49,_4a);
}
},destroy:function(_4c,_4d){
for(var _4e=null;_4e=(NavigationHandler.topics||[]).pop();){
_4e.remove();
}
}});
}


;if(!dojo._hasResource["lconn.core.locale"]){
dojo._hasResource["lconn.core.locale"]=true;
(function(){
dojo.provide("lconn.core.locale");
function _1(_2,_3){
return _2.getLocale().split("-")[_3]||"";
};
dojo.mixin(lconn.core.locale,{getLocale:function(){
return dojo.locale;
},getLanguage:function(){
return _1(this,0);
},getCountry:function(){
return _1(this,1);
},getVariant:function(){
return _1(this,2);
},toJavaLocale:function(){
var _4,_5=this.getLanguage(),_6=this.getCountry();
if(_5==="pt"&&!_6){
_6="pt";
}else{
if(_5==="he"){
_5="iw";
}else{
if(_5==="nb"){
_5="no";
}
}
}
_4=_5;
if(_6){
_4+="_"+_6.toUpperCase();
}
return _4;
}});
})();
}


;dojo.cache("lconn.core", "widget/templates/MobileAppBanner.html", "<div class=\"lconnMobileAppBanner ${cssClass}\"> <div class=\"lconnMobileAppBanner_Container\"> <a href=\"javascript:;\" class=\"lotusClose\" role=\"button\" dojoAttachEvent=\"onclick:hide\" aria-label=\"${strings.hide}\"><span aria-hidden=\"true\">&#215;</span> <span class=\"lotusAccess\">X</span> </a><span class=\"lotusIcon\" style=\"background-image: url(${iconUrl});\"></span> <div class=\"lotusInfo\"> <strong>${strings.title}</strong> <span>${strings.author}</span> <span>${strings.onStore}</span> </div> <a href=\"${url}\" class=\"lotusBtn\"><span>${strings.view}</span> </a> </div></div>");

;if(!dojo._hasResource["lconn.core.widget.MobileAppBanner"]){
dojo._hasResource["lconn.core.widget.MobileAppBanner"]=true;
dojo.provide("lconn.core.widget.MobileAppBanner");










dojo.requireLocalization("lconn.core","strings");
(function(_1){
var _2=6,_3="mobileAppBanner";
function _4(){
var _5=_1.get(_3);
return !(!_5||!_5.hidden||(_5.showNext<=new Date().getTime()));
};
function _6(){
var _7=dojo.isFunction(dojo.getObject("getUserAgent"))?getUserAgent():navigator.userAgent.toLowerCase();
return _7.indexOf("android")>-1;
};
function _8(){
return (dojo.isIos<_2||_6())&&!_4();
};
var _9="apple-itunes-app",_a="google-play-app",_b="450533489",_c="com.ibm.lotus.connections.mobile",_d="http://a1.mzstatic.com/us/r30/Purple/v4/9b/2a/ad/9b2aadc2-34c8-c6af-142a-a5a3502f5503/mzl.mojupiyz.175x175-75.jpg",_e="https://lh5.ggpht.com/TmIAKR3Y_0i895u5_NNUoKfZHA6uQ9aClhyQKkbyKeWetyh0ETyD7SscX6deEM3jdcY=w170-rw",_f="https://itunes.apple.com/${lang}/app/id${app_id}",_10="https://play.google.com/store/apps/details?id=${app_id}";
var _11;
function _12(){
var el=dojo.query("meta[name="+(dojo.isIos?_9:_a)+"]")[0];
if(el){
var _13=el.getAttribute("content",0).split(",");
dojo.map(_13,function(val){
val=dojo.trim(val).split("=");
if(val[0]==="app-id"){
_11=val[1];
}
});
if(_11){
_12=function(){
return _11;
};
return _11;
}
}
return dojo.isIOS?_b:_c;
};
function _14(){
var _15=dojo.isIos?_f:_10;
return dojo.string.substitute(_15,{lang:lconn.core.locale.getCountry()||lconn.core.locale.getLanguage(),app_id:_12()});
};
function _16(){
return dojo.isIos?_d:_e;
};
function _17(){
var _18=dojo.query(".lotusFrame")[0];
if(!_18){
throw "This widget requires a lotusFrame element on the page";
}
return dojo.create("div",{},_18,"before");
};
var nls=dojo.i18n.getLocalization("lconn.core","strings");
dojo.declare("lconn.core.widget.MobileAppBanner",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("lconn.core","widget/templates/MobileAppBanner.html"),postMixInProperties:function(){
this.strings=this.strings||{onStore:dojo.isIos?nls.rs_mobileBanner_inAppStore:nls.rs_mobileBanner_inGooglePlay,title:nls.rs_mobileBanner_title,author:nls.rs_mobileBanner_author,view:nls.rs_mobileBanner_view,open:nls.rs_mobileBanner_open,hide:nls.rs_mobileBanner_hide};
this.cssClass=dojo.isIos?"ios":"android";
this.url=_14();
this.iconUrl=_16();
if(!this.srcNodeRef){
this.srcNodeRef=_17();
}
},buildRendering:function(){
if(_8()){
this.inherited(arguments);
}
},hide:function(){
dojo.addClass(this.domNode,"lotusHidden");
_1.set(_3,{hidden:true,showNext:new Date().getTime()+6*30*3600*1000});
}});
lconn.core.widget.MobileAppBanner.isEnabled=_8;
lconn.core.widget.MobileAppBanner.isHidden=_4;
lconn.core.widget.MobileAppBanner.unhide=function(){
_1.unset(_3);
};
})(lconn.core.util.PreferenceCache);
}


;if(!dojo._hasResource["lconn.core.header.apps"]){
dojo._hasResource["lconn.core.header.apps"]=true;
dojo.provide("lconn.core.header.apps");










(function(){
var _1=com.ibm.oneui.util.proxy(lconn.core.url.getServiceUrl(lconn.core.config.services.webresources).toString())+"/web/user/roles?",_2=lconn.core.config.sessionCookies,_3={"global-moderator":["lotusBannerModeration"],"metrics-report-run":["lotusBannerHeaderMetrics","lotusBannerFooterMetrics"],"admin":["lotusBannerHeaderMetrics","lotusBannerFooterMetrics"],"mail-user":["lotusBannerMail","lotusBannerCalendar"]};
lconn.core.header.apps={updateBannerByRoles:function(){
var _4=[];
for(var _5 in _3){
if(!this.updateBanner(_3[_5],dojo.cookie("ROLE_"+_5),_5)){
_4.push(_5);
}
}
if(_4.length>0){
dojo.xhrGet({url:_1+dojo.objectToQuery({role:_4}),handleAs:"json",load:dojo.hitch(this,function(_6){
for(var _7 in _6){
this.updateBanner(_3[_7],_6[_7],_7);
}
}),timeout:10000});
}
if(lconn.core.widget.MobileAppBanner.isEnabled()){
new lconn.core.widget.MobileAppBanner();
}
},updateBanner:function(_8,_9,_a){
if((_9==false)||(_9=="false")){
return true;
}
if(!dojo.isArray(_8)){
_8=[_8];
}
var _b=dojo.map(_8,function(id){
return dojo.byId(id);
});
_b=dojo.filter(_b,function(_c){
return _c!=undefined;
});
if(_b.length>0&&_9==undefined){
return false;
}
if((_9==true)||(_9=="true")){
if(_a=="mail-user"&&lconn.core.config.services.connectionsmail){


new com.ibm.lconn.socialmail.gadget.NavigationHandler();
}
dojo.forEach(_b,function(_d){
_d.style.display="";
});
}
return true;
},updateUserNameMenu:function(){
var _e=dojo.byId("logoutLink");
var _f=dojo.byId("logoutContainer");
if(_e&&_f){
_f.appendChild(_e);
dojo.style(_e,"display","block");
var _10=dojo.byId("logoutLi");
if(_10){
dojo.style(_10,"display","none");
}
}
},onLogin:function(){
for(var _11 in _3){
dojo.cookie("ROLE_"+_11,null,{expires:-1,path:"/"});
}
},onLogout:function(){
dojo.forEach(_2,function(_12){
dojo.cookie(_12,null,{expires:-1,path:"/"});
});
},updateLoginRegion:function(){
var il=dojo.byId("loginLabel"),ol=dojo.byId("logoutLabel");
if(il&&ol){
dijit.setWaiRole(ol,"region");
dijit.removeWaiRole(il);
}
}};
})();
dojo.addOnLoad(function(){
var _13=dojo.byId("headerUserName");
var _14=lconn.core.auth.isAuthenticated();
if(_13){
dojo.attr(_13,"onmenuloaded","lconn.core.header.apps.updateUserNameMenu");
}
if(!_14){
lconn.core.auth.addLoginHandler(lconn.core.header.apps.onLogin);
}else{
lconn.core.auth.addLogoutHandler(lconn.core.header.apps.onLogout);
}
});
}


;if(!dojo._hasResource["lconn.core.i18nOverrider"]){
dojo._hasResource["lconn.core.i18nOverrider"]=true;
dojo.provide("lconn.core.i18nOverrider");
dojo.deprecated("lconn.core.i18nOverrider","Use standard resource bundle operations, stop requiring lconn.core.i18nOverrider.","3.5");


lconn.core.i18nOverrider.getResourceString=function(_1){
throw "Use dojo.i18n.getLocalization(...) instead";
};
lconn.core.i18nOverrider.loadResourceStringsInParams=function(_2,_3){
throw "Use dojo.i18n.getLocalization(...) instead";
};
lconn.core.i18nOverrider.replaceParams=function(_4,_5){
dojo.deprecated("lconn.core.i18nOverrider.replaceParams","Use dojo.string.substitute with ${} strings instead","3.5");
var _6=_4.indexOf("{");
if(_6!=-1){
var _7=_4.indexOf("}");
if(_7==-1){
return _4;
}
var _8=_4.substring(_6+1,_7);
var _9=_5[_8];
if(typeof _9=="undefined"){
_9="{"+_8+"}";
}
return _4.substring(0,_6)+_9+lconn.core.i18nOverrider.replaceParams(_4.substring(_7+1),_5);
}else{
return _4;
}
};
}


;define("dojox/xml/parser",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(_1){
_1.getObject("xml.parser",true,dojox);
dojox.xml.parser.parse=function(_2,_3){
var _4=_1.doc;
var _5;
_3=_3||"text/xml";
if(_2&&_1.trim(_2)&&"DOMParser" in _1.global){
var _6=new DOMParser();
_5=_6.parseFromString(_2,_3);
var de=_5.documentElement;
var _7="http://www.mozilla.org/newlayout/xml/parsererror.xml";
if(de.nodeName=="parsererror"&&de.namespaceURI==_7){
var _8=de.getElementsByTagNameNS(_7,"sourcetext")[0];
if(_8){
_8=_8.firstChild.data;
}
throw new Error("Error parsing text "+de.firstChild.data+" \n"+_8);
}
return _5;
}else{
if("ActiveXObject" in _1.global){
var ms=function(n){
return "MSXML"+n+".DOMDocument";
};
var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];
_1.some(dp,function(p){
try{
_5=new ActiveXObject(p);
}
catch(e){
return false;
}
return true;
});
if(_2&&_5){
_5.async=false;
_5.loadXML(_2);
var pe=_5.parseError;
if(pe.errorCode!==0){
throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);
}
}
if(_5){
return _5;
}
}else{
if(_4.implementation&&_4.implementation.createDocument){
if(_2&&_1.trim(_2)&&_4.createElement){
var _9=_4.createElement("xml");
_9.innerHTML=_2;
var _a=_4.implementation.createDocument("foo","",null);
_1.forEach(_9.childNodes,function(_b){
_a.importNode(_b,true);
});
return _a;
}else{
return _4.implementation.createDocument("","",null);
}
}
}
}
return null;
};
dojox.xml.parser.textContent=function(_c,_d){
if(arguments.length>1){
var _e=_c.ownerDocument||_1.doc;
dojox.xml.parser.replaceChildren(_c,_e.createTextNode(_d));
return _d;
}else{
if(_c.textContent!==undefined){
return _c.textContent;
}
var _f="";
if(_c){
_1.forEach(_c.childNodes,function(_10){
switch(_10.nodeType){
case 1:
case 5:
_f+=dojox.xml.parser.textContent(_10);
break;
case 3:
case 2:
case 4:
_f+=_10.nodeValue;
}
});
}
return _f;
}
};
dojox.xml.parser.replaceChildren=function(_11,_12){
var _13=[];
if(_1.isIE){
_1.forEach(_11.childNodes,function(_14){
_13.push(_14);
});
}
dojox.xml.parser.removeChildren(_11);
_1.forEach(_13,_1.destroy);
if(!_1.isArray(_12)){
_11.appendChild(_12);
}else{
_1.forEach(_12,function(_15){
_11.appendChild(_15);
});
}
};
dojox.xml.parser.removeChildren=function(_16){
var _17=_16.childNodes.length;
while(_16.hasChildNodes()){
_16.removeChild(_16.firstChild);
}
return _17;
};
dojox.xml.parser.innerXML=function(_18){
if(_18.innerXML){
return _18.innerXML;
}else{
if(_18.xml){
return _18.xml;
}else{
if(typeof XMLSerializer!="undefined"){
return (new XMLSerializer()).serializeToString(_18);
}
}
}
return null;
};
return dojox.xml.parser;
});


;if(!dojo._hasResource["lconn.core.utilities"]){
dojo._hasResource["lconn.core.utilities"]=true;
dojo.provide("lconn.core.utilities");






lconn.core.utilities.getHash=function(){
var _1=document.location.href;
var i=_1.indexOf("#");
if(i==-1){
return "";
}
return _1.substring(i+1);
};
lconn.core.utilities.getURLParam=function(_2,_3){
var _4=lconn.core.url.parse(window.location.href);
var _5=_4.queryParameters[_2];
if(_3&&_5===undefined&&_4.fragment){
_5=lconn.core.url.splitQuery(_4.fragment)[_2];
if(_5===undefined){
try{
var _6=decodeURIComponent(_4.fragment);
if(_6!=_4.fragment){
_5=lconn.core.url.splitQuery(_6)[_2];
}
}
catch(e){
}
}
}
if(dojo.isArray(_5)){
return _5[0];
}
return _5;
};
lconn.core.utilities.isCSSSpriteOn=function(){
var _7=document.createElement("img");
_7.className="lotusSprite lotusSprite-iconPublic16";
_7.style.display="none";
document.body.appendChild(_7);
var _8=dojo.style(_7).backgroundPosition;
var _9=_8&&_8!="0px 0px";
return _9;
};
lconn.core.utilities.replacePlaceHolders=function(_a,_b){
var _c=new Object();
for(var i=0;_b!=null&&i<_b.length;i++){
_c[""+i+""]=_b[i];
}
return lconn.core.i18nOverrider.replaceParams(_a,_c);
};
lconn.core.utilities.processUntilElementIsFound=function(_d,_e,_f,_10,_11,_12,_13){
if(typeof (_e)!="function"){
return;
}
var _14=500;
var _15=20;
var _16=true;
if(typeof (_12)=="number"){
_14=_12;
}
if(typeof (_13)=="number"){
_15=_13;
}
if(typeof (_11)=="boolean"){
_16=_11;
}
var _17="";
var _18=0;
var _19=null;
if(_f!=null){
_19=_f.getElementById(_d);
}else{
_19=dojo.byId(_d);
}
if(_19!=null){
_e(_19,_10);
return;
}
_17=window.setInterval(function(){
var _1a=null;
if(_f!=null){
_1a=_f.getElementById(_d);
}else{
_1a=dojo.byId(_d);
}
_18++;
if(_1a!=null){
window.clearInterval(_17);
_e(_1a,_10);
}else{
if(_18==_15){
window.clearInterval(_17);
if(_16){
throw new Error("lconn.core.utilities.processUntilElementIsFound: elementId was never found: "+_d);
}
}
}
},_14);
};
lconn.core.utilities.processUntilAvailable=function(_1b,_1c,_1d,_1e,_1f,_20){
if(typeof (_1b)!="function"){
return;
}
var _21=500;
var _22=20;
var _23=true;
if(typeof (_1f)=="number"){
_21=_1f;
}
if(typeof (_20)=="number"){
_22=_20;
}
if(typeof (_1e)=="boolean"){
_23=_1e;
}
var _24="";
var _25=0;
if(eval(_1c)){
if(_1d!=null){
_1b(_1d);
}else{
_1b();
}
return;
}
_24=window.setInterval(function(){
_25++;
if(eval(_1c)){
window.clearInterval(_24);
if(_1d!=null){
_1b(_1d);
}else{
_1b();
}
}else{
if(_25==_22){
window.clearInterval(_24);
if(_23){
throw new Error("lconn.core.utilities.processUntilAvailable: test was never met: "+_1c);
}
}
}
},_21);
};
lconn.core.utilities.gotoURL=function(url,_26){
if(_26==null){
if(url.indexOf("?")!=-1){
url+="&ver="+profilesData.config.buildNumber+"&lastMod="+profilesData.config.profileLastMod;
}else{
url+="?ver="+profilesData.config.buildNumber+"&lastMod="+profilesData.config.profileLastMod;
}
}
if(dojo.isIE){
var _27=url;
setTimeout("window.location.href = SideBar_RedirectUrl",0);
}else{
window.location.assign(url);
}
};
lconn.core.utilities.toggleVisibility=function(_28,_29){
var _2a=null;
if((typeof _28)=="string"){
_2a=dojo.byId(_28);
}else{
_2a=_28;
}
if(_2a){
if(_2a.style.visibility=="hidden"){
lconn.core.utilities.show(_2a,_29);
}else{
lconn.core.utilities.hide(_2a,_29);
}
}
return false;
};
lconn.core.utilities.hide=function(_2b,_2c,_2d,_2e){
var _2f=null;
if((typeof _2b)=="string"){
_2f=dojo.byId(_2b);
}else{
_2f=_2b;
}
if(_2f!=null){
var _30=function(){
_2f.style.visibility="hidden";
if(!_2c){
_2f.style.display="none";
}
if(_2e!=null){
_2e();
}
};
if(_2d==null||_2d==false){
var _31=dojo.fx.wipeOut({node:_2f,duration:300,onEnd:_30});
_31.play();
}else{
_30();
}
}
return false;
};
lconn.core.utilities.show=function(_32,_33,_34,_35,_36){
var _37=0;
var _38=null;
if((typeof _32)=="string"){
_38=dojo.byId(_32);
}else{
_38=_32;
}
if(_34&&_38==null){
var _39="";
_39=window.setInterval(function(){
_37++;
if((typeof _32)=="string"){
_38=dojo.byId(_32);
}else{
_38=_32;
}
if(_38!=null){
window.clearInterval(_39);
lconn.core.utilities.show(_38,_33,false,_35,_36);
}else{
if(_37==20){
window.clearInterval(_39);
}
}
},300);
}else{
if(_38!=null){
var _3a=function(){
_38.style.visibility="visible";
if(!_33){
_38.style.display="block";
}
if(_36!=null){
_36();
}
};
if(_35==null||_35==false){
var _3b=dojo.fx.wipeIn({node:_38,duration:300});
_3b.play();
}else{
_3a();
}
}
}
return false;
};
lconn.core.utilities.loadScript=function(_3c){
if(this.scripts==null){
this.scripts={};
}
if(!this.scripts[_3c]){
this.scripts[_3c]=true;
var _3d=document.createElement("script");
_3d.src=_3c;
document.body.insertBefore(_3d,document.body.firstChild);
}
};
lconn.core.utilities.getExtension=function(s){
if(!s){
return "";
}
var i=s.lastIndexOf(".");
if(i!=-1){
return dojo.trim(s.substring(i+1).toLowerCase());
}
return "";
};
lconn.core.utilities.getFileIconClassName=function(_3e,_3f){
var _3f=_3f||16;
var _40=lconn.core.utilities.getExtension(_3e);
_40=_40.replace(/[^a-z0-9]/g,"-");
var _41="lconn-ftype{size} lconn-ftype{size}-{ext}";
var _42=_41.replace(/\{size\}/g,_3f).replace(/\{ext\}/g,_40);
return _42;
};
lconn.core.utilities.getGridActionClass=function(_43,_44){
var _44=_44||16;
var _45=lconn.core.utilities.getExtension(_43);
_45=_45.replace(/[^a-z0-9]/g,"-");
var _46="grid-a-{ext}";
var _47=_46.replace(/\{ext\}/g,_45);
return _47;
};
lconn.core.utilities.isDefined=function(_48){
var _49=_48.indexOf(".");
var _4a=true;
if(_49!=-1){
_4a=lconn.core.utilities.isDefined(_48.substring(0,_49));
if(_4a){
var _4b=eval("typeof( "+_48+") != 'undefined'");
return _4b;
}else{
return false;
}
}else{
return (window[_48]!=null);
}
};


if(dojo.isIE&&dojo.exists("dojox.xml.parser")&&"DOMParser" in dojo.global){
dojox.xml.parser["parse.orig"]=dojox.xml.parser.parse;
dojox.xml.parser.parse=function(str,_4c){
try{
var doc;
var ms=function(n){
return "MSXML"+n+".DOMDocument";
};
dojo.some(["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)],function(p){
try{
doc=new ActiveXObject(p);
}
catch(e){
return false;
}
return true;
});
if(str&&doc){
doc.async=false;
doc.loadXML(str);
}
if(doc){
return doc;
}
}
catch(e){
}
return dojox.xml.parser["parse.orig"](str,_4c);
};
}
}


;if(!dojo._hasResource["lconn.core.xpath"]){
dojo._hasResource["lconn.core.xpath"]=true;
dojo.provide("lconn.core.xpath");
(function(){
var _1=function(_2,_3){
for(var x=0;x<_2.length;x++){
if(_3==_2[x].prefix){
return _2[x].nameSpaceURI;
}
}
return null;
};
var _4=function(_5,_6){
var _7="";
for(var x=0;_6!=null&&x<_6.length;x++){
_7+="xmlns:"+_6[x].prefix+"='"+_6[x].nameSpaceURI+"' ";
}
if(_7!=""&&dojo.isIE){
_5.setProperty("SelectionNamespaces",_7);
}
};
var _8=function(_9){
if(_9!=null){
return function(_a){
var _b=_1(_9,_a);
if(lconn.core.xpath.debug){
console.log("getNameSpaceResolver: prefix: "+_a+" URI: "+_b);
}
if(lconn.core.xpath.debug&&(_b==null||_b=="")){
console.log("getNameSpaceResolver: no namespace was found for prefix: "+_a);
}
return _b;
};
}else{
return null;
}
};
var _c=function(_d){
var _e=new Array;
_e=_f(_e,_d);
return _e;
};
var _f=function(_10,_11){
if(_11.documentElement){
for(var x=0;x<_11.documentElement.attributes.length;x++){
var att=_11.documentElement.attributes[x];
var _12=att.nodeName.indexOf(":");
if(_12!=-1){
if(att.nodeName.substring(0,_12).toLowerCase()=="xmlns"){
var _13=att.nodeName.substring(_12+1);
var _14=_1(_10,_13);
if(lconn.core.xpath.debug){
console.log("addNamesSpaceFromRootElement: current prefix: "+_13+" nameSpaceURI: "+_14);
}
if(_14==null){
_14=att.nodeValue;
if(lconn.core.xpath.debug){
console.log("addNamesSpaceFromRootElement: adding prefix: "+_13+" nameSpaceURI: "+_14+" to the list");
}
_10.push({prefix:_13,nameSpaceURI:_14});
}
}
}
}
}
return _10;
};
lconn.core.xpath.debug=false;
lconn.core.xpath.selectNodes=function(_15,_16,_17,_18){
if(_16==null){
throw Error("lconn.core.xpath.selectNodes : XMLDocument can not be null\n");
}
if(_17==null){
_17=_c(_16);
}else{
_17=_f(_17,_16);
}
for(var x=0;lconn.core.xpath.debug&&x<_17.length;x++){
console.log(_17[x].prefix+":"+_17[x].nameSpaceURI);
}
if(_18==null&&(_16.documentElement!=null)){
_18=_16.documentElement;
}
if(dojo.isIE){
try{
_4(_16,_17);
return _18.selectNodes(_15);
}
catch(exception){
console.log(exception);
}
}else{
try{
var _19=_8(_17);
var _1a=0;
var _1b=null;
_1b=_16.evaluate(_15,_18,_19,_1a,_1b);
if(_1b!=null){
var _1c=new Array();
var $A=null;
while($A=_1b.iterateNext()){
_1c.push($A);
}
return _1c;
}
}
catch(exception){
console.log(exception);
}
}
};
lconn.core.xpath.selectSingleNode=function(_1d,_1e,_1f,_20){
var _21=lconn.core.xpath.selectNodes(_1d,_1e,_1f,_20);
if(_21==null||_21.length==0){
return null;
}
return _21[0];
};
lconn.core.xpath.selectText=function(_22,_23,_24,_25){
var _26=lconn.core.xpath.selectSingleNode(_22,_23,_24,_25);
if(_26==null){
return null;
}
return _26.nodeValue;
};
lconn.core.xpath.setNodeValue=function(_27,_28,_29,_2a,_2b){
var _2c=lconn.core.xpath.selectSingleNode(_27,_28,_2a,_2b);
if(_2c!=null){
if(_2c.nodeType==1){
if(_2c.hasChildNodes()){
var _2d=_2c.firstChild;
_2c.replaceChild(_28.createTextNode(_29),_2d);
}else{
_2c.appendChild(_28.createTextNode(_29));
}
}else{
if(_2c.nodeType==2){
_2c.nodeValue=_29;
}else{
if(_2c.nodeType==3){
_2c.nodeValue=_29;
}else{
console.log("lconn.core.xpath.setNodeValue: nodeType: "+_2c.nodeType);
}
}
}
}else{
var _2e=_27.lastIndexOf("/");
if(_2e!=-1){
var _2f=_27.substring(_2e+2);
var _30=_27.substring(_2e+1);
if(_30.indexOf("@")==0){
var _31=_27.substring(0,_2e);
var _32=lconn.core.xpath.selectSingleNode(_31,_28,_2a,_2b);
if(_32==null){
console.log("lconn.core.xpath.setNodeValue: couldn't find parent node for: "+_31+" orig "+_27);
return;
}
_32.setAttribute(_2f,_29);
return;
}
}
console.log("lconn.core.xpath.setNodeValue: couldn't find node for: "+_27);
}
};
})();
}


;if(!dojo._hasResource["lconn.core.help"]){
dojo._hasResource["lconn.core.help"]=true;
dojo.provide("lconn.core.help");






(function(_1,_2){
var _3="/topic/",_4={activities:_3+"com.ibm.lotus.connections.activities.help/",blogs:_3+"com.ibm.lotus.connections.blogs.help/",dogear:_3+"com.ibm.lotus.connections.bookmarks.help/",common:_3+"com.ibm.lotus.connections.common.help/",communities:_3+"com.ibm.lotus.connections.communities.help/",files:_3+"com.ibm.lotus.connections.files.help/",forums:_3+"com.ibm.lotus.connections.forums.help/",homepage:_3+"com.ibm.lotus.connections.homepage.help/",profiles:_3+"com.ibm.lotus.connections.profiles.help/",wikis:_3+"com.ibm.lotus.connections.wikis.help/"},_5={activities:_4["activities"]+"aframe.html",blogs:_4["blogs"]+"bframe.html",dogear:_4["dogear"]+"dframe.html",common:_4["common"]+"euframe.html",communities:_4["communities"]+"cframe.html",files:_4["files"]+"fframe.html",forums:_4["forums"]+"eframe.html",homepage:_4["homepage"]+"hframe.html",profiles:_4["profiles"]+"pframe.html",wikis:_4["wikis"]+"wframe.html"},_6=_4["common"],_7=_5["common"],_8="height=${h},width=${w},status=yes,toolbar=yes,menubar=no,location=no,scrollbars=yes,resizable=yes";
function _9(_a,_b){
var _c=_a;
var _b=(_b&&_4[_b])?_b:dojo.getObject("ibmConfig.serviceName");
if(!_a){
_c=_5[_b]||_7;
}else{
if(_a.indexOf(_3)!==0){
_c=(_4[_b]||_6)+_a.substring(_a.lastIndexOf("/")+1);
}
}
return _c;
};
function _d(){
var h=Math.max(_1.screen.height/4,770);
var w=Math.max(_1.screen.width/4,980);
return dojo.string.substitute(_8,{h:h,w:w});
};
lconn.core.help={launchDemo:function(_e){
if(!_e){
return;
}
var w=_1.open(_e,"_icDemoWindow",_d());
if(w){
w.focus();
}
},launchHelp:function(_f,_10){
if(!lconn.core.config.services.help){
return;
}
var w=_1.open(this.getProductHelpUrl(_f,_10),"_icHelpWindow",_d());
if(w){
w.focus();
}
},getProductHelpUrl:function(_11,_12){
var url,_13=lconn.core.url.getServiceUrl(lconn.core.config.services.help);
if(_13){
url=_13.toString()+_9(_11,_12);
}
return url;
},createHelpLink:function(el,_14,_15){
var _16=dojo.byId(el),url=this.getProductHelpUrl(_14,_15);
dojo.attr(el,"href",this.getProductHelpUrl(_14,_15));
return dojo.connect(el,"onclick",function(e){
dojo.stopEvent(e);
lconn.core.help.launchHelp(_14);
});
}};
})(window,document);
}


;if(!dojo._hasResource["lconn.core.PeopleDataStore"]){
dojo._hasResource["lconn.core.PeopleDataStore"]=true;
dojo.provide("lconn.core.PeopleDataStore");
dojo.declare("lconn.core.PeopleDataStore",null,{constructor:function(_1,_2){
this.queryParam=(_1.queryParam?_1.queryParam:_2.getAttribute("queryParam"));
this.url=(_1.url?_1.url:_2.getAttribute("url"));
this.cache=[];
this.dirCache=[];
this.network=_1.network;
},queryParam:"",searchDirectory:false,cache:null,dirCache:null,network:null,fetch:function(_3){
var _4={};
var _5;
this.searchDirectory=(_3.queryOptions.searchDirectory?true:false);
if(this.searchDirectory){
_5=this.dirCache;
}else{
_5=this.cache;
}
if(typeof _5[_3.query.toLowerCase()]=="object"){
_3.count=_5.length;
_3.onComplete(_5[_3.query.toLowerCase()],_3);
return _3;
}
if(this.queryParam){
_4[this.queryParam]=_3.query;
}
if(this.searchDirectory){
_4.usedirectory="yes";
}
this.networkGet({url:this.url,content:_4,handleAs:"json-comment-optional",timeout:60000,load:dojo.hitch(this,function(_6){
var _7;
if(this.searchDirectory){
_7=this.dirCache;
}else{
_7=this.cache;
}
_3.count=_6.items.length;
_7[_3.query.toLowerCase()]=_6.items;
if(_3.onComplete){
_3.onComplete(_6.items,_3);
}
}),error:function(e,_8){
console.log("There was an error: "+e.message);
_8.xhr.abort();
}});
return _3;
},networkGet:function(_9){
if(this.network&&this.network.get){
return this.network.get(_9);
}
return (this.network||dojo).xhrGet(_9);
},getValue:function(_a,_b,_c){
if(_a[_b]){
return _a[_b];
}else{
return _c;
}
}});
}


;if(!dojo._hasResource["lconn.core.PeopleFinderDataStore"]){
dojo._hasResource["lconn.core.PeopleFinderDataStore"]=true;
dojo.provide("lconn.core.PeopleFinderDataStore");


dojo.declare("lconn.core.PeopleFinderDataStore",lconn.core.PeopleDataStore,{fetch:function(_1){
var _2={pageSize:_1.count?_1.count:15,highlight:false,query:_1.query,searchOnlyNameAndEmail:true};
var _3;
this.searchDirectory=(_1.queryOptions.searchDirectory?true:false);
if(this.searchDirectory){
_3=this.dirCache;
}else{
_3=this.cache;
}
if(typeof _3[_1.query.toLowerCase()]=="object"){
_1.count=_3.length;
_1.onComplete(this.convertPeopleFinderResults(_3[_1.query.toLowerCase()]),_1);
return _1;
}
if(this.queryParam){
_2[this.queryParam]=_1.query;
}
if(this.searchDirectory){
_2.usedirectory="yes";
}
this.networkGet({url:this.url,content:_2,handleAs:"json-comment-optional",timeout:60000,load:dojo.hitch(this,function(_4){
var _5;
if(this.searchDirectory){
_5=this.dirCache;
}else{
_5=this.cache;
}
_1.count=_4.numResultsInCurrentPage;
_5[_1.query.toLowerCase()]=_4.persons;
if(_1.onComplete){
_1.onComplete(this.convertPeopleFinderResults(_4.persons),_1);
}
}),error:function(e,_6){
console.log("There was an error: "+e.message);
_6.xhr.abort();
}});
return _1;
},convertPeopleFinderResults:function(_7){
if(_7==null||_7.length==0){
return _7;
}
var _8=new Array();
for(var i=0;i<_7.length;i++){
_8.push(this.convertPeopleFinderResult(_7[i]));
}
return _8;
},convertPeopleFinderResult:function(_9){
var _a={};
var _b=_9.userType=="VISITOR"?"EXTERNAL":_9.userType;
_a["userid"]=_9.id;
_a["type"]="0";
_a["name"]=_9.name;
_a["param"]=_9.id+"\x02"+_9.name;
_a["member"]=_9.email;
_a["ext"]={mode:_b};
return _a;
}});
}


;if(!dojo._hasResource["lconn.core.PeopleTypeAheadFormatMixin"]){
dojo._hasResource["lconn.core.PeopleTypeAheadFormatMixin"]=true;
dojo.provide("lconn.core.PeopleTypeAheadFormatMixin");






(function(_1,_2){
dojo.declare("lconn.core.PeopleTypeAheadFormatMixin",lconn.core.TypeAheadFormatMixin,{formatItem:function(_3,_4){
var _5=this._getLabelFromItem(_3);
return _4?this._htmlify(_5):_5;
},_getLabelFromItem:function(_6){
var _7=[];
if(_6){
if(typeof _6=="string"){
return _6;
}
if(_6.name){
_7.push((_2.isRTLValue(_6.name)&&!dojo._isBodyLtr())?"\u202a"+_6.name+"\u202c":_6.name);
if(_6.businessOwner){
_7.push(":");
_7.push(_6.businessOwner);
}
}
var _8=_6.member||_6.email;
if(_8){
_7.push(dojo._isBodyLtr()?"<"+_8+">\u200e":"\u200e<"+_8+">\u200e");
}
}
return dojo._isBodyLtr()?_7.join(" "):_2.enforceTextDirection(_7.join(" "),"rtl");
},_htmlify:function(_9){
return _1.encodeHtml(_9).replace(/"/g,"&quot;").replace(/\u200e/g,"&lrm;");
}});
}(lconn.core.util.html,lconn.core.globalization.bidiUtil));
}


;if(!dojo._hasResource["lconn.core.PeopleTypeAhead"]){
dojo._hasResource["lconn.core.PeopleTypeAhead"]=true;
dojo.provide("lconn.core.PeopleTypeAhead");










dojo.declare("lconn.core.PeopleTypeAhead",[lconn.core.TypeAhead,lconn.core.Res,lconn.core.PeopleTypeAheadFormatMixin],{isGroup:false,isPersonAndGroup:false,isCommunity:false,size:"",pageSize:15,multipleValues:false,NoResultsMessage:"",HeaderMessage:"",showHintText:true,disableSearchDirectory:false,autoSelectChars:[","],focused:false,templateString:null,templatePath:dojo.moduleUrl("lconn.core","templates/ComboBox.html"),disableBizCard:false,postMixInProperties:function(){
this.loadDefaultBundle();
this.searchDirectory=this.resBundle.rs_searchDirectory;
if(this.isGroup){
this.searchDirectory=this.resBundle.rs_searchGroupDirectory;
}else{
if(this.isCommunity){
this.searchDirectory=this.resBundle.rs_searchCommunityDirectory;
}else{
if(this.isPersonAndGroup){
this.searchDirectory=this.resBundle.rs_searchPersonAndGroupDirectory;
}
}
}
if(this.showHintText){
this.hintText=this.resBundle.rs_shadowText_searchDirectory;
if(this.isGroup){
this.hintText=this.resBundle.rs_shadowText_searchGroupDirectory;
}else{
if(this.isCommunity){
this.hintText=this.resBundle.rs_shadowText_searchCommunityDirectory;
}else{
if(this.isPersonAndGroup){
this.hintText=this.resBundle.rs_shadowText_searchPersonAndGroupDirectory;
}
}
}
}else{
this.hintText=null;
}
this.inherited(arguments);
this.baseClass="lotusText";
},postCreate:function(){
this.inherited(arguments);
var _1=this.resBundle.rs_shadowText_searchDirectory;
if(this.isGroup){
_1=this.resBundle.rs_shadowText_searchGroupDirectory;
}else{
if(this.isCommunity){
_1=this.resBundle.rs_shadowText_searchCommunityDirectory;
}else{
if(this.isPersonAndGroup){
_1=this.resBundle.rs_shadowText_searchPersonAndGroupDirectory;
}
}
}
var _2=dojo.place("<div id=\""+this.id+"_ariaDescribedBy"+"\" style=\"display:none;\">"+_1+"</div>",this.domNode,"after");
dojo.attr(this.domNode,"aria-describedby",this.id+"_ariaDescribedBy");
},getItem:function(){
return (this.item?this.item:null);
},_onKey:function(_3){
this.inherited(arguments);
var _4=dojo.keys;
switch(_3.keyCode){
case _4.PAGE_DOWN:
case _4.DOWN_ARROW:
case _4.PAGE_UP:
case _4.UP_ARROW:
if(this._opened){
this._popupWidget._focusOptionNode(this._popupWidget.getHighlightedOption());
}
break;
case _4.ENTER:
var pw=this._popupWidget;
if(pw.getHighlightedOption()==pw.searchButton){
pw.searchDirectory();
}
break;
}
},_onFocus:function(_5){
this.inherited(arguments);
this.focused=true;
},_onBlur:function(_6){
this.focused=false;
var pw=this._popupWidget;
if(!(pw&&pw.tooltipFocused)){
this.inherited(arguments);
}
if(dojo.isIE&&this.dropdownNode){
dojo.removeClass(this.dropdownNode,"lconnTypeAhead");
}
this.updateHintText();
},_startSearch:function(_7,_8){
_8=_8||{};
if(_8.searchImmediately){
_8.searchBoth=true;
}
var _9=this.id+"_popup";
if(!this._popupWidget){
this._popupWidget=this.dropDown=new lconn.core.PeopleTypeAheadMenu({_strings:this._strings,rs_searchDirectory:this.searchDirectory,NoResultsMessage:this.NoResultsMessage,HeaderMessage:this.HeaderMessage,disableSearchDirectory:this.disableSearchDirectory,onChange:dojo.hitch(this,this._selectOption),id:_9,inputWidget:this,disableBizCard:this.disableBizCard});
var _a=this.textbox.getAttribute("wairole");
if(_a){
dijit.setWaiRole(this.textbox,_a);
}
dijit.setWaiState(this._popupWidget.domNode,"live","polite");
dijit.removeWaiState(this.focusNode,"activedescendant");
}else{
dijit.setWaiState(this.focusNode,"activedescendant",_9);
}
this.item=null;
var _b=dojo.clone(this.query);
this._lastQuery=_b=_7;
this.searchTimer=this.defer(dojo.hitch(this,function(_c,_d){
var _e=this.store.fetch({queryOptions:dojo.mixin({ignoreCase:this.ignoreCase,deep:true},_8),query:_c,onComplete:dojo.hitch(this,"_openResultList"),onError:function(_f){
console.error("dijit.form.ComboBox: "+_f);
dojo.hitch(_d,"_hideResultList")();
},start:0,count:this.pageSize});
var _10=function(_11,_12){
_11.start+=_11.count*_12;
_11.direction=_12;
this.store.fetch(_11);
};
this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,_10,_e);
this._popupWidget.searchDirectory=dojo.hitch(this,dojo.hitch(this,function(){
_e.queryOptions.searchDirectory=true;
this.store.fetch(_e);
}));
},_b,this),_8.searchImmediately?1:this.searchDelay);
},_openResultList:function(_13,_14){
if(this.disabled||this.readOnly||(_14.query!=this._lastQuery)){
return;
}
this._popupWidget.clearResultList();
if(_13.length){
var _15=new String(this.formatItem(_13[0]));
if(_15&&this.autoComplete&&!this._prev_key_backspace&&(_14.query!="")){
this._autoCompleteText(_15);
}
}
_14._maxOptions=this._maxOptions;
this._popupWidget.createOptions(_13,_14,dojo.hitch(this,"_getMenuLabelFromItem"));
this.results=_13;
var _16=dijit.form.ComboBox.prototype._hideResultList;
dijit.form.ComboBox.prototype._hideResultList=function(){
};
this._showResultList();
dijit.form.ComboBox.prototype._hideResultList=_16;
dojo.place(this._popupWidget.headerNode,this._popupWidget.domNode,"before");
this._popupWidget.domNode.parentNode.setAttribute("aria-label","Type Ahead");
document.activeElement.removeAttribute("aria-owns");
this._popupWidget.selected=null;
if(dojo.isIE&&(this.focusNode!=document.activeElement)&&!this.focusNode.preventFocus){
this.focusNode.focus();
}
if(_14.direction){
if(1==_14.direction){
this._popupWidget.highlightFirstOption();
}else{
if(-1==_14.direction){
this._popupWidget.highlightLastOption();
}
}
}
}});
dojo.declare("lconn.core.PeopleTypeAheadMenu",[dijit.form._ComboBoxMenu,lconn.core.Res],{rs_searchDirectory:" ",NoResultsMessage:"",HeaderMessage:"",templateString:"<div waiRole='listbox' class='dijitReset dijitMenu' dojoAttachPoint='containerNode' tabIndex='-1' style='overflow:\"auto\";'>"+"<div class='dijitMenuItem dijitMenu headerNode lotusHidden' dojoAttachPoint='headerNode' tabIndex='-1'></div>"+"<div class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' role='option' tabIndex='-1'></div>"+"<div class='dijitMenuItem lotusAlignLeft resultsNode'  style='overflow: hidden;' dojoAttachPoint='resultsNode' role='option'></div>"+"<div class='dijitMenuItem searchDirectory ${searchDirectoryClass}' dojoAttachPoint='searchButton' role='option'>${rs_searchDirectory}</div>"+"<div class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' role='option'></div>"+"</div>",_messages:null,searchDirectoryClass:"",disableSearchDirectory:false,disableBizCard:false,inputWidget:null,tooltipFocused:false,tooltipAroundNode:null,tooltipTimeout:null,tooltipDelay:600,tooltipId:0,popupClosed:true,postMixInProperties:function(){
this.loadDefaultBundle();
this.inherited("postMixInProperties",arguments);
if(this.disableSearchDirectory){
this.searchDirectoryClass="lotusHidden";
}
if(!this.NoResultsMessage){
this.NoResultsMessage=this.resBundle.rs_noResults||"";
}
},postCreate:function(){
dojo.attr(this.previousButton,"aria-label",this.resBundle.rs_navPrevLabel);
dojo.attr(this.searchButton,"aria-label",this.rs_searchDirectory);
dojo.attr(this.nextButton,"aria-label",this.resBundle.rs_more);
this.searchButton.selectHandler=dojo.hitch(this,function(evt){
dojo.stopEvent(evt);
this.searchDirectory();
return true;
});
this.resultsNode.selectHandler=dojo.hitch(this,function(evt){
dojo.stopEvent(evt);
return true;
});
this.inherited("postCreate",arguments);
},searchDirectory:function(){
},setValue:function(_17){
if(_17.target.item){
this.value=_17;
this.onChange(_17);
}
},_onMouseUp:function(evt){
if(evt.target==this.searchButton){
this.searchDirectory();
}else{
if(evt.target!=this.resultsNode){
this.inherited("_onMouseUp",arguments);
}
}
},_onMouseOver:function(evt){
if(evt.target===this.domNode){
return;
}
var tgt=evt.target;
if(!(tgt==this.previousButton||tgt==this.nextButton||tgt==this.searchButton||tgt==this.resultsNode)){
while(tgt&&!tgt.getAttribute("item")){
tgt=tgt.parentNode;
}
}
this._focusOptionNode(tgt);
},_focusOptionNode:function(_18){
if(this._highlighted_option!=_18){
this._blurOptionNode();
this._highlighted_option=_18;
dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");
dojo.addClass(this._highlighted_option,"dijitMenuItemHover");
var _19=dojo.attr(_18,"exid");
var _1a=dojo.attr(_18,"persontype");
this.closeTooltip();
this.tooltipId++;
this.popupClosed=false;
if(_19&&(_1a==0)&&!this.disableBizCard){
this.renderBizCard(_19,_18);
}else{
if(_1a!=-1){
this.inputWidget._announceOption(_18);
}
}
}
},renderBizCard:function(_1b,_1c){
if(dojo.isFunction(dojo.getObject("lconn.profiles.bizCard.bizCard.renderMiniBizCard"))){
this.tooltipTimeout=setTimeout(dojo.hitch(lconn.profiles.bizCard.bizCard,"renderMiniBizCard",_1b,dojo.hitch(this,"showTooltip",this.tooltipId,_1c)),this.tooltipDelay);
}else{
this.inputWidget._announceOption(_1c);
}
},_blurOptionNode:function(){
if(this._highlighted_option){
dojo.removeClass(this._highlighted_option,"dijitMenuItemHover");
this._highlighted_option=null;
}
},_createOption:function(_1d,_1e){
var _1f=this.inherited("_createOption",arguments);
if(_1d.userid){
dojo.attr(_1f,"exid",_1d.userid);
dojo.attr(_1f,"aria-labelledby","bc_document_node");
}
if(_1d.type){
dojo.attr(_1f,"persontype",_1d.type);
}
return _1f;
},createOptions:function(_20,_21,_22){
dojo.publish("lconn/core/typeahead/open");
this.clearResultList();
this.items=_20;
if(!_21.start||_21.start==0){
this.previousButton.style.display="none";
}else{
this.previousButton.style.display="";
dojo.removeAttr(this.previousButton,"tabindex");
}
dojo.attr(this.previousButton,"id",this.id+"_prev");
if(this.HeaderMessage){
var el=this.headerNode;
while(el.firstChild){
el.removeChild(el.firstChild);
}
el.appendChild(document.createTextNode(this.HeaderMessage));
el.setAttribute("id",this.id+"_headerMessage");
el.item=this.HeaderMessage;
this.domNode.setAttribute("aria-describedby",this.id+"_headerMessage");
dojo.removeClass(el,"lotusHidden");
if(!dojo._isBodyLtr()){
dojo.addClass(el,"dijitMenuItemRtl");
}
}
dojo.forEach(_20,function(_23,i){
if(_21.count&&i>=_21.count){
return;
}
var _24=this._createOption(_23,_22);
var _25=_24.innerHTML;
if(_20[i].userid=="null"&&_20[i].type==-1){
while(_24.firstChild){
_24.removeChild(_24.firstChild);
}
_24.appendChild(document.createTextNode(_25));
_24.item=_25;
this.resultsNode=_24;
}else{
dojo.attr(_24,"id",this.id+i);
_24.className=dojo._isBodyLtr()?"dijitMenuItem":"dijitMenuItem dijitMenuItemRtl";
_24.setAttribute("item",i);
}
dojo.style(_24,"overflow","hidden");
this.domNode.insertBefore(_24,this.nextButton);
},this);
var _26=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;
if(this.id=="inviteMembersWidgetPeopleTypeAhead_popup"&&_20.length==0&&_26.test(_21.query)){
var _27=null;
var _28=dojo.locale;
var _29="";
if(_28.indexOf("en")!=-1){
_29="Invite "+_21.query+" to developerWorks community";
}else{
if(_28.indexOf("es")!=-1){
_29="Invite a "+_21.query+" a la comunidad developerWorks. ";
}else{
if(_28.indexOf("ja")!=-1){
_29="developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u306b "+_21.query+" \u3092\u62db\u5f85\u3059\u308b\u3002";
}else{
if(_28.indexOf("pt-br")!=-1){
_29="Convide "+_21.query+" para a comunidade developerWorks";
}else{
if(_28.indexOf("ru")!=-1){
_29="\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435 "+_21.query+" \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e developerWorks";
}else{
if(_28.indexOf("zh")!=-1){
_29="\u9080\u8bf7 "+_21.query+" \u52a0\u5165 developerWorks \u793e\u533a";
}
}
}
}
}
}
var _2a={name:_29,userid:_21.query,type:"0"};
this.items=[_2a];
_27=this._createOption(_2a,_22);
dojo.attr(_27,"id",this.id+0);
_27.className=dojo._isBodyLtr()?"dijitMenuItem":"dijitMenuItem dijitMenuItemRtl";
_27.setAttribute("item",0);
this.domNode.insertBefore(_27,this.nextButton);
}
this.nextButton.style.display=(_21.count&&_21.count<_20.length)?"":"none";
dojo.attr(this.nextButton,"id",this.id+"_next");
var el=this.resultsNode;
if(_20.length==0&&this.NoResultsMessage){
var _2b=dojo.string.substitute(this.NoResultsMessage,[_21.query]);
while(el.firstChild){
el.removeChild(el.firstChild);
}
el.appendChild(document.createTextNode(_2b));
el.item=_2b;
this.domNode.insertBefore(el,this.nextButton);
}
dojo.attr(this.resultsNode,"id",this.id+"_resultsNode");
if(!_21.queryOptions.searchDirectory&&_21.searchType!="directory"){
this.domNode.insertBefore(this.searchButton,this.nextButton);
}
dojo.attr(this.searchButton,"id",this.id+"_searchDir");
if(!dojo._isBodyLtr()){
dojo.addClass(this.searchButton,"dijitMenuItemRtl");
}
},clearResultList:function(){
var _2c=this.previousButton;
var _2d=this.nextButton;
while(_2c.nextSibling&&_2c.nextSibling!=_2d){
this.domNode.removeChild(_2c.nextSibling);
}
},getListLength:function(){
return this.domNode.childNodes.length-2-(this.searchButton.parentNode?1:0)-(this.resultsNode.parentNode?1:0)-(this.headerNode.parentNode?1:0);
},showTooltip:function(id,_2e,_2f){
if(_2e.parentNode&&_2e.parentNode.parentNode&&_2e.parentNode.parentNode.style.display==="none"){
this.popupClosed=true;
}
if(id==this.tooltipId&&!this.popupClosed){
this.tooltipAroundNode=_2e;
dijit.showTooltip(_2f,_2e,["after","before"]);
dijit._masterTT.containerNode.removeAttribute("wairole");
dijit._masterTT.containerNode.removeAttribute("role");
this.inputWidget._announceOption(_2e);
dojo.publish("com/ibm/social/incontext/typeahead/onMiniBizCardDisplay",[_2f]);
var a=dojo.query("a","cardBody")[0];
if(a){
this.connect(a,"onblur",dojo.hitch(this,function(){
this.tooltipFocused=false;
var iw=this.inputWidget;
setTimeout(function(){
if(!(iw&&iw.focused)){
iw._hideResultList();
}
},100);
}));
dojo.connect(a,"onkeypress",dojo.hitch(this,function(evt){
var key=evt.charOrCode;
var dk=dojo.keys;
var iw=this.inputWidget;
switch(key){
case dk.ESCAPE:
this.closeTooltip();
if(iw&&iw.domNode){
iw.domNode.focus();
}
break;
case dk.TAB:
if(iw&&iw.domNode){
iw.domNode.focus();
}
dojo.stopEvent(evt);
break;
}
}));
}
}
},closeTooltip:function(){
if(this.tooltipAroundNode){
dijit.hideTooltip(this.tooltipAroundNode);
this.tooltipAroundNode=null;
}
if(this.tooltipTimeout){
clearTimeout(this.tooltipTimeout);
this.tooltipTimeout=null;
}
},onClose:function(){
dojo.publish("lconn/core/typeahead/close");
this.popupClosed=true;
this.closeTooltip();
this._blurOptionNode();
}});
}


;if(!dojo._hasResource["lconn.core.PeopleFinderTypeAhead"]){
dojo._hasResource["lconn.core.PeopleFinderTypeAhead"]=true;
dojo.provide("lconn.core.PeopleFinderTypeAhead");


dojo.declare("lconn.core.PeopleFinderTypeAhead",[lconn.core.PeopleTypeAhead],{previousKey:null,formatItemHtml:function(_1){
return this.formatItem(_1,true);
},formatItem:function(_2,_3){
var _4="";
if(_2.name){
_4+=_2.name;
}
if(_2.member){
_4+=" <"+_2.member+">\u200e";
}
_4=_4.replace(/<b>/gi,"").replace(/<\/b>/gi,"");
return _4;
},_getMenuLabelFromItem:function(_5){
var _6=this.formatItemHtml(_5);
var _7="";
if(this.multipleValues){
_7=dojo.string.trim(this.keyArr[this.keyIdx]);
}else{
_7=dojo.string.trim(this.focusNode.value);
}
return {html:true,label:_6};
},_startSearch:function(_8){
if(!_8||!_8.trim().length){
return;
}
if(this.previousKey&&this.previousKey.trim()===_8.trim()){
return;
}
this.previousKey=_8;
this.inherited(arguments);
}});
}


;if(!dojo._hasResource["lconn.core.CommonTags.AjaxCall"]){
dojo._hasResource["lconn.core.CommonTags.AjaxCall"]=true;
dojo.provide("lconn.core.CommonTags.AjaxCall");
dojo.declare("lconn.core.CommonTags.AjaxCall",null,{TAG_URL:"",REDIRECT_URL:"",TAG_TEMPLATE:"",URL_PARAMETERS:null,HANDLE_AS:"",constructor:function(_1){
dojo.mixin(this,_1);
},getTags:function(_2,_3,_4){
var _5=this.generateTagParameters(_4);
var _6={url:this.TAG_URL,content:_5,handleAs:this.HANDLE_AS,timeout:30000,handle:_2};
dojo.xhrGet(_6);
},redirect:function(_7){
if(_7!="undefined"&&_7!=null){
if(this.REDIRECT_URL.indexOf("?")>0){
this.REDIRECT_URL=this.REDIRECT_URL.substring(0,this.REDIRECT_URL.indexOf("?"));
this.REDIRECT_URL+="?";
this.REDIRECT_URL=this.generateTagUrl(this.REDIRECT_URL,_7);
location.href=this.REDIRECT_URL;
}else{
this.REDIRECT_URL+="?";
this.REDIRECT_URL=this.generateTagUrl(this.REDIRECT_URL,_7);
location.href=this.REDIRECT_URL;
}
}else{
location.href=this.REDIRECT_URL;
}
},encodeTagParameter:function(_8){
var _9=_8.split(" ");
var _a=null;
for(var i=0;i<_9.length;i++){
var _b=_9[i];
if(i>0){
_a+=" "+encodeURIComponent(_b);
}else{
_a=encodeURIComponent(_b);
}
}
return _a;
},generateTagUrl:function(_c,_d){
for(var i in this.URL_PARAMETERS){
if(i!=this.TAG_TEMPLATE){
var _e=encodeURIComponent(this.URL_PARAMETERS[i]);
_c+=i+"="+_e+"&";
}
}
if(_d!="undefined"&&_d!=null&&_d!=""){
var _f=this.encodeTagParameter(_d);
_c+=this.TAG_TEMPLATE+"="+_f;
}
return _c;
},generateTagParameters:function(_10){
var _11={};
if(this.URL_PARAMETERS!=null){
_11=this.URL_PARAMETERS;
}
if(_10!="undefined"&&_10!=null){
_11[this.TAG_TEMPLATE]=_10;
}
return _11;
},getTotalTagNumber:function(_12,_13){
var _14={url:this.TAG_URL,content:{type:"count",search:_13},handleAs:"json",timeout:30000,handle:function(_15,_16){
if(_15.total){
_12(_15.total);
}else{
_12(_15);
}
}};
dojo.xhrGet(_14);
},getPageTags:function(_17,_18,_19,_1a){
var _1b={url:this.TAG_URL,content:{type:"all",page:_18,ps:_19,search:_1a},handleAs:this.HANDLE_AS,timeout:30000,handle:_17};
dojo.xhrGet(_1b);
},clearParamsFromUrl:function(url){
if(url.indexOf("?")>0){
url=url.substring(0,url.indexOf("?"));
}
return url;
}});
}


;if(!dojo._hasResource["lconn.core.CommonTags.FeedConverter"]){
dojo._hasResource["lconn.core.CommonTags.FeedConverter"]=true;
dojo.provide("lconn.core.CommonTags.FeedConverter");
dojo.declare("lconn.core.CommonTags.FeedConverter",null,{tagList:null,categoriesTagName:"app:categories",parseFeed:function(_1){
var _2=_1.documentElement.childNodes;
if(!_2){
return;
}
this.tagList=new Array();
for(var i=0;i<_2.length;i++){
if(_2[i].localName=="category"||_2[i].baseName=="category"){
var _3=this.generateTagObject(_2[i]);
this.tagList.push(_3);
}
}
return this.tagList;
},generateTagObject:function(_4){
var _5=new Object;
_5.name=_4.getAttribute("term");
var _6=_4.getAttribute("snx:frequency");
if(_6){
_5.frequency=parseInt(_6);
}
var _7=_4.getAttribute("snx:intensityBin");
if(_7){
_5.intensityBin=parseInt(_7);
}
return _5;
}});
}


;if(!dojo._hasResource["lconn.core.aria._Helper"]){
dojo._hasResource["lconn.core.aria._Helper"]=true;
dojo.provide("lconn.core.aria._Helper");
dojo.declare("lconn.core.aria._Helper",null,{allItems:null,selIdx:-1,_connects:null,detectInvert:false,invert:false,cycle:true,containerRole:"",itemRole:"",scrollVertical:true,scrollHorizontal:true,constructor:function(_1,_2){
dojo.safeMixin(this,_2||{});
this._connects=[];
var cn=this.containerNode=this._getNode(_1),ai=this.allItems=dojo.query(["[role='",this.itemRole,"']"].join(""),cn),_3=dojo.forEach;
if(this.detectInvert){
_3(ai,dojo.hitch(this,this._detectInvert));
}
for(var i=0,_4;_4=ai[i];i++){
if(this._isSelected(_4)){
this.selIdx=i;
break;
}
}
if(this.selIdx==-1){
this.selIdx=this._getSelIdx(!this.invert);
}
_3(ai,dojo.hitch(this,this._resetItem,ai[this.selIdx]));
this._connects.push(dojo.connect(cn,"onclick",this,"_onItemClick"));
this._connects.push(dojo.connect(cn,"onkeydown",this,"_onKeyDown"));
},destroy:function(){
dojo.forEach(this._connects,dojo.hitch(dojo,dojo.disconnect));
},focus:function(){
if(this.selIdx>=0){
dijit.focus(this.allItems[this.selIdx]);
}else{
this.focusNextItem();
}
},focusNextItem:function(){
this._focusItem(!this.invert);
},focusPrevItem:function(){
this._focusItem(this.invert);
},_focusItem:function(_5){
var ai=this.allItems,si=this._getSelIdx(_5);
if(si!=this.selIdx){
this._kickOut(ai[this.selIdx]);
this._kickIn(ai[si]);
dijit.focus(ai[si]);
this.selIdx=si;
}
},_getNode:function(_6){
var _7=dojo.byId(_6);
if(!_7){
throw [this.declaredClass,": "+_6," is not a valid node or id"].join("");
}
if(!dijit.hasWaiRole(_7,this.containerRole)){
throw [this.declaredClass," needs a source node with role='",this.containerRole,"'"].join("");
}
return _7;
},_kickOut:function(_8,i){
dojo.attr(_8,"tabindex",-1);
},_kickIn:function(_9,i){
dojo.removeAttr(_9,"tabindex");
},_onItemClick:function(e){
var _a=this._getIndexOfItemFromEvent(e);
if(_a!=-1){
this.selIdx=_a;
var _b=this.allItems[_a];
dojo.forEach(this.allItems,dojo.hitch(this,this._resetItem,_b));
}
},_getIndexOfItemFromEvent:function(e){
var _c=-1,_d;
do{
_d=_d?_d.parentNode:e.target;
_c=dojo.indexOf(this.allItems,_d);
}while(_c==-1&&_d&&_d!=this.containerNode);
return _c;
},_onKeyDown:function(e){
var dk=dojo.keys;
if(e.altKey||e.metaKey||e.ctrlKey||e.shiftKey){
return;
}
var _e=dojo._isBodyLtr()?dk.RIGHT_ARROW:dk.LEFT_ARROW;
var _f=dojo._isBodyLtr()?dk.LEFT_ARROW:dk.RIGHT_ARROW;
switch(e.keyCode){
case this.scrollHorizontal?_e:-1:
case this.scrollVertical?dk.DOWN_ARROW:-1:
dojo.stopEvent(e);
this.focusNextItem();
break;
case this.scrollHorizontal?_f:-1:
case this.scrollVertical?dk.UP_ARROW:-1:
dojo.stopEvent(e);
this.focusPrevItem();
break;
}
},_resetItem:function(sel,_10,i){
if(_10==sel){
this._kickIn(_10);
}else{
this._kickOut(_10);
}
},_detectInvert:function(_11,i){
var ps=[],pp=_11,n=0;
do{
ps.push(dojo.style(pp,"float"));
pp=pp.parentNode;
}while(pp!=this.containerNode&&n++<10);
var rh=(dojo._isBodyLtr()?"right":"left");
if(dojo.indexOf(ps,rh)!=-1){
this.invert=true;
}
},_isSelected:function(_12){
return false;
},_isHidden:function(_13){
var cn=this.containerNode;
var n=_13;
while(n&&n!=cn){
if(dojo.style(n,"display")=="none"||dijit.getWaiState(n,"hidden")=="true"){
return true;
}
n=n.parentNode;
}
return false;
},_getSelIdx:function(fwd){
var n=0,c=this.allItems.length,r=this.selIdx;
do{
r=fwd?this._nextSelIdx(r):this._prevSelIdx(r);
}while(this._isHidden(this.allItems[r])&&n++<c);
return r;
},_prevSelIdx:function(_14){
var ret=-1;
if(this.cycle){
ret=_14-1;
if(ret<0){
ret=this.allItems.length-1;
}
}else{
ret=Math.max(0,_14-1);
}
return ret;
},_nextSelIdx:function(_15){
var ret=-1;
if(this.cycle){
ret=_15+1;
if(ret>=this.allItems.length){
ret=0;
}
}else{
ret=Math.min(this.allItems.length-1,_15+1);
}
return ret;
}});
}


;if(!dojo._hasResource["lconn.core.aria.Listbox"]){
dojo._hasResource["lconn.core.aria.Listbox"]=true;
dojo.provide("lconn.core.aria.Listbox");


dojo.declare("lconn.core.aria.Listbox",lconn.core.aria._Helper,{containerRole:"listbox",itemRole:"option"});
}


;if(!dojo._hasResource["lconn.core.CommonTags.TagDialog"]){
dojo._hasResource["lconn.core.CommonTags.TagDialog"]=true;
dojo.provide("lconn.core.CommonTags.TagDialog");




dojo.declare("lconn.core.CommonTags.TagDialog",[dijit._Widget],{dialogTemplate:["<div class=\"lotusDialogBorder\" style=\"width: 650px;\">","<div class=\"lotusDialog\">","<div class=\"lotusDialogHeader\">","<h1 class=\"lotusHeading\">${nls.rs_tagDialogTitle}</h1>","<a class=\"lotusDialogClose\" role=\"button\" href=\"javascript:void(0);\" title=\"${nls.rs_tagDialogCloseTile}\">","<img src=\"${_blankGif}\" alt=\"${nls.rs_tagDialogCloseTile}\" role=\"presentation\" />","<span class=\"lotusAltText\">X</span>","</a>","</div>","<div class=\"lotusDialogContent\">","<div class=\"lotusTagCloud\"></div>","</div>","<div class=\"lotusPaging\" role=\"navigation\"><div class=\"lotusLeft\"></div>","<ul style=\"\" class=\"lotusRight lotusInlinelist\">","<li class=\"lotusFirst\" style=\"display:none\"><a href=\"javascript:void(0);\">${nls.rs_navPrevLabel}</a></li>","<li style=\"display:none\"><a href=\"javascript:void(0);\">${nls.rs_navNextLabel}</a></li>","</ul></div>","</div>","</div>"].join(""),ajaxCall:null,feedConverter:null,dialog:null,page:1,numPerPage:100,total:0,totalPage:0,tagWidget:null,searchBox:null,searchText:"",postMixInProperties:function(){
this.nls=dojo.i18n.getLocalization("lconn.core","strings");
},postCreate:function(){
this.dialog=new dijit.Dialog();
this.dialog.containerNode.innerHTML=dojo.string.substitute(this.dialogTemplate,this);
this.dialog.connect(dojo.query(".lotusDialogClose",this.dialog.containerNode)[0],"onclick","onCancel");
this.content=dojo.query(".lotusTagCloud",this.dialog.containerNode)[0];
this.searchBox=dojo.query(".lotusSearch",this.dialog.containerNode)[0];
dojo.connect(dojo.query("input[name=\"submit\"]",this.searchBox)[0],"onclick",dojo.hitch(this,function(_1){
dojo.stopEvent(_1);
this.search();
}));
this.footer=dojo.query(".lotusPaging",this.dialog.containerNode)[0];
var _2=dojo.query("li",this.footer)[0];
dojo.connect(dojo.query("a",_2)[0],"onclick",this,this.previous);
var _3=dojo.query("li",this.footer)[1];
dojo.connect(dojo.query("a",_3)[0],"onclick",this,this.next);
},reset:function(){
this.page=1;
this.searchText="";
dojo.query("input[type=\"text\"]",this.searchBox)[0].value="";
this.content.innerHTML="<img src=\""+this._blankGif+"\" alt=\"\" class=\"lotusLoading\" />"+this.nls.rs_loading;
},updatePageNumber:function(_4){
this.total=_4;
this.totalPage=Math.ceil(this.total/this.numPerPage);
this.updateFooter();
},updateFooter:function(){
var _5=dojo.query(".lotusLeft",this.footer)[0];
var v1=1+(this.page-1)*this.numPerPage;
var v2=this.page*this.numPerPage<this.total?this.page*this.numPerPage:this.total;
var v3=this.total;
_5.innerHTML=dojo.string.substitute(this.nls.rs_tagDialogPageInfo,[v1,v2,v3]);
var _6=dojo.query("li",this.footer)[0];
var _7=dojo.query("li",this.footer)[1];
if(this.page>1){
dojo.addClass(_6,"lotusFirst");
_6.style.display="inline";
}else{
_6.style.display="none";
}
if(this.page==1){
dojo.addClass(_7,"lotusFirst");
}else{
dojo.removeClass(_7,"lotusFirst");
}
if(this.page<this.totalPage){
_7.style.display="inline";
}else{
_7.style.display="none";
}
},updateContent:function(_8){
var _9=null;
if(this.ajaxCall.HANDLE_AS=="json"){
_9=_8;
}else{
_9=this.feedConverter.parseFeed(_8);
}
this.content.innerHTML="";
var _a=lconn.core.CommonTags.TagTransform.getCloudTags(_9);
for(var i=0;i<_a.length;i++){
var _b=document.createElement("span");
var a=document.createElement("a");
dojo.attr(a,{title:_a[i].frequency,"class":"lotusF"+_a[i].intensityBin,href:"javascript:void(0);",innerHTML:_a[i].name});
dojo.place(a,_b);
_b.innerHTML=" "+_b.innerHTML+" ";
a=dojo.query("a",_b)[0];
dojo.connect(a,"onclick",dojo.hitch(this,function(_c){
dojo.stopEvent(_c);
this.dialog.onCancel();
this.tagWidget._addSelectedTag(dojo.string.trim(_c.target.innerHTML));
}));
dojo.place(_b,this.content);
}
},footerLoading:function(){
var _d=dojo.query(".lotusLeft",this.footer)[0];
_d.innerHTML="<img alt=\"\" src=\""+this._blankGif+"\" class=\"lotusLoading\" />";
},requestTagsCount:function(){
var _e=dojo.hitch(this,this.updatePageNumber);
this.ajaxCall.getTotalTagNumber(_e,this.searchText);
},requestTags:function(){
var _f=dojo.hitch(this,this.updateContent);
this.ajaxCall.getPageTags(_f,this.page,this.numPerPage,this.searchText);
},show:function(){
this.reset();
this.dialog.show();
this.requestTags();
this.requestTagsCount();
},search:function(){
this.page=1;
this.searchText=dojo.string.trim(dojo.query("input[type=\"text\"]",this.searchBox)[0].value);
dojo.query("input[type=\"text\"]",this.searchBox)[0].value="";
var _10=dojo.query(".lotusFilters",this.searchBox)[0];
_10.innerHTML="<a href=\"javascript:void(0);\" class=\"lotusFilter\">"+this.searchText+"<span class=\"lotusClose\">X</span></a>";
dojo.connect(dojo.query("a.lotusFilter",_10)[0],"onclick",this,this.cancelSearch);
_10.style.display="inline";
this.requestTags();
this.requestTagsCount();
},cancelSearch:function(){
this.page=1;
this.searchText="";
dojo.query("input[type=\"text\"]",this.searchBox)[0].value="";
var _11=dojo.query(".lotusFilters",this.searchBox)[0];
_11.innerHTML="";
_11.style.display="none";
this.requestTags();
this.requestTagsCount();
},previous:function(){
this.footerLoading();
this.page--;
this.requestTags();
this.updateFooter();
},next:function(){
this.footerLoading();
this.page++;
this.requestTags();
this.updateFooter();
}});
}


;dojo.cache("lconn.core", "CommonTags/templates/tagWidget.html", "<div> <div dojoAttachPoint=\"_tagMenu,focusNode\"> <div dojoAttachPoint=\"_loadTags\"><img alt=\"${nls.rs_tagLoadingTags}\" src=\"${_blankGif}\" class=\"lotusLoading\" />${nls.rs_tagLoadingTags}</div> <div dojoAttachPoint=\"_noTags\" class=\"lconnEmpty lotusHidden\">${nls.rs_tagCloudNoTags}</div> <div class=\"lotusHidden\" dojoAttachPoint=\"_hasTags\"> <div dojoAttachPoint=\"_selectedTagsSection\" class=\"lotusHidden\"> <h3 style=\"border-bottom:0px;font-weight: bold;margin:0;padding:2px 0 0;\">${nls.rs_tagCloudSelectedTags}</h3> <ul class=\"lotusEditable lotusList lotusMeta\" dojoAttachPoint=\"_selectedTags\" role=\"listbox\" aria-label=\"${nls.rs_tagCloudSelectedTags}\"><li></li></ul> </div> </div> <div dojoAttachPoint=\"_tagSearchText\" class=\"lotusHidden\"> <a href=\"javascript:void(0);\" class=\"lotusBold\" dojoAttachEvent=\"onclick: _showSearchForm\" role=\"button\" title=\"${nls.rs_tagCloudSeachDesc}\">${nls.rs_tagCloudSeachDesc}</a> </div> <div dojoAttachPoint=\"_tagSearchForm\" class=\"lotusChunk lotusSearch lotusHidden\"> <form dojoAttachEvent=\"onsubmit: _searchTag\" style=\"margin:0;\"> <input class=\"lotusText\" dojoAttachPoint=\"_typeAheadDom\" dojoAttachEvent=\"onkeyup:_onKeyUp\"/><span class=\"lotusBtnImg\" title=\"${nls.rs_tagCloudSeach}\"><input type=\"image\" class=\"lotusSearchButton\" src=\"${_blankGif}\" name=\"submit\" alt=\"${nls.rs_tagCloudSeach}\"/><a href=\"javascript:;\" dojoAttachEvent=\"onclick: _searchTag\" class=\"lotusAltText\" role=\"button\">${nls.rs_tagCloudSeach}</a></span> </form> </div> <div dojoAttachPoint=\"_relatedTagsSection\" class=\"lotusHidden lotusChunk10\"> <h3 style=\"border-bottom: 0px; font-weight: bold; margin:0; padding:2px 0 0;\">${nls.rs_tagCloudRelatedTags}</h3> <div>${nls.rs_tagCloudRelatedTagsDescription}</div> <ul class=\"lotusList lotusTags lotusRelatedTags\" dojoAttachPoint=\"_relatedTags\" role=\"listbox\" aria-label=\"${nls.rs_tagCloudRelatedTags}\"><li></li></ul> </div> <div dojoAttachPoint=\"_normalTagsSection\" class=\"lotusHidden lotusChunk10\" aria-label=\"${nls.rs_tagCloudNavigationLabel}\"> <div id=\"${id}_tagCloudView\" dojoAttachPoint=\"_tagCloudView\" class=\"lotusHidden\"> <div dojoAttachPoint=\"_tagCloudTable\" class=\"lotusTagCloud\"></div> </div> <div id=\"${id}_tagListView\" dojoAttachPoint=\"_tagListView\" class=\"lotusHidden\"> <ul id=\"${id}_tagList\" dojoAttachPoint=\"_tagList\" class=\"lotusList lotusEditable lotusMeta\" role=\"listbox\" aria-label=\"${nls.rs_tagsLabel}\"><li></li></ul> </div> <div class=\"lotusChunk lotusSubsection\"> <div dojoAttachPoint=\"_tagCloudLink\" class=\"lotusHidden\"> <ul class=\"lotusInlinelist lotusActions\"> <li class=\"lotusFirst\"><span class=\"lotusBold\" dojoAttachPoint=\"_showCloudSpan,focusNode\" role=\"button\" aria-controls=\"${id}_tagCloudView\" aria-disabled=\"true\" aria-pressed=\"true\" tabindex=\"0\">${nls.rs_viewAsCloud}</span></li> <li><a href=\"javascript:void(0);\" title=\"${nls.rs_viewAsListTitle}\" role=\"button\" aria-controls=\"${id}_tagListView\" dojoAttachPoint=\"_showListLink\" dojoAttachEvent=\"onclick: _showList\">${nls.rs_viewAsList}</a></li> <li dojoAttachPoint=\"_tagCloudAll\" class=\"lotusHidden\"><a href=\"javascript:void(0);\" title=\"${nls.rs_tagCloudViewAllTitle}\" role=\"button\" dojoAttachEvent=\"onclick:_showAllTags\">${nls.rs_tagCloudViewAll}</a></li> </ul> </div> <div dojoAttachPoint=\"_tagListLink\" class=\"lotusHidden\"> <ul class=\"lotusInlinelist lotusActions\"> <li class=\"lotusFirst\"><a href=\"javascript:void(0);\" title=\"${nls.rs_viewAsCloudTitle}\" role=\"button\" aria-controls=\"${id}_tagCloudView\" dojoAttachPoint=\"_showCloudLink\" dojoAttachEvent=\"onclick: _showCloud\">${nls.rs_viewAsCloud}</a></li> <li><span class=\"lotusBold\" dojoAttachPoint=\"_showListSpan\" role=\"button\" aria-controls=\"${id}_tagListView\" aria-disabled=\"true\" aria-pressed=\"true\" tabindex=\"0\">${nls.rs_viewAsList}</span></li> <li dojoAttachPoint=\"_tagListAll\" class=\"lotusHidden\"><a href=\"javascript:void(0);\" title=\"${nls.rs_tagCloudViewAllTitle}\" role=\"button\" dojoAttachEvent=\"onclick:_showAllTags\">${nls.rs_tagCloudViewAll}</a></li> </ul> </div> </div> </div> </div></div>");

;if(!dojo._hasResource["lconn.core.CommonTags.TagWidget"]){
dojo._hasResource["lconn.core.CommonTags.TagWidget"]=true;
dojo.provide("lconn.core.CommonTags.TagWidget");




















(function(){
function _1(el){
if(el){
dojo.addClass(el,"lotusHidden");
}
};
function _2(el){
if(el){
dojo.removeClass(el,"lotusHidden");
}
};
function _3(el){
if(el){
return dojo.hasClass(el,"lotusHidden");
}
return false;
};
dojo.declare("lconn.core.CommonTags.TagWidget",[dijit._Widget,dijit._Templated],{forRecentTags:false,loadOnStartup:true,tags:null,selectedTags:"",redirectUrl:"",urlParameters:null,tagTemplate:"",tagUrl:"",tagStore:null,ajaxCall:null,handleAs:"xml",feedConverter:null,_isRelated:false,disableRelated:false,multiSelected:true,typeAheadFeedUrl:"",typeAheadTemplate:"",tagDialogEnabled:false,tagsTypeaheadEnabled:true,redirectWhenClickTag:true,tagListCount:null,templatePath:dojo.moduleUrl("lconn.core","CommonTags/templates/tagWidget.html"),_selectedTagsArr:null,_viewType:"cloud",_showVis:null,_dialog:null,_showRelatedTags:false,postMixInProperties:function(){
this.inherited(arguments);
this.nls=dojo.i18n.getLocalization("lconn.core","strings");
if(!this.id){
this.id=dijit.getUniqueId("lconnTagWidget");
}
this._dirCode=dojo._isBodyLtr()?"":"\u200f";
},postCreate:function(){
this.inherited(arguments);
if(this.forRecentTags){
this._noTags.innerHTML=this.nls.rs_tagCloudNoRecentTags;
}
this.ajaxCall=this.createAjaxCall();
this.feedConverter=this.createFeedConverter();
if(this.tagsTypeaheadEnabled){
this._createTypeAhead();
}
this.subscribe("com/ibm/lconn/tags/widget/reload",this.reload);
this.subscribe("lconn/core/CommonTags/AddTag",this._addSelectedTag);
this.subscribe("lconn/core/CommonTags/RemoveTag",this._removeSelectedTag);
if(this.loadOnStartup){
this.load();
}
},destroy:function(){
this.inherited(arguments);
this.destroyRelatedHelpers();
this.destroyNormalHelpers();
},destroyRelatedHelpers:function(){
if(this.relatedHelper){
this.relatedHelper.destroy();
}
this.relatedHelper=null;
},destroyNormalHelpers:function(){
if(this.listHelper){
this.listHelper.destroy();
}
this.listHelper=null;
if(this.cloudHelper){
this.cloudHelper.destroy();
}
this.cloudHelper=null;
if(this.selectedTagsListHelper){
this.selectedTagsListHelper.destroy();
}
this.selectedTagsListHelper=null;
},createAjaxCall:function(){
if(this.ajaxCall==null){
this.ajaxCall=new lconn.core.CommonTags.AjaxCall();
this.ajaxCall.TAG_URL=this.tagUrl;
this.ajaxCall.REDIRECT_URL=this.redirectUrl;
this.ajaxCall.TAG_TEMPLATE=this.tagTemplate;
this.ajaxCall.URL_PARAMETERS=this.urlParameters;
if(this.handleAs=="xml"||this.handleAs=="json"){
this.ajaxCall.HANDLE_AS=this.handleAs;
}else{
this.ajaxCall.HANDLE_AS="xml";
}
}
return this.ajaxCall;
},createFeedConverter:function(){
if(this.feedConverter==null){
this.feedConverter=new lconn.core.CommonTags.FeedConverter();
}
return this.feedConverter;
},load:function(){
this.reload(true);
},reload:function(_4,_5){
if(_5!=null){
this.ajaxCall.URL_PARAMETERS=_5;
}
_4=!!_4;
this.prepareData();
this.checkIfRelated();
if(this._isRelated==true){
this.ajaxCall.getTags(dojo.hitch(this,this.ajaxCallBack),_4,this.selectedTags);
}else{
this.ajaxCall.getTags(dojo.hitch(this,this.ajaxCallBack),_4);
}
},reloadTags:function(_6){
this.ajaxCall.URL_PARAMETERS=_6;
this.reload(false);
},ajaxCallBack:function(_7){
if(!_7||_7 instanceof Error){
this._noTags.innerHTML=this.nls.rs_tagCloudError;
_1(this._loadTags);
_2(this._noTags);
return;
}
if(this.ajaxCall.HANDLE_AS=="json"){
this.tags=_7;
}else{
this.tags=this.feedConverter.parseFeed(_7);
}
this.updateView();
},checkIfRelated:function(){
if(this.selectedTags!=""&&this.selectedTags!="undefined"&&this.selectedTags!=null){
this._isRelated=true;
}else{
this._isRelated=false;
}
},updateView:function(){
this.prepareData();
this.checkIfRelated();
if(this._isRelated==true){
this._genSelectedTagsHtml();
if(!this.disableRelated){
this._genRelatedTagsHtml();
}
this._show();
}else{
this._genNormalTagsHtml();
this._show();
}
this._setFocus();
},prepareData:function(){
this._selectedTagsArr=new Array();
if(this.selectedTags!=null&&dojo.string.trim(this.selectedTags)!=""){
var _8=this.selectedTags.split(" ");
for(var i=0;i<_8.length;i++){
var _9=dojo.string.trim(_8[i]);
if(_9==""){
continue;
}
this._selectedTagsArr.push(_9);
}
}
this._selectedTagsArr=this._selectedTagsArr.sort();
this.selectedTags=this._selectedTagsArr.join(" ");
},_genRelatedTagsHtml:function(){
this.destroyRelatedHelpers();
this._relatedTags.innerHTML="";
this._showRelatedTags=false;
if(this.tags!=null){
var _a=this.tags.length;
for(var j=0;j<_a;j++){
var _b=this.tags[j];
if(this.existsInRelated(_b)){
continue;
}
var li=document.createElement("li");
dijit.setWaiRole(li,"presentation");
var a=document.createElement("a");
dijit.setWaiRole(a,"option");
a.href="javascript:;";
var _c=(_b.displayName)?_b.displayName:_b.name;
this.renderTag(a,_b);
var _d=document.createElement("span");
_d.className="lotusSymbol";
_d.innerHTML="+";
dojo.place(_d,a);
a=lconn.core.util.html.breakString(lconn.core.globalization.bidiUtil.enforceTextDirection(_c),document,a,10);
dojo.place(a,li);
dojo.place(document.createTextNode(this._dirCode+" "),li);
dojo.place(li,this._relatedTags);
this._showRelatedTags=true;
}
}
this.listHelper=new lconn.core.aria.Listbox(this._relatedTags);
},_genNormalTagsHtml:function(){
this.destroyNormalHelpers();
this._tagCloudTable.innerHTML="";
this._tagList.innerHTML="";
if(this.tags!=null){
var _e=lconn.core.CommonTags.TagTransform.getPopularTags(this.tags,50);
lconn.core.CommonTags.TagTransform.addIntensityBin(_e);
var _f=document.createElement("ul");
dijit.setWaiRole(_f,"listbox");
dojo.attr(_f,"aria-label",this.nls.rs_tagsLabel);
_f.style.listStyleType="disc";
_f.tabIndex="-1";
for(var i=0;i<_e.length;i++){
var tag=_e[i];
var li=document.createElement("li");
dijit.setWaiRole(li,"presentation");
var a=document.createElement("a");
a.href="javascript:;";
a.className="lotusF"+(tag.intensityBin||3);
var _10=(tag.displayName)?tag.displayName:tag.name;
if(_10==""){
continue;
}
this.renderTag(a,tag);
dijit.setWaiRole(a,"option");
a=lconn.core.util.html.breakString(lconn.core.globalization.bidiUtil.enforceTextDirection(_10),document,a,10);
dojo.place(a,li);
dojo.place(document.createTextNode(this._dirCode+" "),li);
dojo.place(li,_f);
}
dojo.place(_f,this._tagCloudTable);
this.cloudHelper=new lconn.core.aria.Listbox(_f);
var _11=lconn.core.CommonTags.TagTransform.getListTags(this.tags,this.tagListCount);
var _12=_11.length;
for(var j=0;j<_12;j++){
tag=_11[j];
var li=document.createElement("li");
dijit.setWaiRole(li,"presentation");
li.className="lotusAlignLeft";
var _13=document.createElement("span");
_13.className="lotusRight";
_13.innerHTML=tag.frequency;
li.appendChild(_13);
var a=document.createElement("a");
dijit.setWaiRole(a,"option");
dojo.addClass(a,"lotusLeft");
a.href="javascript:;";
var _10=(tag.displayName)?tag.displayName:tag.name;
this.renderTag(a,tag);
lconn.core.util.html.breakString(lconn.core.globalization.bidiUtil.enforceTextDirection(_10),document,a,10);
li.appendChild(a);
li.appendChild(document.createTextNode(this._dirCode+" "));
dojo.place(li,this._tagList);
}
this.listHelper=new lconn.core.aria.Listbox(this._tagList);
}
},renderTag:function(a,tag){
a.title=dojo.string.substitute(this.nls.rs_relatedTagTitle,[lconn.core.globalization.bidiUtil.enforceTextDirection(tag.displayName||tag.name),tag.frequency]);
this.connect(a,"click",dojo.hitch(this,"_addSelectedTagFromEvent",tag.name));
},existsInRelated:function(tag){
return (lconn.core.CommonTags.TagTransform.existsInRelatedTags(tag.name,this._selectedTagsArr));
},_genSelectedTagsHtml:function(){
var el=this._selectedTags;
el.innerHTML="";
for(var i=0;i<this._selectedTagsArr.length;i++){
var _14=this._selectedTagsArr[i];
var _15=_14;
var tag=this.findTag(_14);
if(tag){
_15=(tag.displayName)?tag.displayName:tag.name;
}
var li=document.createElement("li");
li.className="lotusAlignLeft";
dijit.setWaiRole(li,"presentation");
var _16=document.createElement("span");
dojo.addClass(_16,"lotusLeft");
lconn.core.util.html.breakString(lconn.core.globalization.bidiUtil.enforceTextDirection(_15),document,_16,10);
li.appendChild(_16);
var a=document.createElement("a");
a.href="javascript:;";
a.className="lotusDelete lotusRight";
a.title=dojo.string.substitute(this.nls.rs_removeTagTitle,[_15]);
this.connect(a,"click",dojo.hitch(this,"_removeSelectedTagFromEvent",_14));
dojo.attr(a,"role","option");
a.appendChild(document.createTextNode("\xa0"));
var img=document.createElement("img");
img.alt="";
img.src=this._blankGif;
dijit.setWaiRole(img,"presentation");
a.appendChild(img);
var _16=document.createElement("span");
_16.className="lotusAltText";
_16.appendChild(document.createTextNode("X"));
a.appendChild(_16);
li.appendChild(a);
el.appendChild(li);
}
this.selectedTagsListHelper=new lconn.core.aria.Listbox(el);
},findTag:function(_17){
if(_17&&this.tags){
var _18=this.tags.length;
for(var i=0;i<_18;i++){
var _19=this.tags[i];
if(_19.name===_17){
return _19;
}
}
}
return null;
},_addSelectedTagFromEvent:function(tag,_1a){
try{
if(_1a){
dojo.stopEvent(_1a);
}
}
catch(e){
}
this._focusHint={related:true};
this._addSelectedTag(tag);
},_show:function(){
_1(this._loadTags);
if((this.tags==null||this.tags.length==0)&&(this.selectedTags==null||dojo.string.trim(this.selectedTags)=="")){
if(this.forRecentTags){
_2(this._tagSearchText);
}else{
_1(this._tagSearchText);
}
_2(this._noTags);
_1(this._hasTags);
_1(this._normalTagsSection);
}else{
_1(this._noTags);
_2(this._hasTags);
if(!this._openedSearchForm){
_1(this._tagSearchForm);
_2(this._tagSearchText);
}
if(this._isRelated==true){
_1(this._normalTagsSection);
_2(this._selectedTagsSection);
this._showSearchForm(null,true);
if(this._showRelatedTags&&!this.disableRelated){
_2(this._relatedTagsSection);
}else{
_1(this._relatedTagsSection);
}
}else{
_1(this._selectedTagsSection);
_1(this._relatedTagsSection);
_2(this._normalTagsSection);
if(this._viewType=="cloud"){
_1(this._tagListLink);
_1(this._tagListView);
_1(this._tagListAll);
_2(this._tagCloudLink);
_2(this._tagCloudView);
if(this.tagDialogEnabled){
_2(this._tagCloudAll);
}
}else{
_1(this._tagCloudLink);
_1(this._tagCloudAll);
_1(this._tagCloudView);
_2(this._tagListLink);
_2(this._tagListView);
if(this.tagDialogEnabled){
_2(this._tagListAll);
}
}
}
}
},_createTypeAhead:function(){
var _1b=dijit.byId(this.id+"commonTagsTypeAhead");
if(_1b!=null){
_1b.destroy();
}
this.tagStore=this.tagStore||new lconn.core.TypeAheadDataStore({url:this.typeAheadFeedUrl,queryParam:this.typeAheadTemplate},this.domNode);
var _1c={minChars:2,searchDelay:400,multipleValues:true,store:this.tagStore,token:" ","name":this.id+"commonTagsTypeAhead","id":this.id+"commonTagsTypeAhead"};
var _1d=new lconn.core.CommonTags.CommonTagsTypeAhead(_1c,this._typeAheadDom);
},_onKeyUp:function(evt){
lconn.core.globalization.bidiUtil.inputRTLProcessing(this._typeAheadDom);
},_toggleSubs:function(){
if(_3(this._tagMenu)){
new dojo.fx.Toggler({node:this._tagMenu,showDuration:500,showFunc:dojo.fx.wipeOut}).show();
this._toggleBar.className="lotusSprite lotusArrow lotusTwistyClosed";
}else{
new dojo.fx.Toggler({node:this._tagMenu,showDuration:500,showFunc:dojo.fx.wipeIn}).show();
this._toggleBar.className="lotusSprite lotusArrow lotusTwistyOpen";
}
},_showSearchForm:function(e,_1e){
var el=dijit.byId(this.id+"commonTagsTypeAhead");
_1(this._tagSearchText);
_2(this._tagSearchForm);
if(el){
if(el.updateHintText){
el.updateHintText(_1e?this.nls.rs_searchInputTagSelected:this.nls.rs_searchInputDefault);
}
if(e){
this._openedSearchForm=true;
dojo.stopEvent(e);
el.focus();
}
if(el.onSelect){
this.connect(el,"onSelect",dojo.hitch(this,"_searchTag",null));
}else{
if(el._doSelect){
this.connect(el,"_doSelect",dojo.hitch(this,"_searchTag",null));
}
}
}
},_popupHelp:function(_1f){
dojo.stopEvent(_1f);
var _20={tagWidget:this,event:_1f};
dojo.publish("/tagWidget/help/show",[_20]);
},_showCloud:function(){
this._viewType="cloud";
this._show();
if(this.cloudHelper&&this.cloudHelper.focus){
this.cloudHelper.focus();
}else{
dijit.focus(this._showCloudSpan);
}
},_showList:function(){
this._viewType="list";
this._show();
if(this.listHelper&&this.listHelper.focus){
this.listHelper.focus();
}else{
dijit.focus(this._showListSpan);
}
},_loading:function(){
},_showAllTags:function(_21){
if(_21){
dojo.stopEvent(_21);
}
if(this._dialog==null){
var _22={ajaxCall:this.ajaxCall,feedConverter:this.feedConverter,tagWidget:this};
this._dialog=new lconn.core.CommonTags.TagDialog(_22);
}
this._dialog.show();
},_searchTag:function(_23,_24){
try{
if(_23){
dojo.stopEvent(_23);
}
}
catch(e){
}
if(_24){
if(typeof _24=="string"){
var tag=_24;
}else{
if(typeof _24.name=="string"){
var tag=_24.name;
}
}
}
if(this.tagsTypeaheadEnabled){
var _25=dijit.byId(this.id+"commonTagsTypeAhead");
if(!_25){
return;
}
var _26=_25.domNode;
if(!_26){
return;
}
if(!tag){
if(_26.hasInput==false){
return;
}
var tag=_26.value;
}
if(!tag){
return;
}
_26.value="";
}else{
var tag=this._typeAheadDom.value;
if(!tag){
return;
}
this._typeAheadDom.value="";
}
this._addSelectedTag(tag);
},_addSelectedTag:function(tag){
if(!tag){
return;
}
tag=tag.replace(new RegExp(" ","gm"),",");
var _27=tag.split(",");
var _28=[];
if(this.multiSelected==true){
_28=this._selectedTagsArr||[];
for(var p=0;p<_27.length;p++){
if(!_27[p]||lconn.core.CommonTags.TagTransform.existsInRelatedTags(_27[p],_28)){
continue;
}
_28.push(_27[p]);
}
}else{
for(var p=0;p<_27.length;p++){
if(!_27[p]){
continue;
}
_28.push(_27[p]);
}
}
if(_28.length>0){
this._selectedTagsArr=_28;
this.selectedTags=this._selectedTagsArr.join(" ");
if(this.redirectWhenClickTag==false){
this.reload(false);
}else{
this.ajaxCall.redirect(this.selectedTags);
}
}else{
this.updateView();
}
},_removeSelectedTagFromEvent:function(tag,_29){
try{
if(_29){
dojo.stopEvent(_29);
}
}
catch(e){
}
var _2a=this._selectedTagsArr||[];
this._focusHint={selected:dojo.indexOf(_2a,tag)};
this._removeSelectedTag(tag);
},_removeSelectedTag:function(tag){
var _2b=this._selectedTagsArr.length;
for(var i=0;i<_2b;i++){
if(tag==this._selectedTagsArr[i]){
this._selectedTagsArr.splice(i,1);
break;
}
}
this.selectedTags=this._selectedTagsArr.join(" ");
if(this.redirectWhenClickTag==false){
this.reload(false);
}else{
this.ajaxCall.redirect(this.selectedTags);
}
},_setFocus:function(){
if(this.redirectWhenClickTag||!this._focusHint){
return;
}
var _2c=this._focusHint;
this._focusHint=null;
var _2d=null;
if(_2c.related&&this._relatedTags){
_2d=dojo.query("a",this._relatedTags)[0];
}else{
if(_2c.selected>=0&&this._selectedTagsArr.length){
var _2e=dojo.query("a",this._selectedTags);
_2d=_2e[_2c.selected]||_2e[_2e.length-1];
}
}
if(!_2d&&_3(this._tagSearchForm)){
_2d=dojo.query("input",this._tagSearchForm)[0];
}
if(!_2d&&_3(this._tagSearchText)){
_2d=dojo.query("a",this._tagSearchText)[0];
}
if(_2d){
dijit.focus(_2d);
}
},setSelectedTags:function(_2f){
if(_2f!=null&&_2f!="undefined"){
this._selectedTagsArr=_2f;
this.selectedTags=this._selectedTagsArr.join(" ");
}
},setSingleTag:function(tag){
console.log("setting tag "+tag);
}});
dojo.declare("lconn.core.CommonTags._TagTransform",null,{getPopularTags:function(_30,_31){
if(_30==null||_30.length==0){
return [];
}
if(_30.length<=_31){
return _30.slice(0);
}
var _32=[];
for(var i=0;i<_30.length;i++){
_32.push(_30[i].frequency);
}
_32=_32.sort(function(a,b){
return a-b;
}).slice(_32.length-_31);
var _33=_32[0];
var _34=0;
while(_32[_34]==_33){
_34++;
}
var rtn=[];
var _35=0;
for(var i=0;i<_30.length;i++){
if(_30[i].frequency>_33){
rtn.push(_30[i]);
}else{
if(_30[i].frequency==_33&&_35<_34){
rtn.push(_30[i]);
_35++;
}
}
}
return rtn;
},getCloudTags:function(_36){
if(_36==null||_36.length==0){
return [];
}
var _37=this.sortByName(_36);
this.addIntensityBin(_37.tags);
return _37.tags;
},addIntensityBin:function(_38){
if(_38==null||_38.length==0){
return [];
}
if(_38[0].intensityBin){
return _38;
}
var _39=_38.length;
var min=_38[0].frequency;
var max=_38[0].frequency;
for(var i=0;i<_39;i++){
var _3a=_38[i].frequency;
if(_3a<min){
min=_3a;
}
if(_3a>max){
max=_3a;
}
}
var _3b=0;
if(min!=max){
min=Math.log(1+min);
max=Math.log(1+max);
_3b=max-min;
}
var _3c=1;
var _3d=5;
for(var i=0;i<_39;i++){
var tag=_38[i];
if(_3b==0){
tag.intensityBin=Math.floor((_3d+_3c)/2);
}else{
tag.intensityBin=_3c+Math.floor((_3d-_3c)*((Math.log(1+tag.frequency)-min)/_3b));
}
}
return _38;
},getListTags:function(_3e,_3f){
if(_3e==null||_3e.length==0){
return [];
}
if(_3f){
var _40=this.getTopCounts(_3e,_3f);
}else{
var _40=this.getTopCounts(_3e);
}
var _3e=this.sortByName(_3e).tags;
var _41=new Array();
for(var i=0;i<_40.length;i++){
for(var j=0;j<_3e.length;j++){
if(_3e[j].frequency==_40[i]){
if(this.existsInArray(_3e[j],_41)==false){
_41[i]=_3e[j];
break;
}
}
}
}
return _41;
},existsInArray:function(tag,_42){
for(var i=0;i<_42.length;i++){
if(tag.name==_42[i].name){
return true;
}
}
return false;
},existsInRelatedTags:function(tag,_43){
for(var i=0;i<_43.length;i++){
if(tag==_43[i]){
return true;
}
}
return false;
},sortByName:function(_44){
var _45=new Array();
var _46={};
var _47={};
var _48={};
for(var i=0;i<_44.length;i++){
_45.push(_44[i].name);
_46[_44[i].name]=_44[i].id;
_47[_44[i].name]=_44[i].frequency;
_48[_44[i].name]=_44[i].displayName;
}
_45=_45.sort();
var max=-1;
var min=-1;
var _49=new Array();
for(var i=0;i<_45.length;i++){
var _4a=_45[i];
var id=_46[_45[i]];
var _4b=_47[_45[i]];
var _4c=_48[_45[i]];
_49[i]={id:id,name:_4a,displayName:_4c,frequency:_4b};
if(max==-1){
max=_4b;
}
if(min==-1){
min=_4b;
}
max=Math.max(max,_4b);
min=Math.min(min,_4b);
}
return {tags:_49,maxCount:max,minCount:min};
},getTopCounts:function(_4d,_4e){
var _4f=new Array();
for(var i=0;i<_4d.length;i++){
_4f.push(_4d[i].frequency);
}
_4f=_4f.sort(this.sortNumber).reverse();
if(_4e!=null&&_4e!="undefined"){
if(_4e<=_4f.length){
return _4f.slice(0,_4e);
}else{
return _4f;
}
}else{
return _4f.slice(0,10);
}
},sortNumber:function(a,b){
return a-b;
},breakString:function(s,d,el,_50){
if(!s){
return el;
}
_50=_50||10;
var b=new RegExp("[^\\s]{"+(_50+1)+"}","g");
var r;
var _51=0,end;
if(dojo.isIE||dojo.isSafari){
while(r=b.exec(s)){
end=--b.lastIndex;
el.appendChild(d.createTextNode(s.substring(_51,end)));
el.appendChild(d.createElement("wbr"));
_51=end;
}
}else{
while(r=b.exec(s)){
end=--b.lastIndex;
el.appendChild(d.createTextNode(s.substring(_51,end)+"\u200b"));
_51=end;
}
}
el.appendChild(d.createTextNode(s.substring(end)));
return el;
}});
lconn.core.CommonTags.TagTransform=new lconn.core.CommonTags._TagTransform();
})();
}


;if(!dojo._hasResource["lconn.core.HTMLUtil"]){
dojo._hasResource["lconn.core.HTMLUtil"]=true;
dojo.provide("lconn.core.HTMLUtil");
lconn.core.HTMLUtil.setInnerTextNode=function(_1,_2){
_1.innerHTML="";
_1.appendChild(document.createTextNode(_2));
};
lconn.core.HTMLUtil.escapeInlineText=function(_3){
return lconn.core.HTMLUtil.escapeText(_3,true);
};
lconn.core.HTMLUtil.escapeText=function(_4,_5){
var _6=document.getElementById("escapeBufferDiv");
if(!_6){
var _7=document.createElement("div");
_7.id="escapeBufferDiv";
_7.style.display="none";
document.body.appendChild(_7);
_6=_7;
}
_6.appendChild(document.createTextNode(_4));
var _8=_6.innerHTML;
_6.innerHTML="";
if(_5){
_8=lconn.core.HTMLUtil.escape_q(_8);
}
return _8;
};
lconn.core.HTMLUtil.escape_q=function(s){
var t="";
for(var i=0;i<s.length;i++){
var c=s.charAt(i);
if(c=="\""){
t+="&#34;";
}else{
if(c=="'"){
t+="&#39;";
}else{
if(c=="\\"){
t+="&#92;&#92;";
}else{
t+=c;
}
}
}
}
return t;
};
}


;if(!dojo._hasResource["lconn.core.HelpLauncher"]){
dojo._hasResource["lconn.core.HelpLauncher"]=true;
dojo.provide("lconn.core.HelpLauncher");






dojo.declare("lconn.core.HelpLauncher",lconn.core.widget.MenuLauncher,{openDelay:250,hideDelay:400,orient:{"TR":"TL","TL":"TR","BR":"BL","BL":"BR"},orientRTL:{"TL":"TR","TR":"TL","BL":"BR","BR":"BL"},_initMenu:function(){
this.menu=new lconn.core.HelpLauncher.ToolTip(dojo.mixin({id:this.menuId},this.optMenu));
},onOpen:function(){
this.inherited(arguments);
this.menu.containerNode.appendChild(document.createTextNode(""));
this.menu.domNode.parentNode.style.width=this.menu.width+22+"px";
dojo.attr(this.menu.containerNode,"aria-labelledby",this.menu.id+"_heading");
}});
dojo.declare("lconn.core.HelpLauncher.ToolTip",dijit.TooltipDialog,{heading:"",message:"",help:"",close:"",autofocus:false,width:200,maxWidth:400,"class":"lotusTooltipDialog",parseOnLoad:false,postMixInProperties:function(){
this.isLoaded=true;
this.title=this.help;
},buildRendering:function(){
var _1=this.strings;
var d=document;
var m=this.message;
var _2=this.heading;
var _3=this.close;
var h3,p;
var el=d.createElement("div");
el.className="lotusHelp";
m=(m)?m:"";
var _4=(typeof (m)==="string")?m:(m.textContent||m.innerText);
var _5=_4.length;
var w=Math.round(this.width+Math.min(Math.max(0,(_5-200)/125),1)*(this.maxWidth-this.width)+4);
el.style.width=w+"px";
this.width=w;
dojo.style(el,"border","0px");
var _6=d.createElement("div");
_6.className="lotusInfoBox";
dijit.setWaiRole(_6,"document");
dojo.attr(_6,"aria-labelledby",this.id+"_heading");
var _7=d.createElement("div");
_7.className="lotusRight";
var _8=this.closeLink=d.createElement("a");
_8.title=_3;
dijit.setWaiState(_8,"label",_3);
_8.className="lotusDelete";
_8.href="javascript:;";
this.connect(_8,"onclick","onCancel");
dijit.setWaiRole(_8,"button");
var _9=d.createElement("img");
_9.src=this._blankGif;
_9.setAttribute("alt","");
dijit.setWaiRole(_9,"presentation");
_8.appendChild(_9);
var _a=d.createElement("span");
_a.className="lotusAltText";
_a.appendChild(d.createTextNode("X"));
_8.appendChild(_a);
_7.appendChild(_8);
_6.appendChild(_7);
var _b=document.createElement("div");
_b.id=this.id+"_content";
_b.className="lotusHelpHeader";
dijit.setWaiState(_8,"describedBy",_b.id);
if(m){
if(_2){
h3=d.createElement("h3");
dijit.setWaiRole(h3,"heading");
dijit.setWaiState(h3,"level","1");
h3.id=this.id+"_heading";
h3.appendChild(d.createTextNode(_2));
_6.appendChild(h3);
}
if(typeof (m)==="string"){
p=d.createElement("p");
p.appendChild(d.createTextNode(m));
_b.appendChild(p);
}else{
_b.appendChild(m);
}
}
_6.appendChild(_b);
el.appendChild(_6);
this.content=el;
this.inherited(arguments);
},destroy:function(){
dijit.popup.close(this);
this.inherited(arguments);
},closeOnLinkClick:true,_attachTemplateNodes:function(){
this.inherited(arguments);
this.connect(this.domNode,"onmouseover","onMouseOver");
this.connect(this.domNode,"onmouseout","onMouseOut");
if(this.closeOnLinkClick){
this.connect(this.domNode,"onclick","onTooltipClick");
}
},onCancel:function(e){
if(e){
dojo.stopEvent(e);
}
this.inherited(arguments);
},onTooltipClick:function(e){
var el=e.target;
for(var i=0;el&&i<5;i++){
if(el.nodeName.toLowerCase()=="a"&&el!=this.closeLink){
this.onCancel();
return;
}else{
if(el==this.containerNode){
return;
}else{
el=el.parentNode;
}
}
}
}});
lconn.core.HelpLauncher.createHelpLink=function(a,_c,_d,_e,_f){
var d=document;
this.strings=_e||lconn.core.HelpLauncher.strings;
a=a||document.createElement("a");
_f=_f||false;
if(!_f){
if(a.childNodes.length>0){
while(a.firstChild){
a.removeChild(a.firstChild);
}
}
a.href="javascript:;";
dijit.setWaiRole(a,"button");
var img=d.createElement("IMG");
img.className=(lconn.core.locale.getLanguage()==="ar")?"lconnSprite lconnSprite-iconHelp16-ar":"lconnSprite lconnSprite-iconHelp16";
img.src=dijit._Widget.prototype._blankGif;
img.setAttribute("alt",this.strings.HELP);
a.appendChild(img);
var _10=d.createElement("span");
_10.className="lotusAltText";
_10.appendChild(d.createTextNode(lconn.core.locale.getLanguage()==="ar"?"\u061f":"?"));
a.appendChild(_10);
}
new lconn.core.HelpLauncher({optMenu:{heading:_c,message:_d,help:this.strings.HELP,close:this.strings.CLOSE}},a);
return a;
};
lconn.core.HelpLauncher.strings={HELP:"Help",CLOSE:"Close"};
}


;if(!dojo._hasResource["lconn.core.aria.Toolbar"]){
dojo._hasResource["lconn.core.aria.Toolbar"]=true;
dojo.provide("lconn.core.aria.Toolbar");


dojo.declare("lconn.core.aria.Toolbar",lconn.core.aria._Helper,{containerRole:"toolbar",itemRole:"button"});
}

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.oneui.ckeditor"]=true;

;if(!dojo._hasResource["com.ibm.oneui.ckeditor.editor.dojoconfig"]){
dojo._hasResource["com.ibm.oneui.ckeditor.editor.dojoconfig"]=true;
dojo.provide("com.ibm.oneui.ckeditor.editor.dojoconfig");
com.ibm.oneui.ckeditor.editor.dojoconfig.execCustomConfig=function(){
CKEDITOR.editorConfig=function(_1){
_1.plugins="a11yhelp,"+"basicstyles,"+"bidi,"+"blockquote,"+"clipboard,"+"colorbutton,"+"colordialog,"+"contextmenu,"+"dialogadvtab,"+"elementspath,"+"enterkey,"+"entities,"+"find,"+"flash,"+"floatingspace,"+"font,"+"format,"+"horizontalrule,"+"htmlwriter,"+"image,"+"iframe,"+"indentlist,"+"indentblock,"+"justify,"+"language,"+"link,"+"list,"+"liststyle,"+"magicline,"+"maximize,"+"newpage,"+"pagebreak,"+"pastefromword,"+"pastetext,"+"preview,"+"print,"+"removeformat,"+"save,"+"selectall,"+"showblocks,"+"showborders,"+"sourcearea,"+"specialchar,"+"stylescombo,"+"tab,"+"table,"+"tabletools,"+"templates,"+"toolbar,"+"undo,"+"wysiwygarea"+",tableresize,"+"ibmcustomdialogs,"+"ibmtoolbars,"+"ibmurllink,"+"ibmstatusmessage,"+"ibmbidi,"+"ibmpastenotesdatalink,"+"ibmpastevideo,"+"ibmpasteiframe,"+"ibmtabletools,"+"ibmimagedatauri,"+"ibmfontprocessor,"+"ibmmenuhelpmessage,"+"ibmlanguagedropdown,"+"ibmcharactercounter,"+"ibmbinaryimagehandler,"+"ibmajax,"+"ibmsametimeemoticons,"+"smiley";
_1.dialog_backgroundCoverColor="black";
_1.dialog_backgroundCoverOpacity=0.3;
_1.skin="oneui3";
_1.dialog_startupFocusTab=true;
_1.colorButton_enableMore=false;
_1.resize_enabled=false;
_1.toolbarCanCollapse=false;
_1.toolbar="Large";
_1.disableNativeSpellChecker=false;
_1.forceEnterMode=true;
_1.useComputedState=true;
_1.ignoreEmptyParagraph=false;
_1.ibmFilterPastedDataUriImage=true;
_1.magicline_color="blue";
_1.magicline_everywhere=false;
_1.removeDialogTabs="flash:advanced;image:advanced;";
_1.displayContextMenuHelpMessage=true;
_1.enableTableSort=false;
_1.ibmBinaryImageUploadUrl="";
_1.find_highlight={element:"span",styles:{"background-color":"#004","color":"#fff","border":"1px solid #004"}};
_1.pasteFromWordRemoveFontStyles=false;
_1.pasteFromWordRemoveStyles=false;
_1.ibmAutoConvertUrls=true;
_1.allowedContent=true;
_1.menus={link:{buttonClass:"cke_button_link",commands:["link","bookmark"],toolbar:"insert,30"},paste:{buttonClass:"cke_button_pastetext",groupName:"clipboard",commands:["paste","pastetext"],toolbar:"editing,0"}};
};
CKEDITOR.on("instanceReady",function(ev){
ev.editor.document.getBody().addClass("lconnRTE lotusui30 lotusui30_body lotusui30dojo lotusui30_fonts");
});
};
}


;define("dojox/main",["dojo/_base/kernel"],function(_1){
return _1.dojox;
});


;define("dojox/date/islamic/Date",["dojo/_base/lang","dojo/_base/declare","dojo/date"],function(_1,_2,dd){
var _3=_2("dojox.date.islamic.Date",null,{_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,_GREGORIAN_EPOCH:1721425.5,_ISLAMIC_EPOCH:1948439.5,constructor:function(){
var _4=arguments.length;
if(!_4){
this.fromGregorian(new Date());
}else{
if(_4==1){
var _5=arguments[0];
if(typeof _5=="number"){
_5=new Date(_5);
}
if(_5 instanceof Date){
this.fromGregorian(_5);
}else{
if(_5==""){
this._date=new Date("");
}else{
this._year=_5._year;
this._month=_5._month;
this._date=_5._date;
this._hours=_5._hours;
this._minutes=_5._minutes;
this._seconds=_5._seconds;
this._milliseconds=_5._milliseconds;
}
}
}else{
if(_4>=3){
this._year+=arguments[0];
this._month+=arguments[1];
this._date+=arguments[2];
this._hours+=arguments[3]||0;
this._minutes+=arguments[4]||0;
this._seconds+=arguments[5]||0;
this._milliseconds+=arguments[6]||0;
}
}
}
},getDate:function(){
return this._date;
},getMonth:function(){
return this._month;
},getFullYear:function(){
return this._year;
},getDay:function(){
return this.toGregorian().getDay();
},getHours:function(){
return this._hours;
},getMinutes:function(){
return this._minutes;
},getSeconds:function(){
return this._seconds;
},getMilliseconds:function(){
return this._milliseconds;
},setDate:function(_6){
_6=parseInt(_6);
if(_6>0&&_6<=this.getDaysInIslamicMonth(this._month,this._year)){
this._date=_6;
}else{
var _7;
if(_6>0){
for(_7=this.getDaysInIslamicMonth(this._month,this._year);_6>_7;_6-=_7,_7=this.getDaysInIslamicMonth(this._month,this._year)){
this._month++;
if(this._month>=12){
this._year++;
this._month-=12;
}
}
this._date=_6;
}else{
for(_7=this.getDaysInIslamicMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1);_6<=0;_7=this.getDaysInIslamicMonth((this._month-1)>=0?(this._month-1):11,((this._month-1)>=0)?this._year:this._year-1)){
this._month--;
if(this._month<0){
this._year--;
this._month+=12;
}
_6+=_7;
}
this._date=_6;
}
}
return this;
},setFullYear:function(_8){
this._year=+_8;
},setMonth:function(_9){
this._year+=Math.floor(_9/12);
if(_9>0){
this._month=Math.floor(_9%12);
}else{
this._month=Math.floor(((_9%12)+12)%12);
}
},setHours:function(){
var _a=arguments.length;
var _b=0;
if(_a>=1){
_b=parseInt(arguments[0]);
}
if(_a>=2){
this._minutes=parseInt(arguments[1]);
}
if(_a>=3){
this._seconds=parseInt(arguments[2]);
}
if(_a==4){
this._milliseconds=parseInt(arguments[3]);
}
while(_b>=24){
this._date++;
var _c=this.getDaysInIslamicMonth(this._month,this._year);
if(this._date>_c){
this._month++;
if(this._month>=12){
this._year++;
this._month-=12;
}
this._date-=_c;
}
_b-=24;
}
this._hours=_b;
},_addMinutes:function(_d){
_d+=this._minutes;
this.setMinutes(_d);
this.setHours(this._hours+parseInt(_d/60));
return this;
},_addSeconds:function(_e){
_e+=this._seconds;
this.setSeconds(_e);
this._addMinutes(parseInt(_e/60));
return this;
},_addMilliseconds:function(_f){
_f+=this._milliseconds;
this.setMilliseconds(_f);
this._addSeconds(parseInt(_f/1000));
return this;
},setMinutes:function(_10){
this._minutes=_10%60;
return this;
},setSeconds:function(_11){
this._seconds=_11%60;
return this;
},setMilliseconds:function(_12){
this._milliseconds=_12%1000;
return this;
},toString:function(){
if(isNaN(this._date)){
return "Invalidate Date";
}else{
var x=new Date();
x.setHours(this._hours);
x.setMinutes(this._minutes);
x.setSeconds(this._seconds);
x.setMilliseconds(this._milliseconds);
return this._month+" "+this._date+" "+this._year+" "+x.toTimeString();
}
},toGregorian:function(){
var _13=this._year;
var _14=this._month;
var _15=this._date;
var _16=_15+Math.ceil(29.5*_14)+(_13-1)*354+Math.floor((3+(11*_13))/30)+this._ISLAMIC_EPOCH-1;
var wjd=Math.floor(_16-0.5)+0.5,_17=wjd-this._GREGORIAN_EPOCH,_18=Math.floor(_17/146097),dqc=this._mod(_17,146097),_19=Math.floor(dqc/36524),_1a=this._mod(dqc,36524),_1b=Math.floor(_1a/1461),_1c=this._mod(_1a,1461),_1d=Math.floor(_1c/365),_1e=(_18*400)+(_19*100)+(_1b*4)+_1d;
if(!(_19==4||_1d==4)){
_1e++;
}
var _1f=this._GREGORIAN_EPOCH+(365*(_1e-1))+Math.floor((_1e-1)/4)-(Math.floor((_1e-1)/100))+Math.floor((_1e-1)/400);
var _20=wjd-_1f;
var tjd=(this._GREGORIAN_EPOCH-1)+(365*(_1e-1))+Math.floor((_1e-1)/4)-(Math.floor((_1e-1)/100))+Math.floor((_1e-1)/400)+Math.floor((739/12)+((dd.isLeapYear(new Date(_1e,3,1))?-1:-2))+1);
var _21=((wjd<tjd)?0:(dd.isLeapYear(new Date(_1e,3,1))?1:2));
var _22=Math.floor((((_20+_21)*12)+373)/367);
var _23=(this._GREGORIAN_EPOCH-1)+(365*(_1e-1))+Math.floor((_1e-1)/4)-(Math.floor((_1e-1)/100))+Math.floor((_1e-1)/400)+Math.floor((((367*_22)-362)/12)+((_22<=2)?0:(dd.isLeapYear(new Date(_1e,_22,1))?-1:-2))+1);
var day=(wjd-_23)+1;
var _24=new Date(_1e,(_22-1),day,this._hours,this._minutes,this._seconds,this._milliseconds);
return _24;
},fromGregorian:function(_25){
var _26=new Date(_25);
var _27=_26.getFullYear(),_28=_26.getMonth(),_29=_26.getDate();
var _2a=(this._GREGORIAN_EPOCH-1)+(365*(_27-1))+Math.floor((_27-1)/4)+(-Math.floor((_27-1)/100))+Math.floor((_27-1)/400)+Math.floor((((367*(_28+1))-362)/12)+(((_28+1)<=2)?0:(dd.isLeapYear(_26)?-1:-2))+_29);
_2a=Math.floor(_2a)+0.5;
var _2b=_2a-this._ISLAMIC_EPOCH;
var _2c=Math.floor((30*_2b+10646)/10631);
var _2d=Math.ceil((_2b-29-this._yearStart(_2c))/29.5);
_2d=Math.min(_2d,11);
var _2e=Math.ceil(_2b-this._monthStart(_2c,_2d))+1;
this._date=_2e;
this._month=_2d;
this._year=_2c;
this._hours=_26.getHours();
this._minutes=_26.getMinutes();
this._seconds=_26.getSeconds();
this._milliseconds=_26.getMilliseconds();
this._day=_26.getDay();
return this;
},valueOf:function(){
return this.toGregorian().valueOf();
},_yearStart:function(_2f){
return (_2f-1)*354+Math.floor((3+11*_2f)/30);
},_monthStart:function(_30,_31){
return Math.ceil(29.5*_31)+(_30-1)*354+Math.floor((3+11*_30)/30);
},_civilLeapYear:function(_32){
return (14+11*_32)%30<11;
},getDaysInIslamicMonth:function(_33,_34){
var _35=0;
_35=29+((_33+1)%2);
if(_33==11&&this._civilLeapYear(_34)){
_35++;
}
return _35;
},_mod:function(a,b){
return a-(b*Math.floor(a/b));
}});
_3.getDaysInIslamicMonth=function(_36){
return new _3().getDaysInIslamicMonth(_36.getMonth(),_36.getFullYear());
};
return _3;
});


;define("dojox/date/islamic",["..","dojo/_base/lang","dojo/date","./islamic/Date"],function(_1,_2,dd,_3){
var _4=_2.getObject("date.islamic",true,_1);
_4.getDaysInMonth=function(_5){
return _5.getDaysInIslamicMonth(_5.getMonth(),_5.getFullYear());
};
_4.compare=function(_6,_7,_8){
if(_6 instanceof _3){
_6=_6.toGregorian();
}
if(_7 instanceof _3){
_7=_7.toGregorian();
}
return dd.compare.apply(null,arguments);
};
_4.add=function(_9,_a,_b){
var _c=new _3(_9);
switch(_a){
case "day":
_c.setDate(_9.getDate()+_b);
break;
case "weekday":
var _d=_9.getDay();
if(((_d+_b)<5)&&((_d+_b)>0)){
_c.setDate(_9.getDate()+_b);
}else{
var _e=0,_f=0;
if(_d==5){
_d=4;
_f=(_b>0)?-1:1;
}else{
if(_d==6){
_d=4;
_f=(_b>0)?-2:2;
}
}
var add=(_b>0)?(5-_d-1):-_d;
var _10=_b-add;
var div=parseInt(_10/5);
if(_10%5!=0){
_e=(_b>0)?2:-2;
}
_e=_e+div*7+_10%5+add;
_c.setDate(_9.getDate()+_e+_f);
}
break;
case "year":
_c.setFullYear(_9.getFullYear()+_b);
break;
case "week":
_b*=7;
_c.setDate(_9.getDate()+_b);
break;
case "month":
var _11=_9.getMonth();
_c.setMonth(_11+_b);
break;
case "hour":
_c.setHours(_9.getHours()+_b);
break;
case "minute":
_c._addMinutes(_b);
break;
case "second":
_c._addSeconds(_b);
break;
case "millisecond":
_c._addMilliseconds(_b);
break;
}
return _c;
};
_4.difference=function(_12,_13,_14){
_13=_13||new _3();
_14=_14||"day";
var _15=_13.getFullYear()-_12.getFullYear();
var _16=1;
switch(_14){
case "weekday":
var _17=Math.round(_4.difference(_12,_13,"day"));
var _18=parseInt(_4.difference(_12,_13,"week"));
var mod=_17%7;
if(mod==0){
_17=_18*5;
}else{
var adj=0;
var _19=_12.getDay();
var _1a=_13.getDay();
_18=parseInt(_17/7);
mod=_17%7;
var _1b=new _3(_12);
_1b.setDate(_1b.getDate()+(_18*7));
var _1c=_1b.getDay();
if(_17>0){
switch(true){
case _19==5:
adj=-1;
break;
case _19==6:
adj=0;
break;
case _1a==5:
adj=-1;
break;
case _1a==6:
adj=-2;
break;
case (_1c+mod)>5:
adj=-2;
}
}else{
if(_17<0){
switch(true){
case _19==5:
adj=0;
break;
case _19==6:
adj=1;
break;
case _1a==5:
adj=2;
break;
case _1a==6:
adj=1;
break;
case (_1c+mod)<0:
adj=2;
}
}
}
_17+=adj;
_17-=(_18*2);
}
_16=_17;
break;
case "year":
_16=_15;
break;
case "month":
var _1d=(_13.toGregorian()>_12.toGregorian())?_13:_12;
var _1e=(_13.toGregorian()>_12.toGregorian())?_12:_13;
var _1f=_1d.getMonth();
var _20=_1e.getMonth();
if(_15==0){
_16=_1d.getMonth()-_1e.getMonth();
}else{
_16=12-_20;
_16+=_1f;
var i=_1e.getFullYear()+1;
var e=_1d.getFullYear();
for(i;i<e;i++){
_16+=12;
}
}
if(_13.toGregorian()<_12.toGregorian()){
_16=-_16;
}
break;
case "week":
_16=parseInt(_4.difference(_12,_13,"day")/7);
break;
case "day":
_16/=24;
case "hour":
_16/=60;
case "minute":
_16/=60;
case "second":
_16/=1000;
case "millisecond":
_16*=_13.toGregorian().getTime()-_12.toGregorian().getTime();
}
return Math.round(_16);
};
return _4;
});


;define("dojo/i18n!dojo/cldr/nls/islamic", {"field-era":"Era","dateFormat-long":"MMMM d, y G","days-standAlone-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-Gy":"y G","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateTimeFormat-full":"{1} \'at\' {0}","dateFormatItem-MMMd":"MMM d","days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateTimeFormats-appendItem-Timezone":"{0} {1}","months-format-wide":["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"],"field-month-relative+0":"This month","field-month-relative+1":"Next month","dateFormatItem-MMMEd":"E, MMM d","dateFormat-full":"EEEE, MMMM d, y G","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dateFormatItem-Hm":"HH:mm","dateFormatItem-yyyyQQQ":"QQQ y G","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateTimeFormat-medium":"{1}, {0}","field-year":"Year","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","timeFormat-medium":"h:mm:ss a","field-day-relative+-1":"Yesterday","dateFormatItem-GyMMM":"MMM y G","field-minute":"Minute","field-day":"Day","field-dayperiod":"AM/PM","dateTimeFormats-appendItem-Year":"{0} {1}","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraNames":["AH"],"field-weekday":"Day of the Week","dateFormatItem-yyyyMMMEd":"E, MMM d, y G","dateFormatItem-MMM":"LLL","dayPeriods-format-abbr-pm":"PM","dateTimeFormat-short":"{1}, {0}","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormatItem-yyyyMd":"M/d/y GGGGG","months-format-abbr":["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."],"days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dateFormatItem-MEd":"E, M/d","dayPeriods-format-wide-pm":"PM","dateFormatItem-GyMMMEd":"E, MMM d, y G","timeFormat-long":"h:mm:ss a z","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-abbr-am":"AM","days-standAlone-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"timeFormat-short":"h:mm a","months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"timeFormat-full":"h:mm:ss a zzzz","dateFormatItem-yyyyMMM":"MMM y G","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-ms":"mm:ss","field-zone":"Time Zone","months-standAlone-wide":["Muharram","Safar","Rabi\u02bb I","Rabi\u02bb II","Jumada I","Jumada II","Rajab","Sha\u02bbban","Ramadan","Shawwal","Dhu\u02bbl-Qi\u02bbdah","Dhu\u02bbl-Hijjah"],"eraAbbr":["AH"],"field-year-relative+-1":"Last year","dayPeriods-format-wide-am":"AM","field-second":"Second","months-standAlone-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"dateFormatItem-Md":"M/d","dayPeriods-format-narrow-pm":"p","dateFormatItem-H":"HH","dateFormatItem-Ed":"d E","dateFormatItem-yyyyQQQQ":"QQQQ y G","dateFormatItem-yyyyMEd":"E, M/d/y GGGGG","dateFormatItem-M":"L","dateFormatItem-hms":"h:mm:ss a","dateTimeFormats-appendItem-Era":"{0} {1}","quarters-format-abbr":["Q1","Q2","Q3","Q4"],"dateFormatItem-yyyyMMMd":"MMM d, y G","eraNarrow":["AH"],"dateFormatItem-d":"d","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-h":"h a","field-week-relative+0":"This week","field-hour":"Hour","field-week-relative+1":"Next week","days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"field-week-relative+-1":"Last week","dateFormatItem-GyMMMd":"MMM d, y G","dayPeriods-format-narrow-am":"a","field-month-relative+-1":"Last month","dateFormatItem-y":"y G","field-week":"Week","quarters-format-narrow":["1","2","3","4"],"dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","field-month":"Month","field-year-relative+0":"This year","field-year-relative+1":"Next year","dateFormat-short":"M/d/y GGGGG","quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yyyy":"y G","dateTimeFormat-long":"{1} \'at\' {0}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dateFormatItem-yyyyM":"M/y GGGGG","dateFormatItem-hm":"h:mm a","days-format-narrow":["S","M","T","W","T","F","S"],"quarters-standAlone-narrow":["1","2","3","4"],"dateFormat-medium":"MMM d, y G","months-standAlone-abbr":["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhu\u02bbl-Q.","Dhu\u02bbl-H."]});

;define("dojox/date/islamic/locale",["../..","dojo/_base/lang","dojo/_base/array","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","dojo/i18n!dojo/cldr/nls/islamic"],function(_1,_2,_3,dd,_4,_5,_6,_7,_8){
var _9=_2.getObject("date.islamic.locale",true,_1);
function _a(_b,_c,_d,_e,_f){
return _f.replace(/([a-z])\1*/ig,function(_10){
var s,pad;
var c=_10.charAt(0);
var l=_10.length;
var _11=["abbr","wide","narrow"];
switch(c){
case "G":
s=_c["eraAbbr"][0];
break;
case "y":
s=String(_b.getFullYear());
break;
case "M":
var m=_b.getMonth();
if(l<3){
s=m+1;
pad=true;
}else{
var _12=["months","format",_11[l-3]].join("-");
s=_c[_12][m];
}
break;
case "d":
s=_b.getDate(true);
pad=true;
break;
case "E":
var d=_b.getDay();
if(l<3){
s=d+1;
pad=true;
}else{
var _13=["days","format",_11[l-3]].join("-");
s=_c[_13][d];
}
break;
case "a":
var _14=(_b.getHours()<12)?"am":"pm";
s=_c["dayPeriods-format-wide-"+_14];
break;
case "h":
case "H":
case "K":
case "k":
var h=_b.getHours();
switch(c){
case "h":
s=(h%12)||12;
break;
case "H":
s=h;
break;
case "K":
s=(h%12);
break;
case "k":
s=h||24;
break;
}
pad=true;
break;
case "m":
s=_b.getMinutes();
pad=true;
break;
case "s":
s=_b.getSeconds();
pad=true;
break;
case "S":
s=Math.round(_b.getMilliseconds()*Math.pow(10,l-3));
pad=true;
break;
case "z":
s=dd.getTimezoneName(_b.toGregorian());
if(s){
break;
}
l=4;
case "Z":
var _15=_b.toGregorian().getTimezoneOffset();
var tz=[(_15<=0?"+":"-"),_6.pad(Math.floor(Math.abs(_15)/60),2),_6.pad(Math.abs(_15)%60,2)];
if(l==4){
tz.splice(0,0,"GMT");
tz.splice(3,0,":");
}
s=tz.join("");
break;
default:
throw new Error("dojox.date.islamic.locale.formatPattern: invalid pattern char: "+_f);
}
if(pad){
s=_6.pad(s,l);
}
return s;
});
};
_9.format=function(_16,_17){
_17=_17||{};
var _18=_4.normalizeLocale(_17.locale);
var _19=_17.formatLength||"short";
var _1a=_9._getIslamicBundle(_18);
var str=[];
var _1b=_2.hitch(this,_a,_16,_1a,_18,_17.fullYear);
if(_17.selector=="year"){
var _1c=_16.getFullYear();
return _1c;
}
if(_17.selector!="time"){
var _1d=_17.datePattern||_1a["dateFormat-"+_19];
if(_1d){
str.push(_1e(_1d,_1b));
}
}
if(_17.selector!="date"){
var _1f=_17.timePattern||_1a["timeFormat-"+_19];
if(_1f){
str.push(_1e(_1f,_1b));
}
}
var _20=str.join(" ");
return _20;
};
_9.regexp=function(_21){
return _9._parseInfo(_21).regexp;
};
_9._parseInfo=function(_22){
_22=_22||{};
var _23=_4.normalizeLocale(_22.locale);
var _24=_9._getIslamicBundle(_23);
var _25=_22.formatLength||"short";
var _26=_22.datePattern||_24["dateFormat-"+_25];
var _27=_22.timePattern||_24["timeFormat-"+_25];
var _28;
if(_22.selector=="date"){
_28=_26;
}else{
if(_22.selector=="time"){
_28=_27;
}else{
_28=(typeof (_27)=="undefined")?_26:_26+" "+_27;
}
}
var _29=[];
var re=_1e(_28,_2.hitch(this,_2a,_29,_24,_22));
return {regexp:re,tokens:_29,bundle:_24};
};
_9.parse=function(_2b,_2c){
_2b=_2b.replace(/[\u200E\u200F\u202A\u202E]/g,"");
if(!_2c){
_2c={};
}
var _2d=_9._parseInfo(_2c);
var _2e=_2d.tokens,_8=_2d.bundle;
var _2f=_2d.regexp.replace(/[\u200E\u200F\u202A\u202E]/g,"");
var re=new RegExp("^"+_2f+"$");
var _30=re.exec(_2b);
var _31=_4.normalizeLocale(_2c.locale);
if(!_30){
return null;
}
var _32,_33;
var _34=[1389,0,1,0,0,0,0];
var _35="";
var _36=0;
var _37=["abbr","wide","narrow"];
var _38=_3.every(_30,function(v,i){
if(!i){
return true;
}
var _39=_2e[i-1];
var l=_39.length;
switch(_39.charAt(0)){
case "y":
_34[0]=Number(v);
break;
case "M":
if(l>2){
var _3a=_8["months-format-"+_37[l-3]].concat();
if(!_2c.strict){
v=v.replace(".","").toLowerCase();
_3a=_3.map(_3a,function(s){
return s?s.replace(".","").toLowerCase():s;
});
}
v=_3.indexOf(_3a,v);
if(v==-1){
return false;
}
_36=l;
}else{
v--;
}
_34[1]=Number(v);
break;
case "D":
_34[1]=0;
case "d":
_34[2]=Number(v);
break;
case "a":
var am=_2c.am||_8["dayPeriods-format-wide-am"],pm=_2c.pm||_8["dayPeriods-format-wide-pm"];
if(!_2c.strict){
var _3b=/\./g;
v=v.replace(_3b,"").toLowerCase();
am=am.replace(_3b,"").toLowerCase();
pm=pm.replace(_3b,"").toLowerCase();
}
if(_2c.strict&&v!=am&&v!=pm){
return false;
}
_35=(v==pm)?"p":(v==am)?"a":"";
break;
case "K":
if(v==24){
v=0;
}
case "h":
case "H":
case "k":
_34[3]=Number(v);
break;
case "m":
_34[4]=Number(v);
break;
case "s":
_34[5]=Number(v);
break;
case "S":
_34[6]=Number(v);
}
return true;
});
var _3c=+_34[3];
if(_35==="p"&&_3c<12){
_34[3]=_3c+12;
}else{
if(_35==="a"&&_3c==12){
_34[3]=0;
}
}
var _3d=new _7(_34[0],_34[1],_34[2],_34[3],_34[4],_34[5],_34[6]);
return _3d;
};
function _1e(_3e,_3f,_40,_41){
var _42=function(x){
return x;
};
_3f=_3f||_42;
_40=_40||_42;
_41=_41||_42;
var _43=_3e.match(/(''|[^'])+/g);
var _44=_3e.charAt(0)=="'";
_3.forEach(_43,function(_45,i){
if(!_45){
_43[i]="";
}else{
_43[i]=(_44?_40:_3f)(_45);
_44=!_44;
}
});
return _41(_43.join(""));
};
function _2a(_46,_47,_48,_49){
_49=_5.escapeString(_49);
var _4a=_4.normalizeLocale(_48.locale);
return _49.replace(/([a-z])\1*/ig,function(_4b){
var s;
var c=_4b.charAt(0);
var l=_4b.length;
var p2="",p3="";
if(_48.strict){
if(l>1){
p2="0"+"{"+(l-1)+"}";
}
if(l>2){
p3="0"+"{"+(l-2)+"}";
}
}else{
p2="0?";
p3="0{0,2}";
}
switch(c){
case "y":
s="\\d+";
break;
case "M":
s=(l>2)?"\\S+ ?\\S+":p2+"[1-9]|1[0-2]";
break;
case "d":
s="[12]\\d|"+p2+"[1-9]|3[01]";
break;
case "E":
s="\\S+";
break;
case "h":
s=p2+"[1-9]|1[0-2]";
break;
case "k":
s=p2+"\\d|1[01]";
break;
case "H":
s=p2+"\\d|1\\d|2[0-3]";
break;
case "K":
s=p2+"[1-9]|1\\d|2[0-4]";
break;
case "m":
case "s":
s=p2+"\\d|[0-5]\\d";
break;
case "S":
s="\\d{"+l+"}";
break;
case "a":
var am=_48.am||_47["dayPeriods-format-wide-am"],pm=_48.pm||_47["dayPeriods-format-wide-pm"];
if(_48.strict){
s=am+"|"+pm;
}else{
s=am+"|"+pm;
if(am!=am.toLowerCase()){
s+="|"+am.toLowerCase();
}
if(pm!=pm.toLowerCase()){
s+="|"+pm.toLowerCase();
}
}
break;
default:
s=".*";
}
if(_46){
_46.push(_4b);
}
return "("+s+")";
}).replace(/[\xa0 ]/g,"[\\s\\xa0]");
};
var _4c=[];
_9.addCustomFormats=function(_4d,_4e){
_4c.push({pkg:_4d,name:_4e});
};
_9._getIslamicBundle=function(_4f){
var _50={};
_3.forEach(_4c,function(_51){
var _52=_4.getLocalization(_51.pkg,_51.name,_4f);
_50=_2.mixin(_50,_52);
},this);
return _50;
};
_9.addCustomFormats("dojo.cldr","islamic");
_9.getNames=function(_53,_54,_55,_56,_57){
var _58;
var _59=_9._getIslamicBundle(_56);
var _5a=[_53,_55,_54];
if(_55=="standAlone"){
var key=_5a.join("-");
_58=_59[key];
if(_58[0]==1){
_58=undefined;
}
}
_5a[1]="format";
return (_58||_59[_5a.join("-")]).concat();
};
_9.weekDays=_9.getNames("days","wide","format");
_9.months=_9.getNames("months","wide","format");
return _9;
});


;define("dojox/date/hebrew/numerals",["../..","dojo/_base/lang","dojo/_base/array"],function(_1,_2,_3){
var _4=_2.getObject("date.hebrew.numerals",true,_1);
var _5="\u05d0\u05d1\u05d2\u05d3\u05d4\u05d5\u05d6\u05d7\u05d8";
var _6="\u05d9\u05db\u05dc\u05de\u05e0\u05e1\u05e2\u05e4\u05e6";
var _7="\u05e7\u05e8\u05e9\u05ea";
var _8=function(_9,_a){
_9=_9.replace("\u05d9\u05d4","\u05d8\u05d5").replace("\u05d9\u05d5","\u05d8\u05d6");
if(!_a){
var _b=_9.length;
if(_b>1){
_9=_9.substr(0,_b-1)+"\""+_9.charAt(_b-1);
}else{
_9+="\u05f3";
}
}
return _9;
};
var _c=function(_d){
var _e=0;
_3.forEach(_d,function(ch){
var i;
if((i=_5.indexOf(ch))!=-1){
_e+=++i;
}else{
if((i=_6.indexOf(ch))!=-1){
_e+=10*++i;
}else{
if((i=_7.indexOf(ch))!=-1){
_e+=100*++i;
}
}
}
});
return _e;
};
var _f=function(num){
var str="",n=4,j=9;
while(num){
if(num>=n*100){
str+=_7.charAt(n-1);
num-=n*100;
continue;
}else{
if(n>1){
n--;
continue;
}else{
if(num>=j*10){
str+=_6.charAt(j-1);
num-=j*10;
}else{
if(j>1){
j--;
continue;
}else{
if(num>0){
str+=_5.charAt(num-1);
num=0;
}
}
}
}
}
}
return str;
};
_4.getYearHebrewLetters=function(_10){
var rem=_10%1000;
return _8(_f(rem));
};
_4.parseYearHebrewLetters=function(_11){
return _c(_11)+5000;
};
_4.getDayHebrewLetters=function(day,_12){
return _8(_f(day),_12);
};
_4.parseDayHebrewLetters=function(day){
return _c(day);
};
_4.getMonthHebrewLetters=function(_13){
return _8(_f(_13+1));
};
_4.parseMonthHebrewLetters=function(_14){
var _15=_4.parseDayHebrewLetters(_14)-1;
if(_15==-1||_15>12){
throw new Error("The month name is incorrect , month = "+_15);
}
return _15;
};
return _4;
});


;define("dojox/date/hebrew/Date",["dojo/_base/lang","dojo/_base/declare","./numerals"],function(_1,_2,_3){
var _4=_2("dojox.date.hebrew.Date",null,{_MONTH_LENGTH:[[30,30,30],[29,29,30],[29,30,30],[29,29,29],[30,30,30],[30,30,30],[29,29,29],[30,30,30],[29,29,29],[30,30,30],[29,29,29],[30,30,30],[29,29,29]],_MONTH_START:[[0,0,0],[30,30,30],[59,59,60],[88,89,90],[117,118,119],[147,148,149],[147,148,149],[176,177,178],[206,207,208],[235,236,237],[265,266,267],[294,295,296],[324,325,326],[353,354,355]],_LEAP_MONTH_START:[[0,0,0],[30,30,30],[59,59,60],[88,89,90],[117,118,119],[147,148,149],[177,178,179],[206,207,208],[236,237,238],[265,266,267],[295,296,297],[324,325,326],[354,355,356],[383,384,385]],_GREGORIAN_MONTH_COUNT:[[31,31,0,0],[28,29,31,31],[31,31,59,60],[30,30,90,91],[31,31,120,121],[30,30,151,152],[31,31,181,182],[31,31,212,213],[30,30,243,244],[31,31,273,274],[30,30,304,305],[31,31,334,335]],_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,constructor:function(){
var _5=arguments.length;
if(!_5){
this.fromGregorian(new Date());
}else{
if(_5==1){
var _6=arguments[0];
if(typeof _6=="number"){
_6=new Date(_6);
}
if(_6 instanceof Date){
this.fromGregorian(_6);
}else{
if(_6==""){
this._year=this._month=this._date=this._hours=this._minutes=this._seconds=this._milliseconds=NaN;
}else{
this._year=_6._year;
this._month=_6._month;
this._date=_6._date;
this._hours=_6._hours;
this._minutes=_6._minutes;
this._seconds=_6._seconds;
this._milliseconds=_6._milliseconds;
}
}
}else{
if(_5>=3){
this._year+=arguments[0];
this._month+=arguments[1];
this._date+=arguments[2];
if(this._month>12){
console.warn("the month is incorrect , set 0  "+this._month+"   "+this._year);
this._month=0;
}
this._hours+=arguments[3]||0;
this._minutes+=arguments[4]||0;
this._seconds+=arguments[5]||0;
this._milliseconds+=arguments[6]||0;
}
}
}
this._setDay();
},getDate:function(){
return this._date;
},getDateLocalized:function(_7){
return (_7||dojo.locale).match(/^he(?:-.+)?$/)?_3.getDayHebrewLetters(this._date):this.getDate();
},getMonth:function(){
return this._month;
},getFullYear:function(){
return this._year;
},getHours:function(){
return this._hours;
},getMinutes:function(){
return this._minutes;
},getSeconds:function(){
return this._seconds;
},getMilliseconds:function(){
return this._milliseconds;
},setDate:function(_8){
_8=+_8;
var _9;
if(_8>0){
while(_8>(_9=this.getDaysInHebrewMonth(this._month,this._year))){
_8-=_9;
this._month++;
if(this._month>=13){
this._year++;
this._month-=13;
}
}
}else{
while(_8<=0){
_9=this.getDaysInHebrewMonth((this._month-1)>=0?(this._month-1):12,((this._month-1)>=0)?this._year:this._year-1);
this._month--;
if(this._month<0){
this._year--;
this._month+=13;
}
_8+=_9;
}
}
this._date=_8;
this._setDay();
return this;
},setFullYear:function(_a,_b,_c){
this._year=_a=+_a;
if(!this.isLeapYear(_a)&&this._month==5){
this._month++;
}
if(_b!==undefined){
this.setMonth(_b);
}
if(_c!==undefined){
this.setDate(_c);
}
var _d=this.getDaysInHebrewMonth(this._month,this._year);
if(_d<this._date){
this._date=_d;
}
this._setDay();
return this;
},setMonth:function(_e){
_e=+_e;
if(!this.isLeapYear(this._year)&&_e==5){
_e++;
}
if(_e>=0){
while(_e>12){
this._year++;
_e-=13;
if(!this.isLeapYear(this._year)&&_e>=5){
_e++;
}
}
}else{
while(_e<0){
this._year--;
_e+=(!this.isLeapYear(this._year)&&_e<-7)?12:13;
}
}
this._month=_e;
var _f=this.getDaysInHebrewMonth(this._month,this._year);
if(_f<this._date){
this._date=_f;
}
this._setDay();
return this;
},setHours:function(){
var _10=arguments.length;
var _11=0;
if(_10>=1){
_11=+arguments[0];
}
if(_10>=2){
this._minutes=+arguments[1];
}
if(_10>=3){
this._seconds=+arguments[2];
}
if(_10==4){
this._milliseconds=+arguments[3];
}
while(_11>=24){
this._date++;
var _12=this.getDaysInHebrewMonth(this._month,this._year);
if(this._date>_12){
this._month++;
if(!this.isLeapYear(this._year)&&this._month==5){
this._month++;
}
if(this._month>=13){
this._year++;
this._month-=13;
}
this._date-=_12;
}
_11-=24;
}
this._hours=_11;
this._setDay();
return this;
},_addMinutes:function(_13){
_13+=this._minutes;
this.setMinutes(_13);
this.setHours(this._hours+parseInt(_13/60));
return this;
},_addSeconds:function(_14){
_14+=this._seconds;
this.setSeconds(_14);
this._addMinutes(parseInt(_14/60));
return this;
},_addMilliseconds:function(_15){
_15+=this._milliseconds;
this.setMilliseconds(_15);
this._addSeconds(parseInt(_15/1000));
return this;
},setMinutes:function(_16){
this._minutes=_16%60;
return this;
},setSeconds:function(_17){
this._seconds=_17%60;
return this;
},setMilliseconds:function(_18){
this._milliseconds=_18%1000;
return this;
},_setDay:function(){
var day=this._startOfYear(this._year);
if(this._month!=0){
day+=(this.isLeapYear(this._year)?this._LEAP_MONTH_START:this._MONTH_START)[this._month||0][this._yearType(this._year)];
}
day+=this._date-1;
this._day=(day+1)%7;
},toString:function(){
return isNaN(this._date)?"Invalid Date":this._date+", "+this._month+", "+this._year+"  "+this._hours+":"+this._minutes+":"+this._seconds;
},getDaysInHebrewMonth:function(_19,_1a){
var _1b=(_19==1||_19==2)?this._yearType(_1a):0;
return (!this.isLeapYear(this._year)&&_19==5)?0:this._MONTH_LENGTH[_19][_1b];
},_yearType:function(_1c){
var _1d=this._handleGetYearLength(Number(_1c));
if(_1d>380){
_1d-=30;
}
var _1e=_1d-353;
if(_1e<0||_1e>2){
throw new Error("Illegal year length "+_1d+" in year "+_1c);
}
return _1e;
},_handleGetYearLength:function(_1f){
return this._startOfYear(_1f+1)-this._startOfYear(_1f);
},_startOfYear:function(_20){
var _21=Math.floor((235*_20-234)/19),_22=_21*(12*1080+793)+11*1080+204,day=_21*29+Math.floor(_22/(24*1080));
_22%=24*1080;
var wd=day%7;
if(wd==2||wd==4||wd==6){
day+=1;
wd=day%7;
}
if(wd==1&&_22>15*1080+204&&!this.isLeapYear(_20)){
day+=2;
}else{
if(wd==0&&_22>21*1080+589&&this.isLeapYear(_20-1)){
day+=1;
}
}
return day;
},isLeapYear:function(_23){
var x=(_23*12+17)%19;
return x>=((x<0)?-7:12);
},fromGregorian:function(_24){
var _25=(!isNaN(_24))?this._computeHebrewFields(_24):NaN;
this._year=(!isNaN(_24))?_25[0]:NaN;
this._month=(!isNaN(_24))?_25[1]:NaN;
this._date=(!isNaN(_24))?_25[2]:NaN;
this._hours=_24.getHours();
this._milliseconds=_24.getMilliseconds();
this._minutes=_24.getMinutes();
this._seconds=_24.getSeconds();
if(!isNaN(_24)){
this._setDay();
}
return this;
},_computeHebrewFields:function(_26){
var _27=this._getJulianDayFromGregorianDate(_26),d=_27-347997,m=Math.floor((d*24*1080)/(29*24*1080+12*1080+793)),_28=Math.floor((19*m+234)/235)+1,ys=this._startOfYear(_28),_29=(d-ys);
while(_29<1){
_28--;
ys=this._startOfYear(_28);
_29=d-ys;
}
var _2a=this._yearType(_28),_2b=this.isLeapYear(_28)?this._LEAP_MONTH_START:this._MONTH_START,_2c=0;
while(_29>_2b[_2c][_2a]){
_2c++;
}
_2c--;
var _2d=_29-_2b[_2c][_2a];
return [_28,_2c,_2d];
},toGregorian:function(){
var _2e=this._year||0,_2f=this._month||0,_30=this._date||0,day=this._startOfYear(_2e);
if(_2f!=0){
day+=(this.isLeapYear(_2e)?this._LEAP_MONTH_START:this._MONTH_START)[_2f][this._yearType(_2e)];
}
var _31=(_30+day+347997),_32=_31-1721426;
var rem=[];
var _33=this._floorDivide(_32,146097,rem),_34=this._floorDivide(rem[0],36524,rem),n4=this._floorDivide(rem[0],1461,rem),n1=this._floorDivide(rem[0],365,rem),_35=400*_33+100*_34+4*n4+n1,_36=rem[0];
if(_34==4||n1==4){
_36=365;
}else{
++_35;
}
var _37=!(_35%4)&&(_35%100||!(_35%400)),_38=0,_39=_37?60:59;
if(_36>=_39){
_38=_37?1:2;
}
var _3a=Math.floor((12*(_36+_38)+6)/367);
var _3b=_36-this._GREGORIAN_MONTH_COUNT[_3a][_37?3:2]+1;
return new Date(_35,_3a,_3b,this._hours,this._minutes,this._seconds,this._milliseconds);
},_floorDivide:function(_3c,_3d,_3e){
if(_3c>=0){
_3e[0]=(_3c%_3d);
return Math.floor(_3c/_3d);
}
var _3f=Math.floor(_3c/_3d);
_3e[0]=_3c-(_3f*_3d);
return _3f;
},getDay:function(){
var _40=this._year,_41=this._month,_42=this._date,day=this._startOfYear(_40);
if(_41!=0){
day+=(this.isLeapYear(_40)?this._LEAP_MONTH_START:this._MONTH_START)[_41][this._yearType(_40)];
}
day+=_42-1;
return (day+1)%7;
},_getJulianDayFromGregorianDate:function(_43){
var _44=_43.getFullYear(),_45=_43.getMonth(),d=_43.getDate(),_46=!(_44%4)&&(_44%100||!(_44%400)),y=_44-1;
var _47=365*y+Math.floor(y/4)-Math.floor(y/100)+Math.floor(y/400)+1721426-1;
if(_45>0){
_47+=this._GREGORIAN_MONTH_COUNT[_45][_46?3:2];
}
_47+=d;
return _47;
}});
_4.prototype.valueOf=function(){
return this.toGregorian().valueOf();
};
return _4;
});


;define("dojox/date/hebrew",["..","dojo/_base/lang","dojo/date","./hebrew/Date"],function(_1,_2,dd,_3){
var _4=_2.getObject("date.hebrew",true,_1);
_4.getDaysInMonth=function(_5){
return _5.getDaysInHebrewMonth(_5.getMonth(),_5.getFullYear());
};
_4.compare=function(_6,_7,_8){
if(_6 instanceof _3){
_6=_6.toGregorian();
}
if(_7 instanceof _3){
_7=_7.toGregorian();
}
return dd.compare.apply(null,arguments);
};
_4.add=function(_9,_a,_b){
var _c=new _3(_9);
switch(_a){
case "day":
_c.setDate(_9.getDate()+_b);
break;
case "weekday":
var _d=_9.getDay();
var _e=0;
if(_b<0&&_d==6){
_d=5;
_e=-1;
}
if((_d+_b)<5&&(_d+_b)>=0){
_c.setDate(_9.getDate()+_b+_e);
}else{
var _f=(_b>0)?5:-1;
var _10=(_b>0)?2:-2;
if(_b>0&&(_d==5||_d==6)){
_e=4-_d;
_d=4;
}
var _11=_d+_b-_f;
var _12=parseInt(_11/5);
var _13=_11%5;
_c.setDate(_9.getDate()-_d+_10+_12*7+_e+_13+_f);
}
break;
case "year":
_c.setFullYear(_9.getFullYear()+_b);
break;
case "week":
_b*=7;
_c.setDate(_9.getDate()+_b);
break;
case "month":
var _14=_9.getMonth(),_15=_14+_b;
if(!_9.isLeapYear(_9.getFullYear())){
if(_14<5&&_15>=5){
_15++;
}else{
if(_14>5&&_15<=5){
_15--;
}
}
}
_c.setMonth(_15);
break;
case "hour":
_c.setHours(_9.getHours()+_b);
break;
case "minute":
_c._addMinutes(_b);
break;
case "second":
_c._addSeconds(_b);
break;
case "millisecond":
_c._addMilliseconds(_b);
break;
}
return _c;
};
_4.difference=function(_16,_17,_18){
_17=_17||new _3();
_18=_18||"day";
var _19=_17.getFullYear()-_16.getFullYear();
var _1a=1;
switch(_18){
case "weekday":
var _1b=Math.round(_4.difference(_16,_17,"day"));
var _1c=parseInt(_4.difference(_16,_17,"week"));
var mod=_1b%7;
if(mod==0){
_1b=_1c*5;
}else{
var adj=0;
var _1d=_16.getDay();
var _1e=_17.getDay();
_1c=parseInt(_1b/7);
mod=_1b%7;
var _1f=new _3(_16);
_1f.setDate(_1f.getDate()+(_1c*7));
var _20=_1f.getDay();
if(_1b>0){
switch(true){
case _1d==5:
adj=-1;
break;
case _1d==6:
adj=0;
break;
case _1e==5:
adj=-1;
break;
case _1e==6:
adj=-2;
break;
case (_20+mod)>5:
adj=-2;
}
}else{
if(_1b<0){
switch(true){
case _1d==5:
adj=0;
break;
case _1d==6:
adj=1;
break;
case _1e==5:
adj=2;
break;
case _1e==6:
adj=1;
break;
case (_20+mod)<0:
adj=2;
}
}
}
_1b+=adj;
_1b-=(_1c*2);
}
_1a=_1b;
break;
case "year":
_1a=_19;
break;
case "month":
var _21=(_17.toGregorian()>_16.toGregorian())?_17:_16;
var _22=(_17.toGregorian()>_16.toGregorian())?_16:_17;
var _23=_21.getMonth();
var _24=_22.getMonth();
if(_19==0){
_1a=(!_17.isLeapYear(_17.getFullYear())&&_21.getMonth()>5&&_22.getMonth()<=5)?(_21.getMonth()-_22.getMonth()-1):(_21.getMonth()-_22.getMonth());
}else{
_1a=(!_22.isLeapYear(_22.getFullYear())&&_24<6)?(13-_24-1):(13-_24);
_1a+=(!_21.isLeapYear(_21.getFullYear())&&_23>5)?(_23-1):_23;
var i=_22.getFullYear()+1;
var e=_21.getFullYear();
for(i;i<e;i++){
_1a+=_22.isLeapYear(i)?13:12;
}
}
if(_17.toGregorian()<_16.toGregorian()){
_1a=-_1a;
}
break;
case "week":
_1a=parseInt(_4.difference(_16,_17,"day")/7);
break;
case "day":
_1a/=24;
case "hour":
_1a/=60;
case "minute":
_1a/=60;
case "second":
_1a/=1000;
case "millisecond":
_1a*=_17.toGregorian().getTime()-_16.toGregorian().getTime();
}
return Math.round(_1a);
};
return _4;
});


;define("dojo/i18n!dojo/cldr/nls/hebrew", {"field-era":"Era","dateFormat-long":"MMMM d, y G","days-standAlone-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-Gy":"y G","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","dateTimeFormat-full":"{1} \'at\' {0}","dateFormatItem-MMMd":"MMM d","dateTimeFormats-appendItem-Timezone":"{0} {1}","days-standAlone-narrow":["S","M","T","W","T","F","S"],"months-format-wide":["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul"],"field-month-relative+0":"This month","field-month-relative+1":"Next month","months-standAlone-wide-leap":"Adar II","dateFormat-full":"EEEE, MMMM d, y G","dateFormatItem-MMMEd":"E, MMM d","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dateFormatItem-Hm":"HH:mm","dateFormatItem-yyyyQQQ":"QQQ y G","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","field-year":"Year","dateTimeFormat-medium":"{1}, {0}","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","timeFormat-medium":"h:mm:ss a","field-day-relative+-1":"Yesterday","dateFormatItem-GyMMM":"MMM y G","field-minute":"Minute","field-day":"Day","field-dayperiod":"AM/PM","dateTimeFormats-appendItem-Year":"{0} {1}","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraNames":["AM"],"field-weekday":"Day of the Week","dateFormatItem-yyyyMMMEd":"E, MMM d, y G","dateFormatItem-MMM":"LLL","dayPeriods-format-abbr-pm":"PM","dateTimeFormat-short":"{1}, {0}","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","months-format-wide-leap":"Adar II","dateFormatItem-yyyyMd":"M/d/y GGGGG","months-format-abbr":["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul"],"days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"months-standAlone-abbr-leap":"Adar II","dateFormatItem-MEd":"E, M/d","dayPeriods-format-wide-pm":"PM","timeFormat-long":"h:mm:ss a z","dateFormatItem-GyMMMEd":"E, MMM d, y G","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-abbr-am":"AM","days-standAlone-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"timeFormat-short":"h:mm a","months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12","13"],"dateFormatItem-yyyyMMM":"MMM y G","timeFormat-full":"h:mm:ss a zzzz","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-ms":"mm:ss","field-zone":"Time Zone","months-standAlone-wide":["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul"],"eraAbbr":["AM"],"field-year-relative+-1":"Last year","field-second":"Second","dayPeriods-format-wide-am":"AM","months-standAlone-narrow":["1","2","3","4","5","6","7","8","9","10","11","12","13"],"dateFormatItem-Md":"M/d","dayPeriods-format-narrow-pm":"p","dateFormatItem-H":"HH","dateFormatItem-Ed":"d E","dateFormatItem-yyyyQQQQ":"QQQQ y G","dateFormatItem-yyyyMEd":"E, M/d/y GGGGG","dateFormatItem-M":"L","dateFormatItem-hms":"h:mm:ss a","dateTimeFormats-appendItem-Era":"{0} {1}","quarters-format-abbr":["Q1","Q2","Q3","Q4"],"months-format-abbr-leap":"Adar II","dateFormatItem-yyyyMMMd":"MMM d, y G","dateFormatItem-d":"d","eraNarrow":["AM"],"days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-h":"h a","field-week-relative+0":"This week","field-hour":"Hour","field-week-relative+1":"Next week","days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"field-week-relative+-1":"Last week","dateFormatItem-GyMMMd":"MMM d, y G","dayPeriods-format-narrow-am":"a","field-month-relative+-1":"Last month","dateFormatItem-y":"y G","field-week":"Week","quarters-format-narrow":["1","2","3","4"],"dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","field-month":"Month","field-year-relative+0":"This year","field-year-relative+1":"Next year","dateFormat-short":"M/d/y GGGGG","quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yyyy":"y G","dateTimeFormat-long":"{1} \'at\' {0}","dateFormatItem-yyyyM":"M/y GGGGG","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dateFormatItem-hm":"h:mm a","days-format-narrow":["S","M","T","W","T","F","S"],"dateFormat-medium":"MMM d, y G","quarters-standAlone-narrow":["1","2","3","4"],"months-standAlone-abbr":["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul"]});

;define("dojox/date/hebrew/locale",["../..","dojo/_base/lang","dojo/_base/array","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","./numerals","dojo/i18n!dojo/cldr/nls/hebrew"],function(_1,_2,_3,dd,_4,_5,_6,_7,_8){
var _9=_2.getObject("date.hebrew.locale",true,_1);
_4.getLocalization("dojo.cldr","hebrew");
function _a(_b,_c,_d,_e,_f){
return _f.replace(/([a-z])\1*/ig,function(_10){
var s,pad;
var c=_10.charAt(0);
var l=_10.length;
var _11=["abbr","wide","narrow"];
switch(c){
case "G":
s=_c[(l<4)?"eraAbbr":"eraNames"][0];
break;
case "y":
if(_d.match(/^he(?:-.+)?$/)){
s=_8.getYearHebrewLetters(_b.getFullYear());
}else{
s=String(_b.getFullYear());
}
break;
case "M":
var m=_b.getMonth();
if(l<3){
if(!_b.isLeapYear(_b.getFullYear())&&m>5){
m--;
}
if(_d.match(/^he(?:-.+)?$/)){
s=_8.getMonthHebrewLetters(m);
}else{
s=m+1;
pad=true;
}
}else{
var _12=_9.getNames("months",_11[l-3],"format",_d,_b);
s=_12[m];
}
break;
case "d":
if(_d.match(/^he(?:-.+)?$/)){
s=_b.getDateLocalized(_d);
}else{
s=_b.getDate();
pad=true;
}
break;
case "E":
var d=_b.getDay();
if(l<3){
s=d+1;
pad=true;
}else{
var _13=["days","format",_11[l-3]].join("-");
s=_c[_13][d];
}
break;
case "a":
var _14=(_b.getHours()<12)?"am":"pm";
s=_c["dayPeriods-format-wide-"+_14];
break;
case "h":
case "H":
case "K":
case "k":
var h=_b.getHours();
switch(c){
case "h":
s=(h%12)||12;
break;
case "H":
s=h;
break;
case "K":
s=(h%12);
break;
case "k":
s=h||24;
break;
}
pad=true;
break;
case "m":
s=_b.getMinutes();
pad=true;
break;
case "s":
s=_b.getSeconds();
pad=true;
break;
case "S":
s=Math.round(_b.getMilliseconds()*Math.pow(10,l-3));
pad=true;
break;
case "z":
s="";
break;
default:
throw new Error("dojox.date.hebrew.locale.formatPattern: invalid pattern char: "+_f);
}
if(pad){
s=_6.pad(s,l);
}
return s;
});
};
_9.format=function(_15,_16){
_16=_16||{};
var _17=_4.normalizeLocale(_16.locale);
var _18=_16.formatLength||"short";
var _19=_9._getHebrewBundle(_17);
var str=[];
var _1a=_2.hitch(this,_a,_15,_19,_17,_16.fullYear);
if(_16.selector=="year"){
var _1b=_15.getFullYear();
return _17.match(/^he(?:-.+)?$/)?_8.getYearHebrewLetters(_1b):_1b;
}
if(_16.selector!="time"){
var _1c=_16.datePattern||_19["dateFormat-"+_18];
if(_1c){
str.push(_1d(_1c,_1a));
}
}
if(_16.selector!="date"){
var _1e=_16.timePattern||_19["timeFormat-"+_18];
if(_1e){
str.push(_1d(_1e,_1a));
}
}
var _1f=str.join(" ");
return _1f;
};
_9.regexp=function(_20){
return _9._parseInfo(_20).regexp;
};
_9._parseInfo=function(_21){
_21=_21||{};
var _22=_4.normalizeLocale(_21.locale);
var _23=_9._getHebrewBundle(_22);
var _24=_21.formatLength||"short";
var _25=_21.datePattern||_23["dateFormat-"+_24];
var _26=_21.timePattern||_23["timeFormat-"+_24];
var _27;
if(_21.selector=="date"){
_27=_25;
}else{
if(_21.selector=="time"){
_27=_26;
}else{
_27=(_26===undefined)?_25:_25+" "+_26;
}
}
var _28=[];
var re=_1d(_27,_2.hitch(this,_29,_28,_23,_21));
return {regexp:re,tokens:_28,bundle:_23};
};
_9.parse=function(_2a,_2b){
_2a=_2a.replace(/[\u200E\u200F\u202A-\u202E]/g,"");
if(!_2b){
_2b={};
}
var _2c=_9._parseInfo(_2b);
var _2d=_2c.tokens,_2e=_2c.bundle;
var re=new RegExp("^"+_2c.regexp+"$");
var _2f=re.exec(_2a);
var _30=_4.normalizeLocale(_2b.locale);
if(!_2f){
return null;
}
var _31,_32;
var _33=[5730,3,23,0,0,0,0];
var _34="";
var _35=0;
var _36=["abbr","wide","narrow"];
var _37=_3.every(_2f,function(v,i){
if(!i){
return true;
}
var _38=_2d[i-1];
var l=_38.length;
switch(_38.charAt(0)){
case "y":
if(_30.match(/^he(?:-.+)?$/)){
_33[0]=_8.parseYearHebrewLetters(v);
}else{
_33[0]=Number(v);
}
break;
case "M":
if(l>2){
var _39=_9.getNames("months",_36[l-3],"format",_30,new _7(5769,1,1)),_3a=_9.getNames("months",_36[l-3],"format",_30,new _7(5768,1,1));
if(!_2b.strict){
v=v.replace(".","").toLowerCase();
_39=_3.map(_39,function(s){
return s?s.replace(".","").toLowerCase():s;
});
_3a=_3.map(_3a,function(s){
return s?s.replace(".","").toLowerCase():s;
});
}
var _3b=v;
v=_3.indexOf(_39,_3b);
if(v==-1){
v=_3.indexOf(_3a,_3b);
if(v==-1){
return false;
}
}
_35=l;
}else{
if(_30.match(/^he(?:-.+)?$/)){
v=_8.parseMonthHebrewLetters(v);
}else{
v--;
}
}
_33[1]=Number(v);
break;
case "D":
_33[1]=0;
case "d":
if(_30.match(/^he(?:-.+)?$/)){
_33[2]=_8.parseDayHebrewLetters(v);
}else{
_33[2]=Number(v);
}
break;
case "a":
var am=_2b.am||_2e["dayPeriods-format-wide-am"],pm=_2b.pm||_2e["dayPeriods-format-wide-pm"];
if(!_2b.strict){
var _3c=/\./g;
v=v.replace(_3c,"").toLowerCase();
am=am.replace(_3c,"").toLowerCase();
pm=pm.replace(_3c,"").toLowerCase();
}
if(_2b.strict&&v!=am&&v!=pm){
return false;
}
_34=(v==pm)?"p":(v==am)?"a":"";
break;
case "K":
if(v==24){
v=0;
}
case "h":
case "H":
case "k":
_33[3]=Number(v);
break;
case "m":
_33[4]=Number(v);
break;
case "s":
_33[5]=Number(v);
break;
case "S":
_33[6]=Number(v);
}
return true;
});
var _3d=+_33[3];
if(_34==="p"&&_3d<12){
_33[3]=_3d+12;
}else{
if(_34==="a"&&_3d==12){
_33[3]=0;
}
}
var _3e=new _7(_33[0],_33[1],_33[2],_33[3],_33[4],_33[5],_33[6]);
if(_35<3&&_33[1]>=5&&!_3e.isLeapYear(_3e.getFullYear())){
_3e.setMonth(_33[1]+1);
}
return _3e;
};
function _1d(_3f,_40,_41,_42){
var _43=function(x){
return x;
};
_40=_40||_43;
_41=_41||_43;
_42=_42||_43;
var _44=_3f.match(/(''|[^'])+/g);
var _45=_3f.charAt(0)=="'";
_3.forEach(_44,function(_46,i){
if(!_46){
_44[i]="";
}else{
_44[i]=(_45?_41:_40)(_46);
_45=!_45;
}
});
return _42(_44.join(""));
};
function _29(_47,_48,_49,_4a){
_4a=_5.escapeString(_4a);
var _4b=_4.normalizeLocale(_49.locale);
return _4a.replace(/([a-z])\1*/ig,function(_4c){
var s;
var c=_4c.charAt(0);
var l=_4c.length;
var p2="",p3="";
if(_49.strict){
if(l>1){
p2="0"+"{"+(l-1)+"}";
}
if(l>2){
p3="0"+"{"+(l-2)+"}";
}
}else{
p2="0?";
p3="0{0,2}";
}
switch(c){
case "y":
s="\\S+";
break;
case "M":
if(_4b.match("^he(?:-.+)?$")){
s=(l>2)?"\\S+ ?\\S+":"\\S{1,4}";
}else{
s=(l>2)?"\\S+ ?\\S+":p2+"[1-9]|1[0-2]";
}
break;
case "d":
if(_4b.match("^he(?:-.+)?$")){
s="\\S['\"'\u05f3]{1,2}\\S?";
}else{
s="[12]\\d|"+p2+"[1-9]|30";
}
break;
case "E":
if(_4b.match("^he(?:-.+)?$")){
s=(l>3)?"\\S+ ?\\S+":"\\S";
}else{
s="\\S+";
}
break;
case "h":
s=p2+"[1-9]|1[0-2]";
break;
case "k":
s=p2+"\\d|1[01]";
break;
case "H":
s=p2+"\\d|1\\d|2[0-3]";
break;
case "K":
s=p2+"[1-9]|1\\d|2[0-4]";
break;
case "m":
case "s":
s=p2+"\\d|[0-5]\\d";
break;
case "S":
s="\\d{"+l+"}";
break;
case "a":
var am=_49.am||_48["dayPeriods-format-wide-am"],pm=_49.pm||_48["dayPeriods-format-wide-pm"];
if(_49.strict){
s=am+"|"+pm;
}else{
s=am+"|"+pm;
if(am!=am.toLowerCase()){
s+="|"+am.toLowerCase();
}
if(pm!=pm.toLowerCase()){
s+="|"+pm.toLowerCase();
}
}
break;
default:
s=".*";
}
if(_47){
_47.push(_4c);
}
return "("+s+")";
}).replace(/[\xa0 ]/g,"[\\s\\xa0]");
};
var _4d=[];
_9.addCustomFormats=function(_4e,_4f){
_4d.push({pkg:_4e,name:_4f});
};
_9._getHebrewBundle=function(_50){
var _51={};
_3.forEach(_4d,function(_52){
var _53=_4.getLocalization(_52.pkg,_52.name,_50);
_51=_2.mixin(_51,_53);
},this);
return _51;
};
_9.addCustomFormats("dojo.cldr","hebrew");
_9.getNames=function(_54,_55,_56,_57,_58){
var _59,_5a=_9._getHebrewBundle(_57),_5b=[_54,_56,_55];
if(_56=="standAlone"){
var key=_5b.join("-");
_59=_5a[key];
if(_59[0]==1){
_59=undefined;
}
}
_5b[1]="format";
var _5c=(_59||_5a[_5b.join("-")]).concat();
if(_54=="months"){
if(_58.isLeapYear(_58.getFullYear())){
_5b.push("leap");
_5c[6]=_5a[_5b.join("-")];
}else{
delete _5c[5];
}
}
return _5c;
};
return _9;
});


;if(!dojo._hasResource["lconn.core.globalization.BidiDateUtil"]){
dojo._hasResource["lconn.core.globalization.BidiDateUtil"]=true;
(function(){
dojo.provide("lconn.core.globalization.BidiDateUtil");
















var lg=lconn.core.globalization,_1=lg.api,_2=lg.config.CALENDAR;
function _3(){
return _1.getCalendar();
};
lconn.core.globalization.BidiDateUtil={isHijri:function(){
return _3()==_2.HIJRI;
},isHebrew:function(){
return _3()==_2.HEBREW;
},isGregorian:function(){
return _3()==_2.GREGORIAN;
},getDateComponent:function(_4,_5,_6){
var di=dojox.date.islamic,il=di.locale,dh=dojox.date.hebrew,hl=dh.locale,dg=dojo.date,gl=dg.locale;
if(this.isHijri()){
return il.getNames(_4,_5);
}else{
if(this.isHebrew()){
return hl.getNames(_4,_5,null,null,_6||this.fromGregorian());
}
}
return gl.getNames(_4,_5);
},fromGregorian:function(d){
var di=dojox.date.islamic,dh=dojox.date.hebrew,hl=dh.locale;
d=typeof d!=="undefined"?new Date(d):new Date();
if(this.isHijri()){
var _7=new di.Date();
return _7.fromGregorian(d);
}else{
if(this.isHebrew()){
var _7=new dh.Date();
return _7.fromGregorian(d);
}
}
return d;
},formatBidiDate:function(d,_8){
var di=dojox.date.islamic,il=di.locale,dh=dojox.date.hebrew,hl=dh.locale,dg=dojo.date,gl=dg.locale;
d=typeof d!=="undefined"?new Date(d):new Date();
if(this.isHijri()){
var _9=new di.Date();
return il.format(_9.fromGregorian(d),_8);
}else{
if(this.isHebrew()){
var _9=new dh.Date();
return hl.format(_9.fromGregorian(d),_8);
}
}
return gl.format(d,_8);
},getCalendar:function(){
return _3();
},getBundle:function(_a){
var di=dojox.date.islamic,il=di.locale,dh=dojox.date.hebrew,hl=dh.locale,dg=dojo.date,gl=dg.locale;
if(this.isHijri()){
return il._getIslamicBundle()[_a];
}else{
if(this.isHebrew()){
return hl._getHebrewBundle()[_a];
}
}
return gl._getGregorianBundle()[_a];
}};
})();
}


;if(!dojo._hasResource["lconn.core.DateUtil"]){
dojo._hasResource["lconn.core.DateUtil"]=true;
dojo.provide("lconn.core.DateUtil");








dojo.requireLocalization("lconn.core","strings");
dojo.requireLocalization("dojo.cldr","gregorian");




(function(){
var w={},_1=lconn.core.globalization.BidiDateUtil;
w.MILLS_IN_DAY=86400000;
w.inited=null;
w.Today="Error: not inited";
w.Yesterday="Error: not inited";
w.Tomorrow="Error: not inited";
w.initResStrings=function(){
var _2=new lconn.core.Res();
_2.loadDefaultBundle();
var b=_2.resBundle;
this.Today=b.rs_today;
this.Yesterday=b.rs_yesterday;
this.Tomorrow=b.rs_tomorrow;
this.inited=true;
};
w.delta=function(_3,_4){
var _5=_3.getTime()-_4;
var _6=Math.ceil(_5/(this.MILLS_IN_DAY));
return _6;
};
w.toString=function(_7,_8){
var _9;
if(!_7||!(_9=Date.parse(_7))){
console.log("Invalid date passed to DateUtil.toString(): "+_7);
return;
}
var _a="";
_a=this.toStringForTimeinMs(_9,_8);
return _a;
};
w.toStringForTimeinMs=function(_b,_c,_d){
if(this.Days==null){
this.Days=dojo.i18n.getLocalization("dojo.cldr","gregorian")["days-format-wide"];
}
if(this.Month==null){
this.Month=dojo.i18n.getLocalization("dojo.cldr","gregorian")["months-format-abbr"];
}
if(!_1.isGregorian()){
this.Month=_1.getDateComponent("months","abbr");
}
if(this.inited==null){
this.initResStrings();
}
var _e=new Date();
_e.setHours(0,0,0,0);
var _f=new Date();
_f.setTime(_b);
var _10=this.delta(_e,_b);
var _11="";
if(!_1.isGregorian()){
_f=_1.fromGregorian(_f);
_e=_1.fromGregorian(_e);
}
if(_10<=2&&_10>=-2){
if(_10==2){
if(!_c){
_11=this.Days[_f.getDay()]+" "+this.getLocalizedTime(_f);
}else{
_11=this.Days[_f.getDay()];
}
}else{
if(_10==1){
if(!_c){
_11=this.Yesterday+" "+this.getLocalizedTime(_f);
}else{
_11=this.Yesterday;
}
}else{
if(_10==0){
if(!_c){
_11=this.Today+" "+this.getLocalizedTime(_f);
}else{
_11=this.Today;
}
}else{
if(_10==-1){
_11=this.Tomorrow;
}else{
if(_10==-2){
_11=this.Days[_f.getDay()];
}
}
}
}
}
}else{
if(_e.getFullYear()==_f.getFullYear()){
var lcl=lconn.core.locale,_12=lcl.getLanguage(),_13=lcl.getCountry();
if(_12==="en"&&(!_13||_13==="us")&&!_d){
_11=this.Month[_f.getMonth()]+" "+_f.getDate();
}else{
_11=this.getLocalizedDate(_f);
}
}else{
var lcl=lconn.core.locale,_12=lcl.getLanguage(),_13=lcl.getCountry();
if(_12==="en"&&(!_13||_13==="us")){
_11=this.Month[_f.getMonth()]+" "+_f.getDate()+", "+_f.getFullYear();
}else{
_11=this.getLocalizedDate(_f);
}
}
}
if(djConfig.locale=="ar"){
return "\u200f"+_11;
}
return _11;
};
w.getLocalizedTime=function(_14){
return dojo.date.locale.format(_14,{selector:"time",formatLength:"short",locale:djConfig.locale});
};
w.getLocalizedDate=function(_15){
if(_1.isGregorian()){
return dojo.date.locale.format(_15,{selector:"date",formatLength:"medium",locale:djConfig.locale});
}else{
return _1.formatBidiDate(_15,{selector:"date",formatLength:"medium",locale:djConfig.locale});
}
};
w.getLocaleString=function(_16){
var _17=new Date();
_17.setTime(_16);
if(_1.isGregorian()){
return _17.toLocaleString();
}else{
return _1.formatBidiDate(_17,{selector:"date",formatLength:"medium",locale:djConfig.locale});
}
};
lconn.core.DateUtil=w;
})();
lconn.core.DateUtil.atomDateToJsDate=function atomDateToJsDate(_18){
var _19=null;
var s=_18;
var _1a=(s.charAt(s.length-1)=="Z");
var _1b=s.indexOf("-");
if(s.length>="yyyy-mm-ddThh:mm".length){
s=s.substring(_1b-4);
var y=parseInt(s.substr(0,4));
var m=parseInt(s.substr(5,2),10)-1;
var d=parseInt(s.substr(8,2),10);
var h=parseInt(s.substr(11,2),10);
var mi=parseInt(s.substr(14,2),10);
var utc=0;
if(_1a){
var _1c=s.substring(17,s.length-1);
var _1d=parseFloat(_1c);
utc=Date.UTC(y,m,d,h,mi)+_1d*1000;
}else{
var zh=0;
var zm=0;
var _1e=s.length-6;
var _1f=s.charAt(_1e);
if((_1f=="+"||_1f=="-")&&s.indexOf("T")<s.length-5){
var se=parseInt(s.substr(17,2),10);
var zh=parseInt(s.substr(_1e,3),10);
var zm=parseInt(s.substr(_1e+4,2),10);
}
utc=Date.UTC(y,m,d,h,mi,se)-(zh*60*60*1000+zm*60*1000);
}
_19=new Date(utc);
}
return _19;
};
lconn.core.DateUtil.AtomDateToString=function AtomDateToString(_20,_21){
var _22=lconn.core.DateUtil.atomDateToJsDate(_20);
var _23=new Date(_20);
_22=_23.getDay()&&!_22?_23:_22;
return _22?lconn.core.DateUtil.toString(_22,_21):_20;
};
}


;if(!dojo._hasResource["lconn.core.NameUtil"]){
dojo._hasResource["lconn.core.NameUtil"]=true;
dojo.provide("lconn.core.NameUtil");


lconn.core.NameUtil={getHTML:function(_1,_2,_3,id,_4){
var _5;
var _6=lconn.core.HTMLUtil.escapeText(_3);
if(_2){
var _7=lconn.core.HTMLUtil.escapeText(_2);
if(_1){
_5=(_4?_1:lconn.core.HTMLUtil.escapeText(_1));
}else{
_5=_7;
}
return "<span"+(id?" id=\""+id+"\"":"")+"><span class=\"vcard\"><span class=\"fn person lotusPerson bidiAware\">"+_5+"</span><span class=\"email\" style=\"display: none;\">"+_7+"</span><span class=\"x-lconn-userid\" style=\"display: none;\">"+_6+"</span></span></span>";
}else{
var _5;
var _8=lconn.core.HTMLUtil.escapeInlineText(_3);
if(_1){
_5=(_4?_1:lconn.core.HTMLUtil.escapeText(_1));
}else{
_5=_6;
}
return "<span"+(id?" id=\""+id+"\"":"")+"><span class=\"vcard\"><span class=\"fn person lotusPerson bidiAware\">"+_5+"</span><span class=\"x-lconn-userid\" style=\"display: none;\">"+_6+"</span></span></span>";
}
}};
}


;if(!dojo._hasResource["lconn.core.TextBox"]){
dojo._hasResource["lconn.core.TextBox"]=true;
dojo.provide("lconn.core.TextBox");






dojo.declare("lconn.core.TextBox",[dijit._Widget,dijit._Templated],{shadowText:"",shadowTextOn:true,name:"",textBoxClass:"",templateString:"<span><input type=\"text\" class=\"${textBoxClass}\" dojoAttachPoint=\"textbox\" /><input type=\"hidden\" value=\"\" dojoAttachPoint=\"hiddenbox\" /></span>",postCreate:function(){
this.connect(this.textbox,"onfocus","textBoxFocus");
this.connect(this.textbox,"onblur","textBoxBlur");
this.textbox.name=this.id+"_textbox";
if(this.value){
this.textbox.value=this.value;
this.hiddenbox.value=this.value;
this.shadowTextOn=false;
}else{
dojo.addClass(this.textbox,"lotusInactive");
this.textbox.value=this.shadowText;
}
if(this.name){
this.hiddenbox.name=this.name;
}
if(this.title){
this.textbox.title=this.title;
}
lconn.core.globalization.bidiUtil.inputRTLProcessing(this.textbox);
this.connect(this.textbox,"onkeyup",function(){
lconn.core.globalization.bidiUtil.inputRTLProcessing(this.textbox);
});
if(dojo.isMoz||dojo.isOpera){
this.connect(this.textbox,"oninput",function(){
lconn.core.globalization.bidiUtil.inputRTLProcessing(this.textbox);
});
}
},textBoxBlur:function(){
if(this.textbox.value.length===0){
dojo.addClass(this.textbox,"lotusInactive");
this.shadowTextOn=true;
this.textbox.value=this.shadowText;
this.hiddenbox.value="";
}else{
dojo.removeClass(this.textbox,"lotusInactive");
this.hiddenbox.value=this.textbox.value;
this.shadowTextOn=false;
}
},textBoxFocus:function(){
if(this.shadowTextOn){
this.shadowTextOn=false;
this.textbox.value="";
this.hiddenbox.value="";
dojo.removeClass(this.textbox,"lotusInactive");
this.textbox.focus();
}
},setHiddenValue:function(){
if(this.shadowTextOn){
this.hiddenbox.value="";
}else{
this.hiddenbox.value=this.textbox.value;
}
},focus:function(){
this.textbox.focus();
},getValue:function(){
return this.hiddenbox.value;
},setValue:function(_1){
this.textbox.value=_1;
if(document.activeElement!==this.textbox){
this.textBoxBlur();
}
lconn.core.globalization.bidiUtil.inputRTLProcessing(this.textbox);
},clearValue:function(){
this.setValue("");
}});
dojo.declare("lconn.core.DefaultValueTextbox",[dijit._Widget,dijit._Templated],{templateString:"<input class=\"lotusInactive\" type=\"text\" name=\"${name}\" value=\"${defaultValue}\" dojoAttachEvent=\"onfocus:_onFocus, onkeypress:_onChange, onchange:_onChange\"></input></div>",name:"",defaultValue:"",setFocus:function setFocus(){
window.setTimeout("dijit.focus('"+this.id+"')",0);
},isDirty:function isDirty(){
return this.dirty;
},_onFocus:function _onFocus(_2){
if(dojo.hasClass(this.domNode,"lotusInactive")){
window.setTimeout("dojo.byId('"+this.id+"').select()",0);
}
},_onChange:function _onChange(_3){
dojo.removeClass(this.domNode,"lotusInactive");
this.dirty=true;
}});
}

dojo.provide("lconn.core.nls.widgets")._built=true;
dojo.provide("lconn.core.nls.widgets.en");
lconn.core.nls.widgets.en={"ErrorGeneric":"An error occurred while displaying content. Contact your system administrator.","msg.loginRequired":"Log in to view your content.","actionsmenu":"Actions Menu","wcuLoadInfo":"Find out how you are related to this profile based on your network and actions.","view":"View","widgets_MoveUp":"Move Up","dykLoadInfo":"View recommended people to add to your network.","showErrorDetails":"Show Error Details","cancel":"Cancel","loadInfo":"Load Information ...","errorType":"Type: ","deleteWidgetConfirm":"I understand that the widget and its associated data will be deleted and cannot be recovered.","hideWidgetMsg":"You are about to hide your widget.\x3cbr/\x3e\x3cbr/\x3eYou can re-activate it at a later point simply by re-adding the widget to your Community. All of the Widget content will be kept intact.","widget_BackToOverview":"Back to Overview Page","widgets_Max":"Maximize","errorDefaultMsg3":"Click here to show more details","widget_AllTab":"All","deleteWithSharedContentWidgetConfirm":"I understand that the widget and its associated data will be deleted and cannot be recovered.  Content that members share with the community is still shared. If the widget is added again, this shared content reappears in the widget.","errorDefaultMsg2":"An error has occurred, contact your system Administrator","ticLoadInfo":"Find out what you have in common with this profile based on your network and activity.","widgets_Move":"Move","errorStackTrace":"Trace: ","edit":"Edit","errorLine":"Line:","actions_alt":"Actions for: ${0}","errorUnableToConnect":"Connection failed for {0}","deleteWidgetWarn":"Warning: Data for the widget {0} will be permanently deleted.","dykLoadInfo2":"View recommended people to add to your network based on your existing network contacts.","open":"Open","errorName":"Name: ","switchTabWarning":"You must save changes on each tab before moving to another tab.","widgetCat_thrdParty":"Other","link.window.close":"Close window","hideWidget":"Hide Widget","toggle":"Toggle","multiFeedReaderNoFeeds":"No feeds available","help":"Help","label.theme.customize":"Add Apps","info.feed.general.moreinfo":"Click here to show more details","widget_AddingWidget":"Adding Application","widgetCat_hidden":"Hidden","str_component_id":"CLFWZ","delete":"Delete","widgetCat_AllWidgets":"All Applications","errorDefaultMsg":"Unable to display widget data","actions":"Actions","deleteWidgetMsg":"You are about to remove your widget. This will remove all widget content from the application. This action cannot be undone. Content that members share with the community is still shared. If the widget is added again, this shared content reappears in the widget.\x3cbr/\x3e\x3cbr/\x3eIf you are sure you want to remove the widget, click the Remove button below. \x3cbr/\x3eOtherwise, click Cancel.","widgets_Min":"Minimize","HideErrorDetails":"Hide Error Details","widgets_MoveDown":"Move Down","close":"Close","link.remove":"Remove","error.title.generic":"We\'ve encountered a problem.","widget_RemovingWidget":"Removing Application","hide":"Hide","link.window.openNewWindow":"Clicking this will open a new window","deleteWidget":"Remove Widget","confirmDeleteWidget":"Are you sure you want to remove this widget?","error.message.generic":"Something went wrong - click the Back button and try again. If this does not work, report the problem in the support forum.","errorMsg":"Message: ","refresh":"Refresh"};

;if(!dojo._hasResource["lconn.core.errorhandling"]){
dojo._hasResource["lconn.core.errorhandling"]=true;
dojo.provide("lconn.core.errorhandling");


dojo.requireLocalization("lconn.core","widgets");
lconn.core.errorhandling.DefaultXHRErrorHandler=function(_1,_2){
var _3=dojo.i18n.getLocalization("lconn.core","widgets");
var _4=null;
var _5=null;
if(_1.status==404){
if(_2.args!=null&&_2.args.url!=null){
if(_2.args.url.indexOf("roller-ui/feed")!=-1||_2.args.url.indexOf("files/basic/anonymous/api/userlibrary")!=-1||_2.args.url.indexOf("wikis/basic/anonymous/api/userlibrary")!=-1){
_5=_3["multiFeedReaderNoFeeds"];
lconn.core.errorhandling.displayError(_2,_5,_1);
return;
}
}
}
if(_1.status==400){
if(_2.args!=null&&_2.args.url!=null){
if(_2.args.url.indexOf("service/atom/communities")!=-1){
_5=_3["multiFeedReaderNoFeeds"];
lconn.core.errorhandling.displayError(_2,_5,_1);
return;
}
}
}
if(_1.documentElement!=null){
if(_1.documentElement.nodeName=="error"||_1.documentElement.nodeName=="parsererror"){
var _6=(dojox.data.dom.innerXML(_1.documentElement));
_5=lconn.core.errorhandling.getErrorHTML(null,null,null,null,_6);
}
}else{
var _7=_3["errorUnableToConnect"];
_7=lconn.core.utilities.replacePlaceHolders(_7,[_2.args.url]);
if(_1.message!=null&&_1.name!=null){
if(_2.args.xsltArgs!=null){
return lconn.core.errorhandling.DefaultErrorHandler(_7,_1,_2.args.xsltArgs);
}else{
return lconn.core.errorhandling.DefaultErrorHandler(_7,_1,_2.args.htmlContainerElemId);
}
}else{
_5=lconn.core.errorhandling.getErrorHTML(_7,null,null,null,_1);
}
}
if(_5==null){
_5=lconn.core.errorhandling.getErrorHTML(null,null,null,null,_1);
}
lconn.core.errorhandling.displayError(_2,_5,_1);
};
lconn.core.errorhandling.displayError=function(_8,_9,_a){
var _b=null;
if(_8.args.xsltArgs!=null&&_8.args.xsltArgs.htmlContainerElemId!=null){
_b=_8.args.xsltArgs.htmlContainerElemId;
}else{
if(_8.args.htmlContainerElemId!=null){
_b=_8.args.htmlContainerElemId;
}
}
if(_b!=null){
if(typeof (_b)=="string"){
dojo.byId(_b).innerHTML=_9;
}else{
_b.innerHTML=_9;
}
}else{
alert("htmlContainerElemId was not defined.\n"+_9+"\nArguments: "+_8+"\nresponse: "+_a);
}
};
lconn.core.errorhandling.DefaultErrorHandler=function(_c,_d,_e){
var _f=function(_10,_11,_12){
var msg="";
if(_11 instanceof (Error)){
var _13=null;
if(_11.lineNumber!=null){
_13=_11.lineNumber;
}
if(_13!=null){
msg+=dojo.i18n.getLocalization("lconn.core","widgets")["errorLine"]+" "+_13+"<br/>";
}
var _14=null;
msg=lconn.core.errorhandling.getErrorHTML(_10,_11.message,_11.name,_13,_14);
}else{
var _14=null;
msg=lconn.core.errorhandling.getErrorHTML(_10,_11,null,null,_14);
}
var _15={args:{xsltArgs:{htmlContainerElemId:_12}}};
lconn.core.errorhandling.displayError(_15,msg);
};
if(typeof (_e)=="string"){
_f(_c,_d,_e);
}else{
if(typeof (_e)=="undefined"){
var _16=document.createElement("span");
_16.id="errorContainer";
document.body.appendChild(_16);
_f(_c,_d,"errorContainer");
}else{
if(_e.htmlContainerElemId!=null){
_f(_c,_d,_e.htmlContainerElemId);
}else{
_f(_c,_d,_e);
}
}
}
};
lconn.core.errorhandling.getErrorHTML=function(_17,_18,_19,_1a,_1b){
var _1c=dojo.i18n.getLocalization("lconn.core","widgets");
var _1d=new Date().getTime();
var msg="";
if(_18!=null&&_18.indexOf("BMWIW0001E")!=-1){
msg+="<div class='lconnWidgetMsgError lconnWidgetMsgCompact'>";
}else{
msg+="<div class='lconnWidgetMsgError'>";
}
var id=dijit.getUniqueId("error");
msg+="<img class='lconnSprite lconnSprite-iconError16' src='"+dijit._Widget.prototype._blankGif+"'/><b>"+_1c["errorDefaultMsg"]+"</b><br/>";
msg+=_1c["errorDefaultMsg2"]+"<br/><br/>";
msg+="<a href='javascript:void(0);' onclick=\"lconn.core.utilities.toggleVisibility('"+id+"');\">"+_1c["errorDefaultMsg3"]+"</a>";
msg+="<div id='"+id+"' style='visibility: hidden; display: none;'>";
msg+="<br/>";
if(_17!=null){
msg+=_1c["errorName"]+" "+_17+"<br/>";
}
if(_18!=null){
msg+=_1c["errorMsg"]+" "+_18+"<br/>";
}
if(_19!=null){
msg+=_1c["errorType"]+""+_19+"<br/>";
}
if(_1a!=null){
msg+=_1c["errorLine"]+" "+_1a+"<br/>";
}
if(_1b!=null){
msg+=_1c["errorStackTrace"]+"<br/><pre>"+_1b+"</pre><br/>";
}
msg+="</div>";
msg+="</div>";
return msg;
};
var common_getStacktrace=function(){
var _1e=common_getStacktrace.caller;
var _1f=new Error();
if(_1f.stack!=null){
return _1f.stack;
}else{
var _20="";
while(_1e!=null){
_20+="\n"+common_getFunctionName(_1e);
var _21=_1e.caller;
if(_21==null&&_1e.arguments!=null&&_1e.arguments.caller!=null){
_21=_1e.arguments.caller;
}
_1e=_21;
}
return _20;
}
};
var common_getFunctionName=function(_22){
var _23=_22.name;
if(_22.tempName!=null&&_22.tempName!=""){
_23=_22.tempName;
}
if(_23==null||_23==""){
var _24=_22.toString();
var _25=_24.match(/function (\w*)/);
if(_25!=null){
_23=_25[1];
}
if(_23==null||_23==""){
_23="anonymous-function";
}
}
return _23;
};
}


;define("dojo/dnd/Avatar",["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_1,_2,_3,_4,_5,_6,_7,_8){
return _1("dojo.dnd.Avatar",null,{constructor:function(_9){
this.manager=_9;
this.construct();
},construct:function(){
var a=_6.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_a=this.manager.source,_b,b=_6.create("tbody",null,a),tr=_6.create("tr",null,b),td=_6.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;
if(_7("highcontrast")){
_6.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);
}
_6.create("span",{innerHTML:_a.generateText?this._generateText():""},td);
_4.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});
for(;i<k;++i){
if(_a.creator){
_b=_a._normalizedCreator(_a.getItem(this.manager.nodes[i].id).data,"avatar").node;
}else{
_b=this.manager.nodes[i].cloneNode(true);
if(_b.tagName.toLowerCase()=="tr"){
var _c=_6.create("table"),_d=_6.create("tbody",null,_c);
_d.appendChild(_b);
_b=_c;
}
}
_b.id="";
tr=_6.create("tr",null,b);
td=_6.create("td",null,tr);
td.appendChild(_b);
_4.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});
}
this.node=a;
},destroy:function(){
_6.destroy(this.node);
this.node=false;
},update:function(){
_5.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);
if(_7("highcontrast")){
var _e=_3.byId("a11yIcon");
var _f="+";
if(this.manager.canDropFlag&&!this.manager.copy){
_f="< ";
}else{
if(!this.manager.canDropFlag&&!this.manager.copy){
_f="o";
}else{
if(!this.manager.canDropFlag){
_f="x";
}
}
}
_e.innerHTML=_f;
}
_8(("tr.dojoDndAvatarHeader td span"+(_7("highcontrast")?" span":"")),this.node).forEach(function(_10){
_10.innerHTML=this.manager.source.generateText?this._generateText():"";
},this);
},_generateText:function(){
return this.manager.nodes.length.toString();
}});
});


;define("dojo/dnd/Manager",["../_base/array","../_base/declare","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_1,_2,_3,_4,_5,_6,_7,_8,on,_9,_a,_b,_c,_d){
var _e=_2("dojo.dnd.Manager",[_6],{constructor:function(){
this.avatar=null;
this.source=null;
this.nodes=[];
this.copy=true;
this.target=null;
this.canDropFlag=false;
this.events=[];
},OFFSET_X:_7("touch")?0:16,OFFSET_Y:_7("touch")?-64:16,overSource:function(_f){
if(this.avatar){
this.target=(_f&&_f.targetState!="Disabled")?_f:null;
this.canDropFlag=Boolean(this.target);
this.avatar.update();
}
_9.publish("/dnd/source/over",_f);
},outSource:function(_10){
if(this.avatar){
if(this.target==_10){
this.target=null;
this.canDropFlag=false;
this.avatar.update();
_9.publish("/dnd/source/over",null);
}
}else{
_9.publish("/dnd/source/over",null);
}
},startDrag:function(_11,_12,_13){
_c.autoScrollStart(_4.doc);
this.source=_11;
this.nodes=_12;
this.copy=Boolean(_13);
this.avatar=this.makeAvatar();
_4.body().appendChild(this.avatar.node);
_9.publish("/dnd/start",_11,_12,this.copy);
function _14(e){
e.preventDefault();
e.stopPropagation();
};
this.events=[on(_4.doc,_a.move,_3.hitch(this,"onMouseMove")),on(_4.doc,_a.release,_3.hitch(this,"onMouseUp")),on(_4.doc,"keydown",_3.hitch(this,"onKeyDown")),on(_4.doc,"keyup",_3.hitch(this,"onKeyUp")),on(_4.doc,"dragstart",_14),on(_4.body(),"selectstart",_14)];
var c="dojoDnd"+(_13?"Copy":"Move");
_5.add(_4.body(),c);
},canDrop:function(_15){
var _16=Boolean(this.target&&_15);
if(this.canDropFlag!=_16){
this.canDropFlag=_16;
this.avatar.update();
}
},stopDrag:function(){
_5.remove(_4.body(),["dojoDndCopy","dojoDndMove"]);
_1.forEach(this.events,function(_17){
_17.remove();
});
this.events=[];
this.avatar.destroy();
this.avatar=null;
this.source=this.target=null;
this.nodes=[];
},makeAvatar:function(){
return new _d(this);
},updateAvatar:function(){
this.avatar.update();
},onMouseMove:function(e){
var a=this.avatar;
if(a){
_c.autoScrollNodes(e);
var s=a.node.style;
s.left=(e.pageX+this.OFFSET_X)+"px";
s.top=(e.pageY+this.OFFSET_Y)+"px";
var _18=Boolean(this.source.copyState(_b.getCopyKeyState(e)));
if(this.copy!=_18){
this._setCopyStatus(_18);
}
}
if(_7("touch")){
e.preventDefault();
}
},onMouseUp:function(e){
if(this.avatar){
if(this.target&&this.canDropFlag){
var _19=Boolean(this.source.copyState(_b.getCopyKeyState(e)));
_9.publish("/dnd/drop/before",this.source,this.nodes,_19,this.target,e);
_9.publish("/dnd/drop",this.source,this.nodes,_19,this.target,e);
}else{
_9.publish("/dnd/cancel");
}
this.stopDrag();
}
},onKeyDown:function(e){
if(this.avatar){
switch(e.keyCode){
case _8.CTRL:
var _1a=Boolean(this.source.copyState(true));
if(this.copy!=_1a){
this._setCopyStatus(_1a);
}
break;
case _8.ESCAPE:
_9.publish("/dnd/cancel");
this.stopDrag();
break;
}
}
},onKeyUp:function(e){
if(this.avatar&&e.keyCode==_8.CTRL){
var _1b=Boolean(this.source.copyState(false));
if(this.copy!=_1b){
this._setCopyStatus(_1b);
}
}
},_setCopyStatus:function(_1c){
this.copy=_1c;
this.source._markDndStatus(this.copy);
this.updateAvatar();
_5.replace(_4.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));
}});
_b._manager=null;
_e.manager=_b.manager=function(){
if(!_b._manager){
_b._manager=new _e();
}
return _b._manager;
};
return _e;
});


;define("dojo/hash",["./_base/kernel","require","./_base/config","./aspect","./_base/lang","./topic","./domReady","./sniff"],function(_1,_2,_3,_4,_5,_6,_7,_8){
_1.hash=function(_9,_a){
if(!arguments.length){
return _b();
}
if(_9.charAt(0)=="#"){
_9=_9.substring(1);
}
if(_a){
_c(_9);
}else{
location.href="#"+_9;
}
return _9;
};
var _d,_e,_f,_10=_3.hashPollFrequency||100;
function _11(str,_12){
var i=str.indexOf(_12);
return (i>=0)?str.substring(i+1):"";
};
function _b(){
return _11(location.href,"#");
};
function _13(){
_6.publish("/dojo/hashchange",_b());
};
function _14(){
if(_b()===_d){
return;
}
_d=_b();
_13();
};
function _c(_15){
if(_e){
if(_e.isTransitioning()){
setTimeout(_5.hitch(null,_c,_15),_10);
return;
}
var _16=_e.iframe.location.href;
var _17=_16.indexOf("?");
_e.iframe.location.replace(_16.substring(0,_17)+"?"+_15);
return;
}
location.replace("#"+_15);
!_f&&_14();
};
function _18(){
var ifr=document.createElement("iframe"),_19="dojo-hash-iframe",_1a=_3.dojoBlankHtmlUrl||_2.toUrl("./resources/blank.html");
if(_3.useXDomain&&!_3.dojoBlankHtmlUrl){
console.warn("dojo/hash: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");
}
ifr.id=_19;
ifr.src=_1a+"?"+_b();
ifr.style.display="none";
document.body.appendChild(ifr);
this.iframe=_1.global[_19];
var _1b,_1c,_1d,_1e,_1f,_20=this.iframe.location;
function _21(){
_d=_b();
_1b=_1f?_d:_11(_20.href,"?");
_1c=false;
_1d=null;
};
this.isTransitioning=function(){
return _1c;
};
this.pollLocation=function(){
if(!_1f){
try{
var _22=_11(_20.href,"?");
if(document.title!=_1e){
_1e=this.iframe.document.title=document.title;
}
}
catch(e){
_1f=true;
console.error("dojo/hash: Error adding history entry. Server unreachable.");
}
}
var _23=_b();
if(_1c&&_d===_23){
if(_1f||_22===_1d){
_21();
_13();
}else{
setTimeout(_5.hitch(this,this.pollLocation),0);
return;
}
}else{
if(_d===_23&&(_1f||_1b===_22)){
}else{
if(_d!==_23){
_d=_23;
_1c=true;
_1d=_23;
ifr.src=_1a+"?"+_1d;
_1f=false;
setTimeout(_5.hitch(this,this.pollLocation),0);
return;
}else{
if(!_1f){
location.href="#"+_20.search.substring(1);
_21();
_13();
}
}
}
}
setTimeout(_5.hitch(this,this.pollLocation),_10);
};
_21();
setTimeout(_5.hitch(this,this.pollLocation),_10);
};
_7(function(){
if("onhashchange" in _1.global&&(!_8("ie")||(_8("ie")>=8&&document.compatMode!="BackCompat"))){
_f=_4.after(_1.global,"onhashchange",_13,true);
}else{
if(document.addEventListener){
_d=_b();
setInterval(_14,_10);
}else{
if(document.attachEvent){
_e=new _18();
}
}
}
});
return _1.hash;
});


;if(!dojo._hasResource["lconn.core.back"]){
dojo._hasResource["lconn.core.back"]=true;
dojo.provide("lconn.core.back");
function registerBackButtonSupport(){
var _1=window.location.hash;
var _2=true;
var _3=true;
var _4=true;
var _5="lc.iframeElement";
var _6=null;
var _7=null;
var _8=null;
var _9=function(){
_1=window.location.hash;
_2=_8.search;
_3=false;
_4=null;
};
var _a=function(){
for(var i=0;lconn.core.WidgetPlacement.URLChangeCallBack!=null&&i<lconn.core.WidgetPlacement.URLChangeCallBack.length;i++){
lconn.core.WidgetPlacement.URLChangeCallBack[i](window.location.href);
}
return;
};
var _b=function(){
var _c=document.createElement("iframe");
var _d=new dojo._Url(location.href);
_c.id=_5;
var _e=WidgetPlacementConfig.params.contextRoot+"/static/"+WidgetPlacementConfig.params.version;
if(dojo.isIE){
_c.src=(_e+"/nav/blankIE.html"+(_d.fragment?"?"+_d.fragment:""));
}else{
_c.src=(_e+"/nav/Blank.html"+(_d.fragment?"?"+_d.fragment:""));
}
_c.style.display="none";
document.body.appendChild(_c);
return _c;
};
var _f=function(uri,_10){
_11(uri,"uri");
_11(_10,"queryString");
return _12(uri,"?",_10);
};
var _13=function(uri,_14){
_11(uri,"uri");
_11(_14,"fragmentString");
return _12(uri,"#",_14);
};
var _11=function(_15,_16){
if(_15!=null){
return;
}
if(_16){
throw new Error(_16+" cannot be null");
}
throw new Error("value cannot be null");
};
var _17=function(_18,_19){
if(!(dojo.trim(_18).length==0)){
return;
}
if(_19){
throw new Error(_19+" must be a non-empty string.  Saw: "+_18);
}
throw new Error("value must be a non-empty string.  Saw: "+_18);
};
var _12=function(_1a,_1b,_1c){
_11(_1b,"token");
_11(_1a,"string");
_11(_1c,"replacement");
if(_1a.indexOf(_1b)==-1){
return _1a+_1b+_1c;
}
return _1a.slice(0,_1a.indexOf(_1b)+1)+_1c;
};
if(dojo.isIE){
_b();
_6=window[_5];
_7=dojo.byId(_5);
_8=_6.location;
_9();
var _1d=function(){
if(_3&&_1==window.location.hash){
if(_8.search==_4){
_9();
}
return;
}
if(_1==window.location.hash&&_2==_8.search){
return;
}
if(_1!=window.location.hash){
_1=window.location.hash;
var _1e=new dojo._Url(window.location.href);
_3=true;
_4=_f(_8.search,_1e.fragment||"");
_7.src=_f(_7.src,_1e.fragment||"");
return _a();
}else{
var _1f=new dojo._Url(_8.href);
window.location.href=_13(window.location.href,_1f.query||"");
_9();
return _a();
}
};
setInterval(_1d,500);
}else{
var _1d=function(){
if(window.location.hash==_1){
return;
}
_1=window.location.hash;
return _a();
};
setInterval(_1d,500);
}
};
}


;if(!dojo._hasResource["lconn.core.aria.TabPanel"]){
dojo._hasResource["lconn.core.aria.TabPanel"]=true;
dojo.provide("lconn.core.aria.TabPanel");


dojo.declare("lconn.core.aria.TabPanel",lconn.core.aria._Helper,{containerRole:"tablist",itemRole:"tab",focusNextItem:function(){
var si=this.selIdx;
this.inherited(arguments);
this._selectItem(si);
},focusPrevItem:function(){
var si=this.selIdx;
this.inherited(arguments);
this._selectItem(si);
},_selectItem:function(si){
var ai=this.allItems;
if(si!=this.selIdx){
dijit.setWaiState(ai[si],"selected","false");
dijit.setWaiState(ai[this.selIdx],"selected","true");
this._activate(ai[this.selIdx]);
}
},_isSelected:function(_1){
return dijit.getWaiState(_1,"selected")=="true";
},_activate:function(_2){
try{
if(document.createEvent){
var _3=document.createEvent("HTMLEvents");
_3.initEvent("click",false,true);
_2.dispatchEvent(_3);
}else{
_2.fireEvent("onclick");
}
}
catch(e){
console.error([this.declaredClass,": ",e].join(""));
}
}});
}


;define("dojox/html/entities",["dojo/_base/lang"],function(_1){
var _2=_1.getObject("dojox.html.entities",true);
var _3=function(_4,_5){
var _6,_7;
if(_5._encCache&&_5._encCache.regexp&&_5._encCache.mapper&&_5.length==_5._encCache.length){
_6=_5._encCache.mapper;
_7=_5._encCache.regexp;
}else{
_6={};
_7=["["];
var i;
for(i=0;i<_5.length;i++){
_6[_5[i][0]]="&"+_5[i][1]+";";
_7.push(_5[i][0]);
}
_7.push("]");
_7=new RegExp(_7.join(""),"g");
_5._encCache={mapper:_6,regexp:_7,length:_5.length};
}
_4=_4.replace(_7,function(c){
return _6[c];
});
return _4;
};
var _8=function(_9,_a){
var _b,_c;
if(_a._decCache&&_a._decCache.regexp&&_a._decCache.mapper&&_a.length==_a._decCache.length){
_b=_a._decCache.mapper;
_c=_a._decCache.regexp;
}else{
_b={};
_c=["("];
var i;
for(i=0;i<_a.length;i++){
var e="&"+_a[i][1]+";";
if(i){
_c.push("|");
}
_b[e]=_a[i][0];
_c.push(e);
}
_c.push(")");
_c=new RegExp(_c.join(""),"g");
_a._decCache={mapper:_b,regexp:_c,length:_a.length};
}
_9=_9.replace(_c,function(c){
return _b[c];
});
return _9;
};
_2.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],["\xa0","nbsp"]];
_2.latin=[["\xa1","iexcl"],["\xa2","cent"],["\xa3","pound"],["\u20ac","euro"],["\xa4","curren"],["\xa5","yen"],["\xa6","brvbar"],["\xa7","sect"],["\xa8","uml"],["\xa9","copy"],["\xaa","ordf"],["\xab","laquo"],["\xac","not"],["\xad","shy"],["\xae","reg"],["\xaf","macr"],["\xb0","deg"],["\xb1","plusmn"],["\xb2","sup2"],["\xb3","sup3"],["\xb4","acute"],["\xb5","micro"],["\xb6","para"],["\xb7","middot"],["\xb8","cedil"],["\xb9","sup1"],["\xba","ordm"],["\xbb","raquo"],["\xbc","frac14"],["\xbd","frac12"],["\xbe","frac34"],["\xbf","iquest"],["\xc0","Agrave"],["\xc1","Aacute"],["\xc2","Acirc"],["\xc3","Atilde"],["\xc4","Auml"],["\xc5","Aring"],["\xc6","AElig"],["\xc7","Ccedil"],["\xc8","Egrave"],["\xc9","Eacute"],["\xca","Ecirc"],["\xcb","Euml"],["\xcc","Igrave"],["\xcd","Iacute"],["\xce","Icirc"],["\xcf","Iuml"],["\xd0","ETH"],["\xd1","Ntilde"],["\xd2","Ograve"],["\xd3","Oacute"],["\xd4","Ocirc"],["\xd5","Otilde"],["\xd6","Ouml"],["\xd7","times"],["\xd8","Oslash"],["\xd9","Ugrave"],["\xda","Uacute"],["\xdb","Ucirc"],["\xdc","Uuml"],["\xdd","Yacute"],["\xde","THORN"],["\xdf","szlig"],["\xe0","agrave"],["\xe1","aacute"],["\xe2","acirc"],["\xe3","atilde"],["\xe4","auml"],["\xe5","aring"],["\xe6","aelig"],["\xe7","ccedil"],["\xe8","egrave"],["\xe9","eacute"],["\xea","ecirc"],["\xeb","euml"],["\xec","igrave"],["\xed","iacute"],["\xee","icirc"],["\xef","iuml"],["\xf0","eth"],["\xf1","ntilde"],["\xf2","ograve"],["\xf3","oacute"],["\xf4","ocirc"],["\xf5","otilde"],["\xf6","ouml"],["\xf7","divide"],["\xf8","oslash"],["\xf9","ugrave"],["\xfa","uacute"],["\xfb","ucirc"],["\xfc","uuml"],["\xfd","yacute"],["\xfe","thorn"],["\xff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];
_2.encode=function(_d,m){
if(_d){
if(!m){
_d=_3(_d,_2.html);
_d=_3(_d,_2.latin);
}else{
_d=_3(_d,m);
}
}
return _d;
};
_2.decode=function(_e,m){
if(_e){
if(!m){
_e=_8(_e,_2.html);
_e=_8(_e,_2.latin);
}else{
_e=_8(_e,m);
}
}
return _e;
};
return _2;
});

dojo.provide("lconn.communities.bizCard.nls.ui")._built=true;
dojo.provide("lconn.communities.bizCard.nls.ui.en");
lconn.communities.bizCard.nls.ui.en={"label.top.buttons.enablemessage":"Enable Mail Community","label.top.buttons.unfollow":"Stop Following this Community","label.msg.error":"Error","label.deleteWidgetConfirm.understandTitle":"I understand that the widget and all data associated with it will be permanently deleted.","label.top.buttons.disablemessage":"Disable Mail Community","label.private.community.alt.text":"This is a restricted community","label.subcommunities":"Subcommunities","label.moderated.community.alt.text":"This is a moderated community","label.top.buttons.leave":"Leave Community","label.expand":"Click to expand section","label.members":"Members ","label.deleteConfirm.okButtonValue":"OK","label.top.buttons.create":"Create Subcommunity","label.deleteWidgetConfirm.signDirection":"Enter the name of the widget and sign in with your name to confirm that you are authorized to delete it and that you want to permanently delete this widget and its data.\x3cbr\x3e\x3cb\x3eNote:\x3c/b\x3e you can \x3ca href=\'javascript:void(null);\' dojoAttachEvent=\'onclick:onHideClicked\'\x3ehide this widget\x3c/a\x3e instead so you can re-add it at a later time.","label.action.confirm.community.after.unfollow":"You have stopped following this community.","label.top.buttons.metrics":"View Metrics","tooltip.overview":"Click here to see the community\'s overview page","label.msgbox.warning":"Warning","label.nav.landmark.comm":"Community","label.deleteConfirm.understandTitle":"I understand that the community and all associated data with it will be permanently deleted.","label.top.buttons.join":"Join this Community","label.action.confirm.community.after.follow.member":"You are following this community and will receive updates about community content.","label.top.buttons.unfollow.title":"Stop following the community to stop receiving updates about community content.","label.msg.action.failed.need.login":"The action failed because you are no longer logged in.","label.deleteConfirm.warning":"Warning: The following Community and all data associated with it will be permanently deleted!","label.action.confirm.community.after.follow.nonmember":"You are following this community and will receive updates about community content. Join this community to post content.","label.deleteConfirm.error":"The user name or community name does not match the required name.  Please check the names.","label.deleteConfirm.trash.signDirection":"Enter the information below to confirm you want to move this Community to the Trash.","label.members.lowercase":"members","label.leaveConfirm.dlgTitle":"Leave this Community","label.top.buttons.edit":"Edit Community","label.top.buttons.moderate":"Moderate Community","label.top.buttons.follow.title":"Follow the community to get updates about community content.","label.deleteConfirm.dlgTitle":"Delete ${0}","confirm.delete.community":"Are you sure you want to delete this community? Deleting this community will remove all data including any content that has been added to the community. Click OK to delete this community or Cancel to return to the community.","label.deleteConfirm.oneSubCommunity":"This community has 1 subcommunity that will also be deleted.","label.window.title":"${0} - ${1}","label.msgbox.close":"Close","label.deleteWidgetConfirm.warning":"Warning:  the following widget and all data associated with it will be permanently deleted!","label.top.buttons.editsub":"Edit Subcommunity","label.deleteWidgetConfirm.communityName":"Widget name:","label.public.community.alt.text":"This is a public community","label.deleteConfirm.signatureTitle":"Sign with your name:","label.msgbox.information.a11y":"Information:","label.deleteConfirm.closeButtonValue":"Cancel","label.deleteConfirm.capitalizationWarning":"The values entered must exactly match the names with correct capitalization for the OK button to be enabled.","label.top.buttons.join.title":"Join the community to post community content.","label.deleteConfirm.trash.warning":"This community and its associated data and applications will be moved to the Trash and scheduled for permanent deletion.","label.theme.customize":"Add Apps","label.msg.confirmation":"Confirmation","label.deleteConfirm.multipleSubCommunities":"This community has ${0} subcommunities that will also be deleted.","label.top.buttons.email":"Mail Community","label.msgbox.information":"Information","label.top.buttons.gotoComm":"Go to Community","label.leaveConfirm.closeButtonValue":"Cancel","label.collapse":"Click to collapse section","label.top.buttons.follow":"Follow this Community","label.msgbox.warning.a11y":"Warning:","label.deleteConfirm.required":"required","label.deleteWidgetConfirm.dlgTitle":"Delete ${0}","label.overview":"Overview","label.msgbox.error":"Error","label.action.confirm.community.before.leave.groupEnabled":"Leaving this community will remove you from the membership, however, if you are a member of one or more groups that are members of this community, your membership in the community via that group will remain.","label.msgbox.success.a11y":"Success:","label.deleteConfirm.signDirection":"Enter the name of the community and sign in with your name to confirm that you are authorized to delete and that you want to permanently delete this entire community.","label.tags.tags":"Tags","label.top.buttons.delete":"Delete Community","label.msgbox.success":"Success","label.action.confirm.community.before.leave":"Leaving this community will remove you from the membership.","label.top.buttons.actions":"More Actions","label.deleteConfirm.communityNameTitle":"Community name:","label.top.buttons.requestToJoin":"Request to Join this Community","label.deleteWidgetConfirm.confirmCommunityName":"Confirm widget name:","label.moderation.link":"Moderation","label.leaveConfirm.okButtonValue":"OK","tooltip.startpage":"Click here to see the community\'s start page","label.deleteConfirm.nameTitle":"Your name:","label.metrics.link":"Metrics","label.msgbox.error.a11y":"Error:","label.top.buttons.com.action.menu":"Press the space bar or enter key to activate the menu","label.msg.action.failed":"The action failed: ${0}","label.top.buttons.com.actions":"Community Actions","label.top.buttons.requestToJoin.title":"Request to join the community in order to post community content.","label.deleteConfirm.communityNameConfirm":"Confirm community name:","label.deleteConfirm.trash.dlgTitle":"Move to Trash"};
if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["lconn.communities.bizCard"]=true;

;if(!dojo._hasResource["lconn.communities.bizCard.dialogs.deleteConfirm"]){
dojo._hasResource["lconn.communities.bizCard.dialogs.deleteConfirm"]=true;
dojo.provide("lconn.communities.bizCard.dialogs.deleteConfirm");






dojo.requireLocalization("lconn.communities.bizCard","ui");
dojo.declare("lconn.communities.bizCard.dialogs.deleteConfirm",[dijit.Dialog],{stringResources:dojo.i18n.getLocalization("lconn.communities.bizCard","ui"),templateString:"<div dojoAttachPoint=\"containerNode\" id=\"dialog_communities\" class=\"lotusui30dojo lotusDialogWrapper\" tabindex=\"-1\" role=\"dialog\" waiState=\"labelledby-${id}_title\" aria-labelledby=\"${id}_title\"  aria-describedby=\"warning\">\t\t\t<div dojoAttachPoint=\"dialogBorder\" class=\"lotusDialogBorder\" style=\"width:inherit; height:inherit\">\t\t\t\t<div class=\"lotusDialog lotusForm2 _lotusDelete\"> \t\t\t\t\t<div dojoAttachPoint=\"titleBar\" class=\"lotusDialogHeader\"> \t\t\t\t\t\t<div dojoAttachPoint=\"titleNode\" id=\"${id}_title\" class=\"lotusHeading\">${dlgTitle}</div> \t\t\t\t\t\t<a class=\"lotusDialogClose\" role=\"button\" href=\"javascript:;\" title=\"Close\" dojoAttachEvent=\"onkeypress:onEnterCancelClicked,onclick:onCancelClicked\" >\t\t\t\t\t\t\t<img alt=\"Close\" src=\""+dojo.config.blankGif+"\"/>\t\t\t\t\t\t\t<span class=\"lotusAltText\" >X</span>\t\t\t\t\t\t</a> \t\t\t\t\t</div>\t\t\t\t\t<div style=\"overflow:hidden\"> \t\t\t\t\t\t<div class=\"lotusErrorBox lotusui30_layout\">\t\t\t\t\t\t\t<div class=\"lotusErrorContent\">\t\t\t\t\t\t\t\t<img alt=\"\" class=\"iconsMessages48 iconsMessages48-msgError48\" src=\""+dojo.config.blankGif+"\">\t\t\t\t\t\t\t\t<div class=\"lotusErrorForm\">\t\t\t\t\t\t\t\t\t<span id=\"warning\">\t\t\t\t\t\t\t\t\t\t<div class=\"lotusMessage2\" style=\"margin:0px; top:0px; padding:10px\">\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size:150%\">${warning}</span>\t\t\t\t\t\t\t\t\t\t\t<br>\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size:200%\">${communityTitleFinal}</span>\t\t\t\t\t\t\t\t\t\t\t<div>\t\t\t\t\t\t\t\t\t\t\t<p><b dojoAttachPoint=\"subcommunities\"></b></p>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<div style=\"clear:both\"></div>\t\t\t\t\t\t\t\t\t\t<br>\t\t\t\t\t\t\t\t\t\t<span>\t\t\t\t\t\t\t\t\t\t\t${signDirection}\t\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t\t\t<br><br>\t\t\t\t\t\t\t\t\t\t<span class=\"lotusMeta\" style=\"color:#666666\">\t\t\t\t\t\t\t\t\t\t\t${capitalizationWarning}\t\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t\t<br><br>\t\t\t\t\t\t\t\t\t<div id=\"communityNameLabel\" class=\"lotusFormField\">\t\t\t\t\t\t\t\t\t\t<label role=\"presentation\" class=\"lotusFloat\" style=\"margin-left: 0px; width:200px\">${communityName}</label>                                        <div class=\"lotusFieldWrapper\">${communityTitleDisplay}</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div class=\"lotusFormField\">\t\t\t\t\t\t\t\t\t\t<label class=\"lotusFloat\" style=\"margin-left: 0px; width:200px\"><span class=\"lotusFormRequired\">* </span>${confirmCommunityName}</label>\t\t\t\t\t\t\t\t\t\t<div class=\"lotusFieldWrapper\">\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" dojoAttachPoint=\"communityInputField\" aria-required=\"true\" aria-labelledby=\"communityNameLabel\" value=\"\" name=\"communityName\" id=\"communityInputField\" class=\"lotusText bidiAware\" dojoAttachEvent=\"oninput:onCommunityChange\"><br><br><br>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div id=\"signatureNameLabel\" class=\"lotusFormField\">\t\t\t\t\t\t\t\t\t\t<label role=\"presentation\" class=\"lotusFloat\" style=\"margin-left: 0px; width:200px\">${nameTitle}</label>\t\t\t\t\t\t\t\t\t\t<div class=\"lotusFieldWrapper\">${userNameDisplay}</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div class=\"lotusFormField\">\t\t\t\t\t\t\t\t\t\t<label class=\"lotusFloat\" style=\"margin-left: 0px; width:200px\"><span class=\"lotusFormRequired\">*</span>${signatureTitle}</label>\t\t\t\t\t\t\t\t\t\t<div class=\"lotusFieldWrapper\">\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" dojoAttachPoint=\"nameInputField\" aria-required=\"true\" aria-labelledby=\"signatureNameLabel\" value=\"\" name=\"signature\" id=\"signature\" class=\"lotusText bidiAware\" dojoAttachEvent=\"oninput:onNameChange\"><br><br><br>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<div class=\"lotusFormField lotusMeta\">* ${required}</div> \t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div><!--end lotusDialogContent-->\t\t\t\t\t<div class=\"lotusDialogFooter\">\t\t\t\t\t\t<button dojoAttachPoint=\"okButtonNode\" class=\"lotusBtn lotusBtnDisabled\" aria-disabled=\"true\" dojoAttachEvent=\"onclick:onOkClicked\">${okButtonValue}</button>\t\t\t\t\t\t<button dojoAttachPoint=\"closeButtonNode\" dojoAttachPoint=\"closeText\" name=\"yourButtonName\"class=\"lotusBtn\" dojoAttachEvent=\"onclick:onCancelClicked\">${closeButtonValue}</button>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div><!--end lotusDialogBorder-->\t\t</div>",userName:"TBD",communityTitle:"COMMUNITY TITLE",nameCorrect:false,communityNameCorrect:false,numSubs:0,callback:null,communityName:"",confirmCommunityName:"",postMixInProperties:function(){
this.userName=dojox.html.entities.encode(this.userName);
this.communityTitleDisplay=dojox.html.entities.encode(this.communityTitleDisplay);
this.communityTitleDisplay=lconn.core.globalization.bidiUtil.enforceTextDirection(this.communityTitle.replace(/\u0020/g,"&nbsp;"));
this.userNameDisplay=lconn.core.globalization.bidiUtil.enforceTextDirection(this.userName.replace(/\u0020/g,"&nbsp;"));
this.communityTitleFinal=lconn.core.globalization.bidiUtil.enforceTextDirection(this.communityTitle);
this.communityTitleFinal=dojox.html.entities.encode(this.communityTitleFinal);
this.dlgTitle=dojo.string.substitute(this.stringResources["label.deleteConfirm.dlgTitle"],[this.communityTitleFinal]);
this.warning=this.stringResources["label.deleteConfirm.warning"];
this.signDirection=this.stringResources["label.deleteConfirm.signDirection"];
this.nameTitle=this.stringResources["label.deleteConfirm.nameTitle"];
this.signatureTitle=this.stringResources["label.deleteConfirm.signatureTitle"];
this.okButtonValue=this.stringResources["label.deleteConfirm.okButtonValue"];
this.closeButtonValue=this.stringResources["label.deleteConfirm.closeButtonValue"];
this.communityName=this.stringResources["label.deleteConfirm.communityNameTitle"];
this.confirmCommunityName=this.stringResources["label.deleteConfirm.communityNameConfirm"];
this.capitalizationWarning=this.stringResources["label.deleteConfirm.capitalizationWarning"];
this.required=this.stringResources["label.deleteConfirm.required"];
this.inherited(arguments);
},postCreate:function(){
if(dojo.isIE){
dojo.connect(this.nameInputField,"onpropertychange",this,"onNameChange");
dojo.connect(this.communityInputField,"onpropertychange",this,"onCommunityChange");
dojo.style(this.dialogBorder,"width","auto");
dojo.style(this.dialogBorder,"height","auto");
if(!dojo._isBodyLtr()){
var _1=Math.max(dojo.coords(this.titleNode).w,600);
dojo.query(".lotusFormField",this.domNode).forEach(function(_2){
dojo.style(_2,"width",_1+"px");
});
}
}
if(this.numSubs==1){
dojo.html.set(this.subcommunities,this.stringResources["label.deleteConfirm.oneSubCommunity"]);
}else{
if(this.numSubs>1){
dojo.html.set(this.subcommunities,dojo.string.substitute(this.stringResources["label.deleteConfirm.multipleSubCommunities"],[this.numSubs]));
}
}
this.inherited(arguments);
dojo.removeClass(this.containerNode,"dijitContentPane");
this._enableDeleteButton();
dojo.connect(this,"_setup",dojo.hitch(this,"_setupOverride"));
lconn.core.globalization.bidiUtil.enforceTextDirectionOnPage(this.formNode);
},onOkClicked:function(){
this._destroy();
if(this.callback!=null){
this.callback();
}
},onEnterCancelClicked:function(_3){
if(_3.keyCode==13){
this.onCancelClicked();
}
},onCancelClicked:function(){
this._destroy();
},onNameChange:function(_4){
if(dojox.html.entities.decode(this.userName)==_4.target.value){
this.nameCorrect=true;
}else{
this.nameCorrect=false;
}
this._enableDeleteButton();
},onCommunityChange:function(_5){
if(dojox.html.entities.decode(this.communityTitle)==_5.target.value){
this.communityNameCorrect=true;
}else{
this.communityNameCorrect=false;
}
this._enableDeleteButton();
},_enableDeleteButton:function(){
okButton=this.okButtonNode;
bntDisabledClass="lotusBtnDisabled";
if(this.nameCorrect==true&&this.communityNameCorrect==true){
dojo.attr(okButton,{"class":"lotusBtn","aria-disabled":"false"});
okButton.disabled=false;
}else{
dojo.attr(okButton,{"class":"lotusBtn lotusBtnDisabled","aria-disabled":"true"});
okButton.disabled=true;
}
},_size:function(){
var _6=this.inherited(arguments);
this.domNode.style.position="absolute";
return (_6);
},_setupOverride:function(){
var _7=dojo.connect(this._fadeIn,"onEnd",function(){
dojo.byId("communityInputField").focus();
dojo.disconnect(_7);
});
},_destroy:function(){
this.hide();
this.destroyRecursive();
}});
}


;if(!dojo._hasResource["lconn.communities.bizCard.dialogs.deleteConfirmWidget"]){
dojo._hasResource["lconn.communities.bizCard.dialogs.deleteConfirmWidget"]=true;
dojo.provide("lconn.communities.bizCard.dialogs.deleteConfirmWidget");






dojo.requireLocalization("lconn.communities.bizCard","ui");
dojo.declare("lconn.communities.bizCard.dialogs.deleteConfirmWidget",[lconn.communities.bizCard.dialogs.deleteConfirm],{postMixInProperties:function(){
var _1=dojo.hitch(this,"onHideClicked");
this.inherited(arguments);
this.warning=this.stringResources["label.deleteWidgetConfirm.warning"];
this.signDirection=this.stringResources["label.deleteWidgetConfirm.signDirection"];
this.communityName=this.stringResources["label.deleteWidgetConfirm.communityName"];
this.confirmCommunityName=this.stringResources["label.deleteWidgetConfirm.confirmCommunityName"];
this.understandTitle=this.stringResources["label.deleteWidgetConfirm.understandTitle"];
this.communityTitle=lconn.core.HTMLUtil.escapeText(this.communityTitle);
this.communityTitleDisplay=this.communityTitle;
this.dlgTitle=dojo.string.substitute(this.stringResources["label.deleteWidgetConfirm.dlgTitle"],[this.communityTitle]);
},onHideClicked:function(){
this._destroy();
if(this.callback!=null){
this.callback(false);
}
},onOkClicked:function(){
this._destroy();
if(this.callback!=null){
this.callback(true);
}
}});
}

dojo.provide("lconn.core.config.nls.widgetbundles")._built=true;
dojo.provide("lconn.core.config.nls.widgetbundles.en");
lconn.core.config.nls.widgetbundles.en={"relatedCommunitiesDescription":"Build links to other communities.   ","Forum":"Forums","CommunityUpdates":"Community Updates","feedReader":"Feed Reader","notification_es":{"HEADER_RESPONSES":"Respuestas y notificaciones","OPEN_ACTIVITIES":"Abrir esta actividad","FOOTER_COPYRIGHT":"Copyright IBM 2012. ","OPEN_FORUMS":"Abrir este foro","REPLYTO_ERROR_CONTENT":"Contenido del mensaje:","TOTAL_NEW_STORIES_BLOGS":"({0} actualizaciones nuevas)","FOOTER_UNSUBSCRIBE":"Para anular la suscripci\xf3n o cambiar valores, vaya a los valores de comunidad de developerWorks.","INDIVIDUAL_TITLE":"[comunidad de developerWorks] {0}","TOTAL_NEW_STORIES_ACTIVITIES":"({0} actualizaciones nuevas)","HEADER_TOPICS":"Temas","TIME_TYPE_PLAIN":"{0}","dw.invite.external.view.public":"Ver las comunidades p\xfablicas","INTRODUCTION":"Esta es una lista de actualizaciones de su red de contactos, lugares, gente y elementos que est\xe1 siguiendo, y respuestas a contenido que ha publicado.","ITEMNAME_PLAIN_TYPE_HTML":"\x3cspan class=\"itemname\"\x3e\x3cb\x3e{0}\x3c/b\x3e\x3c/span\x3e","NOTIFICATION_AD2":"\x3cfont size=\"4\"\x3eDesarrolle y despliegue su pr\xf3xima app\x3cbr /\x3een Bluemix, la plataforma cloud de IBM\x3c/font\x3e","USER_TYPE_HTML":"\x3cspan class=\"user\"\x3e{0}\x3c/span\x3e","NOTIFICATION_AD4":"href=\"https://developer.ibm.com/sso/bmregistration/?lang=es_AR&amp;ca=dwssa-_-bluemix-_-dwcomm-_-email\"\x3e\x3cfont size=\"3\"\x3eDa click aqu\xed para empezar a desarrollar gratis.\x3c/font\x3e\x3c/a\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e","OPEN_MENTIONS":"Abrir esta actualizaci\xf3n de estado","OPEN_FILES":"Abrir colecci\xf3n de archivos","dw.invite.external.message1":"\x3cb\x3e\x3cspan\x3e\x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3e{1}\x3c/a\x3e\x3c/span\x3e\x3c/b\x3e te ha invitado a unirte a la comunidad \x3ca rel=\'nofollow\' href=\'{2}\' target=\'_blank\'\x3e\x3cspan\x3e{3}\x3c/span\x3e\x3c/a\x3e en developerWorks.","dw.invite.external.message2":"Para unirte a esa comunidad debes:","SUBJECT_PREFIX":"[{0}]","HEADER_FILES":"Archivos","dw.invite.external.message3":"1. \x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3eRegistrarte en developerWorks\x3c/a\x3e y crear tu perfil.","ITEMNAME_TYPE_PLAIN":"\'\'{0}\'\'","dw.invite.external.message4":"2. Despu\xe9s de registrarte, recibir\xe1s un correo electr\xf3nico con las instrucciones para aceptar la invitaci\xf3n de la comunidad.","NEWSLETTER_TITLE_WEEKLY":"[comunidad de developerWorks] Bolet\xedn semanal de {0} a {1}","REPLYTO_ERROR_NOTEXIST":"No se ha podido procesar el mensaje de correo electr\xf3nico de respuesta porque el elemento original ya no existe.","INDIVIDUAL_TITLE_WIKIS":"Wikis","INDIVIDUAL_TITLE_ACTIVITIES":"Actividades","HEADER_MENTIONS":"Menciona","dw.invite.external.disclaimer1":"Esta es una notificaci\xf3n enviada desde comunidad de developerWorks.","LOTUS_CONNECTIONS_ICON_ALT":"comunidad de developerWorks","dw.invite.external.disclaimer2":"La informaci\xf3n contenida en este mensaje de correo electr\xf3nico est\xe1 dise\xf1ada solamente para el uso de los destinatarios y est\xe1 sujeta a la \x3ca href=\"https://www.ibm.com/privacy/details/es/es/\"\x3edeclaraci\xf3n de privacidad en l\xednea de IBM\x3c/a\x3e. Si ha recibido este mensaje por error, p\xf3ngase en contacto con el remitente para informar sobre el error y luego elimine este mensaje de su sistema.","COLON":":","DATE_TYPE_HTML":"\x3cspan class=\"date\"\x3e{0}\x3c/span\x3e","INDIVIDUAL_TITLE_FORUMS":"Foros","OPEN_PROFILES":"Ver este perfil","str.msgid.ignore":"verdadero","MORE_STORIES":"(m\xe1s de {0} actualizaciones)","TOTAL_NEW_STORIES_TOPICS":"({0} actualizaciones nuevas)","TOTAL_NEW_STORIES_RESPONSES":"({0} nuevas respuestas y notificaciones)","HEADLINE_WEEKLY":"Sus actualizaciones semanales desde {0} a {1}","FILESIZE_TYPE_HTML":"\x3cspan class=\"filesize\"\x3e{0}\x3c/span\x3e","SINGLE_QUOTES":"\'\'{0}\'\'","REPLYTO_ACTION_HELP_POST":"Si responde a esta notificaci\xf3n podr\xe1 publicar su respuesta mediante el correo electr\xf3nico.","REPLYTO_ACTION_HELP_EOM":"Puede a\xf1adir \"{0}\" al final de la respuesta en una l\xednea nueva. Cualquier contenido ubicado despu\xe9s esta marca quedar\xe1 descartado y no aparecer\xe1 en la respuesta.","INDIVIDUAL_EMAIL":"Esta es una notificaci\xf3n enviada desde comunidad de developerWorks.","USER_TYPE_PLAIN":"{0}","NOTIFICATION_FROM_WHERE_PERIOD":"Esta es una notificaci\xf3n enviada desde {0}.","HEADER_PROFILES":"Mi red de personas","HEADER_NOTIFICATION":"Mis notificaciones","REPLYTO_ERROR_OTHER":"Su mensaje de respuesta no se ha podido procesar debido a un error.","HEADER_FORUMS":"Foros","SIZE.KB":"{0} KB","FILESIZE_TYPE_PLAIN":"{0}","INDIVIDUAL_TITLE_DOGEAR":"Marcadores","CATEGORY_ERROR":"Se ha producido un error al recuperar entradas para esta categor\xeda, p\xf3ngase en contacto con el administrador","OPEN_WIKIS":"Abrir esta wiki","TOTAL_NEW_STORIES_MENTIONS":"({0} menciones nuevas)","NOTIFICATION_DISCLAIMER":"\x3cbr /\x3e\x3cbr /\x3e\x3cfont size=\"2\"\x3eLa informaci\xf3n contenida en este mensaje de correo electr\xf3nico est\xe1 dise\xf1ada solamente para el uso de los destinatarios y est\xe1 sujeta a la \x3ca class=\"privacy\" href=\"https://www.ibm.com/privacy/details/es/es/\"\x3edeclaraci\xf3n de privacidad en l\xednea de IBM\x3c/a\x3e. Si ha recibido este mensaje por error, p\xf3ngase en contacto con el remitente para informar sobre el error y luego elimine este mensaje de su sistema.\x3c/font\x3e","HEADER_WIKIS":"Wikis","TOTAL_NEW_STORIES_FILES":"({0} actualizaciones nuevas)","INDIVIDUAL_TITLE_MODERATION":"Moderaci\xf3n","SUBJECT_DELIMITER":",","HEADER_COMMUNITIES":"Comunidades","INDIVIDUAL_TITLE_PROFILES":"Perfiles","HEADLINE_WEEKLY_NO_DATE":"Sus actualizaciones semanales","HTML_TYPE_PLAIN":"{0}","INDIVIDUAL_TITLE_COMMUNITIES":"Comunidades","INDIVIDUAL_TITLE_BLOGS":"Blogs","LOTUS_CONNECTIONS":"comunidad de developerWorks","HEADER_TAGS":"Etiquetas","FOOTER_TERM_OF_USE":"Condiciones de uso","TOTAL_NEW_STORIES_PROFILES":"({0} actualizaciones nuevas)","TOTAL_NEW_STORIES_NOTIFICATION":"({0} notificaciones nuevas)","SEMICOLON":";","REPLYTO_ERROR_DEFAULT_REASON":"Se ha producido un error al procesar el mensaje enviado a comunidad de developerWorks.","RELATED_COMMUNITY":"Comunidad:","SIZE.B":"{0} B","DATE_TYPE_PLAIN":"{0}","TOTAL_NEW_STORIES_FORUMS":"({0} actualizaciones nuevas)","REPLYTO_ERROR_DATA_PROBLEM":"Su correo electr\xf3nico de respuesta no se ha podido a\xf1adir porque no se ha encontrado informaci\xf3n sobre la notificaci\xf3n original.","TIME_TYPE_HTML":"\x3cspan class=\"time\"\x3e{0}\x3c/span\x3e","SIZE.MB":"{0} MB","DOUBLE_QUOTES":"\"{0}\"","REPLYTO_ERROR_TITLE":"Lo lamentamos, pero no se ha podido a\xf1adir su respuesta.","DATETIME_TYPE_PLAIN":"{0}","HEADER_BOOKMARKS":"Marcadores","POSTING_DATE":"Fecha de publicaci\xf3n:","NEWSLETTER_TITLE_DAILY":"[comunidad de developerWorks] Bolet\xedn diario de {0}","REPLYTO_ERROR_DISALLOWEDCONTENT":"Su correo electr\xf3nico de respuesta no se ha podido a\xf1adir porque incluye contenido no permitido.","NOTIFICATION_FROM_WHERE_AND_UNSUBSCRIBE":"Esta es una notificaci\xf3n enviada desde {0}. {1}.","OPEN_COMMUNITIES":"Abrir esta comunidad","REPLYTO_DEFAULT_SOURCE":"comunidad de developerWorks","ANCHOR":"\x3ca href=\"{0}\"\x3e{1}\x3c/a\x3e","COMMA":",","TEXT_TYPE_PLAIN":"{0}","OPEN_TOPICS":"Abrir este tema","REPLYTO_ERROR_SUBJECT":"Asunto del mensaje: ","dw.invite.external.register":"Reg\xedstrese en developerWorks","OPEN_BLOGS":"Abrir el blog","TOTAL_NEW_STORIES_WIKIS":"({0} actualizaciones nuevas)","HEADER_BLOGS":"Blogs","TOTAL_NEW_STORIES_TAGS":"({0} historias nuevas)","TOTAL_NEW_STORIES_COMMUNITIES":"({0} actualizaciones nuevas)","PERIOD":".","ICON_ALT":"Icono","NOTIFICATION_FROM_WHERE":"Esta es una notificaci\xf3n enviada desde {0}","USER_TYPE_HTML_PLAIN":"\x3cb\x3e{0}\x3c/b\x3e","REPLYTO_ERROR_EMPTYMESSAGE":"Su correo electr\xf3nico de respuesta no se ha podido a\xf1adir porque el mensaje est\xe1 vac\xedo.","REPLYTO_ERROR_CORRUPTMESSAGE":"Su correo electr\xf3nico de respuesta no se ha podido a\xf1adir porque el mensaje est\xe1 da\xf1ado.","ITEMNAME_LINK_TYPE_HTML":"\x3cspan class=\"itemname\"\x3e{0}\x3c/span\x3e","DATETIME_TYPE_HTML":"\x3cspan class=\"datetime\"\x3e{0}\x3c/span\x3e","dw.invite.external.body.template":"{0}\x3cbr/\x3e{1}\x3cbr/\x3e{2}","HEADLINE_DAILY":"Sus actualizaciones diarias para {0}","dw.invite.external.view.com":"Ver la comunidad {0}","MORE_20_UPDATES":"(M\xe1s de 20 actualizaciones nuevas)","HEADER_ACTIVITIES":"Actividades","INDIVIDUAL_TITLE_NEWS":"comunidad de developerWorks","VIEW_ALL":"Visualizar todo...","OPEN_ITEM":"Abrir este elemento","SIZE.GB":"{0} GB","REPLYTO_ERROR_AUTHENTICATION":"Su mensaje de respuesta no se ha podido procesar debido a un problema de autorizaci\xf3n.","INDIVIDUAL_TITLE_FILES":"Archivos","MORE_20_COMMENTS":"(M\xe1s de 20 comentarios y respuestas nuevas)","dw.invite.external.subject":"Has sido invitado a unirte a la comunidad de developerWorks","SUBJECT_PREFIX_CONTENTS":"source.name","MOBILE_LINK_TEXT":"Abrir en Mobile","TOTAL_NEW_STORIES_BOOKMARKS":"({0} actualizaciones nuevas)","HEADLINE_DAILY_NO_DATE":"Sus actualizaciones diarias","HTML_TYPE_HTML":"\x3cspan class=\"html\"\x3e{0}\x3c/span\x3e","TEXT_TYPE_HTML":"\x3cspan class=\"text\"\x3e{0}\x3c/span\x3e"},"notification_zh":{"HEADER_RESPONSES":"\u54cd\u5e94\u548c\u901a\u77e5","OPEN_ACTIVITIES":"\u6253\u5f00\u6b64\u6d3b\u52a8","FOOTER_COPYRIGHT":"Copyright IBM 2012. ","OPEN_FORUMS":"\u6253\u5f00\u6b64\u8bba\u575b","REPLYTO_ERROR_CONTENT":"\u7535\u5b50\u90ae\u4ef6\u5185\u5bb9\uff1a","TOTAL_NEW_STORIES_BLOGS":"\uff08{0} \u9879\u65b0\u66f4\u65b0\uff09","FOOTER_UNSUBSCRIBE":"\u8981\u53d6\u6d88\u8ba2\u9605\u6216\u66f4\u6539\u8bbe\u7f6e\uff0c\u8bf7\u8f6c\u81f3 developerWorks \u793e\u533a \u8bbe\u7f6e\u3002","INDIVIDUAL_TITLE":"[developerWorks \u793e\u533a] {0}","TOTAL_NEW_STORIES_ACTIVITIES":"\uff08{0} \u9879\u65b0\u66f4\u65b0\uff09","HEADER_TOPICS":"\u4e3b\u9898","TIME_TYPE_PLAIN":"{0}","dw.invite.external.view.public":"\u67e5\u770b\u516c\u5f00\u793e\u533a","INTRODUCTION":"\u8fd9\u662f\u4e00\u4e2a\u66f4\u65b0\u5217\u8868\uff0c\u8fd9\u4e9b\u66f4\u65b0\u6765\u81ea\u4e8e\u60a8\u6b63\u5728\u5173\u6ce8\u7684\u8054\u7cfb\u4eba\u7f51\u7edc\u3001\u573a\u6240\u3001\u4eba\u5458\u548c\u9879\u76ee\uff0c\u4ee5\u53ca\u60a8\u6240\u53d1\u5e03\u7684\u5185\u5bb9\u7684\u56de\u590d\u3002","ITEMNAME_PLAIN_TYPE_HTML":"\x3cspan class=\"itemname\"\x3e\x3cb\x3e{0}\x3c/b\x3e\x3c/span\x3e","NOTIFICATION_AD2":"\x3cfont size=\"4\"\x3e\u5728 IBM Bluemix \u4e91\u5e73\u53f0\u4e0a\u5f00\u53d1\u5e76\u90e8\u7f72\u60a8\u7684\u4e0b\u4e00\u4e2a\u5e94\u7528\u3002\x3c/font\x3e","USER_TYPE_HTML":"\x3cspan class=\"user\"\x3e{0}\x3c/span\x3e","NOTIFICATION_AD4":"href=\"https://developer.ibm.com/sso/bmregistration/?lang=zh_CN&amp;ca=dwchina-_-bluemix-_-dwcomm-_-email\"\x3e\x3cfont size=\"3\"\x3e\u9a6c\u4e0a\u5f00\u59cb\uff0c\u514d\u8d39\u6784\u5efa\u60a8\u7684\u4e91\u4e0a\u5e94\u7528\x3c/font\x3e\x3c/a\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e","OPEN_MENTIONS":"\u6253\u5f00\u6b64\u72b6\u6001\u66f4\u65b0","OPEN_FILES":"\u6253\u5f00\u6587\u4ef6\u96c6\u5408","dw.invite.external.message1":"\x3cb\x3e\x3cspan\x3e\x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3e{1}\x3c/a\x3e\x3c/span\x3e\x3c/b\x3e \u5df2\u7ecf\u9080\u8bf7\u60a8\u52a0\u5165 developerWorks \u7684 \x3ca rel=\'nofollow\' href=\'{2}\' target=\'_blank\'\x3e\x3cspan\x3e{3}\x3c/span\x3e\x3c/a\x3e \u793e\u533a\u3002","dw.invite.external.message2":"\u8981\u52a0\u5165\u8be5\u793e\u533a\uff0c\u60a8\u9700\u8981\uff1a","SUBJECT_PREFIX":"[{0}]","HEADER_FILES":"\u6587\u4ef6","dw.invite.external.message3":"1. \x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3e\u6ce8\u518c developerWorks \u8d26\u53f7\x3c/a\x3e\uff0c\u5e76\u521b\u5efa\u60a8\u7684\u6982\u8981\u4fe1\u606f\u3002","ITEMNAME_TYPE_PLAIN":"\u201c{0}\u201d","dw.invite.external.message4":"2. \u5728\u6ce8\u518c developerWorks \u8d26\u53f7\u4e4b\u540e\uff0c\u60a8\u5c06\u6536\u5230\u4e00\u5c01\u5305\u542b\u63a5\u53d7\u9080\u8bf7\u548c\u94fe\u63a5\u5230\u793e\u533a\u7684\u7535\u5b50\u90ae\u4ef6\u3002","NEWSLETTER_TITLE_WEEKLY":"[developerWorks \u793e\u533a] \u6bcf\u5468\u65f6\u4e8b\u901a\u8baf - {0} \u81f3 {1}","REPLYTO_ERROR_NOTEXIST":"\u7531\u4e8e\u539f\u59cb\u9879\u4e0d\u518d\u5b58\u5728\uff0c\u56e0\u6b64\u65e0\u6cd5\u5904\u7406\u60a8\u7684\u7535\u5b50\u90ae\u4ef6\u56de\u590d\u3002","INDIVIDUAL_TITLE_WIKIS":"Wiki","INDIVIDUAL_TITLE_ACTIVITIES":"\u6d3b\u52a8","HEADER_MENTIONS":"\u63d0\u53ca","dw.invite.external.disclaimer1":"\u8fd9\u662f\u7531 developerWorks \u793e\u533a \u53d1\u51fa\u7684\u901a\u77e5","LOTUS_CONNECTIONS_ICON_ALT":"developerWorks \u793e\u533a","dw.invite.external.disclaimer2":"\u6b64\u7535\u5b50\u90ae\u4ef6\u6d88\u606f\u4e2d\u5305\u542b\u7684\u4fe1\u606f\u4ec5\u9002\u7528\u4e8e\u4f7f\u7528\u6307\u5b9a\u7684\u6536\u4ef6\u4eba\u5e76\u9075\u5faa \x3ca href=\"https://www.ibm.com/privacy/details/cn/zh/\"\x3eIBM \u7684\u8054\u673a\u9690\u79c1\u6761\u7ea6\x3c/a\x3e\u3002\u5982\u679c\u60a8\u9519\u8bef\u6536\u5230\u672c\u7535\u5b50\u90ae\u4ef6\uff0c\u8bf7\u8054\u7cfb\u53d1\u4ef6\u4eba\u62a5\u544a\u6b64\u9519\u8bef\uff0c\u5e76\u5728\u60a8\u7684\u7cfb\u7edf\u4e2d\u5220\u9664\u672c\u90ae\u4ef6\u3002","COLON":"\uff1a","DATE_TYPE_HTML":"\x3cspan class=\"date\"\x3e{0}\x3c/span\x3e","INDIVIDUAL_TITLE_FORUMS":"\u8bba\u575b","OPEN_PROFILES":"\u67e5\u770b\u6b64\u4e2a\u4eba\u6863\u6848","str.msgid.ignore":"true","MORE_STORIES":"\uff08\u8d85\u8fc7 {0} \u4e2a\u66f4\u65b0\uff09","TOTAL_NEW_STORIES_TOPICS":"\uff08{0} \u9879\u65b0\u66f4\u65b0\uff09","TOTAL_NEW_STORIES_RESPONSES":"({0} \u4e2a\u65b0\u56de\u590d\u548c\u901a\u77e5\uff09","HEADLINE_WEEKLY":"\u6bcf\u5468\u66f4\u65b0 - {0} \u81f3 {1}","FILESIZE_TYPE_HTML":"\x3cspan class=\"filesize\"\x3e{0}\x3c/span\x3e","SINGLE_QUOTES":"\u201c{0}\u201d","REPLYTO_ACTION_HELP_POST":"\u56de\u590d\u6b64\u901a\u77e5\u5c06\u4f7f\u60a8\u4f7f\u7528\u7535\u5b50\u90ae\u4ef6\u53d1\u5e03\u60a8\u7684\u56de\u590d\u3002","REPLYTO_ACTION_HELP_EOM":"\u60a8\u53ef\u4ee5\u5c06\u201c{0}\u201d\u6dfb\u52a0\u5230\u60a8\u56de\u590d\u65b0\u884c\u7ed3\u5c3e\u3002 \u5c06\u4e22\u5f03\u90a3\u4e4b\u540e\u7684\u6240\u6709\u5185\u5bb9\uff0c\u5e76\u4e14\u4e0d\u4f1a\u663e\u793a\u5728\u60a8\u7684\u54cd\u5e94\u4e2d\u3002","INDIVIDUAL_EMAIL":"\u8fd9\u662f\u4ece developerWorks \u793e\u533a \u53d1\u9001\u7684\u901a\u77e5\u3002","USER_TYPE_PLAIN":"{0}","NOTIFICATION_FROM_WHERE_PERIOD":"\u8fd9\u662f\u4ece {0} \u53d1\u51fa\u7684\u901a\u77e5\u3002","HEADER_PROFILES":"\u6211\u7684\u4eba\u5458\u7f51\u7edc","HEADER_NOTIFICATION":"\u6211\u7684\u901a\u77e5","REPLYTO_ERROR_OTHER":"\u7531\u4e8e\u9519\u8bef\uff0c\u56e0\u6b64\u65e0\u6cd5\u5904\u7406\u60a8\u7684\u7535\u5b50\u90ae\u4ef6\u56de\u590d\u3002","HEADER_FORUMS":"\u8bba\u575b","SIZE.KB":"{0} KB","FILESIZE_TYPE_PLAIN":"{0}","INDIVIDUAL_TITLE_DOGEAR":"\u4e66\u7b7e","CATEGORY_ERROR":"\u68c0\u7d22\u6b64\u7c7b\u522b\u7684\u6761\u76ee\u65f6\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u4e0e\u7ba1\u7406\u5458\u8054\u7cfb","OPEN_WIKIS":"\u6253\u5f00\u6b64 Wiki","TOTAL_NEW_STORIES_MENTIONS":"\uff08{0} \u9879\u65b0\u63d0\u53ca\uff09","NOTIFICATION_DISCLAIMER":"\x3cbr /\x3e\x3cbr /\x3e\x3cfont size=\"2\"\x3e\u6b64\u7535\u5b50\u90ae\u4ef6\u6d88\u606f\u4e2d\u5305\u542b\u7684\u4fe1\u606f\u4ec5\u9002\u7528\u4e8e\u4f7f\u7528\u6307\u5b9a\u7684\u6536\u4ef6\u4eba\u5e76\u9075\u5faa \x3ca class=\"privacy\" href=\"https://www.ibm.com/privacy/details/cn/zh/\"\x3eIBM \u7684\u8054\u673a\u9690\u79c1\u6761\u7ea6\x3c/a\x3e\u3002\u5982\u679c\u60a8\u9519\u8bef\u6536\u5230\u672c\u7535\u5b50\u90ae\u4ef6\uff0c\u8bf7\u8054\u7cfb\u53d1\u4ef6\u4eba\u62a5\u544a\u6b64\u9519\u8bef\uff0c\u5e76\u5728\u60a8\u7684\u7cfb\u7edf\u4e2d\u5220\u9664\u672c\u90ae\u4ef6\u3002\x3c/font\x3e","HEADER_WIKIS":"Wiki","TOTAL_NEW_STORIES_FILES":"\uff08{0} \u9879\u65b0\u66f4\u65b0\uff09","INDIVIDUAL_TITLE_MODERATION":"\u5ba1\u6838","SUBJECT_DELIMITER":",","HEADER_COMMUNITIES":"\u793e\u533a","INDIVIDUAL_TITLE_PROFILES":"\u4e2a\u4eba\u6863\u6848","HEADLINE_WEEKLY_NO_DATE":"\u6bcf\u5468\u66f4\u65b0","HTML_TYPE_PLAIN":"{0}","INDIVIDUAL_TITLE_COMMUNITIES":"\u793e\u533a","INDIVIDUAL_TITLE_BLOGS":"\u535a\u5ba2","LOTUS_CONNECTIONS":"developerWorks \u793e\u533a","HEADER_TAGS":"\u6807\u7b7e","FOOTER_TERM_OF_USE":"\u4f7f\u7528\u6761\u6b3e","TOTAL_NEW_STORIES_PROFILES":"\uff08{0} \u9879\u65b0\u66f4\u65b0\uff09","TOTAL_NEW_STORIES_NOTIFICATION":"\uff08{0} \u9879\u65b0\u901a\u77e5\uff09","SEMICOLON":";","REPLYTO_ERROR_DEFAULT_REASON":"\u5904\u7406\u53d1\u9001\u5230 developerWorks \u793e\u533a \u7684\u7535\u5b50\u90ae\u4ef6\u65f6\u53d1\u751f\u9519\u8bef\u3002","RELATED_COMMUNITY":"\u793e\u533a\uff1a","SIZE.B":"{0} B","DATE_TYPE_PLAIN":"{0}","TOTAL_NEW_STORIES_FORUMS":"\uff08{0} \u9879\u65b0\u66f4\u65b0\uff09","REPLYTO_ERROR_DATA_PROBLEM":"\u7531\u4e8e\u65e0\u6cd5\u627e\u5230\u6709\u5173\u539f\u59cb\u901a\u77e5\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u65e0\u6cd5\u6dfb\u52a0\u60a8\u7684\u7535\u5b50\u90ae\u4ef6\u56de\u590d\u3002","TIME_TYPE_HTML":"\x3cspan class=\"time\"\x3e{0}\x3c/span\x3e","SIZE.MB":"{0} MB","DOUBLE_QUOTES":"\u201c{0}\u201d","REPLYTO_ERROR_TITLE":"\u5f88\u62b1\u6b49\uff0c\u4f46\u662f\u65e0\u6cd5\u6dfb\u52a0\u60a8\u7684\u56de\u590d","DATETIME_TYPE_PLAIN":"{0}","HEADER_BOOKMARKS":"\u4e66\u7b7e","POSTING_DATE":"\u53d1\u5e03\u65e5\u671f\uff1a","NEWSLETTER_TITLE_DAILY":"[developerWorks \u793e\u533a] \u6bcf\u65e5\u65f6\u4e8b\u901a\u8baf - {0}","REPLYTO_ERROR_DISALLOWEDCONTENT":"\u7531\u4e8e\u60a8\u7684\u7535\u5b50\u90ae\u4ef6\u56de\u590d\u5305\u542b\u4e0d\u5141\u8bb8\u7684\u5185\u5bb9\uff0c\u56e0\u6b64\u65e0\u6cd5\u6dfb\u52a0\u8be5\u56de\u590d\u3002","NOTIFICATION_FROM_WHERE_AND_UNSUBSCRIBE":"\u8fd9\u662f\u4ece {0} \u53d1\u51fa\u7684\u901a\u77e5\u3002 {1}\u3002","OPEN_COMMUNITIES":"\u6253\u5f00\u6b64\u793e\u533a","REPLYTO_DEFAULT_SOURCE":"developerWorks \u793e\u533a","ANCHOR":"\x3ca href=\"{0}\"\x3e{1}\x3c/a\x3e","COMMA":",","TEXT_TYPE_PLAIN":"{0}","OPEN_TOPICS":"\u6253\u5f00\u8be5\u4e3b\u9898","REPLYTO_ERROR_SUBJECT":"\u7535\u5b50\u90ae\u4ef6\u4e3b\u9898\uff1a ","dw.invite.external.register":"\u6ce8\u518c\u6210\u4e3a developerWorks \u793e\u533a\u6210\u5458\u3002","OPEN_BLOGS":"\u6253\u5f00\u6b64\u535a\u5ba2","TOTAL_NEW_STORIES_WIKIS":"\uff08{0} \u9879\u65b0\u66f4\u65b0\uff09","HEADER_BLOGS":"\u535a\u5ba2","TOTAL_NEW_STORIES_TAGS":"\uff08{0} \u9879\u65b0\u6545\u4e8b\uff09","TOTAL_NEW_STORIES_COMMUNITIES":"\uff08{0} \u9879\u65b0\u66f4\u65b0\uff09","PERIOD":".","ICON_ALT":"\u56fe\u6807","NOTIFICATION_FROM_WHERE":"\u8fd9\u662f\u4ece {0} \u53d1\u51fa\u7684\u901a\u77e5","USER_TYPE_HTML_PLAIN":"\x3cb\x3e{0}\x3c/b\x3e","REPLYTO_ERROR_EMPTYMESSAGE":"\u7531\u4e8e\u6d88\u606f\u4e3a\u7a7a\uff0c\u56e0\u6b64\u65e0\u6cd5\u5904\u7406\u60a8\u7684\u7535\u5b50\u90ae\u4ef6\u56de\u590d\u3002","REPLYTO_ERROR_CORRUPTMESSAGE":"\u7531\u4e8e\u6d88\u606f\u5df2\u635f\u574f\uff0c\u56e0\u6b64\u65e0\u6cd5\u6dfb\u52a0\u60a8\u7684\u7535\u5b50\u90ae\u4ef6\u56de\u590d\u3002","ITEMNAME_LINK_TYPE_HTML":"\x3cspan class=\"itemname\"\x3e{0}\x3c/span\x3e","DATETIME_TYPE_HTML":"\x3cspan class=\"datetime\"\x3e{0}\x3c/span\x3e","dw.invite.external.body.template":"{0}\x3cbr/\x3e{1}\x3cbr/\x3e{2}","HEADLINE_DAILY":"\u6bcf\u65e5\u66f4\u65b0 - {0}","dw.invite.external.view.com":"\u67e5\u770b\u6b64 {0} \u793e\u533a","MORE_20_UPDATES":"\uff08\u8d85\u8fc7 20 \u4e2a\u65b0\u66f4\u65b0\uff09","HEADER_ACTIVITIES":"\u6d3b\u52a8","INDIVIDUAL_TITLE_NEWS":"developerWorks \u793e\u533a","VIEW_ALL":"\u67e5\u770b\u5168\u90e8...","OPEN_ITEM":"\u6253\u5f00\u6b64\u9879","SIZE.GB":"{0} GB","REPLYTO_ERROR_AUTHENTICATION":"\u7531\u4e8e\u6743\u9650\u95ee\u9898\uff0c\u56e0\u6b64\u65e0\u6cd5\u5904\u7406\u60a8\u7684\u7535\u5b50\u90ae\u4ef6\u56de\u590d\u3002","INDIVIDUAL_TITLE_FILES":"\u6587\u4ef6","MORE_20_COMMENTS":"\uff08\u8d85\u8fc7 20 \u4e2a\u65b0\u8bc4\u8bba\u548c\u56de\u590d\uff09","dw.invite.external.subject":"\u60a8\u5df2\u53d7\u9080\u52a0\u5165\u4e00\u4e2a developerWorks \u793e\u533a","SUBJECT_PREFIX_CONTENTS":"source.name","MOBILE_LINK_TEXT":"\u5728\u624b\u673a\u4e2d\u6253\u5f00","TOTAL_NEW_STORIES_BOOKMARKS":"\uff08{0} \u9879\u65b0\u66f4\u65b0\uff09","HEADLINE_DAILY_NO_DATE":"\u6bcf\u65e5\u66f4\u65b0","HTML_TYPE_HTML":"\x3cspan class=\"html\"\x3e{0}\x3c/span\x3e","TEXT_TYPE_HTML":"\x3cspan class=\"text\"\x3e{0}\x3c/span\x3e"},"Blog":"Blog","filesDescription":"Upload, share and work with community files and folders.","lc_clib":{"Gallery.description":"Showcase files in this community.","Gallery":"Gallery","CustomLibrary.description":"Use a document repository in your community.","Library.description":"Work with files using drafts, reviewers, and publishing.","librarysummary.description":"Use a document repository in your community.","CustomLibrary":"Linked Library","librarysummary":"Document Repository","Library":"Library","MediaGallery.description":"Share photos and videos with the community.","Library.sequenceNumber":"Library {0}","CustomLibrary.sequenceNumber":"Linked Library {0}","MediaGallery":"Media Gallery"},"galleryDescription":"Share photos and videos with the community.","notification_ja":{"HEADER_RESPONSES":"\u5fdc\u7b54\u3068\u901a\u77e5","OPEN_ACTIVITIES":"\u3053\u306e\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u30fc\u3092\u958b\u304f","FOOTER_COPYRIGHT":"Copyright IBM 2012. ","OPEN_FORUMS":"\u3053\u306e\u30d5\u30a9\u30fc\u30e9\u30e0\u3092\u958b\u304f","REPLYTO_ERROR_CONTENT":"\u30e1\u30fc\u30eb\u306e\u5185\u5bb9:","TOTAL_NEW_STORIES_BLOGS":"({0} \u4ef6\u306e\u65b0\u898f\u66f4\u65b0)","FOOTER_UNSUBSCRIBE":"\u8cfc\u8aad\u3092\u4e2d\u6b62\u307e\u305f\u306f\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u306b\u306f\u3001developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc \u306e\u300c\u8a2d\u5b9a\u300d\u306b\u79fb\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002","INDIVIDUAL_TITLE":"[developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc] {0}","TOTAL_NEW_STORIES_ACTIVITIES":"({0} \u4ef6\u306e\u65b0\u898f\u66f4\u65b0)","HEADER_TOPICS":"\u30c8\u30d4\u30c3\u30af","TIME_TYPE_PLAIN":"{0}","dw.invite.external.view.public":"\u516c\u958b\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u3092\u8868\u793a","INTRODUCTION":"\u3053\u306e\u30ea\u30b9\u30c8\u306b\u306f\u3001\u3042\u306a\u305f\u304c\u30d5\u30a9\u30ed\u30fc\u3057\u3066\u3044\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u9023\u7d61\u5148\u3001\u5834\u6240\u3001\u30e6\u30fc\u30b6\u30fc\u3001\u9805\u76ee\u306b\u95a2\u3059\u308b\u66f4\u65b0\u3068\u3001\u3042\u306a\u305f\u304c\u6295\u7a3f\u3057\u305f\u30b3\u30f3\u30c6\u30f3\u30c4\u306b\u5bfe\u3059\u308b\u5fdc\u7b54\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002","NOTIFICATION_AD2":"\x3cfont size=\"4\"\x3e\u30af\u30e9\u30a6\u30c9\u30fb\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\x3cbr /\x3eIBM Bluemix\u3067\u6b21\u306e\u30a2\u30d7\u30ea\u3092\u958b\u767a\u3057\u307e\u3057\u3087\u3046\u3002\x3c/font\x3e","USER_TYPE_HTML":"\x3cspan class=\"user\"\x3e{0}\x3c/span\x3e","NOTIFICATION_AD4":"href=\"https://developer.ibm.com/sso/bmregistration/?lang=ja-JP&amp;ca=dwjapan-_-bluemix-_-dwcomm-_-email\"\x3e\x3cfont size=\"3\"\x3e\u30af\u30ea\u30c3\u30af\u3057\u3066\u7121\u511f\u30c8\u30e9\u30a4\u30a2\u30eb\u3092\u958b\u59cb\u3059\u308b\x3c/font\x3e\x3c/a\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e","OPEN_MENTIONS":"\u3053\u306e\u72b6\u6cc1\u306e\u66f4\u65b0\u3092\u958b\u304f","OPEN_FILES":"\u30d5\u30a1\u30a4\u30eb\u30fb\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u958b\u304f","dw.invite.external.message1":"\x3cb\x3e\x3cspan\x3e\x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3e{1}\x3c/a\x3e\x3c/span\x3e\x3c/b\x3e \u3055\u3093\u304c\u3042\u306a\u305f\u3092developerWorks\u306e \x3ca rel=\'nofollow\' href=\'{2}\' target=\'_blank\'\x3e\x3cspan\x3e{3}\x3c/span\x3e\x3c/a\x3e \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u306b\u62db\u5f85\u3057\u307e\u3057\u305f\u3002","dw.invite.external.message2":"\u4ee5\u4e0b\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u3054\u53c2\u52a0\u304f\u3060\u3055\u3044\u3002","SUBJECT_PREFIX":"[{0}]","HEADER_FILES":"\u30d5\u30a1\u30a4\u30eb","dw.invite.external.message3":"1. \x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3edeveloperWorks\u306b\u3054\u767b\u9332\u9802\u304d\u3001\x3c/a\x3e \u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u4e0b\u3055\u3044\u3002","ITEMNAME_TYPE_PLAIN":"\'\'{0}\'\'","dw.invite.external.message4":"2. \u3054\u767b\u9332\u5f8c\u3001\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u3078\u306e\u30ea\u30f3\u30af\u3068\u62db\u5f85\u3092\u627f\u8a8d\u3059\u308b\u30ac\u30a4\u30c9\u306e\u30e1\u30fc\u30eb\u304c\u5c4a\u304d\u307e\u3059\u3002","NEWSLETTER_TITLE_WEEKLY":"[developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc] {0} \u304b\u3089 {1} \u307e\u3067\u306e\u9031\u520a\u30cb\u30e5\u30fc\u30b9\u30ec\u30bf\u30fc","REPLYTO_ERROR_NOTEXIST":"\u30e1\u30fc\u30eb\u306e\u8fd4\u4fe1\u3092\u51e6\u7406\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u5143\u306e\u9805\u76ee\u304c\u5b58\u5728\u3057\u306a\u304f\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u539f\u56e0\u3067\u3059\u3002","INDIVIDUAL_TITLE_WIKIS":"Wiki","INDIVIDUAL_TITLE_ACTIVITIES":"\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u30fc","HEADER_MENTIONS":"\u8a00\u53ca","dw.invite.external.disclaimer1":"\u3053\u308c\u306f developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc \u304b\u3089\u9001\u4fe1\u3055\u308c\u305f\u901a\u77e5\u3067\u3059\u3002","LOTUS_CONNECTIONS_ICON_ALT":"developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc","dw.invite.external.disclaimer2":"\u3053\u306e\u96fb\u5b50\u30e1\u30fc\u30eb\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u542b\u307e\u308c\u308b\u60c5\u5831\u306f\u3001\u6307\u5b9a\u3055\u308c\u305f\u53d7\u53d6\u4eba\u306e\u4f7f\u7528\u306b\u5bfe\u3057\u3066\u306e\u307f\u610f\u56f3\u3055\u308c\u3001\x3ca href=\"https://www.ibm.com/privacy/details/jp/ja/\"\x3eIBM \u30aa\u30f3\u30e9\u30a4\u30f3\u3067\u306e\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30fb\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\x3c/a\x3e\u306e\u5bfe\u8c61\u3068\u306a\u308a\u307e\u3059\u3002\u3082\u3057\u304a\u5ba2\u69d8\u304c\u9593\u9055\u3063\u3066\u3053\u306e\u96fb\u5b50\u30e1\u30fc\u30eb\u3092\u53d7\u3051\u53d6\u3063\u305f\u5834\u5408\u306f\u3001\u9001\u4fe1\u8005\u3078\u305d\u306e\u65e8\u3092\u9023\u7d61\u3057\u3001\u304a\u5ba2\u69d8\u306e\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002","COLON":":","DATE_TYPE_HTML":"\x3cspan class=\"date\"\x3e{0}\x3c/span\x3e","INDIVIDUAL_TITLE_FORUMS":"\u30d5\u30a9\u30fc\u30e9\u30e0","OPEN_PROFILES":"\u3053\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3092\u8868\u793a","str.msgid.ignore":"true","MORE_STORIES":"({0} \u4ef6\u3092\u8d85\u3048\u308b\u66f4\u65b0)","TOTAL_NEW_STORIES_TOPICS":"({0} \u4ef6\u306e\u65b0\u898f\u66f4\u65b0)","TOTAL_NEW_STORIES_RESPONSES":"({0} \u4ef6\u306e\u65b0\u898f\u5fdc\u7b54\u3068\u901a\u77e5)","HEADLINE_WEEKLY":"{0} \u304b\u3089 {1} \u306e\u9031\u6b21\u66f4\u65b0","FILESIZE_TYPE_HTML":"\x3cspan class=\"filesize\"\x3e{0}\x3c/span\x3e","SINGLE_QUOTES":"\'\'{0}\'\'","REPLYTO_ACTION_HELP_POST":"\u3053\u306e\u901a\u77e5\u306b\u8fd4\u4fe1\u3059\u308b\u3068\u3001\u30e1\u30fc\u30eb\u3067\u8fd4\u4fe1\u3092\u6295\u7a3f\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002","REPLYTO_ACTION_HELP_EOM":"\u8fd4\u4fe1\u306e\u672b\u5c3e\u306e\u65b0\u898f\u884c\u306b \"{0}\" \u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u305d\u308c\u4ee5\u964d\u306e\u5185\u5bb9\u306f\u7834\u68c4\u3055\u308c\u3001\u5fdc\u7b54\u306b\u306f\u8868\u793a\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002","INDIVIDUAL_EMAIL":"\u3053\u308c\u306f developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc \u304b\u3089\u9001\u4fe1\u3055\u308c\u305f\u901a\u77e5\u3067\u3059\u3002","USER_TYPE_PLAIN":"\'\'{0}\'\'","NOTIFICATION_FROM_WHERE_PERIOD":"\u3053\u308c\u306f {0} \u304b\u3089\u9001\u4fe1\u3055\u308c\u305f\u901a\u77e5\u3067\u3059\u3002","HEADER_PROFILES":"\u30de\u30a4\u30fb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af","HEADER_NOTIFICATION":"\u81ea\u5206\u306e\u901a\u77e5","REPLYTO_ERROR_OTHER":"\u30e1\u30fc\u30eb\u306e\u8fd4\u4fe1\u3092\u51e6\u7406\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30a8\u30e9\u30fc\u304c\u539f\u56e0\u3067\u3059\u3002","HEADER_FORUMS":"\u30d5\u30a9\u30fc\u30e9\u30e0","SIZE.KB":"{0} KB","FILESIZE_TYPE_PLAIN":"{0}","INDIVIDUAL_TITLE_DOGEAR":"\u30d6\u30c3\u30af\u30de\u30fc\u30af","CATEGORY_ERROR":"\u3053\u306e\u30ab\u30c6\u30b4\u30ea\u30fc\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u53d6\u5f97\u3057\u3066\u3044\u308b\u3068\u304d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u7ba1\u7406\u8005\u306b\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044","OPEN_WIKIS":"\u3053\u306e Wiki \u3092\u958b\u304f","TOTAL_NEW_STORIES_MENTIONS":"({0} \u4ef6\u306e\u65b0\u898f\u8a00\u53ca)","NOTIFICATION_DISCLAIMER":"\x3cbr /\x3e\x3cbr /\x3e\x3cfont size=\"2\"\x3e\u3053\u306e\u96fb\u5b50\u30e1\u30fc\u30eb\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u542b\u307e\u308c\u308b\u60c5\u5831\u306f\u3001\u6307\u5b9a\u3055\u308c\u305f\u53d7\u53d6\u4eba\u306e\u4f7f\u7528\u306b\u5bfe\u3057\u3066\u306e\u307f\u610f\u56f3\u3055\u308c\u3001\x3ca class=\"privacy\" href=\"https://www.ibm.com/privacy/details/jp/ja/\"\x3eIBM \u30aa\u30f3\u30e9\u30a4\u30f3\u3067\u306e\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30fb\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\x3c/a\x3e\u306e\u5bfe\u8c61\u3068\u306a\u308a\u307e\u3059\u3002\u3082\u3057\u304a\u5ba2\u69d8\u304c\u9593\u9055\u3063\u3066\u3053\u306e\u96fb\u5b50\u30e1\u30fc\u30eb\u3092\u53d7\u3051\u53d6\u3063\u305f\u5834\u5408\u306f\u3001\u9001\u4fe1\u8005\u3078\u305d\u306e\u65e8\u3092\u9023\u7d61\u3057\u3001\u304a\u5ba2\u69d8\u306e\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\x3c/font\x3e","HEADER_WIKIS":"Wiki","TOTAL_NEW_STORIES_FILES":"({0} \u4ef6\u306e\u65b0\u898f\u66f4\u65b0)","INDIVIDUAL_TITLE_MODERATION":"\u7ba1\u7406","SUBJECT_DELIMITER":",","HEADER_COMMUNITIES":"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc","INDIVIDUAL_TITLE_PROFILES":"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb","HEADLINE_WEEKLY_NO_DATE":"\u9031\u6b21\u66f4\u65b0","HTML_TYPE_PLAIN":"{0}","INDIVIDUAL_TITLE_COMMUNITIES":"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc","INDIVIDUAL_TITLE_BLOGS":"\u30d6\u30ed\u30b0","LOTUS_CONNECTIONS":"developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc","HEADER_TAGS":"\u30bf\u30b0","FOOTER_TERM_OF_USE":"\u3054\u5229\u7528\u6761\u4ef6","TOTAL_NEW_STORIES_PROFILES":"({0} \u4ef6\u306e\u65b0\u898f\u66f4\u65b0)","TOTAL_NEW_STORIES_NOTIFICATION":"({0} \u4ef6\u306e\u65b0\u898f\u901a\u77e5)","SEMICOLON":";","REPLYTO_ERROR_DEFAULT_REASON":"developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc \u306b\u9001\u4fe1\u3055\u308c\u305f\u30e1\u30fc\u30eb\u306e\u51e6\u7406\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002","RELATED_COMMUNITY":"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc:","SIZE.B":"{0} B","DATE_TYPE_PLAIN":"{0}","TOTAL_NEW_STORIES_FORUMS":"({0} \u4ef6\u306e\u65b0\u898f\u66f4\u65b0)","REPLYTO_ERROR_DATA_PROBLEM":"\u30e1\u30fc\u30eb\u306e\u8fd4\u4fe1\u3092\u8ffd\u52a0\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u5143\u306e\u901a\u77e5\u306b\u95a2\u3059\u308b\u8a73\u7d30\u60c5\u5831\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3053\u3068\u304c\u539f\u56e0\u3067\u3059\u3002","TIME_TYPE_HTML":"\x3cspan class=\"time\"\x3e{0}\x3c/span\x3e","SIZE.MB":"{0} MB","DOUBLE_QUOTES":"\"{0}\"","REPLYTO_ERROR_TITLE":"\u7533\u3057\u8a33\u3042\u308a\u307e\u305b\u3093\u3002\u3042\u306a\u305f\u306e\u8fd4\u4fe1\u3092\u8ffd\u52a0\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002","DATETIME_TYPE_PLAIN":"{0}","HEADER_BOOKMARKS":"\u30d6\u30c3\u30af\u30de\u30fc\u30af","POSTING_DATE":"\u6295\u7a3f\u306e\u65e5\u4ed8:","NEWSLETTER_TITLE_DAILY":"[developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc] {0} \u306e\u65e5\u520a\u30cb\u30e5\u30fc\u30b9\u30ec\u30bf\u30fc","REPLYTO_ERROR_DISALLOWEDCONTENT":"\u30e1\u30fc\u30eb\u306e\u8fd4\u4fe1\u3092\u8ffd\u52a0\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u7981\u6b62\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u539f\u56e0\u3067\u3059\u3002","ITEMNAME_TYPE_HTML":"\x3cspan class=\"itemname\"\x3e{0}\x3c/span\x3e","NOTIFICATION_FROM_WHERE_AND_UNSUBSCRIBE":"\u3053\u308c\u306f {0} \u304b\u3089\u9001\u4fe1\u3055\u308c\u305f\u901a\u77e5\u3067\u3059\u3002 {1}\u3002","OPEN_COMMUNITIES":"\u3053\u306e\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u3092\u958b\u304f","REPLYTO_DEFAULT_SOURCE":"developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc","COMMA":",","ANCHOR":"\x3ca href=\"{0}\"\x3e{1}\x3c/a\x3e","TEXT_TYPE_PLAIN":"{0}","OPEN_TOPICS":"\u3053\u306e\u30c8\u30d4\u30c3\u30af\u3092\u958b\u304f","REPLYTO_ERROR_SUBJECT":"\u30e1\u30fc\u30eb\u306e\u4ef6\u540d: ","OPEN_BLOGS":"\u3053\u306e\u30d6\u30ed\u30b0\u3092\u958b\u304f","dw.invite.external.register":"developerWorks \u306b\u767b\u9332\u3059\u308b","TOTAL_NEW_STORIES_WIKIS":"({0} \u4ef6\u306e\u65b0\u898f\u66f4\u65b0)","HEADER_BLOGS":"\u30d6\u30ed\u30b0","TOTAL_NEW_STORIES_TAGS":"({0} \u4ef6\u306e\u65b0\u898f\u30b9\u30c8\u30fc\u30ea\u30fc)","PERIOD":"\u3002","TOTAL_NEW_STORIES_COMMUNITIES":"({0} \u4ef6\u306e\u65b0\u898f\u66f4\u65b0)","ICON_ALT":"\u30a2\u30a4\u30b3\u30f3","NOTIFICATION_FROM_WHERE":"\u3053\u308c\u306f {0} \u304b\u3089\u9001\u4fe1\u3055\u308c\u305f\u901a\u77e5\u3067\u3059\u3002","USER_TYPE_HTML_PLAIN":"\x3cb\x3e{0}\x3c/b\x3e","REPLYTO_ERROR_EMPTYMESSAGE":"\u30e1\u30fc\u30eb\u306e\u8fd4\u4fe1\u3092\u8ffd\u52a0\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u7a7a\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u539f\u56e0\u3067\u3059\u3002","REPLYTO_ERROR_CORRUPTMESSAGE":"\u30e1\u30fc\u30eb\u306e\u8fd4\u4fe1\u3092\u8ffd\u52a0\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u7834\u640d\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u539f\u56e0\u3067\u3059\u3002","DATETIME_TYPE_HTML":"\x3cspan class=\"datetime\"\x3e{0}\x3c/span\x3e","HEADLINE_DAILY":"{0} \u306e\u65e5\u6b21\u66f4\u65b0","dw.invite.external.view.com":"{0} \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u3092\u8868\u793a","MORE_20_UPDATES":"(20 \u4ef6\u3092\u8d85\u3048\u308b\u65b0\u898f\u66f4\u65b0)","HEADER_ACTIVITIES":"\u30a2\u30af\u30c6\u30a3\u30d3\u30c6\u30a3\u30fc","INDIVIDUAL_TITLE_NEWS":"developerWorks \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc","VIEW_ALL":"\u3059\u3079\u3066\u8868\u793a...","OPEN_ITEM":"\u3053\u306e\u9805\u76ee\u3092\u958b\u304f","SIZE.GB":"{0} GB","REPLYTO_ERROR_AUTHENTICATION":"\u30e1\u30fc\u30eb\u306e\u8fd4\u4fe1\u3092\u51e6\u7406\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u6a29\u9650\u306e\u554f\u984c\u304c\u539f\u56e0\u3067\u3059\u3002","INDIVIDUAL_TITLE_FILES":"\u30d5\u30a1\u30a4\u30eb","MORE_20_COMMENTS":"(20 \u4ef6\u3092\u8d85\u3048\u308b\u65b0\u898f\u30b3\u30e1\u30f3\u30c8\u3068\u8fd4\u4fe1)","dw.invite.external.subject":"\u3042\u306a\u305f\u306fdeveloperWorks\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30fc\u306b\u62db\u5f85\u3055\u308c\u307e\u3057\u305f\u3002","SUBJECT_PREFIX_CONTENTS":"source.name","MOBILE_LINK_TEXT":"\u30e2\u30d0\u30a4\u30eb\u3067\u958b\u304f","TOTAL_NEW_STORIES_BOOKMARKS":"({0} \u4ef6\u306e\u65b0\u898f\u66f4\u65b0)","HEADLINE_DAILY_NO_DATE":"\u65e5\u6b21\u66f4\u65b0","HTML_TYPE_HTML":"\x3cspan class=\"html\"\x3e{0}\x3c/span\x3e","TEXT_TYPE_HTML":"\x3cspan class=\"text\"\x3e{0}\x3c/span\x3e"},"lc_sand":{"sand_thingsInCommon":"Things in Common","sand_simComm":"Similar Communities","sand_DYK":"Do You Know","sand_socialPath":"Who Connects Us?","sand_recomItems":"Recommendations","sand_recomComm":"Recommendations"},"Activities":"Activities","RecentUpdates":"Recent Updates","MyLibrary":"My Library","Wiki":"Wiki","commBookmarks":"Make useful web resources available directly from your community.","updatesDescription":"Update your community status to let other members know what you are doing.","subcommunityDescription":"Bring together a subset of members within an existing community.","ideationBlogsDescription":"Collaborate with community members to contribute and vote on ideas.","notification_pt_BR":{"HEADER_RESPONSES":"Respostas e Notifica\xe7\xf5es","OPEN_ACTIVITIES":"Abrir esta atividade","FOOTER_COPYRIGHT":"Copyright IBM 2012. ","OPEN_FORUMS":"Abrir este f\xf3rum","REPLYTO_ERROR_CONTENT":"Conte\xfado do e-mail:","TOTAL_NEW_STORIES_BLOGS":"({0} novas atualiza\xe7\xf5es)","FOOTER_UNSUBSCRIBE":"Para cancelar assinatura ou alterar configura\xe7\xf5es, acesse suas Configura\xe7\xf5es do comunidade developerWorks.","INDIVIDUAL_TITLE":"[comunidade developerWorks] {0}","TOTAL_NEW_STORIES_ACTIVITIES":"({0} novas atualiza\xe7\xf5es)","HEADER_TOPICS":"T\xf3picos","TIME_TYPE_PLAIN":"{0}","dw.invite.external.view.public":"Veja as comunidades p\xfablicas","INTRODUCTION":"Esta \xe9 uma lista de atualiza\xe7\xf5es de sua rede de contatos, locais, pessoas e itens que voc\xea est\xe1 seguindo e respostas ao conte\xfado que postou.","ITEMNAME_PLAIN_TYPE_HTML":"\x3cspan class=\"itemname\"\x3e\x3cb\x3e{0}\x3c/b\x3e\x3c/span\x3e","NOTIFICATION_AD2":"\x3cfont size=\"4\"\x3eDesenvolva e implemente seu pr\xf3ximo aplicativo\x3cbr /\x3ena plataforma de cloud do IBM Bluemix\x3c/font\x3e","USER_TYPE_HTML":"\x3cspan class=\"user\"\x3e{0}\x3c/span\x3e","NOTIFICATION_AD4":"href=\"https://developer.ibm.com/sso/bmregistration/?lang=pt_BR&amp;ca=dwbrazil-_-bluemix-_-dwcomm-_-email\"\x3e\x3cfont size=\"3\"\x3eClique aqui para come\xe7ar a desenvolver de gra\xe7a\x3c/font\x3e\x3c/a\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e","OPEN_MENTIONS":"Abrir essa atualiza\xe7\xe3o de status","OPEN_FILES":"Abrir cole\xe7\xe3o de arquivos","dw.invite.external.message1":"\x3cb\x3e\x3cspan\x3e\x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3e{1}\x3c/a\x3e\x3c/span\x3e\x3c/b\x3e convidou voc\xea para participar da comunidade \x3ca rel=\'nofollow\' href=\'{2}\' target=\'_blank\'\x3e\x3cspan\x3e{3}\x3c/span\x3e\x3c/a\x3e no developerWorks","dw.invite.external.message2":"Para participar dessa comunidade, voc\xea precisa:","SUBJECT_PREFIX":"[{0}]","HEADER_FILES":"Arquivos","dw.invite.external.message3":"1. \x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3eFazer o registro no developerWorks\x3c/a\x3e e criar seu perfil.","ITEMNAME_TYPE_PLAIN":"\'\'{0}\'\'","dw.invite.external.message4":"2. Depois de fazer o registro no developerWorks, voc\xea receber\xe1 um email com instru\xe7\xf5es para aceitar o convite e o link para a comunidade.","NEWSLETTER_TITLE_WEEKLY":"[comunidade developerWorks] Boletim Semanal de {0} para {1}","REPLYTO_ERROR_NOTEXIST":"Sua resposta de email n\xe3o p\xf4de ser processada porque o item original n\xe3o existe mais.","INDIVIDUAL_TITLE_WIKIS":"Wikis","INDIVIDUAL_TITLE_ACTIVITIES":"Atividades","HEADER_MENTIONS":"Men\xe7\xf5es","dw.invite.external.disclaimer1":"Essa notifica\xe7\xe3o foi enviada pelo comunidade developerWorks.","LOTUS_CONNECTIONS_ICON_ALT":"comunidade developerWorks","dw.invite.external.disclaimer2":"A informa\xe7\xe3o contida neste e-mail \xe9 destinada somente para o uso dos destinat\xe1rios e est\xe1 sujeita \xe0 \x3ca href=\"https://www.ibm.com/privacy/details/pt/pt/\"\x3eDeclara\xe7\xe3o de Privacidade da IBM Online\x3c/a\x3e. Se voc\xea recebeu este e-mail por engano, por favor, entre em contato com o remetente para relatar o erro e, em seguida, apague esta mensagem de seu sistema.","COLON":":","DATE_TYPE_HTML":"\x3cspan class=\"date\"\x3e{0}\x3c/span\x3e","INDIVIDUAL_TITLE_FORUMS":"F\xf3runs","OPEN_PROFILES":"Visualizar este perfil","str.msgid.ignore":"true","MORE_STORIES":"(mais de {0} atualiza\xe7\xf5es)","TOTAL_NEW_STORIES_TOPICS":"({0} novas atualiza\xe7\xf5es)","TOTAL_NEW_STORIES_RESPONSES":"({0} novas respostas e notifica\xe7\xf5es)","HEADLINE_WEEKLY":"Suas atualiza\xe7\xf5es semanais de {0} para {1}","FILESIZE_TYPE_HTML":"\x3cspan class=\"filesize\"\x3e{0}\x3c/span\x3e","SINGLE_QUOTES":"\'\'{0}\'\'","REPLYTO_ACTION_HELP_POST":"Responder a esta notifica\xe7\xe3o permitir\xe1 postar sua resposta usando e-mail.","REPLYTO_ACTION_HELP_EOM":"\xc9 poss\xedvel incluir \"{0}\" no final de sua resposta em uma nova linha. Qualquer conte\xfado posterior ser\xe1 descartado e n\xe3o ser\xe1 mostrado em sua resposta.","INDIVIDUAL_EMAIL":"Esta \xe9 uma notifica\xe7\xe3o enviada a partir do comunidade developerWorks.","USER_TYPE_PLAIN":"{0}","NOTIFICATION_FROM_WHERE_PERIOD":"Esta \xe9 uma notifica\xe7\xe3o enviada de {0}.","HEADER_PROFILES":"Minha rede de pessoas","HEADER_NOTIFICATION":"Minhas Notifica\xe7\xf5es","REPLYTO_ERROR_OTHER":"A resposta de seu e-mail n\xe3o p\xf4de ser processada devido a um erro.","HEADER_FORUMS":"F\xf3runs","SIZE.KB":"{0} KB","FILESIZE_TYPE_PLAIN":"{0}","INDIVIDUAL_TITLE_DOGEAR":"Marcadores","CATEGORY_ERROR":"Ocorreu um erro ao recuperar as entradas para esta categoria, entre em contato com o administrador","OPEN_WIKIS":"Abrir Este Wiki","TOTAL_NEW_STORIES_MENTIONS":"({0} novas men\xe7\xf5es)","NOTIFICATION_DISCLAIMER":"\x3cbr /\x3e\x3cbr /\x3e\x3cfont size=\"2\"\x3eA informa\xe7\xe3o contida neste e-mail \xe9 destinada somente para o uso dos destinat\xe1rios e est\xe1 sujeita \xe0 \x3ca class=\"privacy\" href=\"https://www.ibm.com/privacy/details/pt/pt/\"\x3eDeclara\xe7\xe3o de Privacidade da IBM Online\x3c/a\x3e. Se voc\xea recebeu este e-mail por engano, por favor, entre em contato com o remetente para relatar o erro e, em seguida, apague esta mensagem de seu sistema.\x3c/font\x3e","HEADER_WIKIS":"Wikis","TOTAL_NEW_STORIES_FILES":"({0} novas atualiza\xe7\xf5es)","INDIVIDUAL_TITLE_MODERATION":"Modera\xe7\xe3o","SUBJECT_DELIMITER":",","HEADER_COMMUNITIES":"Comunidades","INDIVIDUAL_TITLE_PROFILES":"Perfis","HEADLINE_WEEKLY_NO_DATE":"Suas atualiza\xe7\xf5es semanais","HTML_TYPE_PLAIN":"{0}","INDIVIDUAL_TITLE_COMMUNITIES":"Comunidades","INDIVIDUAL_TITLE_BLOGS":"Blogs","LOTUS_CONNECTIONS":"comunidade developerWorks","HEADER_TAGS":"Identifica\xe7\xf5es","FOOTER_TERM_OF_USE":"Termos de uso","TOTAL_NEW_STORIES_PROFILES":"({0} novas atualiza\xe7\xf5es)","TOTAL_NEW_STORIES_NOTIFICATION":"({0} novas notifica\xe7\xf5es)","SEMICOLON":";","REPLYTO_ERROR_DEFAULT_REASON":"Ocorreu um erro ao processar o e-mail enviado para comunidade developerWorks.","RELATED_COMMUNITY":"Comunidade:","SIZE.B":"{0}B","DATE_TYPE_PLAIN":"{0}","TOTAL_NEW_STORIES_FORUMS":"({0} novas atualiza\xe7\xf5es)","REPLYTO_ERROR_DATA_PROBLEM":"Sua resposta de email n\xe3o p\xf4de ser inclu\xedda porque os detalhes sobre a notifica\xe7\xe3o original n\xe3o puderam ser localizados.","TIME_TYPE_HTML":"\x3cspan class=\"time\"\x3e{0}\x3c/span\x3e","SIZE.MB":"{0} MB","DOUBLE_QUOTES":"\"{0}\"","REPLYTO_ERROR_TITLE":"Lamentamos, mas sua resposta n\xe3o p\xf4de ser inclu\xedda","DATETIME_TYPE_PLAIN":"{0}","HEADER_BOOKMARKS":"Marcadores","POSTING_DATE":"Data de Postagem:","NEWSLETTER_TITLE_DAILY":"[comunidade developerWorks] Boletim Di\xe1rio para {0}","REPLYTO_ERROR_DISALLOWEDCONTENT":"Sua resposta de email n\xe3o p\xf4de ser inclu\xedda porque ela cont\xe9m conte\xfado desaprovado.","NOTIFICATION_FROM_WHERE_AND_UNSUBSCRIBE":"Esta \xe9 uma notifica\xe7\xe3o enviada de {0}. {1}.","OPEN_COMMUNITIES":"Abrir esta comunidade","REPLYTO_DEFAULT_SOURCE":"comunidade developerWorks","ANCHOR":"\x3ca href=\"{0}\"\x3e{1}\x3c/a\x3e","COMMA":",","TEXT_TYPE_PLAIN":"{0}","OPEN_TOPICS":"Abrir este t\xf3pico","REPLYTO_ERROR_SUBJECT":"Assunto do E-mail: ","dw.invite.external.register":"Registre-se no developerWorks","OPEN_BLOGS":"Abrir este blog","TOTAL_NEW_STORIES_WIKIS":"({0} novas atualiza\xe7\xf5es)","HEADER_BLOGS":"Blogs","TOTAL_NEW_STORIES_TAGS":"({0} novas hist\xf3rias)","TOTAL_NEW_STORIES_COMMUNITIES":"({0} novas atualiza\xe7\xf5es)","PERIOD":".","ICON_ALT":"\xcdcone","NOTIFICATION_FROM_WHERE":"Esta \xe9 uma notifica\xe7\xe3o enviada do {0}","USER_TYPE_HTML_PLAIN":"\x3cb\x3e{0}\x3c/b\x3e","REPLYTO_ERROR_EMPTYMESSAGE":"Sua resposta de email n\xe3o p\xf4de ser inclu\xedda porque a mensagem est\xe1 vazia.","REPLYTO_ERROR_CORRUPTMESSAGE":"Sua resposta de email n\xe3o p\xf4de ser inclu\xedda porque a mensagem est\xe1 corrompida.","ITEMNAME_LINK_TYPE_HTML":"\x3cspan class=\"itemname\"\x3e{0}\x3c/span\x3e","DATETIME_TYPE_HTML":"\x3cspan class=\"datetime\"\x3e{0}\x3c/span\x3e","dw.invite.external.body.template":"{0}\x3cbr/\x3e{1}\x3cbr/\x3e{2}","HEADLINE_DAILY":"Suas atualiza\xe7\xf5es di\xe1rias para {0}","dw.invite.external.view.com":"Veja o {0} comunidade","MORE_20_UPDATES":"(Mais de 20 novas atualiza\xe7\xf5es)","HEADER_ACTIVITIES":"Atividades","INDIVIDUAL_TITLE_NEWS":"comunidade developerWorks","VIEW_ALL":"Visualizar tudo...","OPEN_ITEM":"Abrir este item","SIZE.GB":"{0} GB","REPLYTO_ERROR_AUTHENTICATION":"A resposta de seu e-mail n\xe3o p\xf4de ser processada devido a um problema de autoriza\xe7\xe3o.","INDIVIDUAL_TITLE_FILES":"Arquivos","MORE_20_COMMENTS":"(Mais de 20 novo coment\xe1rios e respostas)","dw.invite.external.subject":"Voc\xea foi convidado para participar de uma comunidade no developerWorks","SUBJECT_PREFIX_CONTENTS":"source.name","MOBILE_LINK_TEXT":"Abrir no Dispositivo M\xf3vel","TOTAL_NEW_STORIES_BOOKMARKS":"({0} novas atualiza\xe7\xf5es)","HEADLINE_DAILY_NO_DATE":"Suas atualiza\xe7\xf5es di\xe1rias","HTML_TYPE_HTML":"\x3cspan class=\"html\"\x3e{0}\x3c/span\x3e","TEXT_TYPE_HTML":"\x3cspan class=\"text\"\x3e{0}\x3c/span\x3e"},"notification_ru":{"HEADER_RESPONSES":"\u041e\u0442\u0432\u0435\u0442\u044b \u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f","OPEN_ACTIVITIES":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u044d\u0442\u0443 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e","FOOTER_COPYRIGHT":"Copyright IBM 2012. ","OPEN_FORUMS":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u044d\u0442\u043e\u0442 \u0444\u043e\u0440\u0443\u043c","REPLYTO_ERROR_CONTENT":"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043f\u0438\u0441\u044c\u043c\u0430:","TOTAL_NEW_STORIES_BLOGS":"({0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439)","FOOTER_UNSUBSCRIBE":"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f \u043e\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 \u0438\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b, \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b developerWorks Community.","INDIVIDUAL_TITLE":"[\u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 developerWorks] {0}","TOTAL_NEW_STORIES_ACTIVITIES":"({0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439)","HEADER_TOPICS":"\u0422\u0435\u043c\u044b","TIME_TYPE_PLAIN":"{0}","dw.invite.external.view.public":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430","INTRODUCTION":"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u0441\u0435\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432, \u0441\u0430\u0439\u0442\u043e\u0432 \u0433\u0440\u0443\u043f\u043f, \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u0438 \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b.","ITEMNAME_PLAIN_TYPE_HTML":"\x3cspan class=\"itemname\"\x3e\x3cb\x3e{0}\x3c/b\x3e\x3c/span\x3e","NOTIFICATION_AD2":"\x3cfont size=\"4\"\x3e\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u0439\u0442\u0435 \u0438 \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435\x3cbr /\x3e\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0439 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 IBM Bluemix\x3c/font\x3e","USER_TYPE_HTML":"\x3cspan class=\"user\"\x3e{0}\x3c/span\x3e","NOTIFICATION_AD4":"href=\"https://developer.ibm.com/sso/bmregistration/?lang=ru_RU&amp;ca=dwrussia-_-bluemix-_-dwcomm-_-email\"\x3e\x3cfont size=\"3\"\x3e\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0441\u044e\u0434\u0430, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e\x3c/font\x3e\x3c/a\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e","OPEN_MENTIONS":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u044d\u0442\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f","OPEN_FILES":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043d\u0430\u0431\u043e\u0440 \u0444\u0430\u0439\u043b\u043e\u0432","dw.invite.external.message1":"\x3cb\x3e\x3cspan\x3e\x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3e{1}\x3c/a\x3e\x3c/span\x3e\x3c/b\x3e \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u043b \u0432\u0430\u043c \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443 \x3ca rel=\'nofollow\' href=\'{2}\' target=\'_blank\'\x3e\x3cspan\x3e{3}\x3c/span\x3e\x3c/a\x3e developerWorks.","dw.invite.external.message2":"\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043a \u044d\u0442\u043e\u043c\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443 \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e:","SUBJECT_PREFIX":"[{0}]","HEADER_FILES":"\u0424\u0430\u0439\u043b\u044b","dw.invite.external.message3":"1. \x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3e\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432 developerWorks\x3c/a\x3e \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c.","ITEMNAME_TYPE_PLAIN":"\'\'{0}\'\'","dw.invite.external.message4":"2. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0432\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u0442\u0435\u0441\u044c \u0432 developerWorks \u0432\u0430\u043c \u043f\u0440\u0438\u0434\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0430 \u043f\u043e\u0447\u0442\u0443 \u0441 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c\u0438 \u043a\u0430\u043a \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u0438 \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e.","NEWSLETTER_TITLE_WEEKLY":"[\u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 developerWorks] \u0415\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0431\u044e\u043b\u043b\u0435\u0442\u0435\u043d\u044c \u0441 {0} \u043f\u043e {1}","REPLYTO_ERROR_NOTEXIST":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432\u0430\u0448 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u043f\u0438\u0441\u044c\u043c\u043e, \u0442\u0430\u043a \u043a\u0430\u043a \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.","INDIVIDUAL_TITLE_WIKIS":"\u0412\u0438\u043a\u0438","INDIVIDUAL_TITLE_ACTIVITIES":"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438","HEADER_MENTIONS":"\u0423\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f","dw.invite.external.disclaimer1":"\u042d\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0437 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435 developerWorks.","LOTUS_CONNECTIONS_ICON_ALT":"\u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 developerWorks","dw.invite.external.disclaimer2":"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f\u0441\u044f \u0432 \u044d\u0442\u043e\u043c \u043f\u0438\u0441\u044c\u043c\u0435 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f\u043c\u0438 \u0438 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u043c \x3ca href=\"https://www.ibm.com/privacy/details/ru/ru/\"\x3e\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f \u0418\u0411\u041c\x3c/a\x3e. \u0415\u0441\u043b\u0438 \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u044d\u0442\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u043f\u043e \u043e\u0448\u0438\u0431\u043a\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u0435 \u043e\u0431 \u044d\u0442\u043e\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044e \u043f\u0438\u0441\u044c\u043c\u0430 \u0438 \u0437\u0430\u0442\u0435\u043c \u0441\u043e\u0442\u0440\u0438\u0442\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b.","COLON":":","DATE_TYPE_HTML":"\x3cspan class=\"date\"\x3e{0}\x3c/span\x3e","INDIVIDUAL_TITLE_FORUMS":"\u0424\u043e\u0440\u0443\u043c\u044b","OPEN_PROFILES":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0444\u0430\u0439\u043b","str.msgid.ignore":"true","MORE_STORIES":"(\u0431\u043e\u043b\u0435\u0435 {0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439)","TOTAL_NEW_STORIES_TOPICS":"({0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439)","TOTAL_NEW_STORIES_RESPONSES":"(\u043d\u043e\u0432\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432 \u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439: {0})","HEADLINE_WEEKLY":"\u0415\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441 {0} \u043f\u043e {1}","FILESIZE_TYPE_HTML":"\x3cspan class=\"filesize\"\x3e{0}\x3c/span\x3e","SINGLE_QUOTES":"\'\'{0}\'\'","REPLYTO_ACTION_HELP_POST":"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u044d\u0442\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u0435.","REPLYTO_ACTION_HELP_EOM":"\u041d\u0430 \u043d\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435 \u0432 \u043a\u043e\u043d\u0446\u0435 \u043f\u0438\u0441\u044c\u043c\u0430 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \"{0}\". \u0412\u0441\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u043d\u0438\u0436\u0435 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0431\u0443\u0434\u0435\u0442 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043e\u0442\u0432\u0435\u0442\u0435.","INDIVIDUAL_EMAIL":"\u042d\u0442\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0437 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 developerWorks.","USER_TYPE_PLAIN":"{0}","NOTIFICATION_FROM_WHERE_PERIOD":"\u042d\u0442\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0437 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f {0}.","HEADER_PROFILES":"\u041c\u043e\u044f \u0441\u0435\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439","HEADER_NOTIFICATION":"\u041c\u043e\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f","REPLYTO_ERROR_OTHER":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432\u0430\u0448 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u043f\u0438\u0441\u044c\u043c\u043e \u0438\u0437-\u0437\u0430 \u043e\u0448\u0438\u0431\u043a\u0438.","HEADER_FORUMS":"\u0424\u043e\u0440\u0443\u043c\u044b","SIZE.KB":"{0} \u041a\u0411","FILESIZE_TYPE_PLAIN":"{0}","INDIVIDUAL_TITLE_DOGEAR":"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438","CATEGORY_ERROR":"\u041f\u0440\u0438 \u0438\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443.","OPEN_WIKIS":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u044d\u0442\u0443 \u0432\u0438\u043a\u0438","TOTAL_NEW_STORIES_MENTIONS":"({0} \u043d\u043e\u0432\u044b\u0445 \u0443\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0439)","NOTIFICATION_DISCLAIMER":"\x3cbr /\x3e\x3cbr /\x3e\x3cfont size=\"2\"\x3e\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f\u0441\u044f \u0432 \u044d\u0442\u043e\u043c \u043f\u0438\u0441\u044c\u043c\u0435 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f\u043c\u0438 \u0438 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u043e\u043c \x3ca class=\"privacy\" href=\"https://www.ibm.com/privacy/details/ru/ru/\"\x3e\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f \u0418\u0411\u041c\x3c/a\x3e. \u0415\u0441\u043b\u0438 \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u044d\u0442\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u043f\u043e \u043e\u0448\u0438\u0431\u043a\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u0435 \u043e\u0431 \u044d\u0442\u043e\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044e \u043f\u0438\u0441\u044c\u043c\u0430 \u0438 \u0437\u0430\u0442\u0435\u043c \u0441\u043e\u0442\u0440\u0438\u0442\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b.\x3c/font\x3e ","HEADER_WIKIS":"\u0412\u0438\u043a\u0438","TOTAL_NEW_STORIES_FILES":"({0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439)","INDIVIDUAL_TITLE_MODERATION":"\u041c\u043e\u0434\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","SUBJECT_DELIMITER":",","HEADER_COMMUNITIES":"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430","INDIVIDUAL_TITLE_PROFILES":"\u041f\u0440\u043e\u0444\u0430\u0439\u043b\u044b","HEADLINE_WEEKLY_NO_DATE":"\u0412\u0430\u0448\u0438 \u0435\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f","HTML_TYPE_PLAIN":"{0}","INDIVIDUAL_TITLE_COMMUNITIES":"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430","INDIVIDUAL_TITLE_BLOGS":"\u0411\u043b\u043e\u0433\u0438","LOTUS_CONNECTIONS":"\u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 developerWorks","HEADER_TAGS":"\u0422\u0435\u0433\u0438","FOOTER_TERM_OF_USE":"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","TOTAL_NEW_STORIES_PROFILES":"({0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439)","TOTAL_NEW_STORIES_NOTIFICATION":"(\u043d\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439: {0})","SEMICOLON":";","REPLYTO_ERROR_DEFAULT_REASON":"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043f\u0438\u0441\u044c\u043c\u0430, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0433\u043e \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 developerWorks.","RELATED_COMMUNITY":"\u0421\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e:","SIZE.B":"{0} \u0411","DATE_TYPE_PLAIN":"{0}","TOTAL_NEW_STORIES_FORUMS":"({0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439)","REPLYTO_ERROR_DATA_PROBLEM":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0448 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u043f\u0438\u0441\u044c\u043c\u043e, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u0431 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u043c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0438.","TIME_TYPE_HTML":"\x3cspan class=\"time\"\x3e{0}\x3c/span\x3e","SIZE.MB":"{0} \u041c\u0411","DOUBLE_QUOTES":"\"{0}\"","REPLYTO_ERROR_TITLE":"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0430\u0448\u0435\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e","DATETIME_TYPE_PLAIN":"{0}","HEADER_BOOKMARKS":"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438","POSTING_DATE":"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438:","NEWSLETTER_TITLE_DAILY":"[\u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 developerWorks] \u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0431\u044e\u043b\u043b\u0435\u0442\u0435\u043d\u044c \u0437\u0430 {0}","REPLYTO_ERROR_DISALLOWEDCONTENT":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0448 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u043f\u0438\u0441\u044c\u043c\u043e, \u0442\u0430\u043a \u043a\u0430\u043a \u0432 \u043d\u0435\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u0441\u044f \u043d\u0435\u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b.","NOTIFICATION_FROM_WHERE_AND_UNSUBSCRIBE":"\u042d\u0442\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0437 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f {0}. {1}.","OPEN_COMMUNITIES":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u044d\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e","REPLYTO_DEFAULT_SOURCE":"\u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 developerWorks","ANCHOR":"\x3ca href=\"{0}\"\x3e{1}\x3c/a\x3e","COMMA":",","TEXT_TYPE_PLAIN":"{0}","OPEN_TOPICS":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u044d\u0442\u0443 \u0442\u0435\u043c\u0443","REPLYTO_ERROR_SUBJECT":"\u0422\u0435\u043c\u0430 \u043f\u0438\u0441\u044c\u043c\u0430: ","dw.invite.external.register":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432 developerWorks","OPEN_BLOGS":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u044d\u0442\u043e\u0442 \u0431\u043b\u043e\u0433","TOTAL_NEW_STORIES_WIKIS":"({0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439)","HEADER_BLOGS":"\u0411\u043b\u043e\u0433\u0438","TOTAL_NEW_STORIES_TAGS":"(\u043d\u043e\u0432\u044b\u0445 \u0441\u0442\u0430\u0442\u0435\u0439: {0})","TOTAL_NEW_STORIES_COMMUNITIES":"({0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439)","PERIOD":".","ICON_ALT":"\u0417\u043d\u0430\u0447\u043e\u043a","NOTIFICATION_FROM_WHERE":"\u042d\u0442\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0437 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f {0}","USER_TYPE_HTML_PLAIN":"\x3cb\x3e{0}\x3c/b\x3e","REPLYTO_ERROR_EMPTYMESSAGE":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0448 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u043f\u0438\u0441\u044c\u043c\u043e, \u0442\u0430\u043a \u043a\u0430\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u0443\u0441\u0442\u043e\u0435.","REPLYTO_ERROR_CORRUPTMESSAGE":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u0448 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u043f\u0438\u0441\u044c\u043c\u043e, \u0442\u0430\u043a \u043a\u0430\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043e.","ITEMNAME_LINK_TYPE_HTML":"\x3cspan class=\"itemname\"\x3e{0}\x3c/span\x3e","DATETIME_TYPE_HTML":"\x3cspan class=\"datetime\"\x3e{0}\x3c/span\x3e","dw.invite.external.body.template":"{0}\x3cbr/\x3e{1}\x3cbr/\x3e{2}","HEADLINE_DAILY":"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430 {0}","dw.invite.external.view.com":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 {0}","MORE_20_UPDATES":"(\u0411\u043e\u043b\u0435\u0435 20 \u043d\u043e\u0432\u044b\u0445 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439)","HEADER_ACTIVITIES":"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438","INDIVIDUAL_TITLE_NEWS":"\u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 developerWorks","VIEW_ALL":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435...","OPEN_ITEM":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u044d\u0442\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442","SIZE.GB":"{0} \u0413\u0411","REPLYTO_ERROR_AUTHENTICATION":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432\u0430\u0448 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u043f\u0438\u0441\u044c\u043c\u043e \u0438\u0437-\u0437\u0430 \u043d\u0435\u043f\u043e\u043b\u0430\u0434\u043e\u043a \u0441 \u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430.","INDIVIDUAL_TITLE_FILES":"\u0424\u0430\u0439\u043b\u044b","MORE_20_COMMENTS":"(\u0411\u043e\u043b\u0435\u0435 20 \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u0438 \u043e\u0442\u0432\u0435\u0442\u043e\u0432)","dw.invite.external.subject":"\u0412\u0430\u0441 \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u043b\u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443 developerWorks.","SUBJECT_PREFIX_CONTENTS":"source.name","MOBILE_LINK_TEXT":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043d\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435","TOTAL_NEW_STORIES_BOOKMARKS":"({0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439)","HEADLINE_DAILY_NO_DATE":"\u0412\u0430\u0448\u0438 \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f","HTML_TYPE_HTML":"\x3cspan class=\"html\"\x3e{0}\x3c/span\x3e","TEXT_TYPE_HTML":"\x3cspan class=\"text\"\x3e{0}\x3c/span\x3e"},"widgetPalette":"Widget Palette","Files":"Files","StatusUpdates":"Status Updates","SubcommunityNav":"Subcommunities","forumDescription":"Discuss topics and share ideas.","Bookmarks":"Bookmarks","Calendar":"Events","calendarDescription":"Post important community events such as seminars and training. ","eventsDescription":"Post important community events such as seminars and training. ","commFeeds":"Add feeds to relevant web sites to your community.","Updates":"Recent Updates","notification":{"HEADER_RESPONSES":"Responses & Notifications","email.member.added.1":"1. {0}","OPEN_ACTIVITIES":"Open this activity","email.member.added.2":"2. {0}","FOOTER_COPYRIGHT":"Copyright IBM 2012. ","OPEN_FORUMS":"Open this forum","email.member.added.tgmc.description":"The Public community contains instructions and all materials related to this competition.\x3cbr\x3e\x3cbr\x3eThe Private \"{0}\" team subcommunity is only accessible to your team. You can use the subcommunity&#39s collaborative tools to help organize your project. \x3cbr\x3e\x3cbr\x3eYou can also update your personal profile information from any page by logging in and editing your profile. (Click on your profile name, located in the upper-right corner of the page.) For more information about maintaining your profile, see the topic in {1}.","REPLYTO_ERROR_CONTENT":"Email content:","TOTAL_NEW_STORIES_BLOGS":"({0} new updates)","FOOTER_UNSUBSCRIBE":"To unsubscribe or change settings, please go to your developerWorks community Settings.","email.owner.removed.tgmc.description":"{0} is no longer participating as a member of Team {1} for the TGMC competition.","INDIVIDUAL_TITLE":"[developerWorks community] {0}","TOTAL_NEW_STORIES_ACTIVITIES":"({0} new updates)","HEADER_TOPICS":"Topics","TIME_TYPE_PLAIN":"{0}","email.owner.added.tgmc.header":"{0} has been added to the Team {1}, which is participating in the TGMC {2} competition.","NOTIFICATION_DISCLAIMER_TGMC":"\x3cbr /\x3e\x3cbr /\x3e\x3cfont size=\"2\"\x3eThe information contained in this e-mail message is intended only for the use of the named recipients and is subject to the \x3ca href=\"https://www.ibm.com/privacy/details/us/en/\"\x3eIBM Online Privacy Statement\x3c/a\x3e. If you have received this e-mail in error, please contact the sender to report the error and then delete this message from your system.\x3c/font\x3e","dw.invite.external.view.public":"View public communities","INTRODUCTION":"This is a list of updates from your network of contacts, places, people and items you are following, and responses to content you\'ve posted.","NOTIFICATION_AD1":"\x3cbr /\x3e\x3cbr /\x3e\x3ctable cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"\x3e\x3ctr\x3e\x3ctd width=\"72\"\x3e\x3cimg src=\"http://dw1.s81c.com/developerworks/i/dw-lc/joindWp_icon.png\" alt=\"dW\" style=\"vertical-align: middle\" /\x3e\x3c/td\x3e\x3ctd valign=\"top\" height=\"70\"\x3e\x3cspan style=\"color: #333333; font-family: \'HelveticaNeue-Light\',\'HelvLightIBM\',\'Helvetica Neue\',Helvetica,Arial,sans-serif; text-align: center;line-height:2.8em;\"\x3e","NOTIFICATION_AD2":"\x3cfont size=\"4\"\x3eAll the tools you need to develop in the cloud\x3c/font\x3e\x3c/span\x3e\x3cbr /\x3e\x3cspan style=\"letter-spacing: 0.025em;line-height:3.0em;\"\x3e\x3cfont size=\"2\"\x3ePick up your all-access pass to powerful tools, resources, and support.\x3c/font\x3e","USER_TYPE_HTML":"\x3cspan class=\"user\"\x3e{0}\x3c/span\x3e","NOTIFICATION_AD3":"\x3c/span\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3cbr/\x3e\x3ctable width=\"250\"\x3e\x3ctr\x3e\x3ctd width=\"1\"\x3e\x3c/td\x3e\x3ctd align=\"center\" style=\"background: #339999; border: 1px solid #339999;\"\x3e\x3ca style=\"display: block; font-family: Arial; padding: 12px 0px !important; color: #ffffff; margin-bottom: 0px; text-decoration: none;\"","NOTIFICATION_AD4":"href=\"https://www.ibm.com/developerworks/premium/?cm_sp=dwpremium-_-dwcomm-_-email\"\x3e\x3cfont size=\"2\"\x3eExplore developerWorks Premium\x3c/font\x3e\x3c/a\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e","OPEN_MENTIONS":"Open this status update","NOTIFICATION_FROM_WHERE_TGMC":"This is a notification sent from {0}.","OPEN_FILES":"Open file collection","dw.invite.external.message1":"\x3cb\x3e\x3cspan\x3e\x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3e{1}\x3c/a\x3e\x3c/span\x3e\x3c/b\x3e has invited you to join the \x3ca rel=\'nofollow\' href=\'{2}\' target=\'_blank\'\x3e\x3cspan\x3e{3}\x3c/span\x3e\x3c/a\x3e community on developerWorks.","dw.invite.external.message2":"To join that community, you need to:","SUBJECT_PREFIX":"[{0}]","HEADER_FILES":"Files","dw.invite.external.message3":"1. \x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3eRegister with developerWorks\x3c/a\x3e and create your profile.","ITEMNAME_TYPE_PLAIN":"\'\'{0}\'\'","dw.invite.external.message4":"2. After you register for developerWorks, you will receive an email with instructions to accept the invitation and link to the community.","email.member.removed.tgmc.description":"You still belong to the {0}. You can leave the competition community at any time. ","NEWSLETTER_TITLE_WEEKLY":"[developerWorks community] Weekly Newsletter from {0} to {1}","email.invited.to.join.tgmc.register":"Register now and join the team!","REPLYTO_ERROR_NOTEXIST":"Your email reply could not be processed because the original item no longer exists.","INDIVIDUAL_TITLE_WIKIS":"Wikis","INDIVIDUAL_TITLE_ACTIVITIES":"Activities","HEADER_MENTIONS":"Mentions","LOTUS_CONNECTIONS_ICON_ALT":"developerWorks community","dw.invite.external.disclaimer1":"This is a notification sent from developerWorks community.","email.body.tgmc.signature.good":"\x3cbr\x3eGood luck!\x3cbr\x3e","dw.invite.external.disclaimer2":"The information contained in this e-mail message is intended only for the use of the named recipients and is subject to the \x3ca href=\"https://www.ibm.com/privacy/details/us/en/\"\x3eIBM Online Privacy Statement\x3c/a\x3e. If you have received this e-mail in error, please contact the sender to report the error and then delete this message from your system.","OPEN_PROFILES":"View this profile","COLON":":","DATE_TYPE_HTML":"\x3cspan class=\"date\"\x3e{0}\x3c/span\x3e","INDIVIDUAL_TITLE_FORUMS":"Forums","str.msgid.ignore":"true","email.owner.removed.tgmc.subject":"{0} has left Team {1}","MORE_STORIES":"(more than {0} updates)","TOTAL_NEW_STORIES_TOPICS":"({0} new updates)","TOTAL_NEW_STORIES_RESPONSES":"({0} new responses & notifications)","HEADLINE_WEEKLY":"Your weekly updates from {0} to {1}","FILESIZE_TYPE_HTML":"\x3cspan class=\"filesize\"\x3e{0}\x3c/span\x3e","SINGLE_QUOTES":"\'\'{0}\'\'","REPLYTO_ACTION_HELP_POST":"Replying to this notification will let you post your reply using email.","REPLYTO_ACTION_HELP_EOM":"You can add \"{0}\" to the end of your reply on a new line. Any content after that will be discarded and will not show in your response.","INDIVIDUAL_EMAIL":"This is a notification sent from developerWorks community.","USER_TYPE_PLAIN":"\'\'{0}\'\'","NOTIFICATION_FROM_WHERE_PERIOD":"This is a notification sent from {0}.","HEADER_PROFILES":"My network of people","HEADER_NOTIFICATION":"My Notifications","REPLYTO_ERROR_OTHER":"Your email reply could not be processed due to an error.","HEADER_FORUMS":"Forums","SIZE.KB":"{0} KB","INDIVIDUAL_TITLE_DOGEAR":"Bookmarks","FILESIZE_TYPE_PLAIN":"{0}","CATEGORY_ERROR":"Error occurred when retrieving entries for this category, please contact administrator","OPEN_WIKIS":"Open this wiki","NOTIFICATION_DISCLAIMER":"\x3cbr /\x3e\x3cbr /\x3e\x3cfont size=\"2\"\x3eThe information contained in this e-mail message is intended only for the use of the named recipients and is subject to the \x3ca class=\"privacy\" href=\"https://www.ibm.com/privacy/details/us/en/\"\x3eIBM Online Privacy Statement\x3c/a\x3e. If you have received this e-mail in error, please contact the sender to report the error and then delete this message from your system.\x3c/font\x3e","TOTAL_NEW_STORIES_MENTIONS":"({0} new mentions)","HEADER_WIKIS":"Wikis","TOTAL_NEW_STORIES_FILES":"({0} new updates)","INDIVIDUAL_TITLE_MODERATION":"Moderation","SUBJECT_DELIMITER":",","HEADER_COMMUNITIES":"Communities","INDIVIDUAL_TITLE_PROFILES":"Profiles","HTML_TYPE_PLAIN":"{0}","HEADLINE_WEEKLY_NO_DATE":"Your weekly updates","INDIVIDUAL_TITLE_COMMUNITIES":"Communities","email.member.added.tgmc.description.next":"\x3cb\x3eTGMC 2011 - Next steps:\x3c/b\x3e\x3cbr\x3e\x3cbr\x3e[Next Steps block appropiate to individual contest]","CUSTOM_URL":"http://www.ibm.com/developerworks/community/","email.member.removed.tgmc.header":"You have left Team {0} and are no longer participating with this team in the TGMC competition.","INDIVIDUAL_TITLE_BLOGS":"Blogs","LOTUS_CONNECTIONS":"developerWorks community","HEADER_TAGS":"Tags","FOOTER_TERM_OF_USE":"Terms of use","TOTAL_NEW_STORIES_PROFILES":"({0} new updates)","SEMICOLON":";","TOTAL_NEW_STORIES_NOTIFICATION":"({0} new notifications)","dw.invite.external.template":"\x3ch1\x3e{0}\x3c/h1\x3e\x3cdiv\x3e{1}\x3c/div\x3e\x3cdiv\x3e&nbsp;\x3c/div\x3e\x3ctable cellpadding=\'0\' cellspacing=\'0\'\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd\x3e\x3ca rel=\'nofollow\' href=\'{2}\' target=\'_blank\'\x3e{3}\x3c/a\x3e&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;\x3ca rel=\'nofollow\' href=\'{4}\' target=\'_blank\'\x3e{5}\x3c/a\x3e&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;\x3ca rel=\'nofollow\' href=\'{6}\' target=\'_blank\'\x3e{7}\x3c/a\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\x3cdiv\x3e&nbsp;\x3c/div\x3e\x3cdiv\x3e{8}\x3c/div\x3e\x3cbr/\x3e\x3cdiv\x3e{9}\x3c/div\x3e\x3cbr/\x3e\x3cdiv\x3e{10}\x3c/div\x3e","REPLYTO_ERROR_DEFAULT_REASON":"An error occurred processing the email sent to developerWorks community.","SIZE.B":"{0} B","RELATED_COMMUNITY":"Community:","DATE_TYPE_PLAIN":"{0}","TOTAL_NEW_STORIES_FORUMS":"({0} new updates)","REPLYTO_ERROR_DATA_PROBLEM":"Your email reply could not be added because details about the original notification could not be found.","TIME_TYPE_HTML":"\x3cspan class=\"time\"\x3e{0}\x3c/span\x3e","email.member.added.tgmc.header":"Please bookmark the following two communities, as they will be needed to participate in this competition:","SIZE.MB":"{0} MB","DOUBLE_QUOTES":"\"{0}\"","REPLYTO_ERROR_TITLE":"We\'re sorry, but your reply could not be added","DATETIME_TYPE_PLAIN":"{0}","POSTING_DATE":"Posting Date:","HEADER_BOOKMARKS":"Bookmarks","NEWSLETTER_TITLE_DAILY":"[developerWorks community] Daily Newsletter for {0}","REPLYTO_ERROR_DISALLOWEDCONTENT":"Your email reply could not be added because it contains disallowed content.","ITEMNAME_TYPE_HTML":"\x3cspan class=\"itemname\"\x3e{0}\x3c/span\x3e","NOTIFICATION_FROM_WHERE_AND_UNSUBSCRIBE":"This is a notification sent from {0}. {1}.","email.invited.to.join.tgmc.body":"TGMC Competition {0} is {1}","OPEN_COMMUNITIES":"Open this community","email.owner.added.tgmc.description":"The Public community contains instructions and all materials related to this competition.\x3cbr\x3e\x3cbr\x3eThe Private \"{0}\" team community is only accessible to your team. You can use the community&#39s collaborative tools to help organize your project. If you wish to add more members to your team, you will be able to invite them from there.","REPLYTO_DEFAULT_SOURCE":"developerWorks community","COMMA":",","ANCHOR":"\x3ca href=\"{0}\"\x3e{1}\x3c/a\x3e","email.member.added.tgmc.subject":"You have joined team \"{0}\" that has been entered into the TGMC competition","TEXT_TYPE_PLAIN":"{0}","OPEN_TOPICS":"Open this topic","REPLYTO_ERROR_SUBJECT":"Email Subject: ","dw.invite.external.register":"Register with developerWorks","OPEN_BLOGS":"Open this blog","email.invited.to.join.tgmc.subject":"Join Team {0} for {1} Competition","TOTAL_NEW_STORIES_WIKIS":"({0} new updates)","email.member.tgmc.removed.info":"If you have questions, send email to \x3ca href=\"mailto:tgmc@us.ibm.com\"\x3etgmc@us.ibm.com\x3c/a\x3e.","TOTAL_NEW_STORIES_TAGS":"({0} new stories)","HEADER_BLOGS":"Blogs","PERIOD":".","TOTAL_NEW_STORIES_COMMUNITIES":"({0} new updates)","ICON_ALT":"Icon","NOTIFICATION_FROM_WHERE":"This is a notification sent from {0}","USER_TYPE_HTML_PLAIN":"\x3cb\x3e{0}\x3c/b\x3e","REPLYTO_ERROR_CORRUPTMESSAGE":"Your email reply could not be added because the message is corrupt.","REPLYTO_ERROR_EMPTYMESSAGE":"Your email reply could not be added because the message is empty.","DATETIME_TYPE_HTML":"\x3cspan class=\"datetime\"\x3e{0}\x3c/span\x3e","dw.invite.external.body.template":"{0}\x3cbr/\x3e{1}\x3cbr/\x3e{2}","email.body.tgmc.signature":"Sincerely,\x3cbr\x3e\x3cbr\x3eThe Great Mind Challenge Team","HEADLINE_DAILY":"Your daily updates for {0}","dw.invite.external.view.com":"View the {0} community","MORE_20_UPDATES":"(More than 20 new updates)","email.member.removed.tgmc.subject":"You have left Team {0}","email.invited.to.join.tgmc.header":"{0} has invited you to join team \"{1}\" as part of the {2} Competition","HEADER_ACTIVITIES":"Activities","INDIVIDUAL_TITLE_NEWS":"developerWorks community","email.owner.added.tgmc.subject":"a new team member has been added to team {0}","VIEW_ALL":"View all...","OPEN_ITEM":"Open this item","SIZE.GB":"{0} GB","REPLYTO_ERROR_AUTHENTICATION":"Your email reply could not be processed due to an authorization problem.","email.invited.to.join.tgmc.footer":"Please respond to the invitation: {0}","INDIVIDUAL_TITLE_FILES":"Files","MORE_20_COMMENTS":"(More than 20 new comments and replies)","dw.invite.external.subject":"You have been invited to join a developerWorks community","SUBJECT_PREFIX_CONTENTS":"source.name","MOBILE_LINK_TEXT":"Open in Mobile","TOTAL_NEW_STORIES_BOOKMARKS":"({0} new updates)","HEADLINE_DAILY_NO_DATE":"Your daily updates","HTML_TYPE_HTML":"\x3cspan class=\"html\"\x3e{0}\x3c/span\x3e","TEXT_TYPE_HTML":"\x3cspan class=\"text\"\x3e{0}\x3c/span\x3e"},"blogsDescription":"Quickly and dynamically share your news and views with community members.","wikiDescription":"Share resources with your community and collaborate with colleagues.","IdeationBlog":"Ideation Blog","lcProfileStrings":{"NO_CONFIG":"No LinkedIn profile information available.","RECOMMEND_PLURAL":"recommendations","REAUTHENTICATE":"Reauthenticate","EDUCATION":"Education","PROFILE":"Public profile","EDIT":"Edit","NO_PROFILE":"This user does not have a LinkedIn profile","dw.label.search.all":"Search all profiles","dw.label.editProfile.top":"The fields with an asterisk (\x3cspan class=\"ibm-required\"\x3e*\x3c/span\x3e) are required to complete your user profile; all other fields are optional. \x3cstrong\x3eInformation in your profile (your name, country/region, and company name) is displayed to the public and will accompany any content you post, unless you opt to hide your company name.\x3c/strong\x3e You may update your IBM account at any time.\x3cbr/\x3e\x3cbr/\x3eIf you do not want to provide us the required information please use the \"Back\" button on your browser to return to the previous page, or close the window or browser session that is displaying this page.","PAST":"Past Job Experience","TEST":"It\'s a test","SHOW_PAST":"Past Job Experience","SHOW_CURRENT":"Current Job Experience","friendsInitialMsgForInv":"I\'d like to add you to my developerWorks Community network contacts list.","LOADING":"Loading...","errors.illegalcharacters":"Invalid characters : &#92; &#60; &#62; &#40; &#41; &#37; in the {0} field.","dw.label.search.champions.only":"Search only IBM Champion profiles","SHOW_INTERESTS":"Interests","friendsInviteMessage":"I\'d like to add you to my developerWorks Community network.","dw.label.expertise.ibm_power_systems":"IBM Power Systems","dw.label.expertise.ibm_middleware":"IBM Middleware","AT":"at","ERROR_LINKEDINConnect":"Unable to connect to LinkedIn","WEBSITES":"Websites","SHOW_WEBSITES":"Websites","friendsAddToMyNetwork":"I\'d like to add you to my developerWorks Community network.","label.jobInformation.companyTitle":"Company:","socialTagsNoTags":"There are no tags yet for this profile. ","str.msgid.ignore":"true","SKILLS":"Skills","errors.required":"Please complete the {0} field.","errors.dupeDisplayName":"This display name is taken.","SHOW_SKILLS":"Skills","NOT_VISIBLE":"This user is not displaying their LinkedIn profile.","SHOW_PROFILE":"Show my LinkedIn profile","HONORS":"Honors and Awards","dw.label.expertise.ibm_analytics":"IBM Analytics","search.dropdown.allconnections":"developerWorks Community","RECOMMEND_SINGLE":"recommendation","SHOW_HONORS":"Honors and Awards","dw.label.editProfile.update.account":"Update your IBM account (including your privacy settings)","NO_CONNECT":"Cannot connect to LinkedIn","label.jobInformation.extattr.JLCity":"City","REMOVE_PROFILE":"Remove LinkedIn profile","SHOW_EDU":"Education","dw.label.expertise.ibm_social_business":"IBM Social Business","label.required.LastName":"Last name","CURRENT":"Current Job Experience","errors.invalidDisplayName":"This display name is not valid. Please enter another between 3 and 31 characters in length, using any of the following characters: A-Z, a-z, 0-9, @, ., _, -.","SHOW_RECOMMEND":"Number of Recommendations","label.required.FirstName":"First name","ERROR":"Error","INTERESTS":"Interests","str_component_id":"CLFRTT","dw.label.expertise.all":"All expertise","dw.label.editProfile.bottom":"We will not use the information you supply for future marketing or promotional contacts or communications beyond the scope of this report. By clicking \x3cstrong\x3eSave\x3c/strong\x3e you agree that IBM may process your data in the manner indicated above and as described in the \x3ca href=\"https://www.ibm.com/developerworks/community/terms?lang=en\"\x3edeveloperWorks terms of use\x3c/a\x3e and the \x3ca href=\"http://www.ibm.com/privacy/\"\x3eIBM privacy statement\x3c/a\x3e","ERROR_DATABASE":"Cannot find preferences","label.searchresults.searchby.extattr$JLCompany":"Company:","dw.label.searchresults.people.heading.champions":"IBM Champion profile search results for {0}","ERROR_LINKEDIN":"LinkedIn Error","label.jobInformation.company":"Company","dw.label.expertise.ibm_cloud":"IBM Cloud","ERROR_WIDGET":"Widget Error","SAVE":"Save","LINKEDIN":"LinkedIn","linkedin":"LinkedIn"},"commActivitesDescription":"Track your community\'s goals, organize tasks and assign to-do items.","dwProfileLabels":{"label.advanced.searchForm.attribute.organizationTitle":"Company:","label.generalInfo.contactInformation.personalAddress":"Home address:","label.associatedInformation.contactinfo.title.collapse":"Click to collapse the contact information section","label.advanced.searchForm.attribute.managerUid":"Manager UID:","label.professionalInfo.educationAndWork.grants":"Grants","label.advanced.searchForm.attribute.officeName":"Office Name:","label.searchResult.attribute.workLocation.state":"State:","label.advanced.searchForm.attribute.displayName":"Display name:","label.advanced.searchForm.attribute.experience":"About Me:","label.searchResult.attribute.displayName":"Name:","label.generalInfo.biography1":"Elaborate on your background:","label.generalInfo.biography2":"The content of the field cannot exceed 1,500 characters","label.generalInfo.contactInformation.workAddress":"Work address:","label.advanced.searchForm.attribute.preferredLanguage":"Preferred Language:","label.settings.pwidgets.appearwidget":"Indicate the widgets you would like to appear on your public profile.","label.professionalInfo.educationAndWork.education":"Education","label.contactInformation.preferredLastName":"Preferred last name:","label.settings.forumssig.sigdefaulttext":"Write something on this board.","dwAboutMeActionsFor":"Actions for About me","remove.school":"Remove this school ","label.settings.IBMloginID":"IBM login ID:","label.settings.countryresidence":"Country/Region of residence:","//Settings":"label details","label.advanced.searchForm.attribute.countryDisplayValue":"Country/Region:","label.advanced.searchForm.attribute.floor":"Floor:","edu.class.year":"Class year ","label.contactInformation.officeName":"Office:","label.settings.forumssig.sig":"\x3cb\x3eSignature:\x3c/b\x3e","label.advanced.searchForm.attribute.courtesyTitle":"Courtesy Title:","label.jobInformation.myHomeNumber":"Home number:","label.jobInformation.extattr.JLCompany":"Company name:","label.contactInformation.extattr.Education_(List)":"Education (List):","label.contactInformation.nativeLastName":"Native last name:","label.jobInformation.companyTitle":"Company:","label.advanced.searchForm.attribute.isManager":"Is Manager:","label.generalInfo.biography":"Biography","label.advanced.searchForm.attribute.countryCode":"Country Code:","label.associatedInformation.description.info":"(The content of this field cannot exceed 1,500 characters)","label.advanced.searchForm.attribute.subHeading":"(Separate tags with a space or comma. Separate multi-word tags with a hyphen or underscore.)","label.contactInformation.floor":"Floor:","label.editProfile.generalInfo2":"If you do not want us to provide the required information please use the \"Back\" button on your browser to return to the previous page, or close the window or browser session that is displaying this page. ","label.contactInformation.groupwareEmail":"Alternate e-mail:","label.advanced.searchForm.attribute.freeBusyUrl":"Free Busy URL:","label.contactInformation.myLocation":"Location:","label.contactInformation.pagerServiceProvider":"Pager service provider:","label.searchResult.attribute.jobResp":"Title:","label.settings.forumssig.auto":"Automatically display the following with my posts:","label.contactInformation.courtesyTitle":"Prefix :","label.advanced.searchForm.attribute.managerUserid":"Manager User ID:","label.jobInformation.coursesTaken":"Courses taken:","label.contactInformation.blogUrl.info":"","label.jobInformation.publishedWork":"Published work:","label.contactInformation.extattr.AddtionalSpokenLanguages":"Additional spoken languages:","label.generalInfo.contactInformation":"Contact information","label.contactInformation.departmentTitle":"Department title:","label.contactInformation.extattr.ITN":"ITN:","label.advanced.searchForm.description.profileTags":"Can be used for expertise / skillset search. E.G. \"developer\" or \"javascript\"","edit.show":"Show","label.jobInformation.workLocation.countryDisplayValue":"Country:","label.settings.privacySel":"your selection(s), visit","label.generalInfo.contactInformation.workAddress.noCol":"Work address","label.advanced.searchForm.attribute.extattr$spokenLanguages":"Spoken Languages:","label.advanced.searchForm.attribute.secretaryEmail":"Secretary E-mail:","label.jobInformation.skills":"Skills:","label.settings.fbookconnect.connectmydw":"Connect My developerWorks with Facebook and share your activity on My developerWorks with your Facebook friends through your wall and friends\' News Feeds","label.professionalInfo.educationAndWork.courses":"Courses","label.jobInformation.extattr.JLPhone":"Office number:","label.professionalInfo.degree":"Degree/Position:","label.jobInformation.bldgId":"Building:","label.contactInformation.pagerId":"Pager ID:","label.settings.privacyTxt":"This data, at any time, revocable by you, may be stored by IBM or an affiliate on an international server and used by IBM or an affiliate.","label.searchResult.attribute.email":"Email:","label.jobInformation.extattr.JLPostalCode":"Postal code:","label.advanced.searchForm.attribute.preferredFirstName":"First name:","label.contactInformation.ipTelephoneNumber":"IP telephony number:","label.jobInformation.countryDisplayValue":"Country:","label.advanced.searchForm.attribute.secretaryName":"Secretary Name:","label.jobInformation.coursesLabel":"Courses","label.associatedInformation.description.title.expand":"Click to expand the About Me section","label.advanced.searchForm.attribute.workLocation$city":"City:","label.advanced.searchForm.attribute.pagerNumber":"Pager Number:","label.searchResult.attribute.telephoneNumber":"Phone:","label.contactInformation.noEducationInformation":"No education information available.","label.advanced.searchForm.attribute.deptNumber":"Department Number:","label.associatedInformation.contactinfo.title":"Click to expand or collapse the contact information section","label.settings.secuquestion":"Security question:","label.contactInformation.loginId":"IBM login ID:","label.advanced.searchForm.attribute.secretaryUserid":"Secretary User ID:","label.jobInformation.secretaryName":"Assistant:","label.searchresults.searchby.interest":"Interest","label.advanced.searchForm.attribute.shift":"Shift:","label.professionalInfo.professionalBio":"Professional bio","label.jobInformation.myBiography":"Biography:","label.contactInformation.preferredFirstName":"Preferred first name:","label.generalInfo.pronunciation":"Pronunciation","label.contactInformation.blogUrl":"Blog link:","label.contactInformation.telephoneNumber":"Office number:","label.contactInformation.displayName":"Display name:","edit.hide":"Hide","label.editProfile.update.success":"Your changes have been saved.","label.associatedInformation.contactinfo":"Contact Information","label.advanced.searchForm.attribute.mobileNumber":"Mobile Number:","label.jobInformation.extattr.educationClass":"Class year:","label.contactInformation.extattr.spokenLanguages":"Spoken languages:","label.jobInformation.publishedWorkLabel":"Published work","label.advanced.searchForm.attribute.pagerType":"Pager Type:","label.jobInformation.employeeNumber":"Employee number:","label.professionalInfo.biography1":"Elaborate on your roles and skills. Be sure to list your:","label.jobInformation.myPublicProfileURL":"My public profile URL is:","label.contactInformation.timezone":"Time zone:","label.advanced.searchForm.attribute.departmentTitle":"Department:","label.advanced.searchForm.attribute.givenName":"First Name:","label.jobInformation.myLanguage":"Language:","label.expertise.all":"All expertise","label.settings.privacyEmailTxt":"E-mail: Stay informed about IBM products, services, and other offerings! If you want to stay informed by e-mail, please let us know by modifying this preference.","label.settings.accountPrivacy":"IBM account and privacy preferences","label.settings.updatesecuinfoTitle":"IBM registration.","label.jobInformation.extattr.JLCity":"City:","label.settings.privacyWishUrl":"https://www.ibm.com/account/profile?page=signinview&appname=developerworks&d=http://www.ibm.com/developerworks/mydeveloperworks/profiles/html/editMyProfileView.do","label.searchResult.attribute.workLocation.city":"City:","label.jobInformation.email":"Office e-mail:","label.settings.privacyOtherTxt":"Other communications: IBM or an affiliate or selected organizations may keep you informed about IBM related products, services and other offerings through ways other than e-mail, for example, by telephone or postal mail. If you do not want us to use the information you provided here to keep you informed through other ways, please modify this preference.","label.settings.privacyOther":"Other communications: Please do not use the information I have provided here.","label.jobInformation.workLocation.postalCode":"Postal code:","label.generalInfo.basicProfileInfo":"Basic profile information","label.jobInformation.professionalBio":"Professional bio:","label.advanced.searchForm.attribute.pagerId":"Pager ID:","label.settings.secuvalue":"Your question here","label.settings.forumssig.sigtext":"(The closing that is automatically appended to your posts, max 1500 characters)","label.jobInformation.isManager":"Is manager:","label.jobInformation.educationWorkHistory":"Education:","label.contactInformation.extattr.Customers_Supported":"Customers:","label.professionalInfo.biography1.list1":"Professional organizations and user groups (include your position and year(s) of service)","label.contactInformation.freeBusyUrl":"Free/Busy time link:","label.editProfile.displayNameTaken":"This display name is taken.","label.professionalInfo.biography1.list2":"Conference presentations or sessions (include the conference name, year, session title and link to presentation)","label.IBMChampion":"IBM CHAMPION","label.professionalInfo.biography1.list3":"Honors and awards","label.associatedInformation.experience.title.collapse":"Click to collapse the Background section","dwAboutMeLoading":"Loading About me...","str_component_id":"CLFRN","label.settings.updatesecuinfo":"To update your profile security information, visit ","label.advanced.searchForm.attribute.calendarUrl":"Calendar URL:","label.associatedInformation.contactinfo.title.expand":"Click to expand the contact information section","label.contactInformation.alternateLastname":"Alternate last name:","label.advanced.searchForm.attribute.workLocation$state":"State/Province:","page.invalid.displayname":"This display name is not valid. Please enter another between 3 and 31 characters in length, using any of the following characters: A-Z, a-z, 0-9, @, ., _, -.","label.searchresults.searchby.skill":"Skill","label.jobInformation.grants":"Grants:","label.settings.profileWidget":"Profile widgets","label.contactInformation.faxNumber":"Fax number:","page.download.vCard":"Download vCard","label.jobInformation.workLocation.address1":"Address:","label.advanced.searchForm.attribute.preferredLastName":"Last name:","label.advanced.searchForm.attribute.profileTags":"Tags:","label.jobInformation.workLocation.address2":"","edit.degree1":"\"Select one\",\"Primary/Secondary\",\"Undergraduate\",\"Graduate\", \"Post-graduate\", \"Faculty\"","edit.required":"Required in Canada and US","label.settings.updatesecuinfourl":"https://www.ibm.com/account/profile?page=signinview&appname=developerworks&d=http://www.ibm.com/developerworks/mydeveloperworks/profiles/html/editMyProfileView.do","label.jobInformation.managerUid":"Manager number:","label.settings.pwidgets.facebookwidget":"Facebook profile widget","label.advanced.searchForm.attribute.blogUrl":"Blog URL:","label.advanced.searchForm.attribute.telephoneNumber":"Phone Number:","label.jobInformation.extattr.HLState":"State/Province:","label.jobInformation.officeName":"Office:","label.professionalInfo.educationAndWork.workInformation":"Work information","label.contactInformation.bldgId":"Building:","label.contactInformation.surname":"Last name:","label.associatedInformation.description.title.collapse":"Click to collapse the About Me section","label.advanced.searchForm.attribute.nativeLastName":"Native Last Name:","label.jobInformation.coursesTaught":"Courses taught:","label.settings.secuanswerlabel":"Security answer:","label.advanced.searchForm.attribute.groupwareEmail":"Alternate E-mail:","label.contactInformation.pagerNumber":"Pager number:","label.searchResult.attribute.countryDisplayValue":"Country:","label.generalInfo.basicInfo1":"My public profiles URL is:","label.generalInfo.basicInfo2":"Items indicated with this icon ","label.generalInfo.basicInfo3":"will display in your public profile.","label.advanced.searchForm.description.jobResp":"E.G. \"Marketing Manager\"","label.jobInformation.workLocation.city":"City:","label.jobInformation.workLocation.state":"State:","label.advanced.searchForm.attribute.expertise":"Expertise:","label.contactInformation.preferredLanguage":"Language:","label.contactInformation.cn":"Common name:","label.editProfile.displaynameInvalid":"This display name is not valid. Please enter another between 3 and 31 characters in length, using any of the following characters: A-Z, a-z, 0-9, @, ., _, -.","label.contactInformation.extattr.Department_Name":"Dept name:","edit.see.school.link":"/developerworks/mydeveloperworks/profiles/actions/requestSchool.jsp","label.advanced.searchForm.attribute.tag":"Tag:","label.advanced.searchForm.attribute.employeeNumber":"Employee Number:","label.jobInformation.publicProfile":"Public profile:","label.contactInformation.nativeFirstName":"Native first name:","label.professionalInfo.roles":"Roles and responsibilities","label.settings.pwidgets.linkedinwidget":"LinkedIn profile widget","label.contactInformation.emptyProfessionalInformation":"No professional information provided.","label.jobInformation.rolesResponsibilities":"Roles/responsibilities:","label.associatedInformation.description.title":"Click to expand or collapse the About Me section","label.searchResult.attribute.organizationTitle":"Organization:","label.jobInformation.floor":"Floor:","label.associatedInformation.blogUrl":"Blog link:","label.jobInformation.extattr.HLCountry":"Country/Region:","label.jobInformation.extattr.JLCountry":"Country/Region:","label.contactInformation.mobileNumber":"Mobile number:","label.viewMyPublicProfile":"View my public profile","label.generalInfo.contactInformation.homeAddress.noCol":"Home address","label.jobInformation.grantsLabel":"Grants","label.searchResult.attribute.tags":"Tags:","edit.link":"EDIT","edit.select":"Select one","label.associatedInformation.lastUpdate":"Last update:","label.advanced.searchForm.description.organizationTitle":"E.G \"IBM\" or \"Sales\"","label.advanced.searchForm.attribute.ipTelephoneNumber":"IP Telephone Number:","label.settings.privacyEmail":"E-mail: Yes, please have IBM or an affiliate send me e-mail.","label.contactInformation.extattr.Team_Summary":"Team summary:","label.advanced.searchForm.description.displayName":"First or Last Name E.G. \"Jane\" or \"Doe\"","enter.tags":"Enter tag(s) ","label.associatedInformation.blogUrl.info":"","label.contactInformation.extattr.Personal_System_Code_(PSC)":"PSC:","label.advanced.searchForm.attribute.surname":"Last Name:","label.professionalInfo.institution":"Institution:","label.professionalInfo.field":"Field of study:","label.search.champions.only":"Search only IBM Champion profiles","error.invalid.email":"This is not a valid e-mail address.","label.generalInfo.photo":"Photo","label.searchResult.attribute.groupwareEmail":"Alternate Email:","edit.settings":"Public profile settings","page.invite.network":"Invite to my network ","label.contactInformation.emptyGeneralInformation":"No general information provided.","label.contactInformation.calendarUrl":"Calendar link:","label.settings.pwidgets.customizewidget":"Customize the widgets by selecting EDIT from the widget.","label.editProfile.generalInfo":"The fields indicated with an asterisk (\x3cspan style=\"color:red\"\x3e*\x3c/span\x3e) are required to complete this transaction; other fields are optional. ","label.jobInformation.extattr.JLState":"State/Province:","label.associatedInformation.experience.info":"(The content of this field cannot exceed 1,500 characters)","label.jobInformation.extattr.HLCity":"City:","label.jobInformation.employment":"Employment:","label.contactInformation.noWorkInformation":"No work information available.","notice.qtwo.url":"http://www.ibm.com/common/translations/en/us/nc_two_question.html","label.jobInformation.deptNumber":"Department number:","label.search.all":"Search all profiles","edu.fields.select":"\"Select one\"","label.advanced.searchForm.attribute.description":"Description:","label.contactInformation.pagerPin":"Pager pin:","label.advanced.searchForm.attribute.secretaryUid":"Secretary UID:","label.advanced.searchForm.attribute.workLocation$statevalue":"State/Province:","label.searchResult.attribute.extattr.spokenLanguages":"Languages:","label.settings.secuanswervalue":"***********","label.jobInformation.countryCode":"Country code:","label.jobInformation.employeeTypeDesc":"Employee type:","label.professionalInfo.educationAndWork":"Education and work history","label.jobInformation.organizationTitle":"Organization:","label.jobInformation.departmentTitle":"Department title:","label.jobInformation.companyTitleHide":"hide my company information","label.advanced.searchForm.attribute.nativeFirstName":"Native First Name:","label.advanced.searchForm.attribute.pagerServiceProvider":"Pager Service Provider:","label.jobInformation.jobResp":"Job title:","page.message.collague":"Message colleague","label.jobInformation.extattr.HLAddress":"Street address:","label.jobInformation.extattr.JLAddress":"Street address:","label.jobInformation.myPersonal":"Personal:","label.associatedInformation.pronunciation":"Pronunciation","label.associatedInformation.experience.title":"Click to expand or collapse the Background section","label.settings.fbookconnect.imageurl":"http://dw.rtp.raleigh.ibm.com/developerworks/community/viper2009/delta/facebookconnect.jpg","label.jobInformation.extattr.JLPhoneExt":"Extension:","label.contactInformation.extattr.jobCategory":"Job category:","label.settings.facebook":"Facebook connect","label.jobInformation.extattr.CLInitials":"Middle initial(s):","label.advanced.searchForm.attribute.email":"E-mail address:","label.settings.privacySettings":"Privacy settings","label.jobInformation.shift":"Shift:","label.jobInformation.extattr.HLPostalCode":"Postal code:","label.settings.privacyWish":"If you wish to change","edit.add.school":"Add another school","label.associatedInformation.tagMyProfile":"Tag my profile","label.advanced.searchForm.attribute.jobResp":"Job title:","label.associatedInformation.experience":"Background","label.advanced.searchForm.attribute.background":"Background:","label.associatedInformation.experience.title.expand":"Click to expand the Background section","edit.see.school":"Don\'t see your school?","label.contactInformation.email":"E-mail address:","label.contactInformation.pagerType":"Pager type:","label.contactInformation.extattr.property1":"Extension 1:","label.advanced.searchForm.attribute.alternateLastname":"Alternate Last Name:","label.contactInformation.extattr.property2":"Extension 2:","label.jobInformation.extattr.WarrantCountry":"Country/Region of residence:","label.contactInformation.extattr.property3":"Extension 3:","label.associatedInformation.description":"About Me","label.jobInformation.extattr.CLSuffix":"Suffix:","label.jobInformation.secretaryUid":"Assistant number:","label.contactInformation.givenName":"First name:","label.professionalInfo.skills":"Skills","label.jobInformation.employmentLabel":"Employment","label.advanced.searchForm.attribute.faxNumber":"Fax Number:","label.settings.forumsSettings":"Forums signature and settings","label.jobInformation.telephoneNumber":"Phone:","label.jobInformation.secretaryEmail":"Assistant e-mail:","label.jobInformation.extattr.HLPhone":"Home number:","label.advanced.searchForm.attribute.bldgId":"Building ID:","label.settings.fbookconnect.imagealt":"Connect with Facebook","edu.fields":"\"Select one\",\"Agriculture\",\"Architecture & Design\",\"Business\",\"Chemistry\",\"Communications\",\"Computer Science\",\"Earth Sciences\",\"Economics\",\"Education\",\"Engineering\",\"Environmental Studies\",\"Health Sciences\",\"Language Studies\",\"Life Sciences\",\"Marketing\",\"Mathematics\",\"Physics\",\"Psychology\",\"Service Science\",\"Sociology \",\"Space Sciences\",\"Statistics\",\"Systems Architecture\",\"Systems Science\",\"Transportation\",\"Other\"","dwAboutMe":"About me","notice.backout.url":"http://www.ibm.com/common/translations/en/us/nc_all_fields_required_backout.html"},"Feeds":"Feeds","dwRelatedWidgets":{"dwAboutMe":"About me","GroupTagBookmarks":"Related bookmarks","GroupTagBlogFeeds":"Related blog entries","dwAboutMeLoading":"Loading About me...","dwAboutMeActionsFor":"Actions for About me","GroupTagMembers":"Related profiles","GroupTagGroups":"Related groups","HTMLWidget":"Custom HTML"},"lc_default":{"commonTags":"Organization Tags","friends":"Network","socialTags":"Tags","board":"The Board","linkRoll":"My Links","multiFeedReader":"Recent Posts","filesReader":"Files","backgroundInfo":"Background","multiWidget":"Profile Information","structTags":"Structured Tags","contactInfo":"Contact Information","reportStructure":"Report-to Chain"},"Members":"Members","RelatedCommunities":"Related Communities","notification_en":{"HEADER_RESPONSES":"Responses & Notifications","email.member.added.1":"1. {0}","OPEN_ACTIVITIES":"Open this activity","email.member.added.2":"2. {0}","FOOTER_COPYRIGHT":"Copyright IBM 2012. ","OPEN_FORUMS":"Open this forum","email.member.added.tgmc.description":"The Public community contains instructions and all materials related to this competition.\x3cbr\x3e\x3cbr\x3eThe Private \"{0}\" team subcommunity is only accessible to your team. You can use the subcommunity&#39s collaborative tools to help organize your project. \x3cbr\x3e\x3cbr\x3eYou can also update your personal profile information from any page by logging in and editing your profile. (Click on your profile name, located in the upper-right corner of the page.) For more information about maintaining your profile, see the topic in {1}.","REPLYTO_ERROR_CONTENT":"Email content:","TOTAL_NEW_STORIES_BLOGS":"({0} new updates)","FOOTER_UNSUBSCRIBE":"To unsubscribe or change settings, please go to your developerWorks community Settings.","email.owner.removed.tgmc.description":"{0} is no longer participating as a member of Team {1} for the TGMC competition.","INDIVIDUAL_TITLE":"[developerWorks community] {0}","TOTAL_NEW_STORIES_ACTIVITIES":"({0} new updates)","HEADER_TOPICS":"Topics","TIME_TYPE_PLAIN":"{0}","email.owner.added.tgmc.header":"{0} has been added to the Team {1}, which is participating in the TGMC {2} competition.","NOTIFICATION_DISCLAIMER_TGMC":"\x3cbr /\x3e\x3cbr /\x3e\x3cfont size=\"2\"\x3eThe information contained in this e-mail message is intended only for the use of the named recipients and is subject to the \x3ca href=\"https://www.ibm.com/privacy/details/us/en/\"\x3eIBM Online Privacy Statement\x3c/a\x3e. If you have received this e-mail in error, please contact the sender to report the error and then delete this message from your system.\x3c/font\x3e","dw.invite.external.view.public":"View public communities","INTRODUCTION":"This is a list of updates from your network of contacts, places, people and items you are following, and responses to content you\'ve posted.","NOTIFICATION_AD1":"\x3cbr /\x3e\x3cbr /\x3e\x3ctable cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"\x3e\x3ctr\x3e\x3ctd width=\"72\"\x3e\x3cimg src=\"http://dw1.s81c.com/developerworks/i/dw-lc/joindWp_icon.png\" alt=\"dW\" style=\"vertical-align: middle\" /\x3e\x3c/td\x3e\x3ctd valign=\"top\" height=\"70\"\x3e\x3cspan style=\"color: #333333; font-family: \'HelveticaNeue-Light\',\'HelvLightIBM\',\'Helvetica Neue\',Helvetica,Arial,sans-serif; text-align: center;line-height:2.8em;\"\x3e","NOTIFICATION_AD2":"\x3cfont size=\"4\"\x3eAll the tools you need to develop in the cloud\x3c/font\x3e\x3c/span\x3e\x3cbr /\x3e\x3cspan style=\"letter-spacing: 0.025em;line-height:3.0em;\"\x3e\x3cfont size=\"2\"\x3ePick up your all-access pass to powerful tools, resources, and support.\x3c/font\x3e","USER_TYPE_HTML":"\x3cspan class=\"user\"\x3e{0}\x3c/span\x3e","NOTIFICATION_AD3":"\x3c/span\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3cbr/\x3e\x3ctable width=\"250\"\x3e\x3ctr\x3e\x3ctd width=\"1\"\x3e\x3c/td\x3e\x3ctd align=\"center\" style=\"background: #339999; border: 1px solid #339999;\"\x3e\x3ca style=\"display: block; font-family: Arial; padding: 12px 0px !important; color: #ffffff; margin-bottom: 0px; text-decoration: none;\"","NOTIFICATION_AD4":"href=\"https://www.ibm.com/developerworks/premium/?cm_sp=dwpremium-_-dwcomm-_-email\"\x3e\x3cfont size=\"2\"\x3eExplore developerWorks Premium\x3c/font\x3e\x3c/a\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e","OPEN_MENTIONS":"Open this status update","NOTIFICATION_FROM_WHERE_TGMC":"This is a notification sent from {0}.","OPEN_FILES":"Open file collection","dw.invite.external.message1":"\x3cb\x3e\x3cspan\x3e\x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3e{1}\x3c/a\x3e\x3c/span\x3e\x3c/b\x3e has invited you to join the \x3ca rel=\'nofollow\' href=\'{2}\' target=\'_blank\'\x3e\x3cspan\x3e{3}\x3c/span\x3e\x3c/a\x3e community on developerWorks.","dw.invite.external.message2":"To join that community, you need to:","SUBJECT_PREFIX":"[{0}]","HEADER_FILES":"Files","dw.invite.external.message3":"1. \x3ca rel=\'nofollow\' href=\'{0}\' target=\'_blank\'\x3eRegister with developerWorks\x3c/a\x3e and create your profile.","ITEMNAME_TYPE_PLAIN":"\'\'{0}\'\'","dw.invite.external.message4":"2. After you register for developerWorks, you will receive an email with instructions to accept the invitation and link to the community.","email.member.removed.tgmc.description":"You still belong to the {0}. You can leave the competition community at any time. ","NEWSLETTER_TITLE_WEEKLY":"[developerWorks community] Weekly Newsletter from {0} to {1}","email.invited.to.join.tgmc.register":"Register now and join the team!","REPLYTO_ERROR_NOTEXIST":"Your email reply could not be processed because the original item no longer exists.","INDIVIDUAL_TITLE_WIKIS":"Wikis","INDIVIDUAL_TITLE_ACTIVITIES":"Activities","HEADER_MENTIONS":"Mentions","LOTUS_CONNECTIONS_ICON_ALT":"developerWorks community","dw.invite.external.disclaimer1":"This is a notification sent from developerWorks community.","email.body.tgmc.signature.good":"\x3cbr\x3eGood luck!\x3cbr\x3e","dw.invite.external.disclaimer2":"The information contained in this e-mail message is intended only for the use of the named recipients and is subject to the \x3ca href=\"https://www.ibm.com/privacy/details/us/en/\"\x3eIBM Online Privacy Statement\x3c/a\x3e. If you have received this e-mail in error, please contact the sender to report the error and then delete this message from your system.","OPEN_PROFILES":"View this profile","COLON":":","DATE_TYPE_HTML":"\x3cspan class=\"date\"\x3e{0}\x3c/span\x3e","INDIVIDUAL_TITLE_FORUMS":"Forums","str.msgid.ignore":"true","email.owner.removed.tgmc.subject":"{0} has left Team {1}","MORE_STORIES":"(more than {0} updates)","TOTAL_NEW_STORIES_TOPICS":"({0} new updates)","TOTAL_NEW_STORIES_RESPONSES":"({0} new responses & notifications)","HEADLINE_WEEKLY":"Your weekly updates from {0} to {1}","FILESIZE_TYPE_HTML":"\x3cspan class=\"filesize\"\x3e{0}\x3c/span\x3e","SINGLE_QUOTES":"\'\'{0}\'\'","REPLYTO_ACTION_HELP_POST":"Replying to this notification will let you post your reply using email.","REPLYTO_ACTION_HELP_EOM":"You can add \"{0}\" to the end of your reply on a new line. Any content after that will be discarded and will not show in your response.","INDIVIDUAL_EMAIL":"This is a notification sent from developerWorks community.","USER_TYPE_PLAIN":"\'\'{0}\'\'","NOTIFICATION_FROM_WHERE_PERIOD":"This is a notification sent from {0}.","HEADER_PROFILES":"My network of people","HEADER_NOTIFICATION":"My Notifications","REPLYTO_ERROR_OTHER":"Your email reply could not be processed due to an error.","HEADER_FORUMS":"Forums","SIZE.KB":"{0} KB","INDIVIDUAL_TITLE_DOGEAR":"Bookmarks","FILESIZE_TYPE_PLAIN":"{0}","CATEGORY_ERROR":"Error occurred when retrieving entries for this category, please contact administrator","OPEN_WIKIS":"Open this wiki","NOTIFICATION_DISCLAIMER":"\x3cbr /\x3e\x3cbr /\x3e\x3cfont size=\"2\"\x3eThe information contained in this e-mail message is intended only for the use of the named recipients and is subject to the \x3ca class=\"privacy\" href=\"https://www.ibm.com/privacy/details/us/en/\"\x3eIBM Online Privacy Statement\x3c/a\x3e. If you have received this e-mail in error, please contact the sender to report the error and then delete this message from your system.\x3c/font\x3e","TOTAL_NEW_STORIES_MENTIONS":"({0} new mentions)","HEADER_WIKIS":"Wikis","TOTAL_NEW_STORIES_FILES":"({0} new updates)","INDIVIDUAL_TITLE_MODERATION":"Moderation","SUBJECT_DELIMITER":",","HEADER_COMMUNITIES":"Communities","INDIVIDUAL_TITLE_PROFILES":"Profiles","HTML_TYPE_PLAIN":"{0}","HEADLINE_WEEKLY_NO_DATE":"Your weekly updates","INDIVIDUAL_TITLE_COMMUNITIES":"Communities","email.member.added.tgmc.description.next":"\x3cb\x3eTGMC 2011 - Next steps:\x3c/b\x3e\x3cbr\x3e\x3cbr\x3e[Next Steps block appropiate to individual contest]","CUSTOM_URL":"http://www.ibm.com/developerworks/community/","email.member.removed.tgmc.header":"You have left Team {0} and are no longer participating with this team in the TGMC competition.","INDIVIDUAL_TITLE_BLOGS":"Blogs","LOTUS_CONNECTIONS":"developerWorks community","HEADER_TAGS":"Tags","FOOTER_TERM_OF_USE":"Terms of use","TOTAL_NEW_STORIES_PROFILES":"({0} new updates)","SEMICOLON":";","TOTAL_NEW_STORIES_NOTIFICATION":"({0} new notifications)","dw.invite.external.template":"\x3ch1\x3e{0}\x3c/h1\x3e\x3cdiv\x3e{1}\x3c/div\x3e\x3cdiv\x3e&nbsp;\x3c/div\x3e\x3ctable cellpadding=\'0\' cellspacing=\'0\'\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd\x3e\x3ca rel=\'nofollow\' href=\'{2}\' target=\'_blank\'\x3e{3}\x3c/a\x3e&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;\x3ca rel=\'nofollow\' href=\'{4}\' target=\'_blank\'\x3e{5}\x3c/a\x3e&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;\x3ca rel=\'nofollow\' href=\'{6}\' target=\'_blank\'\x3e{7}\x3c/a\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\x3cdiv\x3e&nbsp;\x3c/div\x3e\x3cdiv\x3e{8}\x3c/div\x3e\x3cbr/\x3e\x3cdiv\x3e{9}\x3c/div\x3e\x3cbr/\x3e\x3cdiv\x3e{10}\x3c/div\x3e","REPLYTO_ERROR_DEFAULT_REASON":"An error occurred processing the email sent to developerWorks community.","SIZE.B":"{0} B","RELATED_COMMUNITY":"Community:","DATE_TYPE_PLAIN":"{0}","TOTAL_NEW_STORIES_FORUMS":"({0} new updates)","REPLYTO_ERROR_DATA_PROBLEM":"Your email reply could not be added because details about the original notification could not be found.","TIME_TYPE_HTML":"\x3cspan class=\"time\"\x3e{0}\x3c/span\x3e","email.member.added.tgmc.header":"Please bookmark the following two communities, as they will be needed to participate in this competition:","SIZE.MB":"{0} MB","DOUBLE_QUOTES":"\"{0}\"","REPLYTO_ERROR_TITLE":"We\'re sorry, but your reply could not be added","DATETIME_TYPE_PLAIN":"{0}","POSTING_DATE":"Posting Date:","HEADER_BOOKMARKS":"Bookmarks","NEWSLETTER_TITLE_DAILY":"[developerWorks community] Daily Newsletter for {0}","REPLYTO_ERROR_DISALLOWEDCONTENT":"Your email reply could not be added because it contains disallowed content.","ITEMNAME_TYPE_HTML":"\x3cspan class=\"itemname\"\x3e{0}\x3c/span\x3e","NOTIFICATION_FROM_WHERE_AND_UNSUBSCRIBE":"This is a notification sent from {0}. {1}.","email.invited.to.join.tgmc.body":"TGMC Competition {0} is {1}","OPEN_COMMUNITIES":"Open this community","email.owner.added.tgmc.description":"The Public community contains instructions and all materials related to this competition.\x3cbr\x3e\x3cbr\x3eThe Private \"{0}\" team community is only accessible to your team. You can use the community&#39s collaborative tools to help organize your project. If you wish to add more members to your team, you will be able to invite them from there.","REPLYTO_DEFAULT_SOURCE":"developerWorks community","COMMA":",","ANCHOR":"\x3ca href=\"{0}\"\x3e{1}\x3c/a\x3e","email.member.added.tgmc.subject":"You have joined team \"{0}\" that has been entered into the TGMC competition","TEXT_TYPE_PLAIN":"{0}","OPEN_TOPICS":"Open this topic","REPLYTO_ERROR_SUBJECT":"Email Subject: ","dw.invite.external.register":"Register with developerWorks","OPEN_BLOGS":"Open this blog","email.invited.to.join.tgmc.subject":"Join Team {0} for {1} Competition","TOTAL_NEW_STORIES_WIKIS":"({0} new updates)","email.member.tgmc.removed.info":"If you have questions, send email to \x3ca href=\"mailto:tgmc@us.ibm.com\"\x3etgmc@us.ibm.com\x3c/a\x3e.","TOTAL_NEW_STORIES_TAGS":"({0} new stories)","HEADER_BLOGS":"Blogs","PERIOD":".","TOTAL_NEW_STORIES_COMMUNITIES":"({0} new updates)","ICON_ALT":"Icon","NOTIFICATION_FROM_WHERE":"This is a notification sent from {0}","USER_TYPE_HTML_PLAIN":"\x3cb\x3e{0}\x3c/b\x3e","REPLYTO_ERROR_CORRUPTMESSAGE":"Your email reply could not be added because the message is corrupt.","REPLYTO_ERROR_EMPTYMESSAGE":"Your email reply could not be added because the message is empty.","DATETIME_TYPE_HTML":"\x3cspan class=\"datetime\"\x3e{0}\x3c/span\x3e","dw.invite.external.body.template":"{0}\x3cbr/\x3e{1}\x3cbr/\x3e{2}","email.body.tgmc.signature":"Sincerely,\x3cbr\x3e\x3cbr\x3eThe Great Mind Challenge Team","HEADLINE_DAILY":"Your daily updates for {0}","dw.invite.external.view.com":"View the {0} community","MORE_20_UPDATES":"(More than 20 new updates)","email.member.removed.tgmc.subject":"You have left Team {0}","email.invited.to.join.tgmc.header":"{0} has invited you to join team \"{1}\" as part of the {2} Competition","HEADER_ACTIVITIES":"Activities","INDIVIDUAL_TITLE_NEWS":"developerWorks community","email.owner.added.tgmc.subject":"a new team member has been added to team {0}","VIEW_ALL":"View all...","OPEN_ITEM":"Open this item","SIZE.GB":"{0} GB","REPLYTO_ERROR_AUTHENTICATION":"Your email reply could not be processed due to an authorization problem.","email.invited.to.join.tgmc.footer":"Please respond to the invitation: {0}","INDIVIDUAL_TITLE_FILES":"Files","MORE_20_COMMENTS":"(More than 20 new comments and replies)","dw.invite.external.subject":"You have been invited to join a developerWorks community","SUBJECT_PREFIX_CONTENTS":"source.name","MOBILE_LINK_TEXT":"Open in Mobile","TOTAL_NEW_STORIES_BOOKMARKS":"({0} new updates)","HEADLINE_DAILY_NO_DATE":"Your daily updates","HTML_TYPE_HTML":"\x3cspan class=\"html\"\x3e{0}\x3c/span\x3e","TEXT_TYPE_HTML":"\x3cspan class=\"text\"\x3e{0}\x3c/span\x3e"}};

;if(!dojo._hasResource["lconn.core.WidgetPlacementMM"]){
dojo._hasResource["lconn.core.WidgetPlacementMM"]=true;
dojo.provide("lconn.core.WidgetPlacementMM");
dojo.requireLocalization("lconn.core","widgets");
dojo.requireLocalization("lconn.core.config","widgetbundles");
dojo.requireLocalization("lconn.core","strings");
dojo.deprecated("lconn.core.WidgetPlacementMM","Will be replaced with OpenSocial container logic","3.5");
(function(){
if(typeof (dojo.global.WidgetPlacementConfig)=="undefined"){
dojo.global.WidgetPlacementConfig={debug:false,appStartupDate:""};
}
var _1=dojo.i18n.getLocalization("lconn.core","widgets");
var _2=dojo.i18n.getLocalization("lconn.core.config","widgetbundles");
var _3=dojo.i18n.getLocalization("lconn.core","strings");
lconn.core.WidgetPlacementMM.debug=WidgetPlacementConfig.debug;
lconn.core.WidgetPlacementMM.uiLocations=new Object();
lconn.core.WidgetPlacementMM.dropZoneObjects=new Object();
var _4=function(){
var _5=null;
if(WidgetPlacementConfig.isProfilesEnv){
if(profilesData.displayedUser!=null){
if(profilesData.displayedUser.profileType==null||profilesData.displayedUser.profileType==""){
profilesData.displayedUser.profileType="default";
}
}
_5=profilesData.displayedUser;
}
return _5;
};
var _6=function(_7,_8,_9,_a){
if(_7==null){
_7=[];
}else{
if(_7.length>1){
return _7;
}
}
var _b=_8.getAttribute("defId");
var _c="/tns:widgets/tns:definitions/tns:widgetDef[@defId = '"+_b+"']/tns:configData/tns:attr";
var _d=lconn.core.xpath.selectNodes(_c,_a);
for(var i=0;_d.length!=null&&i<_d.length;i++){
var _e=_d[i].getAttribute("value");
_e=lconn.core.i18nOverrider.replaceParams(_e,WidgetPlacementConfig.params);
_7.push({entryName:_d[i].getAttribute("key"),entryValue:_e});
}
_c="/tns:widgets/tns:definitions/tns:widgetDef[@defId = '"+_b+"']/tns:itemSet/tns:item";
_d=lconn.core.xpath.selectNodes(_c,_a);
for(var i=0;_d.length!=null&&i<_d.length;i++){
var _e=_d[i].getAttribute("value");
_e=lconn.core.i18nOverrider.replaceParams(_e,WidgetPlacementConfig.params);
_7.push({entryName:_d[i].getAttribute("name"),entryValue:_e});
}
if(_9!=null){
var _f=_9.getAttribute("instanceId");
WidgetPlacementConfig.params["widgetInstanceId"]=_f;
var _10="/tns:widgets/tns:layout/tns:page/tns:widgetInstance[@instanceId = '"+_f+"']/tns:itemSet/tns:item";
_d=lconn.core.xpath.selectNodes(_10,_a);
for(var i=0;_d.length!=null&&i<_d.length;i++){
var _e=_d[i].getAttribute("value");
_e=lconn.core.i18nOverrider.replaceParams(_e,WidgetPlacementConfig.params);
_7.push({entryName:_d[i].getAttribute("name"),entryValue:_e});
}
}
return _7;
};
lconn.core.WidgetPlacementMM.getWidgetDocAndRenderWidget=function(_11,_12,_13,_14,_15,_16,_17,_18,_19){
var _1a=function(_1b,_1c){
var _1d=_1e(_1b,_1c);
if(_1d==null){
lconn.core.WidgetPlacementMM.showWidgetErrorInHeadline(_1["errorDefaultMsg"],false);
dojo.style("contentArea",{display:"inline",visibility:"visible"});
}
};
var _1e=function(_1f,_20){
var _21=_1f;
WidgetPlacementConfig.widgetConfigXMLDocument=_21;
var _22=null;
if(_11==null&&_12!=null){
_11=_12.getAttribute("defId");
}
if(_12==null){
var _23="/tns:widgets/tns:definitions/tns:widgetDef[@defId = '"+_11+"']";
_12=lconn.core.xpath.selectSingleNode(_23,_21);
if(_12==null){
console.log("Unable to find widget definition for: "+_11);
return (null);
}
_11=_12.getAttribute("defId");
}
if(_13==null){
_13=_11;
}else{
var _24="/tns:widgets/tns:layout/tns:page/tns:widgetInstance[@instanceId = '"+_13+"']";
_22=lconn.core.xpath.selectSingleNode(_24,_21);
}
if(_22==null){
_22=_21.createElement("widgetInstance");
_22.setAttribute("uiLocation",_14);
_22.setAttribute("defIdRef",_11);
_22.setAttribute("instanceId",_13);
}
if(_16==null){
_16=_12.getAttribute("skinType");
}
var _25=null;
var _26=null;
var _27="widget-container-"+_14;
var _28=dojo.byId(_27);
var _29=dojo.byId(_14+"DropZone");
if(_29==null){
if(lconn.dboard&&lconn.dboard.dnd){
var _2a=_14+"DropZone";
var _29=document.createElement("div");
_29.setAttribute("id",_2a);
if(_28){
_28.appendChild(_29);
}else{
_29=null;
}
}else{
_29=dojo.byId(_27);
}
}
_26=_29;
if(_15=="fullpage"){
var _2b=null;
var url=_12.getAttribute("url");
_19=_6(_19,_12,_22,_21);
_26.innerHTML+=_3d(_13,url,_4(),_19,_15,getEscapedWidgetName(_12,_22));
lconn.core.mumOverride.renderSingleWidget(_13);
}else{
var _2c=document.createElement("div");
var _2d=_53(_12,_22,_4(),_21,true,_16,_15,_17,_19);
_2c.innerHTML=_2d;
if(_26){
_26.appendChild(_2c.firstChild);
}
var _2a=_14+"DropZone";
if(_18==null&&_28){
if(lconn.core.WidgetPlacementMM.dropZoneObjects[_2a]==null){
lconn.core.utilities.processUntilElementIsFound(_2a,_2e,null,{uiLocation:_14,dropZoneDOMId:_2a});
}else{
lconn.core.utilities.processUntilElementIsFound(_13+"Section",_33,null,{dropZoneDOMId:_2a,widgetInstanceId:_13});
}
}
lconn.core.mumOverride.renderSingleWidget(_13);
lconn.core.utilities.processUntilElementIsFound(_13+"Section",function(){
dojo.parser.parse(dojo.byId(_13+"Section"));
},null,null,false);
}
return (_12);
};
if(WidgetPlacementConfig.widgetConfigXMLDocument!=null&&!dojo.global.staleXMLConfig){
_1a(WidgetPlacementConfig.widgetConfigXMLDocument);
}else{
var url=WidgetPlacementConfig.layoutInfoUrl;
if(!dojo.global.staleXMLConfig){
url+="&lastMod="+WidgetPlacementConfig.lastMod;
}
dojo.xhrGet({url:url,error:lconn.core.errorhandling.DefaultXHRErrorHandler,handleAs:"xml",sync:true,load:_1a});
dojo.global.staleXMLConfig=false;
}
};
var _2e=function(_2f,_30){
dojo.parser.parse(_2f);
var _31=_32(_30.uiLocation,_2f);
lconn.core.WidgetPlacementMM.dropZoneObjects[_30.dropZoneDOMId]=_31;
};
var _33=function(_34,_35){
dojo.parser.parse(_34);
var _36=lconn.core.WidgetPlacementMM.dropZoneObjects[_35.dropZoneDOMId];
_36.setItem(_34.id,{node:_34,id:_34.id,data:_35.widgetInstanceId,type:"widget"});
};
var _32=function(_37,_38){
var _39={jsId:_37,accept:"widget",withhandles:true,skipForm:true};
var _3a=new lconn.dboard.dnd.Source(_38,_39);
return _3a;
};
var _3b=function(key,_3c){
return "<a class='mm_Item' type='string' style='display: none;' href='#"+key+"'>"+lconn.core.HTMLUtil.escapeText(_3c)+"</a>";
};
var _3d=function(_3e,url,_3f,_40,_41,_42){
WidgetPlacementConfig.params["widgetInstanceId"]=_3e;
url=lconn.core.i18nOverrider.replaceParams(url,WidgetPlacementConfig.params);
var _43="<div id='"+_3e+"' class='mm_iWidget'><a class='mm_Definition' style='display: none;visibility:hidden;' href='"+url+"' ></a>";
if(_41!=null){
_43+="<div class=\"mm_ItemSet\" title=\"idescriptor\" style=\"display: none;\">"+"<a class=\"mm_Item\" href=\"#mode\" style=\"visibility:hidden\">"+_41+"</a>"+"</div>";
}
_43+="<div class='mm_ItemSet' title='attributes' style='display: none;'>";
if(WidgetPlacementConfig.isProfilesEnv){
if(_3f.uid!=null){
_43+=_3b("profileDisplayedUserUID",_3f.uid);
}
if(_3f.key!=null){
_43+=_3b("profileDisplayedUserKey",_3f.key);
}
}
if(WidgetPlacementConfig.resourceId!=null){
_43+=_3b("resourceId",WidgetPlacementConfig.resourceId);
}
if(WidgetPlacementConfig.parentResourceId!=null){
_43+=_3b("parentResourceId",WidgetPlacementConfig.parentResourceId);
}
if(WidgetPlacementConfig.resourceType!=null){
_43+=_3b("resourceType",WidgetPlacementConfig.resourceType);
}
if(WidgetPlacementConfig.resourceName){
_43+=_3b("resourceName",WidgetPlacementConfig.resourceName);
}
if(_42){
_43+=_3b("computedWidgetTitle",_42);
}
for(var i=0;_40!=null&&i<_40.length;i++){
_43+=_3b(_40[i].entryName,_40[i].entryValue);
}
_43+="</div>"+"</div>";
WidgetPlacementConfig.widgetInstanceId=_3e;
return _43;
};
var _44=function(){
var _45=dojo.byId("lotusProfileNavBar");
if(_45==null){
_45=dojo.byId("lotusNavBar");
}
return _45;
};
lconn.core.WidgetPlacementMM.destroyWidget=function(_46,_47,_48,_49){
var _4a=dijit.byId(_46+"moreActions");
if(_4a!=null&&(_48==true)){
_4a.destroy();
}
var _4b=dijit.byId(_46+"_toggleAction");
if(_4b!=null&&(_48==true)){
_4b.destroy();
}
lconn.core.mumOverride.destroyWidget(_46);
var _4c=null;
if(_49!=null||_49==true){
_4c=document.getElementById(_46+"SubArea");
}
if(_4c!=null){
_4c.innerHTML="";
}
};
lconn.core.WidgetPlacementMM.closeFullPageWidgetIfOpen=function(){
if(lconn.core.WidgetPlacementMM.currentFullpageWidgetInstanceId!=null){
lconn.core.WidgetPlacementMM.destroyWidget(lconn.core.WidgetPlacementMM.currentFullpageWidgetInstanceId,null,false,true);
lconn.core.WidgetPlacementMM.currentFullpageWidgetInstanceId=null;
}
};
lconn.core.WidgetPlacementMM.closeSwitchView=function(){
if(lconn.core.WidgetPlacementMM.currentFullpageWidgetInstanceId!=null){
lconn.core.WidgetPlacementMM.destroyWidget(lconn.core.WidgetPlacementMM.currentFullpageWidgetInstanceId,null,false);
}
lconn.core.utilities.hide("widget-container-fullpage",false,true);
destroyWidgetContainer("fullpage");
lconn.core.WidgetPlacementMM.isInWidgetFullpageMode=true;
};
function _4d(_4e){
return window.getResourcedStringForItem(_4e,"defId");
};
lconn.core.WidgetPlacementMM.getInsertionPoint=function(_4f,li){
var _50=null;
var _51=li.getAttribute("uiLocation");
if(_51=="col2"){
var _52=dojo.query("li[uilocation='col2']",_4f);
if(_52.length>0){
_50=_52[_52.length-1];
}else{
_50=_4f.children[_4f.children.length-1];
}
}else{
_50=_4f.children[_4f.children.length-1];
}
return (_50);
};
var _53=function(_54,_55,_56,_57,_58,_59,_5a,_5b,_5c){
if(typeof (_54)=="undefined"){
return "";
}
var url=_54.getAttribute("url");
var _5d=_54.getAttribute("modes");
var _5e=_55.getAttribute("instanceId");
var _5f=_54.getAttribute("defId");
var _60=_54.getAttribute("navBarLinkText");
var _61=_54.getAttribute("navBarLink");
var _62=_54.getAttribute("helpLink");
var _63=_54.getAttribute("fixedPosition");
var _64=_54.getAttribute("displayLoginRequired");
var _65=null;
if(_62!=null&&_62!=""){
_65=lconn.core.i18nOverrider.replaceParams(_62,WidgetPlacementConfig.params);
}
var _66=false;
var _67="";
var _68=dojo.i18n.getLocalization("lconn.core","widgets");
if(_5e!=null){
_66=true;
}
if(_5e==null){
_5e=_5f;
}
var _69=_5e;
if(_5a=="edit"){
_69+="edit";
}
if(_5b==null||_5b==true){
var _6a=false;
if(WidgetPlacementConfig.NavBarSelectedMenuItem!=null){
var _6b=WidgetPlacementConfig.NavBarSelectedMenuItem;
var idx=_6b.indexOf("_");
if(idx>0){
_6b=_6b.substring(0,idx);
}
if(_6b==_5f){
_6a=true;
if(WidgetPlacementConfig.navBarOverViewElementId!=null){
var _6c=dojo.byId(WidgetPlacementConfig.navBarOverViewElementId);
if(_6c!=null){
dojo.removeClass(_6c,"lotusSelected");
}
}
}
}
addToNavBar(_54,_55,_56,_6a,_61,true,_60);
}
var _6d=true;
if(!WidgetPlacementConfig.userLoggedIn&&_64=="true"){
_6d=false;
}
var _6e=window.getEscapedWidgetName(_54,_55);
var _6f=null;
var _70=_5f+"-isMinimized";
var _71=dojo.cookie(_70);
if(_59==null||_59==""){
_59="use25OneUISkin";
}
if(_59=="use25OneUISkin"){
var _72="Open";
if(_71!="true"){
_72="Close";
}
var _73="";
var _74="";
if(_58&&_66){
_73=" dojoDndItem\" dndType=\"widget\" skipForm=\"true\" dndData=\""+_5e;
}else{
_74="style=\"cursor: default\"";
}
_6f="<div id=\""+_69+"Section\" class=\"lotusWidget2"+_73+"\" widgetId=\""+_5e+"\" role=\"region\" aria-labelledby=\""+_5e+"Id\" >";
var _75=_1["actions_alt"]||"Actions for: ${0}";
_75=dojo.string.substitute(_75,[_6e]);
_6f+="<h2 class=\"ibmDndDragHandle\" "+_74+">"+"<span class=\"lotusLeft\" style=\"cursor: default\" id=\""+_5e+"Id\">"+_6e+"</span>"+"<a id=\"widgetActionsMenu"+_5e+"\" class=\"lotusIcon lotusActionMenu\" href=\"javascript:void(0);\" onclick=\"lconn.core.WidgetPlacementMM.openMenu(event, '"+_5e+"','widgetActionsMenu"+_5e+"');\" title=\""+_75+"\" role=\"button\" aria-haspopup=\"true\" aria-label=\""+_75+"\">"+"<img src=\""+dijit._Widget.prototype._blankGif+"\" alt=\"\"/>"+"<span class=\"lotusAltText\">"+_75+"</span>"+"</a>"+"</h2>";
_6f+="<div dojoType=\"dijit.Menu\" id=\""+_69+"moreActions\" style=\"display: none;\">";
if(_71!="true"){
_6f+="<div id=\""+_69+"_toggleAction\" dojoType=\"dijit.MenuItem\" label=\""+_1["widgets_Min"]+"\" onclick=\"lconn.core.WidgetPlacementMM.minimizeWidget(this,'"+_5e+"', '"+_5f+"');\"></div>";
}else{
_6f+="<div id=\""+_69+"_toggleAction\" dojoType=\"dijit.MenuItem\" label=\""+_1["widgets_Max"]+"\" onclick=\"lconn.core.WidgetPlacementMM.minimizeWidget(this,'"+_5e+"', '"+_5f+"');\"></div>";
}
if(_6d){
_6f+="<div dojoType=\"dijit.MenuItem\" label=\""+_1["refresh"]+"\" onclick=\"lconn.core.WidgetPlacementMM.fetchAndRefresh('"+_5e+"');\"></div>";
}else{
}
if(_5d!=null&&_5d.indexOf("edit")!=-1&&_58){
_6f+="<div class=\"edit_button\" dojoType=\"dijit.MenuItem\" label=\""+_1["edit"]+"\" onclick=\"lconn.core.utilities.hide('"+_5e+"moreActions"+"', true, true);_"+_5e+"_iContext.iEvents.fireEvent('onModeChanged','','{\\'newMode\\':\\'edit\\'}');\"></div>";
}
if(_5d!=null&&_5d.indexOf("view")!=-1&&_58){
_6f+="<div class=\"view_button\" dojoType=\"dijit.MenuItem\" label=\""+_1["view"]+"\" onclick=\"lconn.core.utilities.hide('"+_5e+"moreActions"+"', true, true);_"+_5e+"_iContext.iEvents.fireEvent('onModeChanged','','{\\'newMode\\':\\'view\\'}');\"></div>";
}
if(_65!=null){
_6f+="<div dojoType=\"dijit.MenuItem\" label=\""+_1["help"]+"\" onclick=\"lconn.core.utilities.hide('"+_5e+"moreActions"+"', true, true);lconn.core.WidgetPlacementMM.openHelpWindow('"+_65+"');\"></div>";
}
if(_66&&_58){
var _76=_55.getAttribute("uiLocation");
if(!_63){
_6f+="<div class=\"moveup_button\" dojoType=\"dijit.MenuItem\" label=\""+_1["widgets_MoveUp"]+"\" onclick=\"lconn.core.WidgetPlacementMM.moveUp('"+_5e+"','"+_76+"');\"></div>";
_6f+="<div class=\"movedown_button\" dojoType=\"dijit.MenuItem\" label=\""+_1["widgets_MoveDown"]+"\" onclick=\"lconn.core.WidgetPlacementMM.moveDown('"+_5e+"','"+_76+"');\"></div>";
}
_6f+="<div dojoType=\"dijit.MenuItem\" label=\""+_1["hide"]+"\" onclick=\"lconn.core.WidgetPlacementMM.removeWidget('"+_5e+"', false);\"></div>";
_6f+="<div dojoType=\"dijit.MenuItem\" label=\""+_1["link.remove"]+"\" onclick=\"lconn.core.WidgetPlacementMM.removeWidget('"+_5e+"', true);\"></div>";
}
_6f+="</div>";
if(_71!="true"){
if(!WidgetPlacementConfig.userLoggedIn&&_64=="true"){
_6f+="<div id='"+_69+"SubArea' widgetloaded='false' widgetneedrefresh='false'>"+_68["msg.loginRequired"];
}else{
_6f+="<div id='"+_69+"SubArea' widgetloaded='true' widgetneedrefresh='false'>";
_5c=_6(_5c,_54,_55,_57);
_6f+=_3d(_5e,url,_56,_5c,_5a,getEscapedWidgetName(_54,_55));
}
}else{
_6f+="<div id='"+_69+"SubArea' style='display: none;' widgetloaded='false'";
if(!WidgetPlacementConfig.userLoggedIn&&_64=="true"){
_6f+=" widgetneedrefresh='false' >"+_68["msg.loginRequired"];
}else{
_6f+=" widgetneedrefresh='true' >";
}
}
_6f+="</div>";
_6f+="</div>";
}else{
if(_59=="skinless"){
_6f="<div id='"+_69+"Section'>";
if(!WidgetPlacementConfig.userLoggedIn&&_64=="true"){
_6f+="<div id='"+_69+"SubArea' widgetloaded='false' >";
_6f+=_68["msg.loginRequired"];
}else{
_6f+="<div id='"+_69+"SubArea' widgetloaded='true' >";
_5c=_6(_5c,_54,_55,_57);
_6f+=_3d(_5e,url,_56,_5c,_5a,getEscapedWidgetName(_54,_55));
}
_6f+="</div>";
_6f+="</div>";
}
}
return _6f;
};
lconn.core.WidgetPlacementMM.openHelpWindow=function(url){
var _77=url.indexOf("&lang");
if(_77>0){
url=url.substr(0,_77);
}
lconn.core.help.launchHelp(url);
};
lconn.core.WidgetPlacementMM.checkWidgetLocation=function(_78,_79){
var _7a=dojo.byId(_79+"DropZone");
if(_7a){
var _7b=_7a.childNodes;
for(var _7c=0;_7c<_7b.length;_7c++){
var _7d=_7b[_7c].getAttribute("widgetid");
if(_7b.length==1){
return "alone";
}
if(_7d==_78){
if(_7c==0){
return "top";
}else{
if(_7c>=_7b.length-1){
return "bottom";
}else{
return "middle";
}
}
}
}
}
};
lconn.core.WidgetPlacementMM.getUILocation=function(_7e){
var _7f=dojo.byId(_7e+"_navItem");
if(_7f){
uiLocation=_7f.getAttribute("uilocation");
if(uiLocation){
return uiLocation;
}
}else{
var _80=lconn.core.WidgetPlacement.loadOrder;
for(var i=0;_80&&_80.length>0;i++){
if(_80[i]!=null&&_80[i].instanceId==_7e){
return _80[i].uiLocation;
}
}
}
return "";
};
lconn.core.WidgetPlacementMM.updateMoreActions=function(_81){
var _82=_81+"moreActions";
var _83=lconn.core.WidgetPlacementMM.getUILocation(_81);
if(_83){
var _84=lconn.core.WidgetPlacementMM.checkWidgetLocation(_81,_83);
if(_84){
var _85=dojo.query("#"+_82+">tbody>tr.moveup_button");
var _86=dojo.query("#"+_82+">tbody>tr.movedown_button");
if(_85&&_86){
switch(_84){
case "alone":
_85.style("display","none");
_86.style("display","none");
break;
case "top":
_85.style("display","none");
_86.removeAttr("style");
_86.style("-moz-user-select","none");
break;
case "bottom":
_85.removeAttr("style");
_85.style("-moz-user-select","none");
_86.style("display","none");
break;
case "middle":
_86.removeAttr("style");
_86.style("-moz-user-select","none");
_85.removeAttr("style");
_85.style("-moz-user-select","none");
break;
default:
break;
}
}
}
var _87=dojo.query("#"+_82+">tbody>tr.edit_button");
var _88=dojo.query("#"+_82+">tbody>tr.view_button");
var _89=eval("(typeof(_"+_81+"_iContext))");
if(_89=="object"){
if(_87&&_88){
var _8a=eval("_"+_81+"_iContext.scope.iContext.getiDescriptor().getItemValue('mode')");
switch(_8a){
case "edit":
_88.removeAttr("style");
_87.style("display","none");
break;
case "view":
_87.removeAttr("style");
_88.style("display","none");
break;
}
}
}
}
return;
};
lconn.core.WidgetPlacementMM.openMenu=function(_8b,_8c,id){
var _8d=_8c+"moreActions";
var _8e=dijit.byId(_8d);
lconn.core.WidgetPlacementMM.updateMoreActions(_8c);
if(_8e==null){
if(WidgetPlacementConfig.debug){
console.log("lconn.core.WidgetPlacementMM.openMenu: dojoWidgetId '"+_8d+"' don't have a dojoWidget instance, creating one");
}
dojo.parser.parse(dojo.byId(_8d));
_8e=dijit.byId(_8d);
}
if(_8e!=null){
if(id!=null){
var _8f=document.getElementById(id);
if(_8f!=null){
dojo.attr(_8f,"aria-expanded","true");
dojo.attr(_8f,"aria-owns",id+"_dropdown");
var _90=dojo.connect(_8e,"onClose",function(){
dojo.attr(_8f,"aria-expanded","false");
dojo.removeAttr(_8f,"aria-owns");
dojo.disconnect(_90);
});
}
}
menuUtility.openMenu(_8b,_8d);
}else{
if(WidgetPlacementConfig.debug){
console.log("lconn.core.WidgetPlacementMM.openMenu: skipping open menu, can not find widget with id "+_8d);
}
}
};
var _91=function(_92,_93,_94){
var _95=function(_96,_97){
var _98=_96;
WidgetPlacementConfig.widgetConfigXMLDocument=_98;
var _99=null;
_99="/tns:widgets/tns:layout/tns:page[@pageId='"+WidgetPlacementConfig.defaultPageId+"']/tns:widgetInstance";
var _9a=lconn.core.xpath.selectNodes(_99,_98);
if(typeof (_9a)!="undefined"&&typeof (_9a.length)!="undefined"){
for(var i=0;_9a.length!=null&&i<_9a.length;i++){
var _9b=_9a[i];
var _9c=_9b.getAttribute("enabled");
if(_9c==null||_9c!="false"){
var _9d=_9b.getAttribute("defIdRef");
var _9e="/tns:widgets/tns:definitions/tns:widgetDef[@defId = '"+_9d+"']";
var _9f=lconn.core.xpath.selectSingleNode(_9e,_98);
if(canAddWidget(_9f,WidgetPlacementConfig,_93,_9b)){
var _a0=_9f.getAttribute("navBarLinkText");
var _a1=_9f.getAttribute("navBarLink");
var _a2=false;
if(WidgetPlacementConfig.NavBarSelectedMenuItem!=null&&WidgetPlacementConfig.NavBarSelectedMenuItem==_9d){
_a2=true;
}
addToNavBar(_9f,_9b,_94,_a2,_a1,false,_a0);
}
}
}
}
};
var _a3=_44();
if(_a3!=null){
try{
new lconn.core.WidgetPlacementMM.aria.Toolbar(_a3.id);
}
catch(ee){
new lconn.core.aria.Toolbar(_a3.id);
}
}
if(WidgetPlacementConfig.widgetConfigXMLDocument==null){
dojo.xhrGet({url:WidgetPlacementConfig.layoutInfoUrl+"&lastMod="+WidgetPlacementConfig.lastMod,error:lconn.core.errorhandling.DefaultXHRErrorHandler,handleAs:"xml",sync:true,load:_95});
}else{
_95(WidgetPlacementConfig.widgetConfigXMLDocument);
}
};
lconn.core.WidgetPlacementMM.sortWidgetNodes=function(_a4){
var _a5=new Array();
var _a6=new Array();
var _a7=new Array();
for(var i=0;i<_a4.length;i++){
var n=_a4[i];
var _a8=n.getAttribute("uiLocation");
if(_a8=="col2"){
_a5.push(n);
}else{
if(_a8=="col3"){
if(n.getAttribute("defIdRef")!="Members"){
_a6.push(n);
}else{
_a7.push(n);
}
}else{
_a7.push(n);
}
}
}
for(var i=0;i<_a5.length;i++){
_a7.push(_a5[i]);
}
for(var i=0;i<_a6.length;i++){
_a7.push(_a6[i]);
}
return (_a7);
};
lconn.core.WidgetPlacementMM.placeWidgetMetadata=function(_a9){
lconn.core.WidgetPlacementMM.initialLoad=true;
if(dojo.dnd!=null&&lconn.dboard&&lconn.dboard.dnd){
lconn.dboard.dnd.Source.prototype.onSelectStart=function(){
};
}
var _aa=function(_ab,_ac,_ad,_ae,_af){
var _b0=null;
var _b1=new Object();
try{
var exp=null;
var _b2=null;
var _b3=null;
var _b4=null;
if(WidgetPlacementConfig.isProfilesEnv){
var _b5=(_ac&&typeof (_ac.profileType)=="string"&&dojo.trim(_ac.profileType).length>0?_ac.profileType:"default");
_b2="/tns:widgets/tns:layout[@resourceSubType='"+_b5+"']/tns:page[@pageId='"+_ab+"']/tns:widgetInstance";
_b3="/tns:widgets/tns:layout[@resourceSubType='default']/tns:page[@pageId='"+_ab+"']/tns:widgetInstance";
_b4=lconn.core.xpath.selectNodes(_b2,_ad);
if(_b4==null||!_b4.length){
_b4=lconn.core.xpath.selectNodes(_b3,_ad);
if(WidgetPlacementConfig.debug){
console.log("\nNo widget layout for profile type ["+_b5+"] defined.  Falling back to default layout.");
}
}
}else{
_b2="/tns:widgets/tns:layout/tns:page[@pageId='"+_ab+"']/tns:widgetInstance";
_b4=lconn.core.xpath.selectNodes(_b2,_ad);
_b4=lconn.core.WidgetPlacementMM.sortWidgetNodes(_b4);
}
var _b6="";
if(typeof (_b4)!="undefined"&&typeof (_b4.length)!="undefined"){
for(var i=0;_b4.length!=null&&i<_b4.length;i++){
var _b7=_b4[i];
var _b8=_b7.getAttribute("defIdRef");
var _b9="/tns:widgets/tns:definitions/tns:widgetDef[@defId = '"+_b8+"']";
var _ba=lconn.core.xpath.selectSingleNode(_b9,_ad);
if(canAddWidget(_ba,WidgetPlacementConfig,_ae,_b7)){
var _bb=_ba.getAttribute("skinType");
var _bc=_b7.getAttribute("uiLocation");
if(_b1[_bc]==null){
_b1[_bc]="";
}
var _bd=_b7.getAttribute("instanceId");
if(_bd!=null&&_b1[_bc+"dnd"]==null&&_ae){
_b1[_bc]+="<div style=\"display: inline\" id=\""+_bc+"DropZone\" class=\"target\">";
_b1[_bc+"dnd"]=true;
}
if(_bd==null){
_bd=_b8;
}
if(lconn.core.WidgetPlacementMM.loadOrder==null){
lconn.core.WidgetPlacementMM.loadOrder=new Array();
}
lconn.core.WidgetPlacementMM.loadOrder[lconn.core.WidgetPlacementMM.loadOrder.length]={instanceId:_bd,uiLocation:_bc};
_b1[_bc]+=_53(_ba,_b7,_ac,_ad,_ae,_bb,null,_af);
lconn.core.WidgetPlacementMM.uiLocations[_bc]=true;
}
}
}
for(_bc in _b1){
var _be=dojo.byId("widget-container-"+_bc);
if(_be!=null){
var _bf=(_b1[_bc+"dnd"]==true?"</div>":"");
_be.innerHTML=_b1[_bc]+_bf;
}
}
if(typeof (_b4)!="undefined"&&typeof (_b4.length)!="undefined"){
for(var i=0;_b4.length!=null&&i<_b4.length;i++){
var _c0="widgetActionsMenu"+_b4[i].getAttribute("instanceId");
var _c1=dojo.byId(_c0);
if(_c1!=null){
dojo.attr(_c1,"aria-expanded","false");
}
}
}
}
catch(exception){
lconn.core.errorhandling.DefaultErrorHandler("lconn.core.WidgetPlacementMM.addAllWidgets",exception);
}
};
var _c2=function(_c3,_c4){
var _c5=_c3;
WidgetPlacementConfig.widgetConfigXMLDocument=_c5;
if(WidgetPlacementConfig.pageId=="fullPageWidgetView"){
try{
var _c6=_c4.args.displayedUserInfo;
var _c7=dojo.byId("widgetContainer");
if(_c7==null){
_c7=dojo.byId("widget-container-fullpage");
}
var _c8=common_getParam("widgetId");
var _c9=lconn.core.xpath.selectSingleNode("/tns:widgets/tns:definitions/tns:widgetDef[@defId = '"+_c8+"']",_c5);
var url=_c9.getAttribute("url");
addToNavBar(_c9,null,_c6,null,null,true,null);
var _ca=[{entryName:"state",entryValue:"maximize"}];
_ca=_6(_ca,_c9,null,_c5);
_c7.innerHTML=_3d(_c8,url,_c6,_ca,"fullpage");
if(lconn.core.WidgetPlacementMM.loadOrder==null){
lconn.core.WidgetPlacementMM.loadOrder=new Array();
}
lconn.core.WidgetPlacementMM.loadOrder[lconn.core.WidgetPlacementMM.loadOrder.length]={instanceId:_c8,uiLocation:"fullpage"};
}
catch(exception){
lconn.core.errorhandling.DefaultErrorHandler("WidgetMgmt.loadWidgets",exception,"widgetContainer");
}
}else{
var _c6=_c4.args.displayedUserInfo;
_aa(WidgetPlacementConfig.pageId,_c6,_c5,_cb,_c4.args.addToNavBarBoolean);
}
};
var _cc=null;
var _cb=null;
if(WidgetPlacementConfig.pageId==null){
if(_a9!=false){
if(_cb==null){
_cb=getUserProfileOverrideProperty("canPersonalize")=="true";
}
if(_cc==null){
_cc=_4();
}
_91(_a9,_cb,_cc);
}
return;
}
if(_cb==null){
_cb=getUserProfileOverrideProperty("canPersonalize")=="true";
}
if(_cc==null){
_cc=_4();
}
if(WidgetPlacementConfig.debug){
console.info("Using URL:"+WidgetPlacementConfig.layoutInfoUrl+"&lastMod="+WidgetPlacementConfig.lastMod);
}
if(WidgetPlacementConfig.widgetConfigXMLDocument==null){
dojo.xhrGet({addToNavBarBoolean:_a9,displayedUserInfo:_cc,url:WidgetPlacementConfig.layoutInfoUrl+"&lastMod="+WidgetPlacementConfig.lastMod,error:lconn.core.errorhandling.DefaultXHRErrorHandler,handleAs:"xml",sync:true,load:_c2});
}else{
_c2(WidgetPlacementConfig.widgetConfigXMLDocument,{args:{addToNavBarBoolean:_a9,displayedUserInfo:_cc}});
}
if(dojo.dnd!=null){
var _cd=dojo.dnd.manager();
_cd.makeAvatar=function(){
return new lconn.dboard.dnd.avatar(this);
};
dojo.subscribe("/dnd/drop",lconn.core.WidgetPlacementMM.onDropHandler);
dojo.subscribe("/dnd/start",function(_ce,_cf,_d0){
for(var i=0;i<_cf.length;i++){
lconn.core.utilities.hide(_cf[i],false,true);
lconn.core.WidgetPlacementMM.currentNode=_cf[i];
}
});
dojo.subscribe("/dnd/cancel",function(){
if(lconn.core.WidgetPlacementMM.currentNode!=null){
lconn.core.utilities.show(lconn.core.WidgetPlacementMM.currentNode,false,false,true);
lconn.core.WidgetPlacementMM.currentNode=null;
}
});
}
var _d1=function(){
var _d2=dojo.byId("lotusFrame");
if(_d2==null){
var _d3=dojo.query(".lotusFrame");
if(_d3!=null&&_d3.length>0){
_d2=_d3[0];
}else{
_d2=document.body;
}
}
dojo.parser.parse(_d2);
};
setTimeout(_d1,2000);
if(dojo.dnd!=null){
var _d4=function(){
for(uiLocation in lconn.core.WidgetPlacementMM.uiLocations){
var _d5=uiLocation+"DropZone";
var _d6=dojo.byId(_d5);
if(_d6!=null){
var _d7=_32(uiLocation,_d6);
lconn.core.WidgetPlacementMM.dropZoneObjects[_d5]=_d7;
}
}
};
setTimeout(_d4,2000);
}
lconn.core.WidgetPlacementMM.initialLoad=false;
};
lconn.core.WidgetPlacementMM.onDropHandler=function(_d8,_d9,_da){
var _db=dojo.dnd.manager().target;
var _dc=null;
for(var i=0;i<_d9.length;i++){
_dc=_d9[i];
lconn.core.utilities.show(_dc,false,false,true);
break;
}
if(lconn.core.WidgetPlacementMM.currentNode!=null){
lconn.core.utilities.show(lconn.core.WidgetPlacementMM.currentNode,false,false,true);
lconn.core.WidgetPlacementMM.currentNode=null;
}
var _dd=function(){
var _de=_db.getAllNodes();
for(var i=0;i<_de.length;i++){
var _df=_dc.getAttribute("widgetId");
if(_de[i].getAttribute("widgetId")==_df){
var _e0=null;
if(i==0){
_e0=null;
}else{
_e0=_de[i-1].getAttribute("widgetId");
}
_e1(_df,_db.jsId,_e0,_db,_d8);
break;
}
}
};
setTimeout(_dd,300);
};
lconn.core.WidgetPlacementMM.getColumn3Anchor=function(){
var _e2=null;
var _e3=lconn.core.WidgetPlacement.getColumnWidgetNodes("col2");
if(_e3.length>0){
_e2=_e3[_e3.length-1].getAttribute("widgetId");
}
return (_e2);
};
lconn.core.WidgetPlacementMM.getColumn2Anchor=function(){
return ("top");
};
var _e1=function(_e4,_e5,_e6,_e7,_e8){
var _e9=WidgetPlacementConfig.applicationContext+"/moveWidget.do?resourceId="+WidgetPlacementConfig.resourceId+"&widgetInstanceId="+_e4+"&newUiLocation="+_e5;
if(_e6==null){
_e6=lconn.core.WidgetPlacementMM.getColumn2Anchor();
if(_e5=="col3"){
_e6=lconn.core.WidgetPlacementMM.getColumn3Anchor();
}
}
if(_e6!=null){
_e9+="&afterWidgetInstanceId="+_e6;
}
dojo.xhrPost({url:_e9,handleAs:"xml",load:function(_ea,_eb){
var _ec=new Date().getTime();
WidgetPlacementConfig.lastMod=_ec;
if(_e7!=null&&_e8!=null&&_e7!=_e8){
lconn.core.WidgetPlacementMM.refresh(_e4);
}
},error:lconn.core.errorhandling.DefaultXHRErrorHandler});
};
lconn.core.WidgetPlacementMM.renderWidgets=function(){
if(lconn.core.WidgetPlacementMM.loadOrder!=null){
for(var i=0;i<lconn.core.WidgetPlacementMM.loadOrder.length;i++){
var _ed=lconn.core.WidgetPlacementMM.loadOrder[i];
if(_ed!=null){
lconn.core.mumOverride.renderSingleWidget(_ed.instanceId);
if(_ed.uiLocation=="col3"&&dojo.byId("profilePaneRight")!=null&&dojo.hasClass("profilePaneRight","lotusHidden")){
dojo.removeClass("profilePaneRight","lotusHidden");
}else{
if(_ed.uiLocation=="col1"&&dojo.byId("profilePaneLeft")!=null&&dojo.hasClass("profilePaneLeft","lotusHidden")){
dojo.removeClass("profilePaneLeft","lotusHidden");
}
}
}
}
}
};
lconn.core.WidgetPlacementMM.loadWidgetFullPage=function(_ee,_ef){
lconn.core.WidgetPlacementMM.loadFullpageView(_ee,_ef,true,true);
};
lconn.core.WidgetPlacementMM.loadFullpageView=function(_f0,_f1,_f2,_f3,_f4){
var _f5="/tns:widgets/tns:layout/tns:page/tns:widgetInstance[@instanceId = '"+_f0+"']";
var _f6=lconn.core.xpath.selectSingleNode(_f5,WidgetPlacementConfig.widgetConfigXMLDocument);
var _f7=null;
if(_f6!=null){
_f7=_f6.getAttribute("defIdRef");
}else{
_f7=_f0;
}
var _f8="/tns:widgets/tns:definitions/tns:widgetDef[@defId = '"+_f7+"']";
var _f9=lconn.core.xpath.selectSingleNode(_f8,WidgetPlacementConfig.widgetConfigXMLDocument);
if(_f1==null){
_f1=[{name:"resourceId",value:WidgetPlacementConfig.resourceId}];
}else{
_f1[_f1.length]={name:"resourceId",value:WidgetPlacementConfig.resourceId};
}
switchView(_f9,_f0,_f1,_f3,_f2);
};
lconn.core.WidgetPlacementMM.reloadOverviewPage=function(){
closeOtherViews();
if(WidgetPlacementConfig.debug){
console.log("lconn.core.WidgetPlacementMM.reloadOverviewPage called");
}
if(lconn.core.WidgetPlacementMM.currentFullpageWidgetInstanceId!=null){
lconn.core.WidgetPlacementMM.destroyWidget(lconn.core.WidgetPlacementMM.currentFullpageWidgetInstanceId,null,false,true);
lconn.core.WidgetPlacementMM.currentFullpageWidgetInstanceId=null;
}
if(lconn.core.WidgetPlacementMM.onlyFullPageWidgetLoaded){
lconn.core.WidgetPlacementMM.placeWidgetMetadata(false);
lconn.core.WidgetPlacementMM.renderWidgets();
lconn.core.WidgetPlacementMM.onlyFullPageWidgetLoaded=false;
}
if(WidgetPlacementConfig.hideElements!=null){
for(var i=0;WidgetPlacementConfig.hideElements!=null&&i<WidgetPlacementConfig.hideElements.length;i++){
lconn.core.utilities.show(WidgetPlacementConfig.hideElements[i],false,false,true);
try{
dijit.byId(WidgetPlacementConfig.hideElements[i]).show();
}
catch(exception1){
}
}
}
destroyWidgetContainer("fullpage");
for(uiLocation in lconn.core.WidgetPlacementMM.uiLocations){
lconn.core.utilities.show("widget-container-"+uiLocation,false,false,true);
}
highlightOverviewLink();
for(var i=0;lconn.core.WidgetPlacementMM.loadOrder!=null&&i<lconn.core.WidgetPlacementMM.loadOrder.length;i++){
var _fa=lconn.core.WidgetPlacementMM.loadOrder[i];
if(_fa!=null){
lconn.core.WidgetPlacementMM.refresh(_fa.instanceId);
}
}
return false;
};
lconn.core.WidgetPlacementMM.getWidgetDefId=function(_fb,_fc){
var _fd=null;
if(_fc==null){
_fd=WidgetPlacementConfig.widgetConfigXMLDocument;
}else{
_fd=_fc;
}
var _fe="/tns:widgets/tns:layout/tns:page/tns:widgetInstance[@instanceId = '"+_fb+"']";
var _ff=lconn.core.xpath.selectSingleNode(_fe,_fd);
var _ff=lconn.core.xpath.selectSingleNode(_fe,_fd);
var _100=null;
var _101=null;
if(_ff!=null){
_100=_ff.getAttribute("defIdRef");
}else{
_100=_fb;
}
return _100;
};
lconn.core.WidgetPlacementMM.refresh=function(_102,_103,_104){
lconn.core.utilities.hide(_102+"moreActions",true,true);
lconn.core.WidgetPlacementMM.destroyWidget(_102,null,false);
var _105=null;
if(_103==null){
_105=WidgetPlacementConfig.widgetConfigXMLDocument;
}else{
_105=_103;
}
var exp4="/tns:widgets/tns:layout/tns:page/tns:widgetInstance[@instanceId = '"+_102+"']";
var _106=lconn.core.xpath.selectSingleNode(exp4,_105);
var _107=null;
var _108=null;
if(_106!=null){
_107=_106.getAttribute("defIdRef");
_108=getWidgetName(_109,_106);
}else{
_107=_102;
}
var exp3="/tns:widgets/tns:definitions/tns:widgetDef[@defId = '"+_107+"']";
var _109=lconn.core.xpath.selectSingleNode(exp3,WidgetPlacementConfig.widgetConfigXMLDocument);
var _10a=_6(null,_109,_106,_105);
var _10b=dojo.byId(_102+"SubArea");
if(_10b!=null){
_10b.innerHTML=_3d(_102,_109.getAttribute("url"),_4(),_10a,"view",_108);
_10b.setAttribute("widgetloaded","true");
}
if(window.refreshInfoHolder==null){
window.refreshInfoHolder={};
}
window.refreshInfoHolder[_102]=true;
lconn.core.mumOverride.renderSingleWidget(_102);
if(_108){
var _10c=dojo.byId(_102+"Id");
if(_10c){
if(_10c.textContent){
_10c.textContent=_108;
}else{
_10c.innerText=_108;
}
}
var _10d=dojo.byId(_102+"_navItem");
if(_10d){
var _10e=_10d.children[0];
if(_10e.textContent){
_10e.textContent=_108;
}else{
_10e.innerText=_108;
}
}
}
setTimeout(function(){
window.refreshInfoHolder[_102]=null;
},2000);
if(_104!==false){
window.setTimeout("lconn.core.WidgetPlacementMM.setFocus('"+_102+"', 'widgetActionsMenu"+_102+"');",1000);
}
};
lconn.core.WidgetPlacementMM.refreshTitleAndMicroformat=function(_10f,_110,_111){
var exp4="/tns:widgets/tns:layout/tns:page/tns:widgetInstance[@instanceId = '"+_10f+"']";
var _112=lconn.core.xpath.selectSingleNode(exp4,_110);
var _113=null;
var _114=null;
if(_112!=null){
_113=_112.getAttribute("defIdRef");
_114=getWidgetName(_115,_112);
}else{
_113=_10f;
}
var exp3="/tns:widgets/tns:definitions/tns:widgetDef[@defId = '"+_113+"']";
var _115=lconn.core.xpath.selectSingleNode(exp3,WidgetPlacementConfig.widgetConfigXMLDocument);
_6(null,_115,_112,_110);
dojo.query("div#"+_10f+" > span[title=\"attributes\"]").orphan();
if(_114){
if(!_111["computedWidgetTitle"]){
_111["computedWidgetTitle"]=new Object();
}
_111["computedWidgetTitle"].value=_114;
var _116=dojo.byId(_10f+"Id");
if(_116){
if(_116.textContent){
_116.textContent=_114;
}else{
_116.innerText=_114;
}
}
var _117=dojo.byId(_10f+"_navItem");
if(_117){
var _118=_117.children[0];
if(_118.textContent){
_118.textContent=_114;
}else{
_118.innerText=_114;
}
}
}
};
lconn.core.WidgetPlacementMM.fetchAndRefresh=function(_119){
var temp=function(_11a,_11b){
lconn.core.WidgetPlacementMM.refresh(_119,_11a);
};
dojo.xhrGet({url:WidgetPlacementConfig.layoutInfoUrl,error:lconn.core.errorhandling.DefaultXHRErrorHandler,handleAs:"xml",sync:true,load:temp});
};
lconn.core.WidgetPlacementMM.moveDown=function(_11c,_11d){
var _11e=dojo.byId(_11d+"DropZone");
var _11f=_11e.childNodes;
for(var _120=0;_120<_11f.length;_120++){
var _121=_11f[_120].getAttribute("widgetid");
if(_121==_11c){
var _122=_120+1;
if(_122>_11f.length){
_122=_11f.length-1;
}
if(_122==_11f.length){
break;
}
var _123=_11f[_122].getAttribute("widgetid");
_e1(_11c,_11d,_123);
try{
_11e.insertBefore(_11f[_120],_11f[_122+1]);
}
catch(exception){
_11e.appendChild(_11f[_120]);
}
break;
}
}
lconn.core.utilities.hide(_11c+"moreActions",true,true);
var _124=dojo.byId("widgetActionsMenu"+_11c);
if(_124!=null){
_124.focus();
}
};
lconn.core.WidgetPlacementMM.moveUp=function(_125,_126){
var _127=dojo.byId(_126+"DropZone");
var _128=_127.childNodes;
for(var _129=0;_129<_128.length;_129++){
var _12a=_128[_129].getAttribute("widgetid");
if(_12a==_125){
if(_129==0){
break;
}
var _12b=_129-1;
var _12c=null;
if(_12b!=0){
_12c=_128[_12b-1].getAttribute("widgetid");
}
_e1(_125,_126,_12c);
_127.insertBefore(_128[_129],_128[_12b]);
break;
}
}
lconn.core.utilities.hide(_125+"moreActions",true,true);
var _12d=dojo.byId("widgetActionsMenu"+_125);
if(_12d!=null){
_12d.focus();
}
};
var _12e=function(){
if(window.dialog1==null){
var _12f=document.getElementById("dialog1Container");
if(_12f==null){
_12f=document.createElement("div");
_12f.id="dialog1Container";
dojo.byId("lotusContent").appendChild(_12f);
}
window.dialog1=new dijit.Dialog({id:"dialog1",style:"width: 500px"},_12f);
}
return window.dialog1;
};
lconn.core.WidgetPlacementMM.displayDialog=function(_130){
var _131=_12e();
_131.setContent(_130);
try{
_131.titleBar.style.display="none";
}
catch(error1){
console.log(error1);
}
_131.show();
var _132=dojo.byId("dialog1.button");
if(_132!=null){
_132.focus();
}
};
lconn.core.WidgetPlacementMM.getColumnWidgetNodes=function(_133){
var _134="col2Wrapper";
if(_133=="col3"){
_134="widget-container-col3";
}
return (dojo.query(".lotusWidget2",dojo.byId(_134)));
};
lconn.core.WidgetPlacementMM.moveWidgetToEnd=function(_135,_136){
var _137=lconn.core.WidgetPlacementMM.getColumnWidgetNodes(_136);
if(_137.length>0){
var _138=dojo.attr(_137[_137.length-1],"widgetid");
if(_138!=_135){
_e1(_135,_136,_138,null,null);
}else{
if(_137.length>1){
_138=dojo.attr(_137[_137.length-2],"widgetid");
_e1(_135,_136,_138,null,null);
}
}
}
};
lconn.core.WidgetPlacementMM.showFullWidgetDeleteConfirmation=function(_139){
var _13a=true;
var _13b=lconn.core.xpath.selectNodes("/tns:widgets/tns:definitions/tns:widgetDef[@defId = '"+_139+"']",dojo.global.WidgetPlacementConfig.widgetConfigXMLDocument);
if(_13b!=null){
var _13c=_13b[0].getAttribute("showFullWidgetDeleteConfirmation");
if(_13c=="false"){
_13a=false;
}
}
return (_13a);
};
lconn.core.WidgetPlacementMM.removeWidget=function(_13d,_13e,_13f){
if(WidgetPlacementConfig.debug){
console.log("lconn.core.WidgetPlacementMM.removeWidget: widgetInstanceId="+_13d+", removeWidgetData="+_13e+", prompt="+_13f);
}
var exp1="/tns:widgets/tns:layout/tns:page/tns:widgetInstance[@instanceId = '"+_13d+"']";
var _140=lconn.core.xpath.selectSingleNode(exp1,WidgetPlacementConfig.widgetConfigXMLDocument);
if(_140!=null){
if(_13e==true){
var _141=_140.getAttribute("defIdRef");
if(_141=="Files"){
var exp2="/tns:widgets/tns:layout/tns:page/tns:widgetInstance[@defIdRef = 'MediaGallery']";
var _142=lconn.core.xpath.selectSingleNode(exp2,WidgetPlacementConfig.widgetConfigXMLDocument);
if(_142!=null){
console.log("lconn.core.WidgetPlacementMM.removeWidget: Skipping removal of Files widget since MediaGallery widget is present.");
return;
}
}
}
}else{
console.log("lconn.core.WidgetPlacementMM.removeWidget: Unable to find widget instance for instanceId = "+_13d);
}
if(_13f==null){
var _143=null;
if(_13e==true){
var _144=_140.getAttribute("defIdRef");
if(_144=="FeaturedSurvey"||_144=="LinkedQuickrCommunityLib"||(lconn.core.WidgetPlacementMM.showFullWidgetDeleteConfirmation(_144)==false)){
var _145=dojo.partial(_146,_13d);
lconn.core.DialogUtil.prompt(_1["deleteWidget"],_1["confirmDeleteWidget"],_3["rs_ok"],_1["cancel"],_145,null);
}else{
var _145=dojo.partial(_147,_13d);
var dlg=new lconn.communities.bizCard.dialogs.deleteConfirmWidget({"communityTitle":_140.getAttribute("title"),"callback":_145,"userName":communityActionData.userName});
lconn.core.WidgetPlacementMM.removeWidgetInProgress=true;
dlg.show();
}
}else{
_143="<div class=\"lotusDialogBorder\"><form class=\"lotusDialog lotusForm\" onSubmit=\"return false;\" role=\"dialog\" aria-labelledby=\"hideTitle\" aria-describedby=\"hideContent\">"+"<div class=\"lotusDialogHeader\">"+"  <h1 id=\"hideTitle\" class=\"lotusHeading\">"+_1["hideWidget"]+"</h1>"+"  <a title=\""+_1["close"]+"\" role=\"button\" class=\"lotusRight lotusDialogClose\" href=\"javascript:;\" onclick=\"dijit.byId('dialog1').hide();\">"+"    <img src=\""+dijit._Widget.prototype._blankGif+"\" role=\"presentation\" alt=\""+_1["close"]+"\" />"+"    <span class=\"lotusAltText\">X</span>"+"  </a>"+"</div>"+"<div class=\"lotusDialogContent\" id=\"hideContent\">"+_1["hideWidgetMsg"]+"</div><!--end lotusDialogContent-->"+"<div class=\"lotusDialogFooter\">"+"  <input id=\"dialog1.button\" value=\""+_1["hide"]+"\" class=\"lotusFormButton\" type=\"button\" onclick=\"dijit.byId('dialog1').hide();lconn.core.WidgetPlacementMM.removeWidget('"+_13d+"', "+_13e+", false)\" />"+"  <input value=\""+_1["cancel"]+"\" class=\"lotusFormButton\" type=\"button\" onclick=\"dijit.byId('dialog1').hide();\" />"+"</div>"+"</form></div>";
lconn.core.WidgetPlacementMM.displayDialog(_143);
}
lconn.core.WidgetPlacementMM.removeWidgetInProgress=false;
}else{
if(lconn.core.WidgetPlacementMM.removeWidgetInProgress==false){
if(_13e==true){
_148();
}
lconn.core.WidgetPlacementMM.removeWidgetInProgress=true;
var _149=WidgetPlacementConfig.applicationContext+"/removeWidget.do?resourceId="+WidgetPlacementConfig.resourceId+"&widgetInstanceId="+_13d+"&removeWidgetData="+_13e;
dojo.xhrPost({url:_149,handleAs:"xml",headers:{"X-Update-Nonce":window.dangerousurlnonce},load:function(resp,_14a){
lconn.core.WidgetPlacementMM.removeWidgetInProgress=false;
for(var i=0;lconn.core.WidgetPlacementMM.loadOrder!=null&&i<lconn.core.WidgetPlacementMM.loadOrder.length;i++){
var _14b=lconn.core.WidgetPlacementMM.loadOrder[i];
if(_14b!=null&&_14b.instanceId==_13d){
delete lconn.core.WidgetPlacementMM.loadOrder[i];
}
}
var _14c=_13d+"Section";
var _14d=function(){
var _14e=dojo.byId(_14c);
_14e.parentNode.removeChild(_14e);
var _14f=new Date().getTime();
WidgetPlacementConfig.lastMod=_14f;
var _150=function(resp,_151){
WidgetPlacementConfig.widgetConfigXMLDocument=resp;
if(lconn.core.applicationPalette.palette!=null){
lconn.core.applicationPalette.palette.setJsonData(lconn.core.applicationPalette.getjsonData());
lconn.core.applicationPalette.palette.populatePalette(false);
}
_152();
};
dojo.xhrGet({url:WidgetPlacementConfig.layoutInfoUrl+"&lastMod="+_14f,handleAs:"xml",error:lconn.core.errorhandling.DefaultXHRErrorHandler,load:_150});
};
var _153=dojo.fx.wipeOut({node:_14c,duration:300,onEnd:_14d});
_153.play();
try{
eval("if(_"+_13d+"_iContext.iScope().onRemoveWidgetUIContent != null) _"+_13d+"_iContext.iScope().onRemoveWidgetUIContent();");
_154(_13d);
lconn.core.WidgetPlacementMM.destroyWidget(_13d,null,true);
var _155=_140.getAttribute("defIdRef");
if(_155=="StatusUpdates"){
window.location.href=WidgetPlacementConfig.applicationContext+"/service/html/communityview?communityUuid="+WidgetPlacementConfig.resourceId;
}
}
catch(e){
console.log(e);
}
},error:lconn.core.WidgetPlacementMM.customAddWidgetErrorHandler});
}
}
};
var _146=function(_156,_157){
if(_157==true){
_147(_156,true);
}
};
var _147=function(_158,_159){
if(_159==true){
lconn.core.WidgetPlacementMM.removeWidget(_158,true,false);
lconn.core.WidgetPlacementMM.removeWidgetInProgress=false;
}else{
lconn.core.WidgetPlacementMM.removeWidget(_158,false,null);
}
};
var _154=function(_15a){
var _15b=dojo.byId(_15a+"_navItem");
if(_15b!=null){
_15b.parentNode.removeChild(_15b);
}
};
var _15c=function(){
var _15d="<div class=\"lotusDialogBorder\"><form class=\"lotusDialog lotusForm\">"+"<h1><img src=\""+WidgetPlacementConfig.applicationContext+"/nav/common/styles/images/loading.gif\" title=\""+_1["widget_AddingWidget"]+"\"> "+_1["widget_AddingWidget"]+"</h1>"+"</form></div>";
lconn.core.WidgetPlacementMM.displayDialog(_15d);
};
var _148=function(){
var _15e="<div class=\"lotusDialogBorder\"><form class=\"lotusDialog lotusForm\">"+"<h1><img src=\""+WidgetPlacementConfig.applicationContext+"/nav/common/styles/images/loading.gif\"> "+_1["widget_RemovingWidget"]+"</h1>"+"</form></div>";
lconn.core.WidgetPlacementMM.displayDialog(_15e);
};
var _152=function(){
var temp=dijit.byId("dialog1");
if(temp!=null){
temp.hide();
}
};
lconn.core.WidgetPlacementMM.addWidgetToServerAndRender=function(_15f,_160,_161,_162){
widgetDefIdString=_15f[0];
var _163=false;
if(widgetDefIdString==="StatusUpdates"){
_160="col2statusposts";
}
if(_161==false||_161=="false"){
_15c();
}else{
_163=true;
}
var _164=WidgetPlacementConfig.applicationContext+"/addWidget.do?resourceId="+WidgetPlacementConfig.resourceId+"&widgetDefId="+widgetDefIdString+"&uiLocation="+_160;
if(_161!=null){
_164+="&unhide="+_161;
if(_162){
_164+="&instanceId="+_162;
}
}
dojo.xhrPost({url:_164,handleAs:"xml",load:function(resp,_165){
lconn.core.WidgetPlacementMM.addWidgetInProgress=false;
var _166=resp.documentElement.getAttribute("widgetInstanceId");
lconn.core.WidgetPlacementMM.loadOrder[lconn.core.WidgetPlacementMM.loadOrder.length]={instanceId:_166,uiLocation:_160};
dojo.global.staleXMLConfig=true;
lconn.core.WidgetPlacementMM.getWidgetDocAndRenderWidget(_15f,null,_166,_160);
_152();
if(lconn.core.applicationPalette.palette!=null){
dojo.publish(lconn.core.paletteOneUI.Palette.prototype.RECHECK_CAN_ADD_WIDGET_HANDLER_EVENT,[_15f]);
lconn.core.applicationPalette.palette.incCounter();
}
setTimeout(function(){
dojo.byId("closePalette").focus();
},dijit.defaultDuration+200);
if(_163==true){
lconn.core.WidgetPlacementMM.moveWidgetToEnd(_166,_160);
}
var _167=_44();
if(_167!=null){
try{
new lconn.core.WidgetPlacementMM.aria.Toolbar(_167.id);
}
catch(ee){
new lconn.core.aria.Toolbar(_167.id);
}
}
},error:lconn.core.WidgetPlacementMM.customAddWidgetErrorHandler});
};
lconn.core.WidgetPlacementMM.showWidgetErrorInHeadline=function(_168,_169){
_152();
lconn.core.WidgetPlacementMM.removeWidgetInProgress=false;
lconn.core.WidgetPlacementMM.addWidgetInProgress=false;
var _16a="";
if(_168!=null&&_168.responseText!=null){
_16a=_168.responseText;
}else{
_16a=_168;
}
_16a=dojox.html.entities.encode(_16a);
var _16b=new Date().getTime();
var _16c="<div class=\"lotusFormError lotusMessage\" role=\"alert\">"+"<img class=\"lotusIcon iconsMessages16 iconsMessages16-msgError16\" src=\""+dojo.config.blankGif+"\" alt=\""+_3["rs_messagebox_error_a11y_label"]+"\" title=\""+_3["rs_messagebox_error_a11y_label"]+"\"/>"+"<span>"+_1["error.title.generic"]+"  <a id=\"error_"+_16b+"\" href=\"javascript:void(0);\" onclick=\"lconn.core.utilities.show('errorTextContainer');lconn.core.utilities.hide('error_"+_16b+"');\" title=\""+_1["info.feed.general.moreinfo"]+"\">"+_1["info.feed.general.moreinfo"]+"</a><div id=\"errorTextContainer\" style=\"display:none\">"+_16a+"</div></span>"+"</div>";
var temp=dojo.byId("headline");
if(_169==true){
_16c+=temp.innerHTML;
}
temp.innerHTML=_16c;
};
lconn.core.WidgetPlacementMM.customAddWidgetErrorHandler=function(_16d){
return (lconn.core.WidgetPlacementMM.showWidgetErrorInHeadline(_16d,true));
};
lconn.core.WidgetPlacementMM.minimizeWidget=function(_16e,_16f,_170,_171){
lconn.core.utilities.hide(_16f+"moreActions",true,true);
var _172=dojo.byId(_16f+"SubArea");
var _173=dijit.byId(_16f+"_toggleAction");
if(dojo.style(_172,"display")=="none"){
dojo.cookie(_170+"-isMinimized","false");
var _174=dojo.byId("widgetActionsMenu"+_16f);
var _175=_172.getAttribute("widgetloaded");
var _176=_172.getAttribute("widgetneedrefresh");
if(_176==null){
_176="true";
}
if(_175=="false"&&_176=="true"){
var temp=function(_177,_178){
var _179=_177;
lconn.core.WidgetPlacementMM.refresh(_16f,_179);
if(_171){
dojo.style(_172,"display","none");
_173.setLabel(_1["widgets_Max"]);
}else{
dojo.style(_172,"display","");
_173.setLabel(_1["widgets_Min"]);
}
};
if(WidgetPlacementConfig.widgetConfigXMLDocument!=null){
temp(WidgetPlacementConfig.widgetConfigXMLDocument);
}else{
dojo.xhrGet({url:WidgetPlacementConfig.layoutInfoUrl+"&lastMod="+WidgetPlacementConfig.lastMod,error:lconn.core.errorhandling.DefaultXHRErrorHandler,handleAs:"xml",sync:true,load:temp,error:lconn.core.errorhandling.DefaultXHRErrorHandler});
}
}else{
dojo.style(_172,"display","");
_173.setLabel(_1["widgets_Min"]);
}
}else{
dojo.cookie(_170+"-isMinimized","true");
var _174=dojo.byId("widgetActionsMenu"+_16f);
dojo.style(_172,"display","none");
_173.setLabel(_1["widgets_Max"]);
}
window.setTimeout("lconn.core.WidgetPlacementMM.setFocus('"+_16f+"', 'widgetActionsMenu"+_16f+"');",1000);
};
lconn.core.WidgetPlacementMM.addEditTabsWithOnclickCalls=function(_17a,_17b,_17c,_17d,_17e){
return lconn.core.WidgetPlacementMM.addTabsWithOnclickCalls(_17a,_17b,_17c,_17d,_17e,"edit");
};
lconn.core.WidgetPlacementMM.showFirstTab=function(_17f,_180,_181){
if(WidgetPlacementConfig.TabContainerDomId!=null){
var _182=document.getElementById(WidgetPlacementConfig.TabContainerDomId);
if(_182!=null){
dojo.query("li[id$='_TabItem']",_182).forEach(function(node){
dojo.removeClass(node,"lotusSelected");
dojo.attr(node,{"tabindex":"-1","aria-selected":"false","role":"tab"});
});
}
try{
dojo.attr(dojo.byId(WidgetPlacementConfig.TabContainerDomId+"_panel"),"aria-label",dojo.query("a._linkHolder",dojo.byId(_180))[0].innerHTML);
}
catch(ee){
}
}
if(WidgetPlacementConfig.TempWidgetContainerDomId!=null){
destroyWidgetContainer(WidgetPlacementConfig.TempWidgetContainerDomId);
}
if(_17f!=null){
lconn.core.utilities.show(_17f);
}
if(_180!=null){
dojo.query("#"+_180).forEach(function(_183){
dojo.attr(_183,{"tabindex":"0","aria-selected":"true"});
dojo.addClass(_183,"lotusSelected");
});
}
var hash=window.location.hash;
if(hash!=null){
var _184=hash.indexOf("&tab");
if(_184>0){
changeHash(hash.substr(0,_184));
}
}
if(_181!=null){
_181();
}
return false;
};
lconn.core.WidgetPlacementMM.addTabsWithOnclickCalls=function(_185,_186,_187,_188,_189,_18a,_18b){
var _18c=null;
dojo.forEach(lconn.core.WidgetPlacementMM.uiLocations,function(loc){
lconn.core.utilities.show("widget-container-"+loc,false,true);
});
dojo.forEach((WidgetPlacementConfig.hideElements||[]),function(elem){
lconn.core.utilities.hide(elem,false,true);
});
if(_188!=null){
WidgetPlacementConfig.cancelCallBack=_188;
}
var _18d=null;
var _18e=null;
var _18f=false;
var _190=null;
if(_18b&&_18b.length>0){
var _191=_18b[0].component;
if(_191&&_191=="communities:content"){
_18f=true;
}
_18d=_18b[0].selectTab;
_18e=_18b[0].selectTabInst;
var key=_18b[0].entryValue;
if(key){
if(_18b[0].entryName=="searchKeywords"){
var hash="query="+key;
}else{
if(_18b[0].entryName=="tagCloudItemValue"){
var hash="tag="+key;
}
}
if(hash){
if(_18e){
hash+="&tabinst="+_18e;
}else{
if(_18d){
hash+="&tab="+_18d;
}
}
changeHash(hash);
}
}
_190=_18b[0].moreActionsContainerNode;
}
var _192=_4();
var _193=(_192&&typeof (_192.profileType)=="string"&&dojo.trim(_192.profileType).length>0?_192.profileType:"default");
var exp1="/tns:widgets/tns:layout[@resourceSubType='"+_193+"']/tns:page[@pageId='"+WidgetPlacementConfig.defaultPageId+"']/tns:widgetInstance";
var exp2="/tns:widgets/tns:layout[@resourceSubType='default']/tns:page[@pageId='"+WidgetPlacementConfig.defaultPageId+"']/tns:widgetInstance";
var data=WidgetPlacementConfig.widgetConfigXMLDocument;
var _194=lconn.core.xpath.selectNodes(exp1,data);
if(_194==null||!_194.length){
_194=lconn.core.xpath.selectNodes(exp2,data);
}
var _195=getUserProfileOverrideProperty("canPersonalize")=="true";
var _196=function(node,opts){
dojo.query("._iconHolder",node.parentNode).forEach(function(_197){
dojo.style(_197,"display","none");
});
if(!_190){
dojo.query("._iconHolder",node).forEach(function(_198){
dojo.style(_198,"display","inline");
});
}
try{
dojo.attr(dojo.byId(WidgetPlacementConfig.TabContainerDomId+"_panel"),"aria-label",dojo.query("a._linkHolder",node)[0].innerHTML);
}
catch(ee){
}
var _199=opts.defNode.getAttribute("defId");
var _19a=opts.instNode.getAttribute("instanceId");
_19a=(_19a==null?_199:_19a);
if(lconn.core.WidgetPlacementMM.infoMessage==null&&dojo.byId("editWarningMessage")){
lconn.core.WidgetPlacementMM.infoMessage=new com.ibm.oneui.controls.MessageBox({canClose:true,_strings:{icon_alt:_3["rs_messagebox_info_icon_alt"],a11y_label:_3["rs_messagebox_info_a11y_label"],close_btn_title:_3["rs_close"],close_btn_alt:_3["rs_close"]},type:com.ibm.oneui.controls.MessageBox.TYPE.INFO,msg:_1["switchTabWarning"]},dojo.create("div"));
dojo.place(lconn.core.WidgetPlacementMM.infoMessage.domNode,dojo.byId("editWarningMessage"),"only");
}
if(opts.destroyContainer){
destroyWidgetContainer(WidgetPlacementConfig.TempWidgetContainerDomId,false);
}
lconn.core.WidgetPlacementMM.destroyWidget(_19a,null,false,true);
lconn.core.WidgetPlacementMM.getWidgetDocAndRenderWidget(_199,opts.defNode,_19a,WidgetPlacementConfig.TempWidgetContainerDomId,opts.widgetMode,"skinless",false,false,opts.attributesMap);
if(opts.initDispId!=null){
lconn.core.utilities.hide(opts.initDispId,false,true);
}
if(opts.attributesMap&&opts.attributesMap.length>0){
var key=opts.attributesMap[0].entryValue;
if(key){
if(_18b[0].entryName=="searchKeywords"){
var hash="query=";
}else{
if(_18b[0].entryName=="tagCloudItemValue"){
var hash="tag=";
}
}
if(hash){
_18d=_18b[0].selectTab;
_18e=_18b[0].selectTabInst;
hash+=key;
if(_18e){
hash+="&tabinst="+_19a;
}else{
if(_18d){
hash+="&tab="+_199;
}else{
hash+="&tabinst="+_19a;
}
}
changeHash(hash);
}
}
}
if(_190){
var _19b=dijit.byId(opts.instId+"moreActions");
if(_19b){
_19b.destroy();
}
if(lconn.core.WidgetPlacementMM._moreActionsConnect){
dojo.disconnect(lconn.core.WidgetPlacementMM._moreActionsConnect);
}
var _19c=_190.id+"_menuHolder";
dojo.query("."+_19c).forEach(function(node){
node.parentNode.removeChild(node);
});
dojo.place("<div dojoType=\"dijit.Menu\" id=\""+opts.instId+"moreActions\"  class=\""+_19c+"\" style=\"display:none;\"></div>",_190,"after");
var _19d=window.getEscapedWidgetName(opts.defNode,opts.instNode);
var _19e=_1["actions_alt"]||"Actions for: ${0}";
_19e=dojo.string.substitute(_19e,[_19d]);
dojo.query("a",_190).forEach(function(node){
dojo.attr(node,{title:_19e,"aria-label":_19e});
});
dojo.query(".lotusAltText",_190).forEach(function(node){
dojo.attr(node,{innerHTML:_19e});
});
var _19f=dojo.byId(opts.instId+"moreActions");
dojo.place(dojo.create("div",{dojoType:"dijit.MenuItem",label:_1["refresh"],"onclick":"lconn.core.WidgetPlacementMM.fetchAndRefresh('"+opts.instId+"');"}),_19f,"last");
var _1a0=opts.defNode.getAttribute("helpLink");
if(_1a0&&_1a0.length!=0){
_1a0=lconn.core.i18nOverrider.replaceParams(_1a0,WidgetPlacementConfig.params);
var _1a1=dojo.create("div",{dojoType:"dijit.MenuItem",label:_1["help"],title:_1["link.window.openNewWindow"],"onclick":"lconn.core.utilities.hide('"+opts.instId+"', false, true);"+"lconn.core.WidgetPlacementMM.openHelpWindow('"+_1a0+"');"});
dojo.place(_1a1,_19f,"last");
}
dojo.parser.parse(_19f.parentNode);
lconn.core.WidgetPlacementMM._moreActionsConnect=dojo.connect(_190,"onclick",function(evt){
lconn.core.WidgetPlacementMM.openMenu(evt,opts.instId);
dojo.stopEvent(evt);
});
}
};
var _1a2=function(opts){
var _1a3=50;
var _1a4=opts.defNode.getAttribute("defId");
var _1a5=window.getEscapedWidgetName(opts.defNode,opts.instNode);
if(_1a5.length>_1a3){
_1a5=_1a5.substring(0,_1a3)+"...";
}
var li=dojo.byId(opts.instId+"_TabItem");
if(li==null){
li=dojo.create("li",{id:opts.instId+"_TabItem",role:"tab"});
dojo.place(li,_185,"last");
}
dojo.attr(li,{itemidx:opts.itemIdx,innerHTML:"<a class=\"_linkHolder lotusLeft\">"+_1a5+"</a>"+"<a class=\"_iconHolder lotusIcon lotusLeft\" style=\"padding: 0; display: none;\"></a>"+"<div class=\"_menuHolder\" style=\"display: none;\"><div>"});
dojo.connect(li,"onclick",function(evt){
_196(li,opts);
dojo.stopEvent(evt);
return false;
});
if(!opts.showMenu){
dojo.query("._iconHolder",li).forEach(dojo.destroy);
dojo.query("div._menuHolder",li).forEach(dojo.destroy);
}else{
if(!_190){
var _1a6=dojo.i18n.getLocalization("lconn.core","widgets");
var _1a7=dojo.query("div._menuHolder",li)[0];
dojo.attr(_1a7,{id:opts.instId+"moreActions",dojoType:"dijit.Menu"});
var _1a8=dojo.create("div",{dojoType:"dijit.MenuItem",label:_1a6["refresh"],"onclick":"lconn.core.WidgetPlacementMM.fetchAndRefresh('"+opts.instId+"');"});
dojo.place(_1a8,_1a7,"last");
var _1a9=opts.defNode.getAttribute("helpLink");
if(_1a9&&_1a9.length!=0){
_1a9=lconn.core.i18nOverrider.replaceParams(_1a9,WidgetPlacementConfig.params);
var _1aa=dojo.create("div",{dojoType:"dijit.MenuItem",label:_1a6["help"],title:_1a6["link.window.openNewWindow"],"onclick":"lconn.core.utilities.hide('"+_1a7.id+"', true, true);"+"lconn.core.WidgetPlacementMM.openHelpWindow('"+_1a9+"');"});
dojo.place(_1aa,_1a7,"last");
}
var _1ab=_1a6["actions_alt"]||"Actions for: ${0}";
_1ab=dojo.string.substitute(_1ab,[_1a5]);
var _1ac=dojo.query("._iconHolder",li)[0];
dojo.attr(_1ac,{id:opts.instId+"_MenuIcon",role:"button","aria-haspopup":"true",href:"javascript:void(0);",innerHTML:"<img class=\"lotusArrow\" alt=\""+_1ab+"\" title=\""+_1ab+"\" src=\""+dijit._Widget.prototype._blankGif+"\"/><span class=\"lotusAltText\">&#9660;</span>"});
dojo.addClass(_1ac,"lotusIcon");
dojo.connect(_1ac,"onclick",function(evt){
lconn.core.WidgetPlacementMM.openMenu(evt,opts.instId);
dojo.stopEvent(evt);
});
}
}
dojo.place(li,_185);
dojo.parser.parse(li);
return (li);
};
_194=_194||[];
dojo.forEach(_194,dojo.hitch(this,function(_1ad,idx){
var _1ae=_1ad.getAttribute("defIdRef");
if(_18d==null){
_18d=_1ae;
}
var exp3="/tns:widgets/tns:definitions/tns:widgetDef[@defId = '"+_1ae+"']";
var _1af=lconn.core.xpath.selectSingleNode(exp3,data);
if(_1af==null){
return;
}
var _1b0=_1ad.getAttribute("uiLocation");
var _1b1=_1af.getAttribute("modes");
var _1b2=_1ad.getAttribute("instanceId");
if(_1b2==null){
_1b2=_1ae;
}
if(_1b2==_186){
return;
}
if(!canAddWidget(_1af,WidgetPlacementConfig,_195,_1ad,_18f)){
return;
}
var _1b3={containerId:_185,defNode:_1af,instNode:_1ad,instId:_1b2,initDispId:_187,cancelCallBack:_188,widgetMode:_18a,attributesMap:dojo.clone(_18b),itemIdx:idx,showMenu:false,destroyContainer:true};
var _1b4=null;
if(_1b1!=null&&_1b1.indexOf(_18a)!=-1){
_1b4=_1a2(_1b3);
}else{
if(_1b0==_186){
_1b3.showMenu=true;
_1b4=_1a2(_1b3);
}
}
if(_1b2==_18e){
_18c=_1b4;
}else{
if(_1ae==_18d){
_18c=_1b4;
}
}
}));
WidgetPlacementConfig.isTabbedFullPageWidgetRendering=true;
WidgetPlacementConfig.TempWidgetContainerDomId=_186;
WidgetPlacementConfig.TabContainerDomId=_185;
if(lconn.core.WidgetPlacementMM.aria&&typeof (lconn.core.WidgetPlacementMM.aria.TabPanel)=="function"){
new lconn.core.WidgetPlacementMM.aria.TabPanel(_185);
if(_18c!=null){
_18c.click();
}
}
dojo.query("a._iconHolder",dojo.byId(_185)).forEach(function(_1b5){
var _1b6=dojo.query("img.lotusArrow",_1b5);
if(_1b6.length>0){
var _1b7=dojo.query("._linkHolder",_1b5.parentNode);
if(_1b7.length>0){
var h=dojo.coords(_1b7[0]).h-dojo.style(_1b7[0],"borderBottomWidth");
if(!dojo.isIE){
h-=dojo.style(_1b7[0],"borderTopWidth");
}
dojo.style(_1b6[0],"height",h+"px");
}
}
});
};
window.changeHash=function(_1b8){
window.location.hash=_1b8;
};
lconn.core.WidgetPlacementMM.URLChange=function(URL){
if(WidgetPlacementConfig.debug){
console.log("lconn.core.WidgetPlacementMM.URLChange: value: "+URL);
}
var _1b9=URL.indexOf("#");
if(_1b9==-1||URL.substring(_1b9).length==1){
lconn.core.WidgetPlacementMM.reloadOverviewPage();
return;
}
var _1ba=lconn.core.utilities.getURLParam("fullpageWidgetId",true);
if(_1ba&&_1ba!=lconn.core.WidgetPlacementMM.currentFullpageWidgetInstanceId){
lconn.core.WidgetPlacementMM.loadFullpageView(_1ba,null,false,true,true);
return;
}
var _1bb=lconn.core.utilities.getURLParam("query",true);
var _1bc=lconn.core.utilities.getURLParam("tag",true);
if(_1bb!=null||_1bc!=null){
if(dojo.style("searchCommunityForm","display")=="none"){
var _1bd=[];
selectTabInstValue=lconn.core.utilities.getURLParam("tabinst",true);
selectTabValue=lconn.core.utilities.getURLParam("tab",true);
if(typeof (selectTabInstValue)=="undefined"){
selectTabInstValue=null;
}
if(typeof (selectTabValue)=="undefined"){
selectTabValue=null;
}
if(_1bb!=null){
_1bd.push({entryName:"searchKeywords",entryValue:_1bb,component:"communities:content",selectTabInst:selectTabInstValue,selectTab:selectTabValue});
}else{
_1bd.push({entryName:"tagCloudItemValue",entryValue:_1bc,component:"communities:content",selectTabInst:selectTabInstValue,selectTab:selectTabValue});
}
lconn.comm.community.handleSearchRequestbyGeneral(_1bd);
}
}
};
lconn.core.WidgetPlacementMM.init=function(){
if(lconn.core.WidgetPlacementMM.URLChangeCallBack==null){
lconn.core.WidgetPlacementMM.URLChangeCallBack=[lconn.core.WidgetPlacementMM.URLChange];
registerBackButtonSupport();
}
var _1be=lconn.core.utilities.getURLParam("fullpageWidgetId",true);
if(_1be==null||_1be==""){
lconn.core.WidgetPlacementMM.placeWidgetMetadata();
lconn.core.WidgetPlacementMM.renderWidgets();
if(WidgetPlacementConfig.hideElements!=null){
for(var i=0;WidgetPlacementConfig.hideElements!=null&&i<WidgetPlacementConfig.hideElements.length;i++){
lconn.core.utilities.show(WidgetPlacementConfig.hideElements[i],false,false,true);
}
}
}else{
lconn.core.WidgetPlacementMM.onlyFullPageWidgetLoaded=true;
var temp=function(_1bf,_1c0){
var _1c1=_1bf;
WidgetPlacementConfig.widgetConfigXMLDocument=_1c1;
_91(true,(getUserProfileOverrideProperty("canPersonalize")=="true"),_4());
var _1c2=false;
var _1c3="initial";
lconn.core.WidgetPlacementMM.loadFullpageView(_1be,null,_1c3,_1c2);
};
dojo.xhrGet({url:WidgetPlacementConfig.layoutInfoUrl+"&lastMod="+WidgetPlacementConfig.lastMod,error:lconn.core.errorhandling.DefaultXHRErrorHandler,handleAs:"xml",sync:true,load:temp});
}
};
lconn.core.WidgetPlacementMM.initEdit=function(){
lconn.core.WidgetPlacementMM.placeWidgetMetadata(false);
lconn.core.WidgetPlacementMM.renderWidgets();
};
lconn.core.WidgetPlacementMM.setFocus=function(_1c4,_1c5){
var _1c6=document.getElementById(_1c4+"Section");
if(_1c6){
var _1c7=dojo.query("#"+_1c5,_1c6);
if(_1c7&&_1c7.length>0){
try{
if(_1c7[0].focus){
_1c7[0].focus();
}
}
catch(e){
console.log(e.message);
}
}
}
};
})();
}


;if(!dojo._hasResource["lconn.core.WidgetPlacementCRE"]){
dojo._hasResource["lconn.core.WidgetPlacementCRE"]=true;
dojo.provide("lconn.core.WidgetPlacementCRE");


dojo.requireLocalization("lconn.core","widgets");
dojo.requireLocalization("lconn.core.config","widgetbundles");
dojo.requireLocalization("lconn.core","strings");
(function(){
if(!dojo.global.WidgetPlacementConfig){
dojo.global.WidgetPlacementConfig={debug:false,appStartupDate:""};
}
var _1=dojo.i18n.getLocalization("lconn.core","widgets"),_2=dojo.i18n.getLocalization("lconn.core.config","widgetbundles"),_3=dojo.i18n.getLocalization("lconn.core","strings"),_4=lconn.core.WidgetPlacementCRE,_5=lconn.core.utilities,_6=lconn.core.url,_7=com.ibm.lconn.gadget.container.iContainer2;
var _8="/tns:widgets/tns:layout/tns:page/tns:widgetInstance[@instanceId=\"%INST_ID%\"]",_9="/tns:widgets/tns:definitions/tns:widgetDef[@defId=\"%DEF_ID%\"]",_a="/tns:widgets/tns:layout%LAYOUT_OPTIONS%/tns:page[@pageId=\"%PAGE_ID%\"]/tns:widgetInstance";
_4.debug=WidgetPlacementConfig.debug;
_4.uiLocations={};
_4.dropZoneObjects={};
var _b=function(_c){
return lconn.core.i18nOverrider.replaceParams(_c,WidgetPlacementConfig.params);
};
var _d=function(_e,_f){
var doc=_f?_f:WidgetPlacementConfig.widgetConfigXMLDocument,exp=_9.replace("%DEF_ID%",_e);
return lconn.core.xpath.selectSingleNode(exp,doc);
};
var _10=function(_11,_12){
var doc=_12?_12:WidgetPlacementConfig.widgetConfigXMLDocument,exp=_8.replace("%INST_ID%",_11);
return lconn.core.xpath.selectSingleNode(exp,doc);
};
var _13=function(_14,_15,_16){
var doc=_15?_15:WidgetPlacementConfig.widgetConfigXMLDocument,exp=_a.replace("%PAGE_ID%",_14);
if(_16){
exp=exp.replace("%LAYOUT_OPTIONS%","[@resourceSubType=\"%TYPE%\"]").replace("%TYPE%",_16);
}else{
exp=exp.replace("%LAYOUT_OPTIONS%","");
}
return lconn.core.xpath.selectNodes(exp,doc);
};
var _17=function(_18,_19){
var _1a=new dojo.Deferred(),url;
if(!WidgetPlacementConfig.widgetConfigXMLDocument||true===_18||true===dojo.global.staleXMLConfig){
url=WidgetPlacementConfig.layoutInfoUrl;
if(!dojo.global.staleXMLConfig){
url+="&lastMod="+WidgetPlacementConfig.lastMod;
}
if(WidgetPlacementConfig.debug){
console.info("Using URL:"+url);
}
dojo.xhrGet({url:url,error:_19||lconn.core.errorhandling.DefaultXHRErrorHandler,handleAs:"xml",sync:true,load:function(_1b){
WidgetPlacementConfig.widgetConfigXMLDocument=_1b;
_1a.resolve();
}});
dojo.global.staleXMLConfig=false;
}else{
_1a.resolve();
}
return _1a;
};
var _1c=function(_1d){
var _1e=null,_1f,_20,_21,_22=null;
try{
_1e=this.eval("("+_1d+")");
}
catch(e){
if(WidgetPlacementConfig.debug){
console.info("Unable to deserialize the json "+_1e+", will taken it as the result.");
}
return _1d;
}
_1f=_1e.title;
_20=_2||{};
_21=_1e.prefix;
_22=_20[_1f];
if("string"!==typeof _22&&_20[_21]){
_22=_20[_21][_1f];
}
if("string"!==typeof _22){
_22=_1f;
}
return _22;
};
var _23=function(){
var _24=null;
if(WidgetPlacementConfig.isProfilesEnv){
if(profilesData.displayedUser&&!profilesData.displayedUser.profileType){
profilesData.displayedUser.profileType="default";
}
_24=profilesData.displayedUser;
}
return _24;
};
var _25=function(_26,_27,_28){
_26=_26||[];
if(_26.length>1){
return _26;
}
var _29={},_2a=[],_2b,_2c,_2d,_2e,_2f,_30,j;
if(_26.length){
_29[_26[0].entryName]=_26[0].entryValue;
}
_2d=_27.getElementsByTagName("configData");
if(_2d.length){
_2e=_2d[0].getElementsByTagName("attr");
}
dojo.forEach(_2e,function(_31){
_30=_b(_31.getAttribute("value"));
_2f=_31.getAttribute("key");
_29[_2f]=_30;
});
_2b=_27.getElementsByTagName("itemSet");
if(_2b.length){
_2c=_2b[0].getElementsByTagName("item");
}
dojo.forEach(_2c,function(_32){
_30=_b(_32.getAttribute("value"));
_2f=_32.getAttribute("name");
_29[_2f]=_30;
});
if(_28){
WidgetPlacementConfig.params["widgetInstanceId"]=_28.getAttribute("instanceId");
_2b=_28.getElementsByTagName("itemSet");
if(_2b.length){
_2c=_2b[0].getElementsByTagName("item");
}
dojo.forEach(_2c,function(_33){
_30=_b(_33.getAttribute("value"));
_2f=_33.getAttribute("name");
_29[_2f]=_30;
});
}
for(attr in _29){
_2a.push({entryName:attr,entryValue:_29[attr]});
}
return _2a;
};
_4.getWidgetDocAndRenderWidget=function(_34,_35,_36,_37,_38,_39,_3a,_3b,_3c){
var _3d=function(){
if(!_3e()){
_4.showWidgetErrorInHeadline(_1["errorDefaultMsg"],false);
dojo.style("contentArea",{display:"inline",visibility:"visible"});
}
};
var _3e=function(){
var _3f;
_35=_35||_d(_34);
if(_35==null){
console.log("Unable to find widget definition for: "+_34);
return null;
}
_34=_34||_35.getAttribute("defId");
if(_36==null){
_36=_34;
}else{
_3f=_10(_36);
}
if(_3f==null){
_3f=WidgetPlacementConfig.widgetConfigXMLDocument.createElement("widgetInstance");
_3f.setAttribute("uiLocation",_37);
_3f.setAttribute("defIdRef",_34);
_3f.setAttribute("instanceId",_36);
}
_39=_39||_35.getAttribute("skinType");
var _40=null;
var _41=null;
var _42="widget-container-"+_37;
var _43=dojo.byId(_37+"DropZone");
if(_43==null){
if(lconn.dboard&&lconn.dboard.dnd){
var _44=_37+"DropZone";
var _43=dojo.create("div");
_43.setAttribute("id",_44);
var _45=dojo.byId(_42);
if(_45){
_45.appendChild(_43);
}else{
_43=null;
}
}else{
_43=dojo.byId(_42);
}
}
_41=_43;
var url=_35.getAttribute("url");
var _46=_23();
_3c=_25(_3c,_35,_3f);
var _47=getEscapedWidgetName(_35,_3f);
var _48=_5c(_36,url,_46,_3c,_38,_47);
if(_38==="fullpage"){
_41.innerHTML+=_59(_36);
_7.loadWidget(_48);
}else{
var _49=dojo.create("div");
var _4a=_77(_35,_3f,_46,WidgetPlacementConfig.widgetConfigXMLDocument,true,_39,_38,_3a,_3c);
_49.innerHTML=_4a;
if(_41){
_41.appendChild(_49.firstChild);
}
if(!_43){
return _35;
}
var _44=_37+"DropZone";
if(_3b==null){
if(_4.dropZoneObjects[_44]==null){
_5.processUntilElementIsFound(_44,_4c,null,{uiLocation:_37,dropZoneDOMId:_44});
}else{
_5.processUntilElementIsFound(_36+"Section",_51,null,{dropZoneDOMId:_44,widgetInstanceId:_36});
}
}
_7.loadWidget(_48);
_5.processUntilElementIsFound(_36+"Section",function(){
dojo.parser.parse(dojo.byId(_36+"Section"));
},null,null,false);
}
return _35;
};
var _4b=_17();
_4b.then(_3d);
};
var _4c=function(_4d,_4e){
dojo.parser.parse(_4d);
var _4f=_50(_4e.uiLocation,_4d);
_4.dropZoneObjects[_4e.dropZoneDOMId]=_4f;
};
var _51=function(_52,_53){
dojo.parser.parse(_52);
var _54=_4.dropZoneObjects[_53.dropZoneDOMId];
_54.setItem(_52.id,{node:_52,id:_52.id,data:_53.widgetInstanceId,type:"widget"});
};
var _50=function(_55,_56){
var _57={jsId:_55,accept:"widget",withhandles:true,skipForm:true};
var _58=new lconn.dboard.dnd.Source(_56,_57);
return _58;
};
var _59=function(_5a){
var _5b="<div id='"+_5a+"'></div>";
return _5b;
};
var _5c=function(_5d,url,_5e,_5f,_60,_61){
var _62=[],_63=[],_64=_5d;
url=_b(url);
if(_60){
var _65=[];
_65.push({"id":"mode","value":_60});
_63.push({"id":"idescriptor","item":_65});
}
if(WidgetPlacementConfig.isProfilesEnv){
if(_5e.uid!=null){
_62.push({"id":"profileDisplayedUserUID","value":_5e.uid});
}
if(_5e.key!=null){
_62.push({"id":"profileDisplayedUserKey","value":_5e.key});
}
}
if(WidgetPlacementConfig.resourceId!=null){
_62.push({"id":"resourceId","value":WidgetPlacementConfig.resourceId});
}
if(WidgetPlacementConfig.parentResourceId!=null){
_62.push({"id":"parentResourceId","value":WidgetPlacementConfig.parentResourceId});
}
if(WidgetPlacementConfig.resourceType!=null){
_62.push({"id":"resourceType","value":WidgetPlacementConfig.resourceType});
}
if(WidgetPlacementConfig.resourceName!=null){
_62.push({"id":"resourceName","value":WidgetPlacementConfig.resourceName});
}
if(_61){
_62.push({"id":"computedWidgetTitle","value":_61});
}
for(var i=0;_5f&&i<_5f.length;i++){
_62.push({"id":_5f[i].entryName,"value":_5f[i].entryValue});
}
_63.push({"id":"attributes","mode":"edit","item":_62});
var _66={"itemSet":_63,"renderType":"default"};
var obj={definitionUrl:url,componentType:"iWidget",placement:_64,instanceData:_66};
if(_5d){
obj.id=_5d;
}
return obj;
};
var _67=function(){
var _68=dojo.byId("lotusProfileNavBar")||dojo.byId("lotusNavBar");
return _68;
};
_4.destroyWidget=function(_69,_6a,_6b,_6c){
var _6d=dijit.byId(_69+"moreActions");
if(_6d&&_6b){
_6d.destroy();
}
var _6e=dijit.byId(_69+"_toggleAction");
if(_6e&&_6b){
_6e.destroy();
}
var _6f=cre$.iRuntime.getWidgetIdByDomId(_69);
if(_6f){
var _70=[_6f];
_7.unloadWidgets(_70);
}
var _71=null;
if(_6c){
_71=dojo.byId(_69+"SubArea");
}
if(_71){
_71.innerHTML="";
}
};
_4.closeFullPageWidgetIfOpen=function(){
if(_4.currentFullpageWidgetInstanceId){
_4.destroyWidget(_4.currentFullpageWidgetInstanceId,null,false,true);
_4.currentFullpageWidgetInstanceId=null;
}
};
_4.closeSwitchView=function(){
if(_4.currentFullpageWidgetInstanceId){
_4.destroyWidget(_4.currentFullpageWidgetInstanceId,null,false);
}
_5.hide("widget-container-fullpage",false,true);
destroyWidgetContainer("fullpage");
_4.isInWidgetFullpageMode=true;
};
var _72=function(_73){
return window.getResourcedStringForItem(_73,"defId");
};
_4.getInsertionPoint=function(_74,li){
var _75=li.getAttribute("uiLocation");
if(_75==="col2"){
var _76=dojo.query("li[uilocation='col2']",_74);
if(_76&&_76.length){
return _76[_76.length-1];
}else{
return _74.children[_74.children.length-1];
}
}else{
return _74.children[_74.children.length-1];
}
};
var _77=function(_78,_79,_7a,_7b,_7c,_7d,_7e,_7f,_80){
if(typeof _78==="undefined"){
return "";
}
var url=_78.getAttribute("url");
var _81=_78.getAttribute("modes");
var _82=_79.getAttribute("instanceId");
var _83=_78.getAttribute("defId");
var _84=_78.getAttribute("navBarLinkText");
var _85=_78.getAttribute("navBarLink");
var _86=_78.getAttribute("helpLink");
var _87=_78.getAttribute("fixedPosition");
var _88=_78.getAttribute("displayLoginRequired");
var _89=(_86)?_b(_86):null;
var _8a=false;
var _8b="";
if(_82){
_8a=true;
}
if(_82==null){
_82=_83;
}
var _8c=_82;
if(_7e==="edit"){
_8c+="edit";
}
if(_7f==null||_7f==true){
var _8d=false;
if(WidgetPlacementConfig.NavBarSelectedMenuItem!=null){
var _8e=WidgetPlacementConfig.NavBarSelectedMenuItem;
var idx=_8e.indexOf("_");
if(idx>0){
_8e=_8e.substring(0,idx);
}
if(_8e===_83){
_8d=true;
if(WidgetPlacementConfig.navBarOverViewElementId){
var _8f=dojo.byId(WidgetPlacementConfig.navBarOverViewElementId);
if(_8f){
dojo.removeClass(_8f,"lotusSelected");
}
}
}
}
addToNavBar(_78,_79,_7a,_8d,_85,true,_84);
}
var _90=WidgetPlacementConfig.userLoggedIn||_88!=="true";
var _91=window.getEscapedWidgetName(_78,_79);
var _92=null;
var _93=_83+"-isMinimized";
var _94=dojo.cookie(_93);
if(!_7d){
_7d="use25OneUISkin";
}
if(_7d==="use25OneUISkin"){
var _95=(_94!=="true")?"Close":"Open";
var _96="";
var _97="";
if(_7c&&_8a){
_96=" dojoDndItem\" dndType=\"widget\" skipForm=\"true\" dndData=\""+_82;
}else{
_97="style=\"cursor: default\"";
}
_92="<div id=\""+_8c+"Section\" class=\"lotusWidget2"+_96+"\" widgetId=\""+_82+"\" role=\"region\" aria-labelledby=\""+_82+"Id\" >";
var _98=_1["actions_alt"]||"Actions for: ${0}";
_98=dojo.string.substitute(_98,[_91]);
_92+="<h2 class=\"ibmDndDragHandle\" "+_97+">"+"<span class=\"lotusLeft\" style=\"cursor: default\" id=\""+_82+"Id\">"+_91+"</span>"+"<a id=\"widgetActionsMenu"+_82+"\" class=\"lotusIcon lotusActionMenu\" href=\"javascript:void(0);\" onclick=\"lconn.core.WidgetPlacementCRE.openMenu(event, '"+_82+"','widgetActionsMenu"+_82+"');\" onkeydown=\"if(event.keyCode==40) lconn.core.WidgetPlacementCRE.openMenu(event, '"+_82+"','widgetActionsMenu"+_82+"');\" title=\""+_98+"\" role=\"button\" aria-haspopup=\"true\" aria-label=\""+_98+"\">"+"<img src=\""+dijit._Widget.prototype._blankGif+"\" alt=\"\"/>"+"<span class=\"lotusAltText\">"+_98+"</span>"+"</a>"+"</h2>";
_92+="<div dojoType=\"dijit.Menu\" id=\""+_8c+"moreActions\" style=\"display: none;\" aria-label=\"More Action Menu\">";
if(_94!=="true"){
_92+="<div id=\""+_8c+"_toggleAction\" dojoType=\"dijit.MenuItem\" label=\""+_1["widgets_Min"]+"\" onclick=\"lconn.core.WidgetPlacementCRE.minimizeWidget(this,'"+_82+"', '"+_83+"');\"></div>";
}else{
_92+="<div id=\""+_8c+"_toggleAction\" dojoType=\"dijit.MenuItem\" label=\""+_1["widgets_Max"]+"\" onclick=\"lconn.core.WidgetPlacementCRE.minimizeWidget(this,'"+_82+"', '"+_83+"');\"></div>";
}
if(_90){
_92+="<div dojoType=\"dijit.MenuItem\" label=\""+_1["refresh"]+"\" onclick=\"lconn.core.WidgetPlacementCRE.fetchAndRefresh('"+_82+"');\"></div>";
}
if(_81&&_81.indexOf("edit")!==-1&&_7c){
_92+="<div class=\"edit_button\" dojoType=\"dijit.MenuItem\" label=\""+_1["edit"]+"\" onclick=\"lconn.core.utilities.hide('"+_82+"moreActions"+"', true, true);cre$.iRuntime.getWidgetById('"+_82+"')._iContext.iEvents.fireEvent('onModeChanged', '', {'newMode':'edit'});\"></div>";
}
if(_81&&_81.indexOf("view")!==-1&&_7c){
_92+="<div style=\"display:none;\" class=\"view_button\" dojoType=\"dijit.MenuItem\" label=\""+_1["view"]+"\" onclick=\"lconn.core.utilities.hide('"+_82+"moreActions"+"', true, true);cre$.iRuntime.getWidgetById('"+_82+"')._iContext.iEvents.fireEvent('onModeChanged', '', {'newMode':'view'});\"></div>";
}
if(_89){
_92+="<div dojoType=\"dijit.MenuItem\" label=\""+_1["help"]+"\" onclick=\"lconn.core.utilities.hide('"+_82+"moreActions"+"', true, true);lconn.core.WidgetPlacementCRE.openHelpWindow('"+_89+"');\"></div>";
}
if(_8a&&_7c){
var _99=_79.getAttribute("uiLocation");
if(!_87){
_92+="<div class=\"moveup_button\" dojoType=\"dijit.MenuItem\" label=\""+_1["widgets_MoveUp"]+"\" onclick=\"lconn.core.WidgetPlacementCRE.moveUp('"+_82+"','"+_99+"');\"></div>";
_92+="<div class=\"movedown_button\" dojoType=\"dijit.MenuItem\" label=\""+_1["widgets_MoveDown"]+"\" onclick=\"lconn.core.WidgetPlacementCRE.moveDown('"+_82+"','"+_99+"');\"></div>";
}
_92+="<div dojoType=\"dijit.MenuItem\" label=\""+_1["hide"]+"\" onclick=\"lconn.core.WidgetPlacementCRE.removeWidget('"+_82+"', false);\"></div>";
_92+="<div dojoType=\"dijit.MenuItem\" label=\""+_1["link.remove"]+"\" onclick=\"lconn.core.WidgetPlacementCRE.removeWidget('"+_82+"', true);\"></div>";
}
_92+="</div>";
if(_94!=="true"){
if(!WidgetPlacementConfig.userLoggedIn&&_88==="true"){
_92+="<div id='"+_8c+"SubArea' widgetloaded='false' widgetneedrefresh='false'>"+_1["msg.loginRequired"];
}else{
_80=_25(_80,_78,_79);
_92+="<div id='"+_8c+"SubArea' widgetloaded='true' widgetneedrefresh='false'>";
_92+=_59(_82);
}
}else{
_92+="<div id='"+_8c+"SubArea' style='display: none;' widgetloaded='false'";
if(!WidgetPlacementConfig.userLoggedIn&&_88==="true"){
_92+=" widgetneedrefresh='false' >"+_1["msg.loginRequired"];
}else{
_92+=" widgetneedrefresh='true' >";
}
}
_92+="</div>";
_92+="</div>";
}else{
if(_7d==="skinless"){
_92="<div id='"+_8c+"Section'>";
if(!WidgetPlacementConfig.userLoggedIn&&_88=="true"){
_92+="<div id='"+_8c+"SubArea' widgetloaded='false' >";
_92+=_1["msg.loginRequired"];
}else{
_80=_25(_80,_78,_79);
_92+="<div id='"+_8c+"SubArea' widgetloaded='true' >";
_92+=_59(_82);
}
_92+="</div>";
_92+="</div>";
}
}
return _92;
};
_4.openHelpWindow=function(url){
var _9a=url.indexOf("&lang");
if(_9a>0){
url=url.substr(0,_9a);
}
lconn.core.help.launchHelp(url);
};
_4.checkWidgetLocation=function(_9b,_9c){
var _9d=dojo.byId(_9c+"DropZone"),_9e,_9f,_a0;
if(_9d){
_9e=_9d.childNodes;
for(_9f=0;_9f<_9e.length;_9f++){
if(_9e.length===1){
return "alone";
}
_a0=_9e[_9f].getAttribute("widgetid");
if(_a0===_9b){
if(_9f===0){
return "top";
}else{
if(_9f>=_9e.length-1){
return "bottom";
}else{
return "middle";
}
}
}
}
}
};
_4.getUILocation=function(_a1){
var _a2=dojo.byId(_a1+"_navItem");
if(_a2){
uiLocation=_a2.getAttribute("uilocation");
if(uiLocation){
return uiLocation;
}
}else{
var _a3=_4.loadOrder,i;
for(i=0;_a3&&_a3.length>0;i++){
if(_a3[i]&&_a3[i].instanceId===_a1){
return _a3[i].uiLocation;
}
}
}
return "";
};
_4.updateMoreActions=function(_a4){
var _a5=_a4+"moreActions";
var _a6=_4.getUILocation(_a4);
if(_a6){
var _a7=_4.checkWidgetLocation(_a4,_a6);
if(_a7){
var _a8=dojo.query("#"+_a5+">tbody>tr.moveup_button"),_a9=dojo.query("#"+_a5+">tbody>tr.movedown_button");
if(_a8&&_a9){
switch(_a7){
case "alone":
_a8.style("display","none");
_a9.style("display","none");
break;
case "top":
_a8.style("display","none");
_a9.removeAttr("style");
_a9.style("-moz-user-select","none");
break;
case "bottom":
_a8.removeAttr("style");
_a8.style("-moz-user-select","none");
_a9.style("display","none");
break;
case "middle":
_a9.removeAttr("style");
_a9.style("-moz-user-select","none");
_a8.removeAttr("style");
_a8.style("-moz-user-select","none");
break;
default:
break;
}
}
}
var _aa=cre$.iRuntime.getWidgetById(_a4);
var _ab=dojo.query("#"+_a5+">tbody>tr.edit_button");
var _ac=dojo.query("#"+_a5+">tbody>tr.view_button");
if(_ab&&_ac&&_aa){
var _ad=_aa._iContext.getiDescriptor().getItemValue("mode");
switch(_ad){
case "edit":
_ac.removeAttr("style");
_ab.style("display","none");
break;
case "view":
_ab.removeAttr("style");
_ac.style("display","none");
break;
}
}
}
};
_4.openMenu=function(_ae,_af,id){
var _b0=_af+"moreActions";
var _b1=dijit.byId(_b0);
_4.updateMoreActions(_af);
if(_b1==null){
if(WidgetPlacementConfig.debug){
console.log("lconn.core.WidgetPlacementCRE.openMenu: dojoWidgetId '"+_b0+"' don't have a dojoWidget instance, creating one");
}
dojo.parser.parse(dojo.byId(_b0));
_b1=dijit.byId(_b0);
}
if(_b1){
if(id){
var _b2=dojo.byId(id);
if(_b2){
dojo.attr(_b2,"aria-expanded","true");
dojo.attr(_b2,"aria-owns",id+"_dropdown");
var _b3=dojo.connect(_b1,"onClose",function(){
dojo.attr(_b2,"aria-expanded","false");
dojo.removeAttr(_b2,"aria-owns");
dojo.disconnect(_b3);
});
}
}
menuUtility.openMenu(_ae,_b0);
}else{
if(WidgetPlacementConfig.debug){
console.log("lconn.core.WidgetPlacementCRE.openMenu: skipping open menu, can not find widget with id "+_b0);
}
}
};
var _b4=function(_b5,_b6,_b7){
var _b8=_67();
if(_b8){
try{
new _4.aria.Toolbar(_b8.id);
}
catch(ee){
new lconn.core.aria.Toolbar(_b8.id);
}
}
var _b9=_13(WidgetPlacementConfig.defaultPageId);
if(_b9&&_b9.length){
for(var i=0;i<_b9.length;i++){
var _ba=_b9[i];
var _bb=_ba.getAttribute("enabled");
if(_bb==null||_bb!="false"){
var _bc=_ba.getAttribute("defIdRef");
var _bd=_d(_bc);
if(_bd==null){
console.log("Unable to find widget definition for: "+_bc+", it will be skipped.");
continue;
}
if(canAddWidget(_bd,WidgetPlacementConfig,_b6,_ba)){
var _be=_bd.getAttribute("navBarLinkText");
var _bf=_bd.getAttribute("navBarLink");
var _c0=false;
if(WidgetPlacementConfig.NavBarSelectedMenuItem&&WidgetPlacementConfig.NavBarSelectedMenuItem===_bc){
_c0=true;
}
addToNavBar(_bd,_ba,_b7,_c0,_bf,false,_be);
}
}
}
}
};
_4.sortWidgetNodes=function(_c1){
var _c2=[],_c3=[],_c4=[];
for(var i=0;i<_c1.length;i++){
var n=_c1[i];
var _c5=n.getAttribute("uiLocation");
if(_c5==="col2"){
_c2.push(n);
}else{
if(_c5==="col3"&&n.getAttribute("defIdRef")!=="Members"){
_c3.push(n);
}else{
_c4.push(n);
}
}
}
_c4=_c4.concat(_c2,_c3);
return _c4;
};
_4.placeWidgetMetadata=function(_c6,_c7){
_4.initialLoad=true;
var _c8=[];
if(dojo.dnd&&lconn.dboard&&lconn.dboard.dnd){
lconn.dboard.dnd.Source.prototype.onSelectStart=function(){
};
}
var _c9=function(_ca,_cb,_cc,_cd,_ce){
var _cf=null;
var _d0={};
try{
var _d1;
if(WidgetPlacementConfig.isProfilesEnv){
var _d2=(_cb&&typeof (_cb.profileType)=="string"&&dojo.trim(_cb.profileType).length>0?_cb.profileType:"default");
_d1=_13(_ca,_cc,_d2);
if(_d1==null||!_d1.length){
_d1=_13(_ca,_cc,"default");
if(WidgetPlacementConfig.debug){
console.log("\nNo widget layout for profile type ["+_d2+"] defined.  Falling back to default layout.");
}
}
}else{
_d1=_13(_ca,_cc);
_d1=_4.sortWidgetNodes(_d1);
}
var _d3="";
if(_d1&&_d1.length){
for(var i=0;i<_d1.length;i++){
var _d4=_d1[i];
var _d5=_d4.getAttribute("defIdRef");
var _d6=_d(_d5,_cc);
if(_d6==null){
console.log("Unable to find widget definition for: "+_d5+", it will be skipped.");
continue;
}
var _d7=_d6.getAttribute("modes");
var _d8=!_c7||(_d7&&_d7.indexOf(_c7)!=-1);
if(_d8&&canAddWidget(_d6,WidgetPlacementConfig,_cd,_d4)){
var url=_d6.getAttribute("url");
var _d9=_d6.getAttribute("skinType");
var _da=_d4.getAttribute("uiLocation");
if(_d0[_da]==null){
_d0[_da]="";
}
var _db=_d4.getAttribute("instanceId");
if(_db!=null&&_d0[_da+"dnd"]==null&&_cd){
_d0[_da]+="<div style=\"display: inline\" id=\""+_da+"DropZone\" class=\"target\">";
_d0[_da+"dnd"]=true;
}
_db=_db||_d5;
_4.loadOrder=_4.loadOrder||[];
_4.loadOrder.push({instanceId:_db,uiLocation:_da});
_d0[_da]+=_77(_d6,_d4,_cb,_cc,_cd,_d9,null,_ce);
_4.uiLocations[_da]=true;
var _dc=_25(null,_d6,_d4);
var _dd=_5c(_db,url,_cb,_dc,null,getEscapedWidgetName(_d6,_d4));
_c8.push(_dd);
}
}
}
for(_da in _d0){
var _de=dojo.byId("widget-container-"+_da);
if(_de){
var _df=(_d0[_da+"dnd"]==true?"</div>":"");
_de.innerHTML=_d0[_da]+_df;
}
}
if(_d1&&_d1.length){
for(var i=0;i<_d1.length;i++){
var _e0="widgetActionsMenu"+_d1[i].getAttribute("instanceId");
var _e1=dojo.byId(_e0);
if(_e1){
dojo.attr(_e1,"aria-expanded","false");
}
}
}
}
catch(exception){
lconn.core.errorhandling.DefaultErrorHandler("lconn.core.WidgetPlacementCRE.addAllWidgets",exception);
}
};
var _e2=function(){
if(WidgetPlacementConfig.pageId==="fullPageWidgetView"){
try{
var _e3=dojo.byId("widgetContainer")||dojo.byId("widget-container-fullpage");
var _e4=common_getParam("widgetId");
var _e5=_d(_e4);
var url=_e5.getAttribute("url");
addToNavBar(_e5,null,_e6,null,null,true,null);
var _e7=[{entryName:"state",entryValue:"maximize"}];
_e7=_25(_e7,_e5);
_e3.innerHTML=_59(_e4);
_4.loadOrder=_4.loadOrder||[];
_4.loadOrder.push({instanceId:_e4,uiLocation:"fullpage"});
}
catch(exception){
lconn.core.errorhandling.DefaultErrorHandler("WidgetMgmt.loadWidgets",exception,"widgetContainer");
}
}else{
_c9(WidgetPlacementConfig.pageId,_e6,WidgetPlacementConfig.widgetConfigXMLDocument,_e8,_c6);
}
};
var _e6=_e6||_23(),_e8=_e8||getUserProfileOverrideProperty("canPersonalize")==="true",_e9=_17();
if(!WidgetPlacementConfig.pageId){
if(_c6!=false){
_e9.then(function(){
_b4(_c6,_e8,_e6);
});
}
return _c8;
}
_e9.then(_e2);
if(dojo.dnd){
var _ea=dojo.dnd.manager();
_ea.makeAvatar=function(){
return new lconn.dboard.dnd.avatar(this);
};
dojo.subscribe("/dnd/drop",_4.onDropHandler);
dojo.subscribe("/dnd/start",function(_eb,_ec,_ed){
for(var i=0;i<_ec.length;i++){
_5.hide(_ec[i],false,true);
_4.currentNode=_ec[i];
}
});
dojo.subscribe("/dnd/cancel",function(){
if(_4.currentNode){
_5.show(_4.currentNode,false,false,true);
_4.currentNode=null;
}
});
}
var _ee=function(){
var _ef=dojo.byId("lotusFrame");
if(_ef==null){
var _f0=dojo.query(".lotusFrame");
if(_f0!=null&&_f0.length>0){
_ef=_f0[0];
}else{
_ef=dojo.doc;
}
}
dojo.parser.parse(_ef);
};
setTimeout(_ee,500);
if(dojo.dnd){
var _f1=function(){
for(uiLocation in _4.uiLocations){
var _f2=uiLocation+"DropZone";
var _f3=dojo.byId(_f2);
if(_f3){
var _f4=_50(uiLocation,_f3);
_4.dropZoneObjects[_f2]=_f4;
}
}
};
setTimeout(_f1,500);
}
_4.initialLoad=false;
return _c8;
};
_4.onDropHandler=function(_f5,_f6,_f7){
var _f8=dojo.dnd.manager().target;
_5.show(_f6[0],false,false,true);
var _f9=_4.currentNode;
if(_4.currentNode){
_5.show(_4.currentNode,false,false,true);
_4.currentNode=null;
}
var _fa=function(){
var _fb=_f8.getAllNodes();
for(var i=0;i<_fb.length;i++){
var _fc=_f9.getAttribute("widgetId");
if(_fb[i].getAttribute("widgetId")===_fc){
var _fd=(i===0)?null:_fb[i-1].getAttribute("widgetId");
_fe(_fc,_f8.jsId,_fd,_f8,_f5);
break;
}
}
};
setTimeout(_fa,300);
};
_4.getColumn3Anchor=function(){
var _ff=null;
var _100=_4.getColumnWidgetNodes("col2");
if(_100.length){
_ff=_100[_100.length-1].getAttribute("widgetId");
}
return _ff;
};
_4.getColumn2Anchor=function(){
return ("top");
};
var _fe=function(_101,_102,_103,_104,_105){
var _106=WidgetPlacementConfig.applicationContext+"/moveWidget.do?resourceId="+WidgetPlacementConfig.resourceId+"&widgetInstanceId="+_101+"&newUiLocation="+_102;
_103=_103||(_102==="col3"?_4.getColumn3Anchor():_4.getColumn2Anchor());
if(_103!=null){
_106+="&afterWidgetInstanceId="+_103;
}
dojo.xhrPost({url:_106,handleAs:"xml",load:function(resp,_107){
WidgetPlacementConfig.lastMod=new Date().getTime();
if(_104&&_105&&_104!==_105){
_4.refresh(_101);
}
},error:lconn.core.errorhandling.DefaultXHRErrorHandler});
};
_4.renderWidgets=function(_108){
if(_108.length==0){
return;
}
var _109=[];
for(var i=0;i<_108.length;i++){
var _10a=dojo.byId(_108[i].placement);
if(_10a){
_109.push(_108[i]);
}
}
if(this.loadOrder){
for(var i=0;i<this.loadOrder.length;i++){
var _10b=this.loadOrder[i];
if(_10b){
if(_10b.uiLocation=="col3"&&dojo.byId("profilePaneRight")!=null&&dojo.hasClass("profilePaneRight","lotusHidden")){
dojo.removeClass("profilePaneRight","lotusHidden");
}else{
if(_10b.uiLocation=="col1"&&dojo.byId("profilePaneLeft")!=null&&dojo.hasClass("profilePaneLeft","lotusHidden")){
dojo.removeClass("profilePaneLeft","lotusHidden");
}
}
}
}
}
var lw=function(){
_7.loadWidgets(_109);
};
_7.preloadWidgets(_108).then(lw);
};
_4.loadWidgetFullPage=function(_10c,_10d){
_4.loadFullpageView(_10c,_10d,true,true);
};
_4.loadFullpageView=function(_10e,_10f,_110,_111,_112){
var _113=_10(_10e);
var _114=_113?_113.getAttribute("defIdRef"):_10e;
var _115=_d(_114);
_10f=_10f||[];
_10f.push({name:"resourceId",value:WidgetPlacementConfig.resourceId});
switchView(_115,_10e,_10f,_111,_110);
};
_4.reloadOverviewPage=function(){
closeOtherViews();
if(WidgetPlacementConfig.debug){
console.log("lconn.core.WidgetPlacementCRE.reloadOverviewPage called");
}
if(_4.currentFullpageWidgetInstanceId){
_4.destroyWidget(_4.currentFullpageWidgetInstanceId,null,false,true);
_4.currentFullpageWidgetInstanceId=null;
}
if(_4.onlyFullPageWidgetLoaded){
var _116=_4.placeWidgetMetadata(false);
_4.renderWidgets(_116);
_4.onlyFullPageWidgetLoaded=false;
}
if(WidgetPlacementConfig.hideElements){
for(var i=0;i<WidgetPlacementConfig.hideElements.length;i++){
_5.show(WidgetPlacementConfig.hideElements[i],false,false,true);
try{
dijit.byId(WidgetPlacementConfig.hideElements[i]).show();
}
catch(exception1){
}
}
}
destroyWidgetContainer("fullpage");
for(uiLocation in _4.uiLocations){
_5.show("widget-container-"+uiLocation,false,false,true);
}
highlightOverviewLink();
dojo.forEach(_4.loadOrder,function(node){
if(node&&dojo.byId("widget-container-"+node.uiLocation)){
_4.refresh(node.instanceId);
}
});
return false;
};
_4.getWidgetDefId=function(_117,_118){
var _119=_118?_118:WidgetPlacementConfig.widgetConfigXMLDocument,_11a=_10(_117,_119),_11b=_11a?_11a.getAttribute("defIdRef"):_117;
return _11b;
};
_4.refresh=function(_11c,_11d,_11e){
var _11f=_10(_11c,_11d),_120=(_11f)?_11f.getAttribute("defIdRef"):_11c,_121=_d(_120,_11d),_122,_123,_124,_125;
_5.hide(_11c+"moreActions",true,true);
if(!_121){
return;
}
_4.destroyWidget(_11c,null,false);
var _122=getWidgetName(_121,_11f),_123=_25(null,_121,_11f),_124=dojo.byId(_11c+"SubArea");
if(_124){
_124.innerHTML=_59(_11c);
_124.setAttribute("widgetloaded","true");
}
if(window.refreshInfoHolder==null){
window.refreshInfoHolder={};
}
window.refreshInfoHolder[_11c]=true;
if(_122){
var _126=dojo.byId(_11c+"Id");
if(_126){
if(_126.textContent){
_126.textContent=_122;
}else{
_126.innerText=_122;
}
}
var _127=dojo.byId(_11c+"_navItem");
if(_127){
var _128=_127.children[0];
if(_128.textContent){
_128.textContent=_122;
}else{
_128.innerText=_122;
}
}
}
var _129=_5c(_11c,_121.getAttribute("url"),_23(),_123,"view",_122);
_7.loadWidget(_129);
setTimeout(function(){
window.refreshInfoHolder[_11c]=null;
},2000);
if(_11e){
window.setTimeout("lconn.core.WidgetPlacementCRE.setFocus('"+_11c+"', 'widgetActionsMenu"+_11c+"');",1000);
}
};
_4.refreshTitleAndMicroformat=function(_12a,_12b){
var _12c=_10(_12a,_12b),_12d=_12c?_12c.getAttribute("defIdRef"):_12a,_12e=_d(_12d),_12f=getWidgetName(_12e,_12c);
_130(_12a,_12f);
};
var _130=function(_131,_132){
dojo.query("div#"+_131+" > span[title=\"attributes\"]").orphan();
if(_132){
cre$.iRuntime.getWidgetById(_131)._iContext.getiWidgetAttributes().setItemValue("computedWidgetTitle",_132);
var _133=dojo.byId(_131+"Id");
if(_133){
if(_133.textContent){
_133.textContent=_132;
}else{
_133.innerText=_132;
}
}
var _134=dojo.byId(_131+"_navItem");
if(_134){
var _135=_134.children[0];
if(_135.textContent){
_135.textContent=_132;
}else{
_135.innerText=_132;
}
}
}
};
_4.fetchAndRefresh=function(_136){
var temp=function(){
_4.refresh(_136);
};
dojo.global.staleXMLConfig=true;
var _137=_17(true);
_137.then(temp);
};
_4.moveDown=function(_138,_139){
var _13a=dojo.byId(_139+"DropZone");
var _13b=_13a.childNodes;
for(var _13c=0;_13c<_13b.length-1;_13c++){
var _13d=_13b[_13c].getAttribute("widgetid");
if(_13d===_138){
var _13e=_13c+1;
var _13f=_13b[_13e].getAttribute("widgetid");
_fe(_138,_139,_13f);
try{
_13a.insertBefore(_13b[_13c],_13b[_13e+1]);
}
catch(exception){
_13a.appendChild(_13b[_13c]);
}
break;
}
}
_5.hide(_138+"moreActions",true,true);
var _140=dojo.byId("widgetActionsMenu"+_138);
if(_140){
_140.focus();
}
};
_4.moveUp=function(_141,_142){
var _143=dojo.byId(_142+"DropZone");
var _144=_143.childNodes;
for(var _145=1;_145<_144.length;_145++){
var _146=_144[_145].getAttribute("widgetid");
if(_146==_141){
var _147=_145-1;
var _148=_147!==0?_144[_147-1].getAttribute("widgetid"):null;
_fe(_141,_142,_148);
_143.insertBefore(_144[_145],_144[_147]);
break;
}
}
_5.hide(_141+"moreActions",true,true);
var _149=dojo.byId("widgetActionsMenu"+_141);
if(_149){
_149.focus();
}
};
var _14a=function(){
if(!window.dialog1){
var _14b=dojo.byId("dialog1Container");
if(!_14b){
_14b=dojo.create("div");
_14b.id="dialog1Container";
dojo.byId("lotusContent").appendChild(_14b);
}
window.dialog1=new dijit.Dialog({id:"dialog1",style:"width: 500px"},_14b);
}
return window.dialog1;
};
_4.displayDialog=function(_14c){
var _14d=_14a();
_14d.setContent(_14c);
try{
_14d.titleBar.style.display="none";
}
catch(error1){
console.log(error1);
}
_14d.show();
var _14e=dojo.byId("dialog1.button");
if(_14e){
_14e.focus();
}
};
_4.getColumnWidgetNodes=function(_14f){
var _150=_14f==="col3"?"widget-container-col3":"col2Wrapper";
return dojo.query(".lotusWidget2",dojo.byId(_150));
};
_4.moveWidgetToEnd=function(_151,_152){
var _153=_4.getColumnWidgetNodes(_152);
if(_153.length){
var _154=dojo.attr(_153[_153.length-1],"widgetid");
if(_154!==_151){
_fe(_151,_152,_154,null,null);
}else{
if(_153.length>1){
_154=dojo.attr(_153[_153.length-2],"widgetid");
_fe(_151,_152,_154,null,null);
}
}
}
};
_4.showFullWidgetDeleteConfirmation=function(_155){
var _156=true;
var node=_d(_155);
if(node){
var _157=node.getAttribute("showFullWidgetDeleteConfirmation");
if(_157==="false"){
_156=false;
}
}
return _156;
};
_4.removeWidget=function(_158,_159,_15a){
if(WidgetPlacementConfig.debug){
console.log("lconn.core.WidgetPlacementCRE.removeWidget: widgetInstanceId="+_158+", removeWidgetData="+_159+", prompt="+_15a);
}
var _15b=_10(_158);
if(_15b){
if(_159){
var _15c=_15b.getAttribute("defIdRef");
if(_15c==="Files"){
var _15d=_10("MediaGallery");
if(_15d){
console.log("lconn.core.WidgetPlacementCRE.removeWidget: Skipping removal of Files widget since MediaGallery widget is present.");
return;
}
}
}
}else{
console.log("lconn.core.WidgetPlacementCRE.removeWidget: Unable to find widget instance for instanceId = "+_158);
}
if(_15a==null){
var _15e=null;
if(_159){
var _15f=_15b.getAttribute("defIdRef");
if(_15f==="FeaturedSurvey"||_15f==="LinkedQuickrCommunityLib"||_4.showFullWidgetDeleteConfirmation(_15f)===false){
var _160=dojo.partial(_161,_158);
lconn.core.DialogUtil.prompt(_1["deleteWidget"],_1["confirmDeleteWidget"],_3["rs_ok"],_1["cancel"],_160,null);
}else{
var _160=dojo.partial(_162,_158);
var dlg=new lconn.communities.bizCard.dialogs.deleteConfirmWidget({"communityTitle":_15b.getAttribute("title"),"callback":_160,"userName":communityActionData.userName});
_4.removeWidgetInProgress=true;
dlg.show();
}
}else{
_15e="<div class=\"lotusDialogBorder\"><form class=\"lotusDialog lotusForm\" onSubmit=\"return false;\" role=\"dialog\" aria-labelledby=\"hideTitle\" aria-describedby=\"hideContent\">"+"<div class=\"lotusDialogHeader\">"+"  <h1 id=\"hideTitle\" class=\"lotusHeading\">"+_1["hideWidget"]+"</h1>"+"  <a title=\""+_1["close"]+"\" role=\"button\" class=\"lotusRight lotusDialogClose\" href=\"javascript:;\" onclick=\"dijit.byId('dialog1').hide();\">"+"    <img src=\""+dijit._Widget.prototype._blankGif+"\" role=\"presentation\" alt=\""+_1["close"]+"\" />"+"    <span class=\"lotusAltText\">X</span>"+"  </a>"+"</div>"+"<div class=\"lotusDialogContent\" id=\"hideContent\">"+_1["hideWidgetMsg"]+"</div><!--end lotusDialogContent-->"+"<div class=\"lotusDialogFooter\">"+"  <input id=\"dialog1.button\" value=\""+_1["hide"]+"\" class=\"lotusFormButton\" type=\"button\" onclick=\"dijit.byId('dialog1').hide();lconn.core.WidgetPlacementCRE.removeWidget('"+_158+"', "+_159+", false)\" />"+"  <input value=\""+_1["cancel"]+"\" class=\"lotusFormButton\" type=\"button\" onclick=\"dijit.byId('dialog1').hide();\" />"+"</div>"+"</form></div>";
_4.displayDialog(_15e);
}
_4.removeWidgetInProgress=false;
}else{
if(!_4.removeWidgetInProgress){
if(_159){
_163();
}
_4.removeWidgetInProgress=true;
var _164=WidgetPlacementConfig.applicationContext+"/removeWidget.do?resourceId="+WidgetPlacementConfig.resourceId+"&widgetInstanceId="+_158+"&removeWidgetData="+_159;
dojo.xhrPost({url:_164,handleAs:"xml",headers:{"X-Update-Nonce":window.dangerousurlnonce},load:function(resp,_165){
_4.removeWidgetInProgress=false;
for(var i=0;_4.loadOrder!=null&&i<_4.loadOrder.length;i++){
var _166=_4.loadOrder[i];
if(_166&&_166.instanceId===_158){
delete _4.loadOrder[i];
}
}
var _167=_158+"Section";
var _168=function(){
var _169=dojo.byId(_167);
_169.parentNode.removeChild(_169);
WidgetPlacementConfig.lastMod=new Date().getTime();
var _16a=function(){
if(lconn.core.applicationPalette.palette){
lconn.core.applicationPalette.palette.setJsonData(lconn.core.applicationPalette.getjsonData());
lconn.core.applicationPalette.palette.populatePalette(false);
}
_16b();
};
var _16c=_17(true);
_16c.then(_16a);
};
var _16d=dojo.fx.wipeOut({node:_167,duration:300,onEnd:_168});
_16d.play();
try{
eval("if(_"+_158+"_iContext.iScope().onRemoveWidgetUIContent != null) _"+_158+"_iContext.iScope().onRemoveWidgetUIContent();");
_16e(_158);
_4.destroyWidget(_158,null,true);
var _16f=_15b.getAttribute("defIdRef");
if(_16f==="StatusUpdates"){
window.location.href=WidgetPlacementConfig.applicationContext+"/service/html/communityview?communityUuid="+WidgetPlacementConfig.resourceId;
}
}
catch(e){
console.log(e);
}
},error:_4.customAddWidgetErrorHandler});
}
}
};
var _161=function(_170,_171){
if(_171){
_162(_170,true);
}
};
var _162=function(_172,_173){
if(_173){
_4.removeWidget(_172,true,false);
_4.removeWidgetInProgress=false;
}else{
_4.removeWidget(_172,false,null);
}
};
var _16e=function(_174){
var _175=dojo.byId(_174+"_navItem");
if(_175){
_175.parentNode.removeChild(_175);
}
};
var _176=function(){
var _177="<div class=\"lotusDialogBorder\"><form class=\"lotusDialog lotusForm\">"+"<h1><img src=\""+WidgetPlacementConfig.applicationContext+"/nav/common/styles/images/loading.gif\" title=\""+_1["widget_AddingWidget"]+"\"> "+_1["widget_AddingWidget"]+"</h1>"+"</form></div>";
_4.displayDialog(_177);
};
var _163=function(){
var _178="<div class=\"lotusDialogBorder\" role=\"alert\" aria-live=\"assertive\"><form class=\"lotusDialog lotusForm\">"+"<h1><img src=\""+WidgetPlacementConfig.applicationContext+"/nav/common/styles/images/loading.gif\"> "+_1["widget_RemovingWidget"]+"</h1>"+"</form></div>";
_4.displayDialog(_178);
};
var _16b=function(){
var temp=dijit.byId("dialog1");
if(temp){
temp.hide();
}
};
_4.addWidgetToServerAndRender=function(_179,_17a,_17b,_17c){
widgetDefIdString=_179[0];
var _17d=false;
if(widgetDefIdString==="StatusUpdates"){
_17a="col2statusposts";
}
if(_17b==false||_17b=="false"){
_176();
}else{
_17d=true;
}
var _17e=WidgetPlacementConfig.applicationContext+"/addWidget.do?resourceId="+WidgetPlacementConfig.resourceId+"&widgetDefId="+widgetDefIdString+"&uiLocation="+_17a;
if(_17b){
_17e+="&unhide="+_17b;
if(_17c){
_17e+="&instanceId="+_17c;
}
}
dojo.xhrPost({url:_17e,handleAs:"xml",load:function(resp,_17f){
_4.addWidgetInProgress=false;
var _180=resp.documentElement.getAttribute("widgetInstanceId");
_4.loadOrder.push({instanceId:_180,uiLocation:_17a});
dojo.global.staleXMLConfig=true;
_4.getWidgetDocAndRenderWidget(_179,null,_180,_17a);
_16b();
if(lconn.core.applicationPalette.palette){
dojo.publish(lconn.core.paletteOneUI.Palette.prototype.RECHECK_CAN_ADD_WIDGET_HANDLER_EVENT,[_179]);
lconn.core.applicationPalette.palette.incCounter();
}
setTimeout(function(){
dojo.byId("closePalette").focus();
},dijit.defaultDuration+200);
if(_17d){
_4.moveWidgetToEnd(_180,_17a);
}
var _181=_67();
if(_181){
try{
new _4.aria.Toolbar(_181.id);
}
catch(ee){
new lconn.core.aria.Toolbar(_181.id);
}
}
},error:_4.customAddWidgetErrorHandler});
};
_4.showWidgetErrorInHeadline=function(_182,_183){
_16b();
_4.removeWidgetInProgress=false;
_4.addWidgetInProgress=false;
var _184=(_182&&_182.responseText)?_182.responseText:_182;
var _185=new Date().getTime();
var _186="<div class=\"lotusFormError lotusMessage\" role=\"alert\">"+"<img class=\"lotusIcon iconsMessages16 iconsMessages16-msgError16\" src=\""+dojo.config.blankGif+"\" alt=\""+_3["rs_messagebox_error_a11y_label"]+"\" title=\""+_3["rs_messagebox_error_a11y_label"]+"\"/>"+"<span>"+_1["error.title.generic"]+"  <a id=\"error_"+_185+"\" href=\"javascript:void(0);\" onclick=\"lconn.core.utilities.show('errorTextContainer');lconn.core.utilities.hide('error_"+_185+"');\" title=\""+_1["info.feed.general.moreinfo"]+"\">"+_1["info.feed.general.moreinfo"]+"</a><div id=\"errorTextContainer\" style=\"display:none\">"+_184+"</div></span>"+"</div>";
var temp=dojo.byId("headline");
if(_183){
_186+=temp.innerHTML;
}
temp.innerHTML=_186;
};
_4.customAddWidgetErrorHandler=function(_187){
return _4.showWidgetErrorInHeadline(_187,true);
};
_4.minimizeWidget=function(_188,_189,_18a,_18b){
_5.hide(_189+"moreActions",true,true);
var _18c=dojo.byId(_189+"SubArea");
var _18d=dijit.byId(_189+"_toggleAction");
if(dojo.style(_18c,"display")==="none"){
dojo.cookie(_18a+"-isMinimized","false");
var _18e=dojo.byId("widgetActionsMenu"+_189);
var _18f=_18c.getAttribute("widgetloaded");
var _190=_18c.getAttribute("widgetneedrefresh");
if(_190==null){
_190="true";
}
if(_18f==="false"&&_190==="true"){
var temp=function(){
_4.refresh(_189);
if(_18b){
dojo.style(_18c,"display","none");
_18d.setLabel(_1["widgets_Max"]);
}else{
dojo.style(_18c,"display","");
_18d.setLabel(_1["widgets_Min"]);
}
};
var _191=_17();
_191.then(temp);
}else{
dojo.style(_18c,"display","");
_18d.setLabel(_1["widgets_Min"]);
}
}else{
dojo.cookie(_18a+"-isMinimized","true");
var _18e=dojo.byId("widgetActionsMenu"+_189);
dojo.style(_18c,"display","none");
_18d.setLabel(_1["widgets_Max"]);
}
window.setTimeout("lconn.core.WidgetPlacementCRE.setFocus('"+_189+"', 'widgetActionsMenu"+_189+"');",1000);
};
_4.addEditTabsWithOnclickCalls=function(_192,_193,_194,_195,_196){
return _4.addTabsWithOnclickCalls(_192,_193,_194,_195,_196,"edit");
};
_4.showFirstTab=function(_197,_198,_199){
if(WidgetPlacementConfig.TabContainerDomId){
var _19a=dojo.byId(WidgetPlacementConfig.TabContainerDomId);
if(_19a){
dojo.query("li[id$='_TabItem']",_19a).forEach(function(node){
dojo.removeClass(node,"lotusSelected");
dojo.attr(node,{"tabindex":"-1","aria-selected":"false","role":"tab"});
});
}
try{
dojo.attr(dojo.byId(WidgetPlacementConfig.TabContainerDomId+"_panel"),"aria-label",dojo.query("a._linkHolder",dojo.byId(_198))[0].innerHTML);
}
catch(ee){
}
}
if(WidgetPlacementConfig.TempWidgetContainerDomId){
destroyWidgetContainer(WidgetPlacementConfig.TempWidgetContainerDomId);
}
if(_197){
_5.show(_197);
}
if(_198){
dojo.query("#"+_198).forEach(function(_19b){
dojo.attr(_19b,{"tabindex":"0","aria-selected":"true"});
dojo.addClass(_19b,"lotusSelected");
});
}
var hash=window.location.hash;
if(hash){
var _19c=hash.indexOf("&tab");
if(_19c>0){
changeHash(hash.substr(0,_19c));
}
}
if(_199){
_199();
}
return false;
};
_4.addTabsWithOnclickCalls=function(_19d,_19e,_19f,_1a0,_1a1,_1a2,_1a3){
var _1a4=null;
dojo.forEach(_4.uiLocations,function(loc){
_5.show("widget-container-"+loc,false,true);
});
dojo.forEach((WidgetPlacementConfig.hideElements||[]),function(elem){
_5.hide(elem,false,true);
});
if(_1a0){
WidgetPlacementConfig.cancelCallBack=_1a0;
}
var _1a5=null;
var _1a6=null;
var _1a7=false;
var _1a8=null;
if(_1a3&&_1a3.length){
var _1a9=_1a3[0].component;
if(_1a9&&_1a9==="communities:content"){
_1a7=true;
}
_1a5=_1a3[0].selectTab;
_1a6=_1a3[0].selectTabInst;
var key=_1a3[0].entryValue;
if(key){
if(_1a3[0].entryName==="searchKeywords"){
var hash="query="+key;
}else{
if(_1a3[0].entryName==="tagCloudItemValue"){
var hash="tag="+key;
}
}
if(hash){
if(_1a6){
hash+="&tabinst="+_1a6;
}else{
if(_1a5){
hash+="&tab="+_1a5;
}
}
changeHash(hash);
}
}
_1a8=_1a3[0].moreActionsContainerNode;
}
var _1aa=_23();
var _1ab=(_1aa&&typeof (_1aa.profileType)==="string"&&dojo.trim(_1aa.profileType).length>0?_1aa.profileType:"default");
var _1ac=_13(WidgetPlacementConfig.defaultPageId,null,_1ab);
if(!_1ac||!_1ac.length){
_1ac=_13(WidgetPlacementConfig.defaultPageId,null,"default");
}
var _1ad=getUserProfileOverrideProperty("canPersonalize")==="true";
var _1ae=function(node,opts){
var _1af=opts.defNode.getAttribute("defId");
var _1b0=opts.instNode.getAttribute("instanceId")||_1af;
var _1b1=_5.getURLParam("tabinst",true);
dojo.query("._iconHolder",node.parentNode).forEach(function(_1b2){
dojo.style(_1b2,"display","none");
});
if(!_1a8){
dojo.query("._iconHolder",node).forEach(function(_1b3){
dojo.style(_1b3,"display","inline");
});
}
try{
dojo.attr(dojo.byId(WidgetPlacementConfig.TabContainerDomId+"_panel"),"aria-label",dojo.query("a._linkHolder",node)[0].innerHTML);
}
catch(ee){
}
if(_4.infoMessage==null&&dojo.byId("editWarningMessage")){
_4.infoMessage=new com.ibm.oneui.controls.MessageBox({canClose:true,_strings:{icon_alt:_3["rs_messagebox_info_icon_alt"],a11y_label:_3["rs_messagebox_info_a11y_label"],close_btn_title:_3["rs_close"],close_btn_alt:_3["rs_close"]},type:com.ibm.oneui.controls.MessageBox.TYPE.INFO,msg:_1["switchTabWarning"]},dojo.create("div"));
dojo.place(_4.infoMessage.domNode,dojo.byId("editWarningMessage"),"only");
}
if(opts.destroyContainer){
destroyWidgetContainer(opts.tempContainerId,false);
}
_4.destroyWidget(_1b0,null,false,true);
_4.getWidgetDocAndRenderWidget(_1af,opts.defNode,_1b0,opts.tempContainerId,opts.widgetMode,"skinless",false,false,opts.attributesMap);
if(opts.initDispId){
_5.hide(opts.initDispId,false,true);
}
if(opts.attributesMap&&opts.attributesMap.length){
var key=opts.attributesMap[0].entryValue;
if(key){
if(_1a3[0].entryName==="searchKeywords"){
var hash="query=";
}else{
if(_1a3[0].entryName==="tagCloudItemValue"){
var hash="tag=";
}
}
if(hash){
_1a5=_1a3[0].selectTab;
_1a6=_1a3[0].selectTabInst;
hash+=key;
if(_1a6){
hash+="&tabinst="+_1b0;
}else{
if(_1a5){
hash+="&tab="+_1af;
}else{
hash+="&tabinst="+_1b0;
}
}
changeHash(hash);
}
}
}
if(_1a8){
var _1b4=dijit.byId(opts.instId+"moreActions");
if(_1b4){
_1b4.destroy();
}
if(!dojo.isObject(_4._moreActionsConnect)){
_4._moreActionsConnect={};
}
if(_4._moreActionsConnect[opts.instId]){
dojo.disconnect(_4._moreActionsConnect[opts.instId]);
delete _4._moreActionsConnect[opts.instId];
}
var _1b5=_1a8.id+"_menuHolder";
dojo.query("."+_1b5).forEach(function(node){
node.parentNode.removeChild(node);
});
dojo.place("<div dojoType=\"dijit.Menu\" id=\""+opts.instId+"moreActions\"  class=\""+_1b5+"\" style=\"display:none;\"></div>",_1a8,"after");
var _1b6=window.getEscapedWidgetName(opts.defNode,opts.instNode);
var _1b7=_1["actions_alt"]||"Actions for: ${0}";
_1b7=dojo.string.substitute(_1b7,[_1b6]);
dojo.query("a",_1a8).forEach(function(node){
dojo.attr(node,{title:_1b7,"aria-label":_1b7});
});
dojo.query(".lotusAltText",_1a8).forEach(function(node){
dojo.attr(node,{innerHTML:_1b7});
});
var _1b8=dojo.byId(opts.instId+"moreActions");
dojo.place(dojo.create("div",{dojoType:"dijit.MenuItem",label:_1["refresh"],"onclick":"lconn.core.WidgetPlacementCRE.fetchAndRefresh('"+opts.instId+"');"}),_1b8,"last");
var _1b9=opts.defNode.getAttribute("helpLink");
if(_1b9&&_1b9.length){
_1b9=_b(_1b9);
var _1ba=dojo.create("div",{dojoType:"dijit.MenuItem",label:_1["help"],title:_1["link.window.openNewWindow"],"onclick":"lconn.core.utilities.hide('"+opts.instId+"moreActions', true, true);"+"lconn.core.WidgetPlacementCRE.openHelpWindow('"+_1b9+"');"});
dojo.place(_1ba,_1b8,"last");
}
dojo.parser.parse(_1b8.parentNode);
_4._moreActionsConnect[opts.instId]=dojo.connect(_1a8,"onclick",function(evt){
_4.openMenu(evt,opts.instId);
dojo.stopEvent(evt);
});
}
};
var _1bb=function(opts){
var _1bc=50;
var _1bd=opts.defNode.getAttribute("defId");
var _1be=window.getEscapedWidgetName(opts.defNode,opts.instNode);
if(_1be.length>_1bc){
_1be=_1be.substring(0,_1bc)+"...";
}
var li=dojo.byId(opts.instId+"_TabItem");
if(li==null){
li=dojo.create("li",{id:opts.instId+"_TabItem",role:"tab"});
dojo.place(li,_19d,"last");
}
dojo.attr(li,{itemidx:opts.itemIdx,innerHTML:"<a class=\"_linkHolder lotusLeft\">"+_1be+"</a>"+"<a class=\"_iconHolder lotusIcon lotusLeft\" style=\"padding: 0; display: none;\"></a>"+"<div class=\"_menuHolder\" style=\"display: none;\"><div>"});
dojo.connect(li,"onclick",function(evt){
_1ae(li,opts);
dojo.stopEvent(evt);
return false;
});
if(!opts.showMenu){
dojo.query("._iconHolder",li).forEach(dojo.destroy);
dojo.query("div._menuHolder",li).forEach(dojo.destroy);
}else{
if(!_1a8){
var _1bf=dojo.query("div._menuHolder",li)[0];
dojo.attr(_1bf,{id:opts.instId+"moreActions",dojoType:"dijit.Menu"});
var _1c0=dojo.create("div",{dojoType:"dijit.MenuItem",label:_1["refresh"],"onclick":"lconn.core.WidgetPlacementCRE.fetchAndRefresh('"+opts.instId+"');"});
dojo.place(_1c0,_1bf,"last");
var _1c1=opts.defNode.getAttribute("helpLink");
if(_1c1&&_1c1.length){
_1c1=_b(_1c1);
var _1c2=dojo.create("div",{dojoType:"dijit.MenuItem",label:_1["help"],title:_1["link.window.openNewWindow"],"onclick":"lconn.core.utilities.hide('"+_1bf.id+"', true, true);"+"lconn.core.WidgetPlacementCRE.openHelpWindow('"+_1c1+"');"});
dojo.place(_1c2,_1bf,"last");
}
var _1c3=_1["actions_alt"]||"Actions for: ${0}";
_1c3=dojo.string.substitute(_1c3,[_1be]);
var _1c4=dojo.query("._iconHolder",li)[0];
dojo.attr(_1c4,{id:opts.instId+"_MenuIcon",role:"button","aria-haspopup":"true",href:"javascript:void(0);",innerHTML:"<img class=\"lotusArrow\" alt=\""+_1c3+"\" title=\""+_1c3+"\" src=\""+dijit._Widget.prototype._blankGif+"\"/><span class=\"lotusAltText\">&#9660;</span>"});
dojo.addClass(_1c4,"lotusIcon");
dojo.connect(_1c4,"onclick",function(evt){
_4.openMenu(evt,opts.instId);
dojo.stopEvent(evt);
});
}
}
dojo.place(li,_19d);
dojo.parser.parse(li);
return li;
};
_1ac=_1ac||[];
dojo.forEach(_1ac,dojo.hitch(this,function(_1c5,idx){
var _1c6=_1c5.getAttribute("defIdRef");
if(_1a5==null){
_1a5=_1c6;
}
var _1c7=_d(_1c6);
if(_1c7==null){
console.log("Unable to find widget definition for: "+_1c6+", it will be skipped.");
return;
}
var _1c8=_1c5.getAttribute("uiLocation"),_1c9=_1c7.getAttribute("modes"),_1ca=_1c5.getAttribute("instanceId")||_1c6;
if(_1ca===_19e){
return;
}
if(!canAddWidget(_1c7,WidgetPlacementConfig,_1ad,_1c5,_1a7)){
return;
}
var _1cb={containerId:_19d,tempContainerId:_19e,defNode:_1c7,instNode:_1c5,instId:_1ca,initDispId:_19f,cancelCallBack:_1a0,widgetMode:_1a2,attributesMap:dojo.clone(_1a3),itemIdx:idx,showMenu:false,destroyContainer:true};
var _1cc=null;
if(_1c9!=null&&_1c9.indexOf(_1a2)!=-1){
_1cc=_1bb(_1cb);
}else{
if(_1c8===_19e){
_1cb.showMenu=true;
_1cc=_1bb(_1cb);
}
}
if(_1ca===_1a6){
_1a4=_1cc;
}else{
if(_1c6===_1a5){
_1a4=_1cc;
}
}
}));
WidgetPlacementConfig.isTabbedFullPageWidgetRendering=true;
WidgetPlacementConfig.TempWidgetContainerDomId=_19e;
WidgetPlacementConfig.TabContainerDomId=_19d;
if(_4.aria&&typeof _4.aria.TabPanel==="function"){
new _4.aria.TabPanel(_19d);
if(_1a4!=null){
_1a4.click();
}
}
dojo.query("a._iconHolder",dojo.byId(_19d)).forEach(function(_1cd){
var _1ce=dojo.query("img.lotusArrow",_1cd);
if(_1ce.length){
var _1cf=dojo.query("._linkHolder",_1cd.parentNode);
if(_1cf.length){
var h=dojo.coords(_1cf[0]).h-dojo.style(_1cf[0],"borderBottomWidth");
if(!dojo.isIE){
h-=dojo.style(_1cf[0],"borderTopWidth");
}
dojo.style(_1ce[0],"height",h+"px");
}
}
});
};
_4.URLChange=function(URL){
if(WidgetPlacementConfig.debug){
console.log("lconn.core.WidgetPlacementCRE.URLChange: value: "+URL);
}
var _1d0=URL.indexOf("#");
if(_1d0===-1||URL.substring(_1d0).length===1||URL.substring(_1d0)==="#overview"){
_4.reloadOverviewPage();
return;
}
var _1d1=_5.getURLParam("fullpageWidgetId",true);
if(_1d1&&_1d1!==_4.currentFullpageWidgetInstanceId){
_4.loadFullpageView(_1d1,null,false,true,true);
return;
}
var _1d2=_5.getURLParam("query",true);
if(_1d2&&dojo.style("searchCommunityForm","display")==="none"){
var _1d3=[];
selectTabInstValue=_5.getURLParam("tabinst",true)||null;
selectTabValue=_5.getURLParam("tab",true)||null;
_1d3.push({entryName:"searchKeywords",entryValue:_1d2,component:"communities:content",selectTabInst:selectTabInstValue,selectTab:selectTabValue});
lconn.comm.community.handleSearchRequestbyGeneral(_1d3);
}
};
_4.init=function(mode){
var _1d4=_5.getURLParam("fullpageWidgetId",true),_1d5=_5.getURLParam("query",true),_1d6=_5.getURLParam("tag",true),_1d7="edit"===mode,_1d8=!_1d4&&!_1d5&&!_1d6&&!_1d7,_1d9=_1d7?_4.placeWidgetMetadata(false,"edit"):_4.placeWidgetMetadata();
if(_1d8){
if(WidgetPlacementConfig.hideElements){
for(var i=0;i<WidgetPlacementConfig.hideElements.length;i++){
_5.show(WidgetPlacementConfig.hideElements[i],false,false,true);
}
}
}
if(typeof window.widgetUserInfo!=="undefined"&&typeof window.userid==="undefined"){
window.userid=window.widgetUserInfo.userid;
}
_7.init();
_7.getIRuntime().then(dojo.hitch(this,function(_1da){
cre$.iwidget.widgetWrapper.prototype.handleEvent=function(_1db,_1dc,_1dd){
if(typeof _1db==="undefined"||_1db===null){
return false;
}
if(_1db===this._iContext.constants.predefinedEvents.onModeChanged){
if(WidgetPlacementConfig.isTabbedFullPageWidgetRendering){
handleModeExit();
}else{
if(_1dd&&_1dd.newMode==="fullpage"){
widgetId=this._iContext._iEvents._widgetId;
if(widgetId){
changeHash("fullpageWidgetId="+widgetId);
}
}
return this._handleModeChange(_1dd.newMode);
}
}else{
if(_1dd&&_1dd.newMode&&this._isOnModeEvent(_1db,_1dc,_1dd)){
this._invokeOnModeMethod(_1dd.newMode);
return true;
}
}
return this._handleEventInternal(_1db,_1dc,_1dd);
};
var _1de=document.location.href,_1df=_6.getRequestParameters(_1de),_1e0=("community"===WidgetPlacementConfig.resourceType);
if(_1df&&"false"===_1df["useServerInjection"]){
_1e0=false;
}
if(_1e0&&_1d8){
var url=WidgetPlacementConfig.applicationContext+"/widgetProcess.do?resourceId="+WidgetPlacementConfig.resourceId+"&resourceType=community",st=cre$.internalutil.getCREContainerToken();
st=(st&&st.token)?st.token:"";
dojo.xhrGet({url:url,error:function(_1e1){
console.log(_1e1);
},handleAs:"json",headers:{"X-Shindig-ST":st},sync:true,load:function(_1e2){
if(_1e2.sc){
console.log("Failed to get data from "+url+", message: "+_1e2.message);
return;
}
var _1e3=_1e2.pageData,_1e4=_1e3.instanceData,_1e5=_1e3.widgetMetadata,_1e6=[],_1e7=[],_1e8={},i,_1e9;
_1e3.userProfile={"id":"userProfile","item":[{"id":"viewer","value":window.widgetUserInfo}]};
for(i=0;i<_1e4.length;i++){
_1e9=dojo.byId(_1e4[i].domId);
if(_1e9){
_1e6.push(_1e4[i]);
_1e8[_1e4[i].definition]=true;
}
}
_1e9=null;
for(i=0;i<_1e5.length;i++){
if(_1e8[_1e5[i].definitionUrl]===true){
_1e7.push(_1e5[i]);
}
}
dojo.forEach(_1e6,function(data){
var _1ea=data.instanceMetaData.itemSet;
dojo.forEach(_1ea,function(v){
var item=v.item;
dojo.forEach(item,function(it){
var _1eb=it.value;
if("computedWidgetTitle"===it.id){
_1eb=_1c(_1eb);
}
_1eb=_b(_1eb);
it.value=_1eb;
});
if(WidgetPlacementConfig.resourceId!=null){
item.push({"id":"resourceId","value":WidgetPlacementConfig.resourceId});
}
if(WidgetPlacementConfig.parentResourceId!=null){
item.push({"id":"parentResourceId","value":WidgetPlacementConfig.parentResourceId});
}
if(WidgetPlacementConfig.resourceType!=null){
item.push({"id":"resourceType","value":WidgetPlacementConfig.resourceType});
}
if(WidgetPlacementConfig.resourceName!=null){
item.push({"id":"resourceName","value":WidgetPlacementConfig.resourceName});
}
});
});
_1e3.instanceData=_1e6;
_1e3.widgetMetadata=_1e7;
_1da.init(_1e3,true);
}});
}else{
var _1ec={"userProfile":{"id":"userProfile","item":[{"id":"viewer","value":window.widgetUserInfo}]}};
_1da.init(_1ec);
}
cre$.iwidget.iContext.prototype.canNavigateAway=null;
cre$.iwidget.iContext.prototype.getUserProfile=function(){
if(!this._userProfile){
var ss=this._iRuntime.getStateSet(this._instanceData.moduleId,this.constants.USERPROFILE,{});
this._userProfile=new cre$.iwidget.UserProfile(this._instanceData.moduleId,ss);
this._userProfile._iContext=this;
this._userProfile.widgetUserInfo=this._userProfile.user;
}
return this._userProfile;
};
dojo.declare("com.ibm.cre.iwidget.iContext",com.ibm.cre.iwidget.iContext,{constructor:function(_1ed,_1ee){
var _1ef=cre$.iRuntime.getProxyUrl();
var _1f0=null;
var _1f1=null;
var uri=_1ef.replace("%host%",document.location.host);
var _1f2=shindig.uri(uri);
var _1f3=_1f2.getPath();
var _1f4=_1f3+"/"+_1ed.instanceMetaData.moduleId;
_1f2.setPath(_1f4);
uri=_1f2.toString();
var _1f5=shindig.uri().removePrefix(uri);
if(_1f5.indexOf("/")>0){
_1f0=_1f5.substring(0,_1f5.indexOf("/"));
_1f1=_1f5.substring(_1f5.indexOf("/"),_1f5.indexOf("?"));
}else{
_1f0=_1f5;
_1f1="/";
}
if(_1f0.indexOf(":")>0){
_1f0=this._proxyCookieDomain.substring(0,this._proxyCookieDomain.indexOf(":"));
}
dojo.cookie("widgetid",null,{path:_1f1,domain:_1f0,expires:-1});
dojo.cookie("st",null,{path:_1f1,domain:_1f0,expires:-1});
}});
_1f6(_1da);
if(_4.URLChangeCallBack==null){
_4.URLChangeCallBack=[_4.URLChange];
registerBackButtonSupport();
}
if(_1d8&&!_1e0||_1d7){
_4.renderWidgets(_1d9);
}else{
if(!_1d6&&!_1d5&&_1d4){
_4.onlyFullPageWidgetLoaded=true;
_4.loadFullpageView(_1d4,null,"initial",false);
}
}
}));
};
var _1f6=function(_1f7){
var _1f8={};
_1f8.update=function(_1f9,_1fa,sync){
var _1fb=new cre$.promise.Promise();
var url=WidgetPlacementConfig.applicationContext+"/saveWidgetPreferences.do?resourceId="+WidgetPlacementConfig.resourceId+"&widgetInstanceId="+_1f9;
var _1fc="";
var _1fd=_1fa.getAllNames();
for(var i=0,name;i<_1fd.length;i++){
name=_1fd[i];
_1fc+=name+"=_="+_1fa.getItemValue(name)+",_,";
}
var _1fe=function(_1ff,_200){
WidgetPlacementConfig.widgetConfigXMLDocument=null;
WidgetPlacementConfig.lastMod=new Date().getTime()+"saveAttributes";
var _201=function(){
_1ff.resolve(_200);
_4.refreshTitleAndMicroformat(_1f9,WidgetPlacementConfig.widgetConfigXMLDocument);
};
var _202=function(_203,_204){
_1ff.reject();
};
var _205=_17(true,_202);
_205.then(_201);
};
dojo.xhrPut({url:url,headers:{"X-Update-Nonce":window.dangerousurlnonce},putData:_1fc,load:dojo.partial(_1fe,_1fb,_1fa),error:function(){
_1fb.reject();
},sync:true});
return _1fb;
};
_1f8.getItemSets=function(_206,id,mode){
var _207=_1f7.getWidgetById(_206)._iContext;
return cre$.promise.resolved(_207.getItemSet(id,mode));
};
cre$.services.getServiceManager().setService(cre$.services.ITEMSETPERSISTENCE,_1f8,"");
};
_4.initEdit=function(){
_4.init("edit");
};
_4.setFocus=function(_208,_209){
var _20a=dojo.byId(_208+"Section");
if(_20a){
var _20b=dojo.query("#"+_209,_20a);
if(_20b&&_20b.length){
try{
if(_20b[0].focus){
_20b[0].focus();
}
}
catch(e){
console.log(e.message);
}
}
}
};
})();
}


;if(!dojo._hasResource["lconn.core.WidgetPlacement"]){
dojo._hasResource["lconn.core.WidgetPlacement"]=true;
dojo.provide("lconn.core.WidgetPlacement");






























(function(){
var _1=false;
var _2=lconn.core.url;
var _3=lconn.core.config;
var _4=document.location.href;
var _5=_2.getRequestParameters(_4);
if(_5&&"true"===_5["useCRE"]){
_1=true;
}else{
if(_5&&"false"===_5["useCRE"]){
_1=false;
}else{
if(_3.services.profiles){
var _6=_2.getServiceUrl(_3.services.profiles,false).uri;
var _7=_2.getServiceUrl(_3.services.profiles,true).uri;
if(_4.indexOf(_6)==0||_4.indexOf(_7)==0){
_1=("true"===_3.properties["lconn.core.WidgetPlacement.profiles.useCRE"]);
}
}
if(_3.services.communities){
var _6=_2.getServiceUrl(_3.services.communities,false).uri;
var _7=_2.getServiceUrl(_3.services.communities,true).uri;
if(_4.indexOf(_6)==0||_4.indexOf(_7)==0){
_1=("true"===_3.properties["lconn.core.WidgetPlacement.communities.useCRE"]);
}
}
}
}
if(_1){
lconn.core.WidgetPlacement=lconn.core.WidgetPlacementCRE;
}else{
lconn.core.WidgetPlacement=lconn.core.WidgetPlacementMM;
}
var _8=dojo.i18n.getLocalization("lconn.core","widgets");
var _9=dojo.i18n.getLocalization("lconn.core.config","widgetbundles");
var _a=dojo.i18n.getLocalization("lconn.core","strings");
var _b=function(){
var _c=dojo.byId("lotusProfileNavBar");
if(_c==null){
_c=dojo.byId("lotusNavBar");
}
return _c;
};
window.changeHash=function(_d){
dojo.hash(_d,true);
};
window.registerCloseViewFunction=function(_e){
lconn.core.WidgetPlacement.registerCloseViewFunction=_e;
};
window.closeOtherViews=function(){
if(lconn.core.WidgetPlacement.registerCloseViewFunction!=null){
lconn.core.WidgetPlacement.registerCloseViewFunction();
lconn.core.WidgetPlacement.registerCloseViewFunction=null;
}
};
window.switchView=function(_f,_10,_11,_12,_13){
closeOtherViews();
registerCloseViewFunction(lconn.core.WidgetPlacement.closeSwitchView);
lconn.core.WidgetPlacement.destroyWidget(_10,null,false,true);
if(lconn.core.WidgetPlacement.currentFullpageWidgetInstanceId!=null){
lconn.core.WidgetPlacement.destroyWidget(lconn.core.WidgetPlacement.currentFullpageWidgetInstanceId,null,false,true);
}
destroyWidgetContainer("fullpage");
for(uiLocation in lconn.core.WidgetPlacement.uiLocations){
lconn.core.utilities.hide("widget-container-"+uiLocation,false,true);
}
if(WidgetPlacementConfig.hideElements!=null){
for(var i=0;WidgetPlacementConfig.hideElements!=null&&i<WidgetPlacementConfig.hideElements.length;i++){
var _14=WidgetPlacementConfig.hideElements[i];
lconn.core.utilities.hide(_14,false,true);
}
}
var _15=_b();
if(_15!=null){
var _16=_15.getElementsByTagName("li");
for(var i=0;_16!=null&&i<_16.length;i++){
if(_16[i].className!=""){
dojo.removeClass(_16[i],"lotusSelected");
var _17=_16[i].childNodes[0];
}
}
var _18=dojo.byId(_10+"_navItem");
if(_18!=null){
dojo.addClass(_18,"lotusSelected");
var _19=_18.childNodes[0];
}
}
lconn.core.utilities.show("widget-container-fullpage",false,false,true);
lconn.core.WidgetPlacement.getWidgetDocAndRenderWidget(null,_f,_10,"fullpage","fullpage","skinless",false);
lconn.core.WidgetPlacement.currentFullpageWidgetInstanceId=_10;
lconn.core.WidgetPlacement.isInWidgetFullpageMode=true;
window.setTitle(_18);
};
window.setTitle=function(el){
try{
if(dojo.exists("lconn.communities.bizCard.core.messages")&&window.ic_comm_communityName){
if(dojo.getObject("ibmConfig.serviceName")=="communities"){
var _1a=dojo.query("a",el);
if(_1a.length>0){
var _1b=dojo.trim(_1a[0][(dojo.isIE?"innerText":"textContent")]);
var _1c="${0} - ${1}";
window.document.title=dojo.string.substitute(_1c,[_1b,window.ic_comm_communityName]);
}
}
}
}
catch(e){
}
};
window.getResourcedStringForItem=function(_1d,_1e){
var _1f=_1d.getAttribute("bundleRefId")||"lc_default";
var _20=_1d.getAttribute(_1e);
var _21=_9||{};
var _22=_21[_20];
if(typeof _22!=="string"&&_21[_1f]){
_22=_21[_1f][_20];
}
if(typeof _22!=="string"){
_22=_20;
}
return _22;
};
window.getResourcedStringById=function(_23,_24){
var _25=_23.getAttribute("bundleRefId")||"lc_default";
var _26=_9[_25];
if(!_26){
console.log("unable to find resource bundle for '"+_25+"'");
_26={};
}
var _27=_26[_24];
return (_27===undefined)?_24:_27;
};
window.getEscapedWidgetName=function(_28,_29){
return lconn.core.HTMLUtil.escapeText(getWidgetName(_28,_29));
};
window.getWidgetName=function(_2a,_2b){
var _2c=null;
if(_2b){
_2c=_2b.getAttribute("title");
}
if(_2c==null&&_2a){
_2c=window.getResourcedStringForItem(_2a,"defId");
}
return _2c;
};
window.addToNavBar=function(_2d,_2e,_2f,_30,_31,_32,_33){
var _34=new Array();
var _35=new Array();
var _36=new Array();
var ii;
var _37=_b();
if(_37==null){
return;
}
var _38=_2d.getAttribute("showFullPageViewLinkInNavBar");
var _39=_2d.getAttribute("modes");
if((_38!=null&&_38=="true")||(_39!=null&&_39.indexOf("fullpage")!=-1)||(_31!=null&&_31!="")){
if(_33!=null&&_33!=""){
_35=_33.split(",");
for(ii=0;ii<_35.length;ii++){
_34[ii]=window.getResourcedStringById(_2d,_35[ii]);
}
}else{
_34[0]=window.getWidgetName(_2d,_2e);
}
if(_31!=null&&_31!=""){
_36=_31.split(",");
}
var _3a=_2d.getAttribute("defId");
var _3b=_2e.getAttribute("instanceId");
if(!_3b){
_3b=_3a;
}
for(ii=0;ii<_34.length;ii++){
var li=document.createElement("li");
li.setAttribute("role","button");
li.setAttribute("aria-pressed","false");
li.setAttribute("tabindex",-1);
li.setAttribute("uiLocation",_2e.getAttribute("uiLocation"));
if(ii==0){
li.id=_3b+"_navItem";
}else{
li.id=_3b+"_navItem_"+ii;
}
var _3c=document.createElement("a");
dojo.attr(_3c,"tabindex",-1);
if(_31!=null&&_31!=""){
if(_36[ii]==null){
_36[ii]=_36[0];
}
WidgetPlacementConfig.params["widgetInstanceId"]=_3b;
var _3d=lconn.core.i18nOverrider.replaceParams(_36[ii],WidgetPlacementConfig.params);
_3c.href=_3d;
}else{
_3c.href="javascript:void(0);";
var _3e=function(){
changeHash("fullpageWidgetId="+_3b);
return false;
};
dojo.connect(_3c,"onclick",_3e);
}
var _3f=document.createTextNode(_34[ii]);
_3c.appendChild(_3f);
li.appendChild(_3c);
if(_3a=="StatusUpdates"){
var _40=dojo.byId("RecentUpdates_navItem");
_37.insertBefore(li,_40.nextSibling);
}else{
if(WidgetPlacementConfig.insertBeforeNavBarId){
_37.insertBefore(li,dojo.byId(WidgetPlacementConfig.insertBeforeNavBarId));
}else{
dojo.place(li,lconn.core.WidgetPlacement.getInsertionPoint(_37,li),"after");
}
}
if(_30==true){
var _41=WidgetPlacementConfig.NavBarSelectedMenuItem;
var _42=0;
var idx=_41.indexOf("_");
if(idx>0){
_42=_41.substring(idx+1);
}
if(ii==_42){
dojo.addClass(li,"lotusSelected");
}
}
}
}
};
window.canAddWidget=function(_43,_44,_45,_46,_47){
if(_43==null){
return false;
}
var _48=_43.getAttribute("loginRequired");
if(_48=="true"&&!_44.userLoggedIn){
return false;
}
var _49=_43.getAttribute("resourceOwnerWidget");
if(_49=="true"&&!_45){
return false;
}
var _4a=_43.getAttribute("hideWidgetForMyProfile");
var _4b=getUserProfileOverrideProperty("key");
if(_4a=="true"&&_44.userLoggedIn&&_44.params.resourceId==_4b){
return false;
}
if(dojo.exists("lconn.communities.bizCard.core.community")){
if(lconn.communities.bizCard.core.community.externalAllowed){
if(_43.getAttribute("showInExternalCommunities")=="false"){
return false;
}
}
}
var _4c=_43.getAttribute("requireAcl");
if(_4c!=null&&_4c!=""){
var ok=false;
try{
for(var ii=0;ii<_44.enabledPermissions.length;ii++){
if(_44.enabledPermissions[ii]==_4c){
ok=true;
break;
}
}
}
catch(e){
}
if(!ok){
return false;
}
}
if(_46!=null&&lconn.core.WidgetPlacement.onlyFullPageWidgetLoaded!=true&&!_47){
var _4d=_46.getAttribute("enabled");
if(_4d=="false"){
return false;
}
}
var _4e=_43.getAttribute("prerequisite");
if(_4e!=null&&_4e!=""&&_44.availableServices!=null){
var _4f=_4e.split(" ");
for(var x=0;_4f.length!=null&&x<_4f.length;x++){
if(_44.availableServices[_4f[x]]==null||_44.availableServices[_4f[x]]==false){
return false;
}
}
}
var _50=_43.getAttribute("requiredFeatures");
if(_50!=null&&_50!=""&&typeof (_44.enabledFeatures)!="undefined"&&_44.enabledFeatures!=null&&_44.enabledFeatures!=""){
if(_44.debug){
console.info(" enabledFeatures = "+_44.enabledFeatures);
}
var _51=_44.enabledFeatures.split(new RegExp("[, \u3000]{1}","g"));
var i=0,len=_51.length;
var _52=false;
for(i=0;i<len;i++){
if(_51[i]==_50){
_52=true;
break;
}
}
if(!_52){
if(_44.debug){
console.info("The user doesn't have the required feature, returning false");
}
return false;
}
}
var _53=_43.getAttribute("defId");
if(_44.disabledWidgets&&_44.disabledWidgets[_53]){
if(_44.debug){
console.info("Widget "+_53+" is disabled in this context.");
}
return false;
}
return true;
};
window.destroyWidgetContainer=function(_54){
for(var i=0;lconn.core.WidgetPlacement.loadOrder!=null&&i<lconn.core.WidgetPlacement.loadOrder.length;i++){
var _55=lconn.core.WidgetPlacement.loadOrder[i];
if(_55!=null&&_55.uiLocation==_54){
lconn.core.WidgetPlacement.destroyWidget(_55.instanceId,_55.uiLocation,false);
}
}
var _56=dojo.byId("widget-container-"+_54);
if(_56&&_56.innerHTML){
_56.innerHTML="";
}
};
window.highlightOverviewLink=function(){
var _57=_b();
if(_57!=null){
var _58=_57.getElementsByTagName("li");
for(var i=0;_58!=null&&i<_58.length;i++){
dojo.removeClass(_58[i],"lotusSelected");
}
}
if(WidgetPlacementConfig.navBarOverViewElementId!=null){
var _59=dojo.byId(WidgetPlacementConfig.navBarOverViewElementId);
if(_59!=null){
dojo.addClass(_59,"lotusSelected");
}
}
};
window.isOverviewLinkSelected=function(){
var _5a=false;
if(WidgetPlacementConfig.navBarOverViewElementId!=null){
var _5b=dojo.byId(WidgetPlacementConfig.navBarOverViewElementId);
if(_5b!=null){
_5a=dojo.hasClass(_5b,"lotusSelected");
}
}
return _5a;
};
window.activateTabbedWidget=function(_5c,_5d,_5e,_5f,_60,_61,_62){
var _63=_5c.getAttribute("defId");
var _64=_5d.getAttribute("instanceId");
_64=(_64==null?_63:_64);
if(_61){
destroyWidgetContainer(WidgetPlacementConfig.TempWidgetContainerDomId,false);
}
lconn.core.WidgetPlacement.destroyWidget(_64,null,false,true);
lconn.core.WidgetPlacement.getWidgetDocAndRenderWidget(_63,_5c,_64,WidgetPlacementConfig.TempWidgetContainerDomId,_5e,"skinless",false,false,_62);
if(_5f!=null){
lconn.core.utilities.hide(_5f,false,true);
}
if(typeof _62=="undefined"||_62==null){
_62=[];
}
if(dojo.isObject(_62)&&!dojo.isArray(_62)){
_62=[_62];
}
var _65="tab";
dojo.forEach(_62,function(_66){
try{
if(_66&&_66["role"]){
_65=_66["role"];
}
}
catch(ee){
}
});
var _67=document.getElementById(_60).getElementsByTagName("li");
for(var i=0;_67!=null&&i<_67.length;i++){
if(_67[i].className!=""){
dojo.removeClass(_67[i],"lotusSelected");
}
dijit.setWaiState(_67[i],"selected","false");
dojo.removeClass(_67[i],"dijitTabContainerBottom-container");
dojo.attr(_67[i],{tabindex:"-1","role":_65});
var _68=_67[i].id.substring(0,_67[i].id.indexOf("_TabItem"));
var _69=dojo.byId(_68+"_menuiconHolder");
var _6a=dojo.byId(_68+"_selectedLinkHolder");
var _6b=dojo.byId(_68+"_menuicon");
if(_69!=null){
dojo.style(_69,"width","7000px");
dojo.style(_69,"display","block");
}
if(_6a!=null){
dojo.style(_6a,"width","1px");
dojo.style(_6a,"visibility","hidden");
dojo.style(_6a,"overflow","hidden");
}
if(_6b!=null){
dojo.attr(_6b,"tabIndex","-1");
}
dojo.query("a",_67[i]).forEach(function(_6c){
dojo.attr(_6c,"tabIndex","-1");
});
var _6d=dojo.byId(_68+"_multiWidget");
var _6e=dojo.byId(_68+"_linkHolder");
if(_6e!=null){
_6e.insertBefore(_6d,_6e.firstChild);
}
}
var _6f=dojo.byId(_64+"_TabItem");
if(_6f!=null){
dojo.addClass(_6f,"lotusSelected");
dijit.setWaiState(_6f,"selected","true");
dojo.attr(_6f,{tabindex:"0"});
dojo.addClass(_6f,"dijitTabContainerBottom-container");
}
var _69=dojo.byId(_64+"_menuiconHolder");
var _6a=dojo.byId(_64+"_selectedLinkHolder");
var _6b=dojo.byId(_64+"_menuicon");
if(_69!=null){
dojo.style(_69,"width","");
dojo.style(_69,"display","");
}
if(_6a!=null){
dojo.style(_6a,"width","");
dojo.style(_6a,"visibility","");
dojo.style(_6a,"overflow","");
}
if(_6b!=null){
dojo.removeAttr(_6b,"tabIndex");
}
var _6d=dojo.byId(_64+"_multiWidget");
var _6e=dojo.byId(_64+"_selectedLinkHolder");
if(_6e!=null){
_6e.insertBefore(_6d,_6e.firstChild);
}
};
})();
dojo.provide("lconn.core.WidgetPlacement.aria.TabPanel");


dojo.declare("lconn.core.WidgetPlacement.aria.TabPanel",lconn.core.aria.TabPanel,{selectedClassname:"lotusSelected",connectToFirstLink:false,selIdx:0,_prevIdx:0,constructor:function(){
this.inherited(arguments);
var ai=this.allItems;
si=this.selIdx;
dojo.forEach(ai,dojo.hitch(this,function(_70,idx){
dojo.style(_70,{cursor:"pointer"});
this._connects.push(dojo.connect(_70,"onclick",dojo.hitch(this,function(_71){
this.selIdx=idx;
this._setItemVisuals();
})));
if(this.connectToFirstLink){
try{
dojo.attr(dojo.query("a",_70)[0],"tabindex","-1");
}
catch(ee){
}
this._connects.push(dojo.connect(_70,"onclick",dojo.hitch(this,function(_72){
try{
var _73=dojo.query("a",_70)[0];
if(document.createEvent){
var evt=document.createEvent("HTMLEvents");
evt.initEvent("click",false,true);
_73.dispatchEvent(evt);
}else{
_73.fireEvent("onclick");
}
}
catch(e){
}
})));
}
}));
this._selectItem(this.selIdx,true);
this._activate(ai[this.selIdx]);
},_activate:function(_74,_75){
if(_75||!this.connectToFirstLink){
return this.inherited(arguments);
}else{
return this._activate((dojo.query("a",_74)[0]),true);
}
},_setItemVisuals:function(){
var ai=this.allItems;
var si=this._prevIdx;
if(this.selIdx!=this._prevIdx){
dijit.setWaiState(ai[this._prevIdx],"selected","false");
dojo.removeClass(ai[this._prevIdx],this.selectedClassname);
dojo.attr(ai[this._prevIdx],"tabindex","-1");
}
dijit.setWaiState(ai[this.selIdx],"selected","true");
dojo.addClass(ai[this.selIdx],this.selectedClassname);
dojo.attr(ai[this.selIdx],"tabindex","0");
this._prevIdx=this.selIdx;
},_selectItem:function(si,_76){
if(typeof _76=="undefined"){
_76=false;
}
this._prevIdx=si;
this._setItemVisuals();
this.inherited(arguments);
if(!_76){
this.allItems[this.selIdx].focus();
}
}});
dojo.provide("lconn.core.WidgetPlacement.aria.Toolbar");


dojo.declare("lconn.core.WidgetPlacement.aria.Toolbar",lconn.core.aria.Toolbar,{selectedClassname:"lotusSelected",connectToFirstLink:true,selIdx:0,_oldIdx:0,changeSelectOnClick:true,setItemIdx:function(_77,idx){
if(dojo.attr(_77,"role")=="button"){
dojo.attr(_77,"itemidx_",idx);
}else{
if(_77.parentNode){
return this.setItemIdx(_77.parentNode,idx);
}
}
},getItemIdx:function(_78){
ret=this.selIdx;
if(dojo.attr(_78,"itemidx_")!=null){
ret=dojo.attr(_78,"itemidx_");
}else{
if(_78.parentNode){
return this.getItemIdx(_78.parentNode);
}
}
return ret;
},constructor:function(){
if(typeof (window.lconncoreWidgetPlacementariaToolbar)!="undefined"){
window.lconncoreWidgetPlacementariaToolbar.destroy();
}
window.lconncoreWidgetPlacementariaToolbar=this;
this.inherited(arguments);
if(this.connectToFirstLink){
var ai=this.allItems;
si=this.selIdx;
dojo.forEach(ai,dojo.hitch(this,function(_79,idx){
this.setItemIdx(_79,idx);
if(dojo.hasClass(_79,this.selectedClassname)){
this.selIdx=idx;
}
this._pressItem(idx,false);
var _7a=dojo.query("a",_79)[0];
dojo.attr(_7a,"tabindex","-1");
dojo.removeAttr(_7a,"aria-pressed");
dojo.removeClass(_7a,this.selectedClassname);
if(this.changeSelectOnClick){
this._connects.push(dojo.connect(_7a,"onclick",dojo.hitch(this,function(_7b){
var _7c=this.getItemIdx(_7a);
this._pressItem(this._oldIdx,false);
this._pressItem(_7c,true);
this._oldIdx=_7c;
})));
}
this._connects.push(dojo.connect(_79,"onkeypress",function(_7d){
var _7e=null;
if(!_7d){
_7d=window.event;
}
if(_7d){
_7e=_7d.keyCode||_7d.charCode;
}
if(_7e===dojo.keys.SPACE||_7e===dojo.keys.ENTER){
try{
var _7f=dojo.query("a",_79)[0];
dojo.query("a",_79)[0].click();
dojo.stopEvent(_7d);
}
catch(ee){
}
}
}));
}));
this._pressItem(this.selIdx,true);
this._oldIdx=this.selIdx;
}
},_kickIn:function(_80,i){
this.inherited(arguments);
if(this.connectToFirstLink){
dojo.attr(_80,"tabindex","0");
}
},_nodeIsHidden:function(_81){
var _82=false;
try{
while(_81){
if(dojo.style(_81,"display")=="none"){
_82=true;
break;
}
_81=_81.parentNode;
}
}
catch(ee){
}
return _82;
},_pressItem:function(idx,yn){
if(idx>=0){
var el=this.allItems[idx];
if(el){
if(yn){
dojo.addClass(el,this.selectedClassname);
dojo.attr(el,{"aria-pressed":"true","tabindex":"0"});
var _83=dojo.byId("lotusTitleBar");
if(_83&&!this._nodeIsHidden(el)){
_83.focus();
}
window.setTitle(el);
}else{
dojo.removeClass(el,this.selectedClassname);
dojo.attr(el,{"aria-pressed":"false","tabindex":"-1"});
}
}
}
}});
function getUserProfileOverrideProperty(_84){
if(WidgetPlacementConfig.userLoggedIn==false||WidgetPlacementConfig.userLoggedIn==null){
return null;
}else{
var _85=null;
if(window.widgetUserInfo!=null){
var _86=widgetUserInfo[_84];
if(_86==undefined||_86=="undefined"||_86==null){
_85=null;
}else{
_85=_86;
}
}else{
if(WidgetPlacementConfig.userInfoXML==null){
var _87=function(res,_88){
WidgetPlacementConfig.userInfoXML=res;
var _89=res.documentElement.getAttribute(_84);
if(_89==undefined||_89=="undefined"||_89==null){
_85=null;
}else{
_85=_89;
}
};
var _8a={url:WidgetPlacementConfig.userInfoUrl,handleAs:"xml",load:_87,sync:true,error:lconn.core.errorhandling.DefaultXHRErrorHandler};
dojo.xhrGet(_8a);
}else{
_85=WidgetPlacementConfig.userInfoXML.documentElement.getAttribute(_84);
}
}
return _85;
}
};
var handleModeExit=function(_8b){
WidgetPlacementConfig.handleModeExitExe=true;
if(WidgetPlacementConfig.cancelCallBack!=null&&_8b!=true){
WidgetPlacementConfig.cancelCallBack();
}
if(WidgetPlacementConfig.hideElements!=null){
for(var i=0;WidgetPlacementConfig.hideElements!=null&&i<WidgetPlacementConfig.hideElements.length;i++){
lconn.core.utilities.show(WidgetPlacementConfig.hideElements[i],false,false,true);
}
}
if(WidgetPlacementConfig.TabContainerDomId!=null){
var _8c=document.getElementById(WidgetPlacementConfig.TabContainerDomId);
var _8d=_8c.childNodes;
var _8e=new Array;
for(var i=0;_8d.length!=null&&i<_8d.length;i++){
var _8f=_8d[i];
var _90=_8f.id;
if(typeof _90!="undefined"&&_90!=null&&_90.indexOf("_TabItem")!=-1&&!dojo.hasClass(_8f,"noRemove")){
_8e.push(_90);
}
}
for(var i=0;_8e.length!=null&&i<_8e.length;i++){
var _90=_8e[i];
var _8f=dojo.byId(_90);
_8f.parentNode.removeChild(_8f);
}
}
if(WidgetPlacementConfig.TempWidgetContainerDomId!=null){
destroyWidgetContainer(WidgetPlacementConfig.TempWidgetContainerDomId);
}
for(var i=0;lconn.core.WidgetPlacement.loadOrder!=null&&i<lconn.core.WidgetPlacement.loadOrder.length;i++){
var _91=lconn.core.WidgetPlacement.loadOrder[i];
if(_91!=null&&document.getElementById(_91)){
lconn.core.WidgetPlacement.refresh(_91.instanceId);
}
}
for(uiLocation in lconn.core.WidgetPlacement.uiLocations){
lconn.core.utilities.show("widget-container-"+uiLocation,false,false,true);
}
WidgetPlacementConfig.handleModeExitExe=null;
WidgetPlacementConfig.firstWidget=null;
WidgetPlacementConfig.isFullPageWidgetRendering=null;
WidgetPlacementConfig.TempWidgetContainerDomId=null;
WidgetPlacementConfig.TabContainerDomId=null;
WidgetPlacementConfig.isTabbedFullPageWidgetRendering=null;
highlightOverviewLink();
};
}


;if(!dojo._hasResource["lconn.core.widgetUtils"]){
dojo._hasResource["lconn.core.widgetUtils"]=true;
dojo.provide("lconn.core.widgetUtils");










lconn.core.widgetUtils.handleRefresh=function(_1,_2){
var _3=_2.widgetId,_4=dojo.getObject("refreshInfoHolder");
if(_4&&_4[_3]){
_1=lconn.core.url.rewrite(_1,{preventCache:new Date().getTime()});
}
return _1;
};
lconn.core.widgetUtils.addVersionNumber=function(_5){
var _6=lconn.core.config.versionStamp;
if(_6){
_5=lconn.core.url.rewrite(_5,{etag:_6});
}
return _5;
};
lconn.core.widgetUtils.search=function(_7,_8,_9,_a){
try{
var _b=_7.getiWidgetAttributes();
var _c=_7.widgetId+"_TabItem";
var _d=dojo.byId(_c);
var _e=_b.getItemValue("searchKeywords");
var _f=_b.getItemValue("tagCloudItemValue");
var _10=_b.getItemValue("resourceId");
var _11=_7.getUserProfile().getItemValue("userid");
var _12=dojo.byId("search_searchResults_filterInfo");
lconn.core.widgetUtils.searchC(_8,_9,_e,_f,_10,_11,dojo.hitch(_7.io,_7.io.rewriteURI),_a,_12,_d);
}
catch(exception){
console.log("exception occurred during lconn.core.widgetUtils.search()");
console.log(exception);
lconn.core.errorhandling.DefaultErrorHandler("lconn.core.widgetUtils.search",exception,{htmlContainerElemId:_9});
}
};
lconn.core.widgetUtils.searchC=function(_13,_14,_15,_16,_17,_18,_19,_1a,_1b,_1c){
var _1d=dijit.byId("search_searchResults_filterInfo");
if(_1d!=null){
var _1e=dojo.byId("search_searchResults_filterInfo");
var _1f=_1e.parentNode;
dijit.byId("search_searchResults_filterInfo").destroy();
var _20=dojo.create("span",{id:"search_searchResults_filterInfo"});
_1f.appendChild(_20);
_1b=dojo.byId("search_searchResults_filterInfo");
}
var _21=!_18;
var _22=WidgetPlacementConfig.params.searchSvcRef;
if(window.debugWidgets){
console.log("lconn.core.widgetUtils.search: searchSvcRef: "+_22);
}
if(_22){
var url=_19(_22);
if(window.debugWidgets){
console.log("lconn.core.widgetUtils.search: url: "+url);
}
var _23={};
if(_15){
_23.query=_15;
}else{
if(_16){
var _24=_16.replace("/","\\/");
var _25={type:"category",values:["Tag/"+_24]};
var _26=dojo.toJson(_25);
_23.constraint=[_26];
}
}
_23.scope=_13?_13:"communities";
if(_1a){
var _27={type:"field",id:"FIELD_LIBRARY_DBINTERNAL_UID",values:[_1a]};
var _28=dojo.toJson(_27);
if(_23.constraint){
_23.constraint.push(_28);
}else{
_23.constraint=[_28];
}
}
if(_17){
var _29={type:"community",id:_17};
_23.social=dojo.toJson(_29);
}
var _2a=lconn.core.url.writeParameters(_23);
if(window.debugWidgets){
console.log("lconn.core.widgetUtils.search: searchString: "+_2a);
console.log("lconn.core.widgetUtils.search: isPublic: "+_21);
console.log("lconn.core.widgetUtils.search: resultContainerDomNode: "+_14);
}
var _2b=(!_13||_13==="communities:content");
dojo["require"]("lconn.search.searchResults");
window.searchObject=new lconn.search.searchResults({contextRoot:url,isPublic:_21,queryString:_2a,resultsDomNode:dojo.byId(_14),filterAreaDomNode:_1b,showFilters:false,showHeading:_2b});
var _2c={focusNode:_1c};
if(_1c!=null&&_1c!="undefined"){
searchObject.update(_2c);
}else{
searchObject.update();
}
}
};
}

dojo.provide("com.ibm.social.personcard.widget.nls.strings")._built=true;
dojo.provide("com.ibm.social.personcard.widget.nls.strings.en");
com.ibm.social.personcard.widget.nls.strings.en={"EXCEEDED_ONE_TAG":"Plus 1 more tag...","EXCEEDED_TAGS":"Plus ${count} more tags...","TAGS_L":"Tags:","TAGS":"TAGS"};
if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.social.personcard"]=true;

;if(!dojo._hasResource["com.ibm.social.personcard.widget.Localization"]){
dojo._hasResource["com.ibm.social.personcard.widget.Localization"]=true;
dojo.provide("com.ibm.social.personcard.widget.Localization");


dojo.requireLocalization("com.ibm.social.personcard.widget","strings");
dojo.declare("com.ibm.social.personcard.widget.Localization",null,{commonStrings:null,postMixInProperties:function(){
this.commonStrings=dojo.i18n.getLocalization("com.ibm.social.personcard.widget","strings");
dojo.mixin(this,this.commonStrings);
this.inherited(arguments);
},getString:function(_1,_2){
return dojo.string.substitute(this.commonStrings[_1],_2);
}});
}


;dojo.cache("com.ibm.social.personcard", "widget/templates/PersonWidget.html", "<div class=\"lconn_personContainer\"> <div class=\"lconn_profileImage\"> <img dojoattachpoint=\"photoNode\" alt=\"\" role=\"presentation\" src=\"${photoUrl}\" style=\"max-width: 60px; max-height: 60px;\"> </div> <div class=\"lconn_profileInfo\"> <div class=\"vcard\"> <a dojoattachpoint=\"linkNode\" href=\"${baseUrl}/html/profileView.do?userid=${userId}\" class=\"fn url lotusPerson bidiAware\" title=\"${displayNameEscaped}\">${displayNameString}</a> <span style=\"display: none;\" class=\"email\">${_escapedMail}</span> <span style=\"display: none;\" class=\"x-lconn-userid\">${userId}</span> </div> <div> <span dojoAttachPoint=\"addressNode\">${address}</span> </div> <div dojoAttachPoint=\"tagsContainer\" class=\"lotusHidden\"> <span class=\"lconn_highlightedTagsTitle\">${TAGS_L}</span> <div dojoAttachPoint=\"highlightedTags\" class=\"lconn_highlightedTags\">${tagString}</div> </div> </div></div>");

;if(!dojo._hasResource["com.ibm.social.personcard.widget.PersonWidget"]){
dojo._hasResource["com.ibm.social.personcard.widget.PersonWidget"]=true;
dojo.provide("com.ibm.social.personcard.widget.PersonWidget");










dojo.declare("com.ibm.social.personcard.widget.PersonWidget",[dijit._Widget,dijit._Templated,com.ibm.social.personcard.widget.Localization],{templatePath:dojo.moduleUrl("com.ibm.social.personcard","widget/templates/PersonWidget.html"),mediumTemplatePath:dojo.moduleUrl("com.ibm.social.personcard","widget/templates/PersonWidget_medium.html"),highTemplatePath:dojo.moduleUrl("com.ibm.social.personcard","widget/templates/PersonWidget_high.html"),compactTemplatePath:dojo.moduleUrl("com.ibm.social.personcard","widget/templates/PersonWidget_compact.html"),mediumCompactTemplatePath:dojo.moduleUrl("com.ibm.social.personcard","widget/templates/PersonWidget_medium_compact.html"),highCompactTemplatePath:dojo.moduleUrl("com.ibm.social.personcard","widget/templates/PersonWidget_high_compact.html"),HIGH_CONFIDENCE:"high",MEDIUM_CONFIDENCE:"medium",LOW_CONFIDENCE:"low",baseUrl:"",photoUrl:"",userId:"",displayNameString:"",displayNameEscaped:"",preferredName:"",givenNames:null,jobResponsibility:"",mail:"",_escapedMail:"",address:"",phone:"",tags:null,tagString:"",_exceededTagsCount:-1,exceedingTagString:"",maxTags:20,compact:false,maxTagsInCompact:3,confidence:"",constructor:function(_1){
this._setValues(_1);
this._chooseTemplate();
},postCreate:function(){
this.connect(this.linkNode,"onfocus","_nameFocused");
if(!this.compact){
if(this.confidence==this.LOW_CONFIDENCE||this.confidence==this.MEDIUM_CONFIDENCE){
if(this.mail.match(/(<b>|<\/b>)/ig)||this.phone.match(/(<b>|<\/b>)/ig)){
dojo.removeClass(this.additionalInfo,"lotusHidden");
}
if(this.tags){
dojo.removeClass(this.tagsContainer,"lotusHidden");
}
}
}
if(this.tagsContainer){
var _2=[];
if(dojo.isIE<=8){
_2=this.tagsContainer.querySelectorAll(".tag");
}else{
_2=this.tagsContainer.getElementsByClassName("tag");
}
for(var i=0;i<_2.length;i++){
this.connect(_2[i],"onclick","_tagClicked");
}
}
if(this._exceededTagsCount>0&&this.exceededMessage){
this.exceededMessage.innerHTML=this._exceededTagsCount>1?this.getString("EXCEEDED_TAGS",{count:this._exceededTagsCount}):this.getString("EXCEEDED_ONE_TAG");
dojo.removeClass(this.exceededMessage,"lotusHidden");
dojo.addClass(this.exceededMessage,"exceededMessage");
}
this.inherited(arguments);
},_setValues:function(_3){
if(_3.maxTags){
this.maxTags=_3.maxTags;
}
if(_3.maxTagsInCompact){
this.maxTagsInCompact=_3.maxTagsInCompact;
}
this.compact=_3.compact?true:false;
this.userId=_3.userId?_3.userId:"NULL";
this.preferredName=_3.preferredName?_3.preferredName:"";
this.givenNames=_3.givenNames?_3.givenNames:null;
this.displayNameString=_3.displayName?_3.displayName:"";
if(!this.preferredName&&this.givenNames){
for(var i=0;i<this.givenNames.length&&!this.preferredName;i++){
var gn=this.givenNames[i].match(/<b>\w*<\/b>/i);
if(!gn){
continue;
}
var _4=new RegExp(gn[0],"i");
if(!this.displayNameString.match(_4)){
this.preferredName=this.givenNames[i];
}
}
}
if(this.preferredName){
this.displayNameString+=" ("+this.preferredName+")\u200e";
}
this.displayNameEscaped=this.displayNameString.replace(/(<b>|<\/b>)/ig,"");
this.jobResponsibility=_3.jobResponsibility?_3.jobResponsibility:"";
this.mail=_3.mail?_3.mail:"";
this._escapedMail=this.mail.replace(/(<b>|<\/b>)/ig,"");
this.address=_3.address?_3.address:"";
this.phone=_3.phone?_3.phone:"";
this.tags=_3.tags?_3.tags:null;
this.confidence=_3.confidence;
if(!this.compact&&_3.tags){
var t=_3.tags;
var _5=t.slice(0,this.maxTags);
var _6=t.slice(this.maxTags);
this._exceededTagsCount=_6.length;
this.tagString="<a href='javascript:;' class='tag'>"+_5.join("</a>, <a href='javascript:;' class='tag'>")+"</a>";
if(this._exceededTagsCount>0){
this.exceedingTagString="<a href='javascript:;' class='tag'>"+_6.join("</a>, <a href='javascript:;' class='tag'>")+"</a>";
}
}else{
if(_3.tags){
var t=_3.tags;
var _5=t.slice(0,this.maxTagsInCompact);
this.tagString="<span class='tag'>"+_5.join("</span>, <span class='tag'>")+"</span>"+(_3.tags.length>this.maxTagsInCompact?"...":"");
}
}
},_chooseTemplate:function(){
this.baseUrl=lconn.core.url.getServiceUrl(lconn.core.config.services.profiles);
this.photoUrl=lconn.core.widgetUtils.addVersionNumber(this.baseUrl+"/photo.do?r=true&small=true&userid="+this.userId);
if(this.compact){
this.templatePath=this.compactTemplatePath;
if(((this.mail&&(this.confidence==this.MEDIUM_CONFIDENCE||this.confidence==this.HIGH_CONFIDENCE))||this.phone)&&!this.tags){
this.templatePath=this.mediumCompactTemplatePath;
}
if(this.tags){
this.templatePath=this.highCompactTemplatePath;
}
}else{
if(this.confidence==this.MEDIUM_CONFIDENCE){
this.templatePath=this.mediumTemplatePath;
this.photoUrl=lconn.core.url.rewrite(this.photoUrl,{small:false});
}else{
if(this.confidence==this.HIGH_CONFIDENCE){
this.templatePath=this.highTemplatePath;
this.photoUrl=lconn.core.url.rewrite(this.photoUrl,{small:false});
}
}
}
},showExceedingTags:function(_7){
if(_7){
dojo.stopEvent(_7);
}
dojo.addClass(this.exceededMessage,"lotusHidden");
dojo.removeClass(this.exceededMessage,"exceededMessage");
dojo.removeClass(this.exceededTags,"lotusHidden");
},_tagClicked:function(_8){
if(_8){
dojo.stopEvent(_8);
}
var _9=_8.target;
if(!dojo.hasClass(_9,"tag")){
_9=_9.parentElement;
}
this.onTagClicked(_9.innerHTML.replace(/(<b>|<\/b>)/ig,""));
},_nameFocused:function(_a){
if(_a){
dojo.stopEvent(_a);
}
this.onNameFocused(this.domNode);
},_mailClicked:function(_b){
if(_b){
if(dojo.isIE<=8){
_b.cancelBubble();
}else{
_b.stopPropagation();
}
}
},personClick:function(){
if(this.compact){
this.hiddenLinkNode.click();
}else{
this.linkNode.click();
}
},onTagClicked:function(_c){
},onNameFocused:function(_d){
}});
}

dojo.provide("lconn.core.nls.ResultDropDown")._built=true;
dojo.provide("lconn.core.nls.ResultDropDown.en");
lconn.core.nls.ResultDropDown.en={"SEARCH_SCOPE_ARIA_LABEL":"Selecting this option it will bring you to the actual scope page","SEARCH_SCOPE_STRING":"Search for \x3cb\x3e${query}\x3c/b\x3e in ${scope}...","DIRECTORY_RESULTS":"DIRECTORY RESULTS","MORE_DIRECTORY_RESULTS":"More Directory Results...","MORE_DIRECTORY_ARIA_LABEL":"Selecting this option it will bring you to the Profile Directory page","ENTRY_ARIA_LABEL":"Selecting this option it will bring you to the person Profile page"};

;if(!dojo._hasResource["lconn.core.peopleFinder.ResultDropDown"]){
dojo._hasResource["lconn.core.peopleFinder.ResultDropDown"]=true;
dojo.provide("lconn.core.peopleFinder.ResultDropDown");










dojo.requireLocalization("lconn.core","ResultDropDown");
dojo.declare("lconn.core.peopleFinder.ResultDropDown",[dijit.TooltipDialog],{autofocus:false,width:300,closeOnLinkClick:true,normalScopeNode:null,normalScopeTextNode:null,directoryNode:null,resultContainer:null,directoryLinkNode:null,createdWidgets:null,selectionArray:null,selectedElement:null,strings:null,currentQuery:"",_doNotDisplay:false,postMixInProperties:function(){
this.strings=dojo.i18n.getLocalization("lconn.core","ResultDropDown");
dojo.mixin(this,this.strings);
this.inherited(arguments);
},buildRendering:function(){
this.createdWidgets=[];
this.selectionArray=[];
var _1=document.createElement("div");
_1.style.width=this.width+"px";
_1.style.border="0px";
dojo.addClass(_1,"lconnSearchResults");
this.normalScopeNode=document.createElement("div");
this.normalScopeNode.setAttribute("role","option");
this.normalScopeNode.setAttribute("aria-describedby",this.id+"_normalScopeAria");
dojo.addClass(this.normalScopeNode,"pfNormalScope");
this.connect(this.normalScopeNode,"onclick","searchOnScope");
this.connect(this.normalScopeNode,"onmouseover",dojo.hitch(this,"onMouseOver",this.normalScopeNode));
var _2=document.createElement("div");
_2.className="lotusSearch pfSearchIcon";
var _3=document.createElement("span");
_3.className="lotusBtnImg";
var _4=document.createElement("input");
_4.type="image";
_4.className="lotusSearchButton";
_4.src=lconn.core.widgetUtils.addVersionNumber(djConfig.blankGif);
_4.alt="";
_4.setAttribute("role","presentation");
_3.appendChild(_4);
_2.appendChild(_3);
this.normalScopeNode.appendChild(_2);
this.normalScopeTextNode=document.createElement("div");
dojo.addClass(this.normalScopeTextNode,"pfTextMessage");
this.normalScopeNode.appendChild(this.normalScopeTextNode);
this.directoryNode=document.createElement("div");
dojo.addClass(this.directoryNode,"pfDirectoryResults");
dojo.addClass(this.directoryNode,"lconnSearchHighlight");
this.directoryNode.style.display="none";
var _5=document.createElement("div");
dojo.addClass(_5,"pfTitle");
_5.innerHTML=this.DIRECTORY_RESULTS;
this.directoryNode.appendChild(_5);
this.resultContainer=document.createElement("div");
this.directoryNode.appendChild(this.resultContainer);
this.directoryLinkNode=document.createElement("div");
this.directoryLinkNode.setAttribute("role","option");
this.directoryLinkNode.setAttribute("aria-describedby",this.id+"_moreDirectoryAria");
dojo.addClass(this.directoryLinkNode,"pfDirectoryLink");
var _6=document.createElement("span");
dojo.addClass(_6,"pfLinkNode");
_6.innerHTML=this.MORE_DIRECTORY_RESULTS;
this.directoryLinkNode.appendChild(_6);
this.connect(this.directoryLinkNode,"onclick","redirectToDirectory");
this.connect(this.directoryLinkNode,"onmouseover",dojo.hitch(this,"onMouseOver",this.directoryLinkNode));
this.directoryNode.appendChild(this.directoryLinkNode);
var _7=document.createElement("div");
dojo.addClass(_7,"lotusHidden");
_7.innerHTML=this.SEARCH_SCOPE_ARIA_LABEL;
_7.id=this.id+"_normalScopeAria";
var _8=document.createElement("div");
dojo.addClass(_8,"lotusHidden");
_8.innerHTML=this.ENTRY_ARIA_LABEL;
_8.id=this.id+"_entryAria";
var _9=document.createElement("div");
dojo.addClass(_9,"lotusHidden");
_9.innerHTML=this.MORE_DIRECTORY_ARIA_LABEL;
_9.id=this.id+"_moreDirectoryAria";
_1.appendChild(this.normalScopeNode);
_1.appendChild(this.directoryNode);
_1.appendChild(_7);
_1.appendChild(_8);
_1.appendChild(_9);
this.content=_1;
this.inherited(arguments);
},startup:function(){
this.containerNode.style.padding="0px";
this.containerNode.setAttribute("role","listbox");
this.containerNode.setAttribute("wairole","listbox");
this.containerNode.setAttribute("aria-live","polite");
},destroy:function(){
dijit.popup.close(this);
this._cleanAll();
this.inherited(arguments);
},showResults:function(_a,_b){
if(this._doNotDisplay){
return;
}
dijit.popup.open({parent:_a,popup:this,around:_b,orient:dojo.isBodyLtr()?{"BR":"TR"}:{"BL":"TL"},onClose:dojo.hitch(this,"_removeScrollbarFix")});
this._addScrollbarFix();
},closeResults:function(){
dijit.popup.close(this);
},_addScrollbarFix:function(){
if(this.domNode.parentElement){
dojo.addClass(this.domNode.parentElement,"pfScrollbarFix");
}
},_removeScrollbarFix:function(){
if(this.domNode.parentElement){
dojo.removeClass(this.domNode.parentElement,"pfScrollbarFix");
}
},_cleanAll:function(){
this.resultContainer.innerHTML="";
if(this.createdWidgets){
for(var i=this.createdWidgets.length-1;i>=0;i--){
this.createdWidgets[i].destroyRecursive();
}
}
this.createdWidgets=[];
this.selectionArray=[];
this.directoryNode.style.display="none";
},setResults:function(_c){
this._cleanAll();
if(!_c){
this.closeResults();
return;
}
var _d=[];
var _e=[];
var _f=[];
this.firstHiddenElement=null;
for(var i=0;i<_c.length;i++){
if(_c[i].confidence=="high"){
_d.push(_c[i]);
}else{
if(_c[i].confidence=="medium"){
_e.push(_c[i]);
}else{
_f.push(_c[i]);
}
}
}
this.selectionArray.push(this.normalScopeNode);
this._insertElements(_d);
this._insertElements(_e);
this._insertElements(_f);
if(_c.length>0){
this.selectionArray.push(this.directoryLinkNode);
this.directoryNode.style.display="";
}
this._prepareSelectionArray();
this._selectElement(this.selectionArray[0]);
},_insertElements:function(_10){
for(var i=0;i<_10.length;i++){
var _11=new com.ibm.social.personcard.widget.PersonWidget({userId:(_10[i].id?_10[i].id:""),displayName:(_10[i].name?_10[i].name:""),preferredName:(_10[i].preferredFirstName?_10[i].preferredFirstName:""),givenNames:(_10[i].givenNames?_10[i].givenNames:null),jobResponsibility:(_10[i].jobResponsibility?_10[i].jobResponsibility:""),mail:(_10[i].email?_10[i].email:""),address:(_10[i].city?_10[i].city:"")+(_10[i].city&&_10[i].country?", ":"")+(_10[i].country?_10[i].country:""),phone:(_10[i].workPhone?_10[i].workPhone:""),tags:(_10[i].confidence&&_10[i].confidence=="high"?_10[i].tag:null),compact:true,confidence:_10[i].confidence});
_11.startup();
this.createdWidgets.push(_11);
_11.domNode.setAttribute("role","option");
_11.domNode.setAttribute("aria-describedby",this.id+"_entryAria");
dojo.addClass(_11.domNode,"pfEntry");
_11.connect(_11.domNode,"onclick",dojo.hitch(_11,"personClick"));
this.connect(_11.domNode,"onmouseover",dojo.hitch(this,"onMouseOver",_11.domNode));
this.selectionArray.push(_11.domNode);
this.resultContainer.appendChild(_11.domNode);
}
},_prepareSelectionArray:function(){
for(var i=0;i<this.selectionArray.length;i++){
var _12=this.selectionArray[i];
_12.setAttribute("aria-posinset",i+1);
_12.setAttribute("aria-setsize",this.selectionArray.length);
if(!_12.id){
_12.setAttribute("id",this.id+"_option_"+i);
}
}
},selectNextElement:function(){
if(!this.selectedElement){
return;
}
var _13=this.selectionArray.indexOf(this.selectedElement);
var _14=(this.selectionArray.length-1>_13&&_13>=0)?_13+1:0;
this._selectElement(this.selectionArray[_14]);
},selectPreviousElement:function(){
if(!this.selectedElement){
return;
}
var _15=this.selectionArray.indexOf(this.selectedElement);
var _16=(this.selectionArray.length-1>=_15&&_15>0)?_15-1:this.selectionArray.length-1;
this._selectElement(this.selectionArray[_16]);
},executeSelectedAction:function(){
if(!this.selectedElement){
this.normalScopeNode.click();
}else{
this.selectedElement.click();
}
this._doNotDisplay=true;
this.closeResults();
setTimeout(dojo.hitch(this,function(){
this._doNotDisplay=false;
}),500);
},_selectElement:function(_17){
if(this.selectedElement){
dojo.removeClass(this.selectedElement,"pfSelected");
dijit.setWaiState(this.selectedElement,"selected","false");
}
this.selectedElement=_17;
dojo.addClass(this.selectedElement,"pfSelected");
dijit.setWaiState(this.selectedElement,"selected","true");
setTimeout(dojo.hitch(this,"onActiveDescendantChanged",_17.id),1);
},onMouseOver:function(_18,evt){
dojo.stopEvent(evt);
this._selectElement(_18);
},setQueryString:function(_19,_1a){
this.currentQuery=_19;
this.normalScopeTextNode.innerHTML=this.getString("SEARCH_SCOPE_STRING",{"query":_19,"scope":_1a});
},searchOnScope:function(){
},onActiveDescendantChanged:function(id){
},redirectToDirectory:function(){
var url=lconn.core.url.getServiceUrl(lconn.core.config.services.profiles);
url+="/html/searchProfiles.do#q="+encodeURIComponent(this.currentQuery);
window.location=url;
},getString:function(_1b,_1c){
return dojo.string.substitute(this.strings[_1b],_1c);
}});
}


;if(!dojo._hasResource["lconn.core.peopleFinder.DataReader"]){
dojo._hasResource["lconn.core.peopleFinder.DataReader"]=true;
dojo.provide("lconn.core.peopleFinder.DataReader");




dojo.declare("lconn.core.peopleFinder.DataReader",[dijit._Widget],{lastQuery:null,additionalFields:{low:["city","country"],high:["workPhone","tag"]},pageSize:4,basicAuthentication:"/basic",anonymousAuthentication:"/anonymous",path:"/people/typeahead",_xhr:null,startup:function(){
this.inherited(arguments);
var _1=lconn.core.url.getServiceUrl(lconn.core.config.services.search);
var _2=(lconn.core.auth.isAuthenticated()?this.basicAuthentication:this.anonymousAuthentication);
this.lastQuery={url:_1+_2+this.path,query:"",pageSize:this.pageSize,page:1,additionalFields:JSON.stringify(this.additionalFields)};
},executeQuery:function(_3,_4,_5){
if(_3){
this.lastQuery.query=_3;
}else{
if(!this.lastQuery.query){
return;
}
}
this.abortLastRequest();
var _6={url:this._constructLastQueryString(),content:"",handleAs:"json",load:dojo.hitch(this,"_querySuccess",_4),error:dojo.hitch(this,"_queryError",_5)};
this._xhr=dojo.xhrGet(_6);
},getNextPage:function(_7,_8){
this.lastQuery.page++;
this.executeQuery(null,_7,_8);
},_constructLastQueryString:function(){
return lconn.core.url.rewrite(this.lastQuery.url,{query:this.lastQuery.query,pageSize:this.lastQuery.pageSize,page:(this.lastQuery.page>1?this.lastQuery.page:undefined),additionalFields:this.lastQuery.additionalFields,source:"ic_searchbox_dropdown"});
},_querySuccess:function(_9,_a,_b){
if(_b.xhr.status==200){
if(_9){
_9(_a.persons,_a.totalResults,this.pageSize);
}
}else{
this._queryError(null,{status:_b.xhr.status});
}
},_queryError:function(_c,_d){
if(_d.dojoType=="cancel"){
console.debug(_d);
return;
}
console.log(_d);
if(_c){
_c(_d);
}
},abortLastRequest:function(){
if(this._xhr){
this._xhr.cancel();
}
}});
}

dojo.provide("lconn.core.nls.PeopleFinderSearchBox")._built=true;
dojo.provide("lconn.core.nls.PeopleFinderSearchBox.en");
lconn.core.nls.PeopleFinderSearchBox.en={"PF_ARIA_LABEL":"Start typing to get Directory suggestions"};

;if(!dojo._hasResource["lconn.core.peopleFinder.PeopleFinderSearchBox"]){
dojo._hasResource["lconn.core.peopleFinder.PeopleFinderSearchBox"]=true;
dojo.provide("lconn.core.peopleFinder.PeopleFinderSearchBox");












dojo.requireLocalization("lconn.core","PeopleFinderSearchBox");
dojo.declare("lconn.core.peopleFinder.PeopleFinderSearchBox",[],{PROFILE_ONLY_PROPERTY:"com.ibm.lconn.core.peopleFinder.profileOnly",TIMEOUT_PROPERTY:"com.ibm.lconn.core.peopleFinder.timeout",resultDropDown:null,dataReader:null,PFdropdownAnchor:null,PFtextField:null,PFscopeLabelNode:null,PFdisable:false,activeDescendantId:null,_queryTimeout:200,_mouseDown:false,_timeoutID:null,PFstrings:null,postMixInProperties:function(){
this.PFstrings=dojo.i18n.getLocalization("lconn.core","PeopleFinderSearchBox");
dojo.mixin(this,this.PFstrings);
this.inherited(arguments);
},postCreate:function(){
var _1=(lconn.core.config.properties[this.PROFILE_ONLY_PROPERTY]==="true"&&dojo.getObject("ibmConfig.serviceName")!=="profiles");
if(!lconn.core.config.services.profiles||_1||!this.PFtextField||this.PFdisable||(lconn.core.auth.getUser()&&lconn.core.auth.getUser().isExternal)){
return;
}
var _2=parseInt(lconn.core.config.properties[this.TIMEOUT_PROPERTY]);
if(_2){
this._queryTimeout=_2;
}
this.dataReader=new lconn.core.peopleFinder.DataReader();
this.dataReader.startup();
if(!this.PFtextField.id){
this.PFtextField.id=this.id+"_PFtextField";
}
this.resultDropDown=new lconn.core.peopleFinder.ResultDropDown();
this.resultDropDown.startup();
this.connect(this.resultDropDown,"onActiveDescendantChanged","_changeActiveDescendantId");
this.connect(this.resultDropDown,"searchOnScope","search");
this.connect(this.resultDropDown.domNode,"onmousedown","_PFonMouseDown");
this.resultDropDown.connect(this,"search","closeResults");
this.connect(this.PFtextField,"onkeypress","typeAheadCallback");
this.connect(this.PFtextField,"onblur","onFieldBlur");
this.connect(this.PFtextField,"onfocus","onFieldFocus");
this.PFtextField.parentElement.setAttribute("role","combobox");
this.PFtextField.parentElement.setAttribute("popupactive","true");
this.PFtextField.parentElement.setAttribute("aria-expanded","false");
this.PFtextField.setAttribute("role","textbox");
this.PFtextField.setAttribute("aria-invalid","false");
this.PFtextField.setAttribute("aria-label",this.PF_ARIA_LABEL);
this.PFtextField.autocomplete="off";
},destroy:function(){
if(this.dataReader){
this.dataReader.destroyRecursive();
}
if(this.resultDropDown){
this.resultDropDown.destroyRecursive();
}
this.inherited(arguments);
},typeAheadCallback:function(_3){
if(this.PFdisable||(!_3.keyChar&&(_3.which==27||_3.keyCode==27))){
this.resultDropDown.closeResults();
this.PFtextField.removeAttribute("aria-activedescendant");
this.PFtextField.parentElement.setAttribute("aria-expanded","false");
return;
}
if(!_3.keyChar&&(_3.which==13||_3.keyCode==13)){
dojo.stopEvent(_3);
this.resultDropDown.executeSelectedAction();
return;
}
if(!_3.keyChar&&(_3.which==38||_3.keyCode==38)){
dojo.stopEvent(_3);
this.resultDropDown.selectPreviousElement();
return;
}
if(!_3.keyChar&&(_3.which==40||_3.keyCode==40)){
dojo.stopEvent(_3);
this.resultDropDown.selectNextElement();
return;
}
clearTimeout(this._timeoutID);
this._timeoutID=setTimeout(dojo.hitch(this,function(){
var _4=this.PFtextField.value;
_4=dojo.string.trim(_4);
if(!_4||this.PFisPlaceholderActive()){
this.dataReader.lastQuery.query="";
this.resultDropDown.closeResults();
this.PFtextField.removeAttribute("aria-activedescendant");
this.PFtextField.parentElement.setAttribute("aria-expanded","false");
this.activeDescendantId=null;
return;
}
if(_4===this.dataReader.lastQuery.query){
return;
}
this.resultDropDown.setQueryString(_4,this.PFscopeLabelNode.innerHTML);
this.dataReader.executeQuery(_4,dojo.hitch(this,"showTypeaheadResults"),null);
}),this._queryTimeout);
},_setActiveDescendant:function(){
if(this.activeDescendantId){
this.PFtextField.setAttribute("aria-activedescendant",this.activeDescendantId);
}else{
this.PFtextField.setAttribute("aria-activedescendant",this.resultDropDown.id);
}
},_changeActiveDescendantId:function(id){
this.activeDescendantId=id;
this._setActiveDescendant();
},showTypeaheadResults:function(_5){
this.resultDropDown.setResults(_5);
this.resultDropDown.showResults(this,this.PFdropdownAnchor);
this.PFtextField.parentElement.setAttribute("aria-owns",this.resultDropDown.id);
this._setActiveDescendant();
this.PFtextField.parentElement.setAttribute("aria-expanded","true");
},onFieldBlur:function(_6){
if(this._mouseDown){
this._mouseDown=false;
return;
}
this.resultDropDown.closeResults();
this.PFtextField.removeAttribute("aria-activedescendant");
this.PFtextField.parentElement.setAttribute("aria-expanded","false");
},onFieldFocus:function(_7){
var _8=this.dataReader.lastQuery.query;
if(_8&&!this.PFisPlaceholderActive()){
this.resultDropDown.showResults(this,this.PFdropdownAnchor);
this._setActiveDescendant();
this.PFtextField.parentElement.setAttribute("aria-expanded","true");
}
},_PFonMouseDown:function(){
this._mouseDown=true;
setTimeout(dojo.hitch(this,function(){
this.PFtextField.focus();
}),1);
},search:function(){
},PFisPlaceholderActive:function(){
return false;
}});
}

dojo.provide("lconn.core.nls.SearchBar")._built=true;
dojo.provide("lconn.core.nls.SearchBar.en");
lconn.core.nls.SearchBar.en={"LABEL_DOGEAR":"Bookmarks","LABEL_BLOGS":"Blogs","LABEL_STATUS_UPDATES":"Status Updates","LABEL_FILES":"Files","LABEL_ADVANCED":"Advanced","LABEL_ALL_FILES":"Files","LABEL_SEARCH":"Search","LABEL_PROFILES":"Profiles","LABEL_ACTIVITIES":"Activities","LABEL_WIKIS":"Wikis","LABEL_SELECT_SCOPE":"Refine search options","LABEL_ECM_FILES":"Files","LABEL_COMMUNITIES":"Communities","LABEL_FORUMS":"Forums","LABEL_ALLCONNECTIONS":"developerWorks community"};

;dojo.cache("lconn.core", "templates/SearchBar.html", "<div class=\"lotusGlobalSearch\" role=\"search\"> <div class=\"lotusSearch\"> <form dojoAttachPoint=\"formNode\" method=\"POST\" dojoAttachEvent=\"onsubmit:formSubmitted\"> <input name=\"scope\" value=\"\" dojoAttachPoint=\"scopeInputNode\" type=\"hidden\" /> <input name=\"component\" value=\"\" dojoAttachPoint=\"featureInputNode\" type=\"hidden\" /> <table class=\"lotusLayout\" cellspacing=\"0\" role=\"presentation\" summary=\"\"> <tbody> <tr> <td> <div class=\"lotusHidden\" id=\"${id}-searchOptionLabel\">${_strings.LABEL_SELECT_SCOPE}</div> <div> <a href=\"javascript:;\" title=\"${_strings.LABEL_SELECT_SCOPE}\" class=\"lotusScope\" dojoAttachPoint=\"scopeNode\" dojoAttachEvent=\"onclick:openMenu,onkeypress:openMenuA11y\" aria-haspopup=\"true\" role=\"button\" aria-labelledby=\"${id}-searchOptionLabel ${id}searchOpt\"> <img class=\"lotusIcon\" alt=\"\" src=\"${_blankGif}\" dojoAttachPoint=\"currScopeIconNode\" role=\"presentation\"/> <span id=\"${id}searchOpt\" dojoAttachPoint=\"currScopeLabelNode\"> </span> <span class=\"lotusAltText\" role=\"presentation\">&#9660;</span> </a> </div> </td> <td> <input id=\"${id}searchInput\" dojoAttachPoint=\"textNode\" class=\"lotusText lotusInactive\" type=\"text\" name=\"query\" title=\"${_strings.LABEL_SEARCH}\"/> </td> <td> <span class=\"lotusBtnImg\"> <input dojoAttachPoint=\"onclick:submitForm\" class=\"lotusSearchButton\" type=\"image\" src=\"${_blankGif}\" alt=\"${_strings.LABEL_SEARCH}\" title=\"${_strings.LABEL_SEARCH}\" aria-label=\"${_strings.LABEL_SEARCH}\"/> <a href=\"javascript:;\" alt=\"${_strings.LABEL_SEARCH}\" dojoAttachEvent=\"onclick:submitForm\" class=\"lotusAltText\">${_strings.LABEL_SEARCH}</a> </span> </td> </tr> </tbody> </table> </form> </div></div>");

;if(!dojo._hasResource["lconn.core.SearchBar"]){
dojo._hasResource["lconn.core.SearchBar"]=true;
dojo.provide("lconn.core.SearchBar");












dojo.requireLocalization("lconn.core","SearchBar");
dojo.declare("lconn.core.SearchBar",[dijit._Widget,dijit._Templated,lconn.core.peopleFinder.PeopleFinderSearchBox],{templatePath:dojo.moduleUrl("lconn.core","templates/SearchBar.html"),localOptions:[],thirdPartySearchEngines:[],globalOptions:[],showAllFeatures:false,localAction:"",searchContextPath:"",_strings:dojo.i18n.getLocalization("lconn.core","SearchBar"),menuItems:[],featureIcons:{allareas:"lconnSprite lconnSprite-iconConnections16",activities:"lconnSprite lconnSprite-iconActivities16",blogs:"lconnSprite lconnSprite-iconBlogs16",communities:"lconnSprite lconnSprite-iconCommunities16",dogear:"lconnSprite lconnSprite-iconBookmarks16",all_files:"lconnSprite lconnSprite-iconFiles16",ecm_files:"lconnSprite lconnSprite-iconFiles16",files:"lconnSprite lconnSprite-iconFiles16",forums:"lconnSprite lconnSprite-iconForums16",profiles:"lconnSprite lconnSprite-iconProfiles16",wikis:"lconnSprite lconnSprite-iconWikis16",status_updates:"lconnSprite lconnSprite-iconStatusUpdate16"},selectedOption:null,textBox:null,globalAction:"",advancedSearchUrl:"",SEARCH_ADVANCED:"searchAdvancedIdentifier",SEARCH_POST_PATH:"/web/search",SEARCH_ADVANCED_PATH:"/web/jsp/advancedSearch.jsp",focusScopeMenuOnSelect:false,postCreate:function(){
this.PFdropdownAnchor=this.formNode;
this.PFscopeLabelNode=this.currScopeLabelNode;
if(this.searchContextPath){
this.globalAction=this.searchContextPath+this.SEARCH_POST_PATH;
this.advancedSearchUrl=this.searchContextPath+this.SEARCH_ADVANCED_PATH;
}
this.textBox=new lconn.core.TextBox({shadowText:this._strings.LABEL_SEARCH,textBoxClass:"lotusText",name:"query",title:this._strings.LABEL_SEARCH,value:this.searchFor},this.textNode);
this.PFtextField=this.textBox.textbox;
if(!this.globalOptions){
this.globalOptions=[];
}
if(this.globalOptions.length<=1&&!this.showAllFeatures){
this.globalOptions=[];
}else{
if(this.globalOptions.length<1||this.showAllFeatures){
var _1=lconn.core.config.services;
if(_1.files&&_1.ecm_files){
delete this.featureIcons.files;
delete this.featureIcons.ecm_files;
}
this.globalOptions=[];
for(var _2 in this.featureIcons){
if(this.featureIcons.hasOwnProperty(_2)){
var _3=_2;
if(_2==="status_updates"){
_3="microblogging";
}
var _4=_1[_3]||(_2==="all_files"&&_1.files&&_1.ecm_files);
if(_4){
this.globalOptions.push({label:this._strings["LABEL_"+_2.toUpperCase()],feature:_2});
}
}
}
}
}
this.globalOptions.splice(0,0,{label:this._strings.LABEL_ALLCONNECTIONS,feature:"allareas",iconClass:"lconnSprite lconnSprite-iconConnections16","class":"lotusAlignLeft"});
this.inherited(arguments);
this.showDefaultOption();
},changeLocalOptions:function(_5){
this.localOptions=_5;
if(this.scopeMenu){
this.scopeMenu.destroyRecursive();
this.scopeMenu=null;
this.menuItems=[];
}
this.showDefaultOption();
},showDefaultOption:function(){
for(var i in this.localOptions){
if(this.localOptions[i].defaultOption){
this.selectOption(this.localOptions[i],false);
return;
}
}
for(var i=0;i<this.thirdPartySearchEngines.length;i++){
if(this.thirdPartySearchEngines[i].defaultOption){
this.selectOption(this.thirdPartySearchEngines[i],false);
return;
}
}
for(var i in this.localOptions){
if(this.localOptions[i].defaultOption){
this.selectOption(this.localOptions[i],false);
return;
}
}
if(this.globalOptions&&this.globalOptions.length>0){
this.selectOption(this.globalOptions[0],false);
}
},getScopeMenu:function(){
if(!this.scopeMenu){
this.scopeMenu=new dijit.Menu({"class":"lotusNavMenu lconnSearchScope",onItemClick:dojo.hitch(this,"selectOption")});
this.connect(this.scopeMenu,"_onBlur","closeMenu");
this.menuItems=[];
var _6=this.localOptions;
for(var i in _6){
_6[i].parentMenu=this.scopeMenu;
this.menuItems.push(new dijit.MenuItem(_6[i]));
}
if(_6&&_6.length&&this.globalOptions.length>0){
this.menuItems.push(new dijit.MenuSeparator({parentMenu:this.scopeMenu}));
}
_6=this.globalOptions;
if(_6.length>0){
for(var i in _6){
if(_6[i].feature&&this.featureIcons[_6[i].feature]){
_6[i].parentMenu=this.scopeMenu;
_6[i].iconClass=this.featureIcons[_6[i].feature];
this.menuItems.push(new dijit.MenuItem(_6[i]));
}
}
}
var _7=this.thirdPartySearchEngines;
if((_7!=null)&&(_7.length>0)){
this.menuItems.push(new dijit.MenuSeparator({parentMenu:this.scopeMenu}));
for(var i=0;i<_7.length;i++){
_7[i].parentMenu=this.scopeMenu;
this.menuItems.push(new dijit.MenuItem(_7[i]));
}
}
if(this.globalOptions.length>0){
this.menuItems.push(new dijit.MenuSeparator({parentMenu:this.scopeMenu}));
this.menuItems.push(new dijit.MenuItem({label:this._strings.LABEL_ADVANCED,feature:this.SEARCH_ADVANCED,"class":"lotusAlignLeft"}));
}
for(var i=0;i<this.menuItems.length;i++){
if(this.menuItems[i].iconNode){
this.menuItems[i].iconNode.setAttribute("role","presentation");
}
this.scopeMenu.addChild(this.menuItems[i]);
}
}
return this.scopeMenu;
},openMenu:function(_8){
var _9=this.getScopeMenu();
dijit.popup.open({popup:_9,around:this.scopeNode,orient:(dojo._isBodyLtr()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),onCancel:dojo.hitch(this,"_cancelMenu")});
_9.focus();
if(this.selectedOption._created){
_9.focusChild(this.selectedOption);
}
dojo.stopEvent(_8);
},openMenuA11y:function(_a){
if(_a.keyCode==dojo.keys.ENTER||_a.charCode==dojo.keys.SPACE||_a.keyCode==dojo.keys.DOWN_ARROW||_a.keyCode==dojo.keys.UP_ARROW){
this.openMenu(_a);
}
},_cancelMenu:function _cancelMenu(){
dijit.popup.close(this.getScopeMenu());
dijit.focus(this.scopeNode);
},closeMenu:function(){
if(this.scopeMenu){
dijit.popup.close(this.scopeMenu);
}
},onSelectOption:function(_b,_c){
this.selectOption(_b,true);
},selectOption:function(_d,_e){
this.closeMenu();
this.selectedOption=_d;
if(_d.feature&&_d.feature==this.SEARCH_ADVANCED){
location.href=this.advancedSearchUrl;
return;
}
this.currScopeLabelNode.innerHTML=_d.label;
this.currScopeIconNode.className="lotusIcon";
if(_d.iconClass){
dojo.addClass(this.currScopeIconNode,_d.iconClass);
}
if(_d.scope){
this.scopeInputNode.value=_d.scope;
this.featureInputNode.value=_d.feature?_d.feature:"";
}else{
if(_d.feature){
if(_d.feature=="allareas"){
this.featureInputNode.value="";
}else{
this.featureInputNode.value=_d.feature;
}
this.scopeInputNode.value="";
}
}
if(_d.action){
if(_d.scope=="extkeyword"){
this.formNode.method="GET";
this.formNode.action=_d.action;
}else{
this.formNode.method="POST";
this.formNode.action=_d.action;
}
}else{
if(_d.feature){
this.formNode.method="GET";
this.formNode.action=this.globalAction;
}else{
this.formNode.method="POST";
this.formNode.action=this.localAction;
}
}
if(_d.method&&_d.method=="GET"||_d.method=="POST"){
this.formNode.method=_d.method;
}
if(_e){
if(this.focusScopeMenuOnSelect){
try{
this.scopeNode.focus();
}
catch(e){
this.textBox.focus();
}
}else{
this.textBox.focus();
}
}
},setSelectedFeature:function(_f){
if(!this.scopeMenu){
this.getScopeMenu();
}
for(var i in this.globalOptions){
if(this.globalOptions[i].feature===_f){
this.selectOption(this.globalOptions[i],false);
return;
}
}
if(this.globalOptions&&this.globalOptions[0]){
this.selectOption(this.globalOptions[0],false);
}
},isThirdPartySearchEngineSelected:function(){
var _10=false;
var _11=this.selectedOption.label;
for(var i=0;i<this.thirdPartySearchEngines.length&&!_10;i++){
_10=(this.thirdPartySearchEngines[i].label==_11);
}
return _10;
},submitForm:function(evt){
this.textBox.setHiddenValue();
var str=this.textBox.getValue();
str=dojo.string.trim(str);
if(str){
if(this.onSubmit()){
if(this.isThirdPartySearchEngineSelected()){
location.href=this.selectedOption.action+encodeURIComponent(this.textBox.hiddenbox.value);
}else{
var _12=function _12(str,_13){
return str.indexOf(_13,str.length-_13.length)!==-1;
};
if(_12(this.formNode.action,this.SEARCH_POST_PATH)){
dojo.attr(this.featureInputNode,"name","scope");
if(!this.scopeInputNode.value){
dojo.attr(this.scopeInputNode,"disabled",true);
}
if(this.textBox.textbox){
dojo.attr(this.textBox.textbox,"disabled",true);
}
}
this.formNode.submit();
}
}
}
if(evt){
dojo.stopEvent(evt);
}
return false;
},getValue:function(){
return this.textBox.getValue();
},setValue:function(_14){
this.textBox.setValue(_14);
},clearValue:function(){
return this.textBox.clearValue();
},formSubmitted:function(evt){
this.submitForm();
dojo.stopEvent(evt);
},onSubmit:function(){
},search:function(){
this.submitForm();
},PFisPlaceholderActive:function(){
return this.textBox.shadowTextOn;
}});
}


;if(!dojo._hasResource["lconn.core.filepicker"]){
dojo._hasResource["lconn.core.filepicker"]=true;
dojo.provide("lconn.core.filepicker");
(function(_1){
_1.open=function(_2){
net.jazz.ajax.xdloader.load_async("lconn.files.picker.FilePickerAssy",function(){
lconn.files.picker.files.open(_2);
});
};
_1.openInline=function(_3){
net.jazz.ajax.xdloader.load_async("lconn.files.picker.EmbededFilePickerAssy",function(){
lconn.files.picker.fileswidget.create(_3);
});
};
})(lconn.core.filepicker);
}

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["lconn.share"]=true;

;if(!dojo._hasResource["lconn.share.util.uri"]){
dojo._hasResource["lconn.share.util.uri"]=true;
dojo.provide("lconn.share.util.uri");


lconn.share.util.uri.parseUri=lconn.core.url.parse;
lconn.share.util.uri.writeUri=lconn.core.url.write;
lconn.share.util.uri.rewriteUri=lconn.core.url.rewrite;
lconn.share.util.uri.splitQuery=lconn.core.url.splitQuery;
lconn.share.util.uri.getRequestParameters=lconn.core.url.getRequestParameters;
lconn.share.util.uri.writeParameters=lconn.core.url.writeParameters;
lconn.share.util.uri.makeAtomUrlIESafe=function(_1){
if(dojo.isIE&&_1){
_1=lconn.core.url.parse(_1);
_1.queryParameters.format="xml";
_1=lconn.core.url.write(_1);
}
return _1;
};
}


;if(!dojo._hasResource["lconn.share.util.misc"]){
dojo._hasResource["lconn.share.util.misc"]=true;
dojo.provide("lconn.share.util.misc");


dojo.j=dojo.getObject("Jiffy")||{mark:function(){
},measure:function(){
}};
lconn.share.util.misc={indexById:function(_1,_2,_3){
if(_1){
for(var i=0;i<_1.length;i++){
if(_1[i]&&_1[i][_2]==_3){
return _1[i];
}
}
}
},initFromArray:function(_4,a,b,c,d,e,f,g){
if(_4==null){
return null;
}
var _5=typeof _4;
if(_5=="function"){
return _4(a,b,c,d,e,f,g);
}
var _6=[];
if(dojo.isArray(_4)){
for(var i=0;i<_4.length;i++){
var o=_4[i];
var _5=typeof o;
if(_5=="function"){
_6[i]=o(a,b,c,d,e,f,g);
}
if(_5=="string"){
_6[i]=new dojo.getObject(o)(a,b,c,d,e,f,g);
}
}
}
return _6;
},sort:function(_7){
if(!dojo.isArray(_7)||_7.length<2){
return _7;
}
if(arguments.length==1){
return _7.sort();
}
var _8=arguments;
var _9=[];
for(var i=1;i<_8.length;i++){
var _a=_8[i];
var _b=1;
if(dojo.isArray(_a)){
_b=_a[1];
_a=_a[0];
}
var f=(typeof _7[0][_a]=="string"&&"".localeCompare)?lconn.share.util.misc.orderLocale:lconn.share.util.misc.order;
_9.push(dojo.partial(f,_a,_b));
}
if(_9.length==1){
return _7.sort(_9[0]);
}
return _7.sort(function(a,b){
var l=_9.length;
for(var i=0;i<l;i++){
var c=_9[i](a,b);
if(c!=0){
return c;
}
}
return 0;
});
},slice:function(_c,f,_d){
var _e=[];
for(var i=0;i<_c.length;){
var _f=_c[i];
if(f.call(_d,_f)){
_e.push(_f);
_c.splice(i,1);
}else{
i++;
}
}
return _e;
},hitchDeferred:function(dfd){
return function(_10){
dfd.callback.apply(dfd,arguments);
return _10;
};
},orderLocale:function(key,_11,a,b){
return a[key].localeCompare(b[key])*_11;
},order:function(key,_12,a,b){
a=a[key];
b=b[key];
if(a==b){
return 0;
}
return (a>b?1:-1)*_12;
},destroy:function(){
if(arguments.length>1){
for(var i=0;i<arguments.length;i++){
lconn.share.util.misc.destroy(arguments[i]);
}
}else{
if(arguments.length==1){
var arg=arguments[0];
if(arg&&typeof arg=="object"&&arg.length>0){
for(var i=0;i<arg.length;i++){
lconn.share.util.misc.destroy(arg[i]);
}
}else{
var w=arg;
if(typeof w=="string"){
w=dijit.byId(w);
}
if(w){
if(w.destroyRecursive){
w.destroyRecursive();
}else{
if(w.destroy){
w.destroy();
}
}
}
}
}
}
},first:function(o){
return (o&&dojo.isArrayLike(o))?o[0]:o;
},last:function(o){
return (o&&dojo.isArrayLike(o))?o[o.length-1]:o;
},size:function(o){
var c=0;
if(o){
for(var i in o){
c++;
}
}
return c;
},date:{convertAtomDate:dojo.date.stamp.fromISOString},hasListeners:function(f){
return (f._listeners&&dojo.some(f._listeners,function(l){
return l;
}));
},animateBackground:function(p,_13,end){
var n=p.node;
var pr=p.properties=p.properties||{};
pr.backgroundColor={start:_13,defEnd:end,end:function(){
var bg=dojo.getComputedStyle(n).backgroundColor;
if(bg=="rgba(0, 0, 0, 0)"){
bg="rgba(255, 255, 255, 0)";
}
return bg||this.defEnd;
}};
p.onEnd=function(){
dojo.byId(n).style.backgroundColor="";
};
return p;
}};
}


;if(!dojo._hasResource["lconn.core.unicode"]){
dojo._hasResource["lconn.core.unicode"]=true;
dojo.provide("lconn.core.unicode");
lconn.core.unicode={lengthUtf8:function(s){
var _1=0;
var _2=s.length;
for(var i=0;i<_2;i++){
var c=s.charCodeAt(i);
if(c<=127){
_1++;
}else{
if(c<=2047){
_1+=2;
}else{
if(c<=65535){
_1+=3;
if((c>>11)==27){
_1++;
i++;
}
}else{
_1+=4;
}
}
}
}
return _1;
},getCharIndexForUtf8Index:function(s,_3){
var _4=0;
var _5=s.length;
for(var i=0;i<_5;i++){
var c=s.charCodeAt(i);
if(c<=127){
_4++;
}else{
if(c<=2047){
_4+=2;
}else{
if(c<=65535){
_4+=3;
if((c>>11)==27){
_4++;
i++;
}
}else{
_4+=4;
}
}
}
if(_4>_3){
return i;
}
}
return -1;
}};
}


;if(!dojo._hasResource["lconn.share.util.text"]){
dojo._hasResource["lconn.share.util.text"]=true;
dojo.provide("lconn.share.util.text");




(function(){
var _1=dojo.getObject("lconn.share.util.text._SIZE");
lconn.share.util.text=dojo.clone(lconn.core.util.text);
lconn.share.util.text._SIZE=_1;
lconn.share.util.text.trimToLength=lconn.core.util.text.trimToByteLength;
lconn.share.util.text.lengthUtf8=lconn.core.util.text.getByteLength;
lconn.share.util.text.formatSize=function(){
var _2,_3;
if(arguments.length==2){
_2=arguments[0];
_3=arguments[1];
}else{
_3=arguments[0];
}
if(typeof _3=="undefined"||_3==null||typeof _3=="string"){
return _3;
}
var _2=_2||lconn.share.util.text._SIZE;
if(!_2){
throw "Must pass nls to formatSize or set the lconn.share.util.text._SIZE property during init";
}
if(_3>10*1024*1024*1024){
return dojo.string.substitute(_2.GB,[dojo.number.format(Math.floor(_3*10/(1024*1024*1024))/10)]);
}else{
if(_3>=1*1024*1024*1024){
return dojo.string.substitute(_2.GB,[dojo.number.format(Math.floor(_3*100/(1024*1024*1024))/100)]);
}else{
if(_3>100*1024*1024){
return dojo.string.substitute(_2.MB,[dojo.number.format(Math.floor(_3/(1024*1024)))]);
}else{
if(_3>10*1024*1024){
return dojo.string.substitute(_2.MB,[dojo.number.format(Math.floor(_3*10/(1024*1024))/10)]);
}else{
if(_3>=1*1024*1024){
return dojo.string.substitute(_2.MB,[dojo.number.format(Math.floor(_3*100/(1024*1024))/100)]);
}else{
if(_3>1*1024){
return dojo.string.substitute(_2.KB,[dojo.number.format(Math.floor(_3/1024))]);
}
}
}
}
}
}
return dojo.string.substitute(_2.KB,[dojo.number.format(_3>0?1:0)]);
};
})();
}


;if(!dojo._hasResource["lconn.share.util._dom"]){
dojo._hasResource["lconn.share.util._dom"]=true;
dojo.provide("lconn.share.util._dom");
lconn.share.util.dom={XML_DECLARATION:"<?xml version=\"1.0\" encoding=\"UTF-8\"?>",XML_DECLARATION_WITH_ENTITIES:"<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE html [<!ENTITY amp \"&#38;#38;\"><!ENTITY lt \"&#60;#60;\"><!ENTITY gt \"&#62;#62;\"><!ENTITY nbsp \"&#32;\"><!ENTITY apos \"&#39;\"><!ENTITY quot \"&#34;\">]>",NAMESPACES:{ATOM:{LONG:"http://www.w3.org/2005/Atom",SHORT:"atom"},DOCUMENTS_ATOM:{LONG:"urn:ibm.com/td",SHORT:"td"},APP:{LONG:"http://www.w3.org/2007/app",SHORT:"app"},CMISRA:{LONG:"http://docs.oasis-open.org/ns/cmis/restatom/200908/",SHORT:"cmisra"},CMISM:{LONG:"http://docs.oasis-open.org/ns/cmis/messaging/200908/",SHORT:"cmism"},LCMIS:{LONG:"http://www.ibm.com/xmlns/prod/sn/cmis",SHORT:"lcmis"},CMIS:{LONG:"http://docs.oasis-open.org/ns/cmis/core/200908/",SHORT:"cmis"}},NAMESPACE_PREFIX:{},xmlText:function(_1){
return (_1)?(dojo.isIE?(_1.text?_1.text:_1.innerText):_1.textContent):_1;
},isNamedNS:function(el,_2,_3){
var _4=el.localName;
if(dojo.isIE){
if(!_4){
_4=el.baseName;
}
}
if(_3){
return _4==_2&&_3.LONG==el.namespaceURI;
}
return el.nodeName==_2;
},getChildElementTextContentNS:function(el,_5,_6){
if(!el){
return null;
}
var c;
var _7=el.childNodes;
if(dojo.isIE){
for(var i=0;c=_7[i];i++){
var _8=c.localName;
if(!_8){
_8=c.baseName;
}
if(_8==_5&&(_6==null||c.namespaceURI==_6.LONG)){
if(c.innerText){
return c.innerText;
}
var a=[];
for(var j=0;c2=c.childNodes[j];j++){
if(c2.nodeType==3){
a.push(c2.nodeValue);
}
}
return a.join("");
}
}
}else{
var _7=el.getElementsByTagNameNS(_6.LONG,_5);
for(var i=0,c;c=_7[i];i++){
if(c.parentNode==el){
if(c.textContent){
return c.textContent;
}
var a=[];
for(var j=0;c2=c.childNodes[j];j++){
if(c2.nodeType==3){
a.push(c2.nodeValue);
}
}
return a.join("");
}
}
}
return null;
}};
var dom=lconn.share.util.dom;
var n1=dom.NAMESPACES;
for(var key in n1){
var value=n1[key];
dom[key+"_NAMESPACE"]=value;
dom.NAMESPACE_PREFIX[value.SHORT]=value.LONG;
}
}


;if(!dojo._hasResource["lconn.share.util.dom"]){
dojo._hasResource["lconn.share.util.dom"]=true;
dojo.provide("lconn.share.util.dom");


var dom=lconn.share.util.dom;
var n1=dom.NAMESPACES;
n1.XML={LONG:"http://www.w3.org/XML/1998/namespace",SHORT:"xml"};
n1.DOCUMENTS_ATOM_BATCH={LONG:"urn:ibm.com/td/batch",SHORT:"batch"};
n1.OPENSEARCH={LONG:"http://a9.com/-/spec/opensearch/1.1/",SHORT:"opensearch"};
n1.THREAD_ATOM={LONG:"http://purl.org/syndication/thread/1.0",SHORT:"thr"};
n1.CA={LONG:"http://www.ibm.com/xmlns/prod/composite-applications/v1.0",SHORT:"ca"};
n1.SNX={LONG:"http://www.ibm.com/xmlns/prod/sn",SHORT:"snx"};
dom.SELECTION_NAMESPACES=[];
for(var key in n1){
var value=n1[key];
dom[key+"_NAMESPACE"]=value;
dom.NAMESPACE_PREFIX[value.SHORT]=value.LONG;
dom.SELECTION_NAMESPACES.push("xmlns:"+value.SHORT+"='"+value.LONG+"'");
}
dom.SELECTION_NAMESPACES=dom.SELECTION_NAMESPACES.join(" ");
dom.xpathNSResolver=function(ns){
return dom.NAMESPACE_PREFIX[ns];
};
dom.xpathNumber=function(_1,_2){
if(!_1){
return NaN;
}
return this.xpath(_1,_2,"number");
};
dom.xpathString=function(_3,_4){
if(!_3){
return "";
}
return this.xpath(_3,_4,"string");
};
dom.xpathNode=function(_5,_6){
if(!_5){
return null;
}
return this.xpath(_5,_6,"node");
};
dom.xpathNodes=function(_7,_8){
if(!_7){
return [];
}
return this.xpath(_7,_8,"nodes");
};
dom.xpath=function(_9,_a,_b){
if(!_9){
return null;
}
var _c=null;
if(dojo.isIE){
switch(_b){
case "number":
case "string":
var _d=_9.selectNodes(_a);
if(_d.length==1&&_d[0].text){
_c=_d[0].text;
}else{
var a=[],c=null;
for(var i=0;c=_d[i];i++){
if(c.nodeType==3){
a.push(c.nodeValue);
}
}
_c=a.join("");
}
if(_b=="number"){
_c=parseInt(_c);
}
break;
case "node":
var _e=_9.selectNodes(_a);
_c=_e?_e[0]:null;
break;
default:
_c=_9.selectNodes(_a);
break;
}
}else{
switch(_b){
case "number":
_c=_9.ownerDocument.evaluate(_a,_9,dom.xpathNSResolver,XPathResult.NUMBER_TYPE,null).numberValue;
break;
case "string":
_c=_9.ownerDocument.evaluate(_a,_9,dom.xpathNSResolver,XPathResult.STRING_TYPE,null).stringValue;
break;
case "node":
_c=_9.ownerDocument.evaluate(_a,_9,dom.xpathNSResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;
break;
case "nodes":
var _d=_9.ownerDocument.evaluate(_a,_9,dom.xpathNSResolver,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);
_c=[];
var _f;
while(_f=_d.iterateNext()){
_c.push(_f);
}
break;
default:
var _d=_9.ownerDocument.evaluate(_a,_9,dom.xpathNSResolver,XPathResult.ANY_TYPE,null);
_c=[];
var _f;
while(_f=_d.iterateNext()){
_c.push(_f);
}
break;
}
}
return _c;
};
dom.prependXmlProlog=function(xml){
if(/^\s*<\?xml\s/.test(xml)){
xml=xml.substring(xml.indexOf("?>")+2);
}
return dom.XML_DECLARATION+xml;
};
dom.serializeXMLDocument=function(doc,_10){
var s;
if(doc.xml){
s=doc.xml;
}else{
s=new XMLSerializer().serializeToString(doc);
}
if(!_10){
if(/^\s*<\?xml\s/.test(s)){
s=s.substring(s.indexOf("?>")+2);
}
}else{
s=dom.prependXmlProlog(s);
}
return s;
};
dom.newXMLDocument=function(_11,_12,_13){
if(!_11){
_11="";
}
var _14="";
if(_12){
if(_12.LONG){
_14=_12.LONG;
}else{
_14=_12;
}
}
if(document.implementation&&document.implementation.createDocument&&!dojo.isIE){
return document.implementation.createDocument(_14,_11,null);
}else{
var doc=new ActiveXObject("MSXML2.DOMDocument");
if(_11){
var _15="";
var _16=_11;
var p=_11.indexOf(":");
if(p!=-1){
_15=_11.substring(0,p);
_16=_11.substring(p+1);
}
if(!_15&&_12&&_12.SHORT){
_15=_12.SHORT;
}else{
_15=null;
}
var _17="<"+(_15?(_15+":"):"")+_16+(_14?(" xmlns"+(_15?(":"+_15):"")+"=\""+_14+"\""):"");
if(_13){
for(var i=0;i<_13.length;i++){
_17+=" xmlns:"+_13[i].SHORT+"=\""+_13[i].LONG+"\"";
}
}
_17+="/>";
doc.loadXML(_17);
}
return doc;
}
};
dom.getElementByLanguage=function(_18,_19){
var c;
var i;
var _1a=[_19];
while((i=_19.lastIndexOf("-"))!=-1){
_1a.push(_19=_19.substring(0,i));
}
if(dojo.indexOf(_1a,"en-us")==-1){
_1a.push("en-us");
}
if(dojo.indexOf(_1a,"en")==-1){
_1a.push("en");
}
if(dojo.indexOf(_1a,"")==-1){
_1a.push("");
}
for(var i=0;i<_1a.length;i++){
for(var j=0;c=_18[j];j++){
var _1b=(dojo.isIE)?c.getAttribute(dom.XML_NAMESPACE.SHORT+":lang"):c.getAttributeNS(dom.XML_NAMESPACE.LONG,"lang");
_1b=_1b?_1b:"";
if(_1b==_1a[i]){
return c;
}
}
}
return null;
};
dom.getAttributeNS=function(el,_1c,_1d){
return (dojo.isIE)?el.getAttribute(_1d.SHORT+":"+_1c):el.getAttributeNS(_1d.LONG,_1c);
};
dom._getNSPrefix=function(el,_1e){
for(var _1f=el,_20=null;_1f&&!_20&&_1f.nodeType==1;_1f=_1f.parentNode){
_20=_1f.getAttribute("xmlns");
}
var _21=(_20==_1e.LONG)?"":(_1e.SHORT+":");
return _21;
};
dom.getElementsByTagNameNS=function(el,_22,_23){
return (dojo.isIE)?el.getElementsByTagName(this._getNSPrefix(el,_23)+_22):el.getElementsByTagNameNS(_23.LONG,_22);
};
dom.createElementNS=function(d,_24,_25){
var _26=(dojo.isIE)?d.createElement(_25.SHORT+":"+_24):d.createElementNS(_25.LONG,_24);
return _26;
};
dom.setAttributeNS=function(el,_27,_28,_29){
if(dojo.isIE){
el.setAttribute(_29.SHORT+":"+_27,_28);
}else{
el.setAttributeNS(_29.LONG,_29.SHORT+":"+_27,_28);
}
};
dom.insertBefore=function(el,_2a,_2b){
if(_2b){
el.insertBefore(_2a,_2b);
}else{
el.appendChild(_2a);
}
return _2a;
};
dom.getChildElement=function(el,_2c){
var arr=el.childNodes;
for(var i=0,c;c=arr[i];i++){
if(c.nodeName==_2c||c.localName==_2c){
return c;
}
}
};
dom.getChildElementNS=function(el,_2d,_2e){
var qud=lconn.share.util.dom;
var arr=(dojo.isIE)?el.getElementsByTagName(qud._getNSPrefix(el,_2e)+_2d):el.getElementsByTagNameNS(_2e.LONG,_2d);
for(var i=0,c;c=arr[i];i++){
if(c.parentNode==el){
return c;
}
}
};
dom.getChildElementTextContent=function(el,_2f){
if(!el){
return null;
}
var arr=el.getElementsByTagName(_2f);
var qud=lconn.share.util.dom;
for(var i=0,c;c=arr[i];i++){
if(c.parentNode==el){
return qud.getTextContent(c);
}
}
return null;
};
dom.getChildElementTextContentNS=function(el,_30,_31){
var qud=lconn.share.util.dom;
return qud.getTextContent(qud.getChildElementNS(el,_30,_31));
};
dom.getTextContent=function(el){
if(!el){
return null;
}
if(el.textContent){
return el.textContent;
}
if(el.innerText){
return el.innerText;
}
if(el.text){
return el.text;
}
var a=[];
for(var j=0;c2=el.childNodes[j];j++){
if(c2.nodeType==3){
a.push(c2.nodeValue);
}
}
return a.join("");
};
dom.getChildElementAttribute=function(_32,_33,_34){
if(!_32){
return null;
}
if(_34=="class"&&dojo.isIE){
_34="className";
}
var arr=_32.getElementsByTagName(_33);
for(var i=0,c;c=arr[i];i++){
if(c.parentNode==_32){
return c.getAttribute(_34);
}
}
return null;
};
dom.getChildElementAttributeNS=function(_35,_36,_37,_38,_39){
if(!_35){
return null;
}
var c;
if(dojo.isIE){
if(_38=="class"){
_38="className";
}
for(var i=0;c=_35.childNodes[i];i++){
var _3a=c.localName;
if(!_3a){
_3a=c.baseName;
}
if(_3a==_36&&(_37==null||c.namespaceURI==_37.LONG)){
return c.getAttribute(_39.SHORT+":"+_38);
}
}
}else{
if(_37){
var arr=_35.getElementsByTagNameNS(_37.LONG,_36);
for(var i=0,c;c=arr[i];i++){
if(c.parentNode==_35){
return c.getAttributeNS(_39.LONG,_38);
}
}
}else{
var arr=_35.getElementsByTagName(_36);
for(var i=0,c;c=arr[i];i++){
if(c.parentNode==_35){
return c.getAttributeNS(_39.LONG,_38);
}
}
}
}
return null;
};
dom.getChildElementAttributeMatching=function(_3b,_3c,_3d,_3e,_3f){
if(!_3b){
return null;
}
if(_3d=="class"&&dojo.isIE){
_3d="className";
}
if(_3f=="class"&&document.all){
_3f="className";
}
var arr=_3b.getElementsByTagName(_3c);
for(var i=0;child=arr[i];i++){
if(child.getAttribute(_3d)==_3e){
return child.getAttribute(_3f);
}
}
return null;
};
dom.getChildElementAttributeMatchingNS=function(_40,_41,_42,_43,_44,_45,_46,_47){
if(!_40){
return null;
}
if(_43=="class"&&dojo.isIE){
_43="className";
}
if(_46=="class"&&document.all){
_46="className";
}
if(dojo.isIE){
var _48=_42?this._getNSPrefix(_40,_42)+_41:_41;
var _49=_44?_44.SHORT+":"+_43:_43;
var _4a=_47?_47.SHORT+":"+_46:_46;
var arr=_40.getElementsByTagName(_48);
for(var i=0;c=arr[i];i++){
if(c.getAttribute(_49)==_45){
return c.getAttribute(_4a);
}
}
}else{
if(_42){
var arr=_40.getElementsByTagNameNS(_42.LONG,_41);
if(_44){
for(var i=0,c;c=arr[i];i++){
if(c.getAttributeNS(_44.LONG,_43)==_45){
return _47?c.getAttributeNS(_47.LONG,_46):c.getAttribute(_46);
}
}
}else{
for(var i=0,c;c=arr[i];i++){
if(c.getAttribute(_43)==_45){
return _47?c.getAttributeNS(_47.LONG,_46):c.getAttribute(_46);
}
}
}
}else{
var arr=_40.getElementsByTagName(_41);
if(_44){
for(var i=0;child=arr[i];i++){
if(child.getAttributeNS(_44.LONG,_43)==_45){
return _47?c.getAttributeNS(_47.LONG,_46):c.getAttribute(_46);
}
}
}else{
for(var i=0;child=arr[i];i++){
if(child.getAttribute(_43)==_45){
return _47?c.getAttributeNS(_47.LONG,_46):c.getAttribute(_46);
}
}
}
}
}
return null;
};
dom.getChildElementMatchingAttribute=function(_4b,_4c,_4d,_4e){
if(!_4b){
return null;
}
if(_4d=="class"&&dojo.isIE){
_4d="className";
}
var arr=_4b.getElementsByTagName(_4c);
for(var i=0;child=arr[i];i++){
if(child.getAttribute(_4d)==_4e){
return child;
}
}
return null;
};
dom.getChildElementMatchingAttributeNS=function(_4f,_50,_51,_52,_53,_54){
if(!_4f){
return null;
}
if(_52=="class"&&dojo.isIE){
_52="className";
}
if(dojo.isIE){
var _55=_51?this._getNSPrefix(_4f,_51)+_50:_50;
var _56=_53?_53.SHORT+":"+_52:_52;
var arr=_4f.getElementsByTagName(_55);
for(var i=0;c=arr[i];i++){
if(c.getAttribute(_56)==_54){
return c;
}
}
}else{
if(_51){
var arr=_4f.getElementsByTagNameNS(_51.LONG,_50);
if(_53){
for(var i=0,c;c=arr[i];i++){
if(c.getAttributeNS(_53.LONG,_52)==_54){
return c;
}
}
}else{
for(var i=0,c;c=arr[i];i++){
if(c.getAttribute(_52)==_54){
return c;
}
}
}
}else{
var arr=_4f.getElementsByTagName(_50);
if(_53){
for(var i=0;child=arr[i];i++){
if(child.getAttributeNS(_53.LONG,_52)==_54){
return c;
}
}
}else{
for(var i=0;child=arr[i];i++){
if(child.getAttribute(_52)==_54){
return c;
}
}
}
}
}
return null;
};
dom.getChildElementMatchingAttributeTextContent=function(_57,_58,_59,_5a){
if(!_57){
return null;
}
if(_59=="class"&&dojo.isIE){
_59="className";
}
var arr=_57.getElementsByTagName(_58);
for(var i=0;child=arr[i];i++){
if(child.getAttribute(_59)==_5a){
return dom.xmlText(child);
}
}
return null;
};
dom.getChildElementMatchingAttributeTextContentNS=function(_5b,_5c,_5d,_5e,_5f,_60){
if(!_5b){
return null;
}
var _61;
if(dojo.isIE){
if(_5e=="class"){
_5e="className";
}
var _62=_5d==null?_5c:_5d.SHORT+":"+_5c;
var _63=_5f==null?_5e:_5f.SHORT+":"+_5e;
var arr=_5b.getElementsByTagName(_62);
for(var i=0;_61=arr[i];i++){
if(_61.parentNode==_5b&&_61.getAttribute(_63)==_60){
return dom.xmlText(_61);
}
}
}else{
if(_5d){
var arr=_5b.getElementsByTagNameNS(_5d.LONG,_5c);
if(_5f){
for(var i=0;_61=arr[i];i++){
if(_61.parentNode==_5b&&_61.getAttributeNS(_5f.LONG,_5e)==_60){
return dom.xmlText(_61);
}
}
}else{
for(var i=0;_61=arr[i];i++){
if(_61.parentNode==_5b&&_61.getAttribute(_5e)==_60){
return dom.xmlText(_61);
}
}
}
}else{
var arr=_5b.getElementsByTagName(_5c);
if(_5f){
for(var i=0;_61=arr[i];i++){
if(_61.parentNode==_5b&&_61.getAttributeNS(_5f.LONG,_5e)==_60){
return dom.xmlText(_61);
}
}
}else{
for(var i=0;_61=arr[i];i++){
if(_61.parentNode==_5b&&_61.getAttribute(_5e)==_60){
return dom.xmlText(_61);
}
}
}
}
}
return null;
};
dom.domNodesToXml=function(_64){
var doc;
var _65;
if(_64&&_64.length>0){
if(_64.length>1){
doc=dom.newXMLDocument("div");
_65=doc.documentElement;
}
for(var i=0;i<_64.length;i++){
var _66=_64.item(i);
doc=dom.domToXml(_66,_65,doc);
}
}else{
doc=dom.newXMLDocument("div");
}
var _67=dom.XML_DECLARATION_WITH_ENTITIES+dom.serializeXMLDocument(doc);
return _67;
};
dom.domToXml=function(_68,_69,doc){
if(_68.nodeType==3){
if(!_69){
doc=dom.newXMLDocument("div");
_69=doc.documentElement;
}
_69.appendChild(doc.createTextNode(_68.nodeValue));
return doc;
}
var _6a;
var _6b=_68.nodeName.toLowerCase();
if(!doc){
doc=dom.newXMLDocument(_6b);
_6a=doc.documentElement;
}else{
_6a=doc.createElement(_6b);
_69.appendChild(_6a);
}
var _6c=_68.attributes;
if(_6c&&_6c.length>0){
var isA=_6b=="a";
var _6d=_6b=="img";
for(var i=0;i<_6c.length;i++){
var _6e=_6c.item(i);
if(_6e.specified){
if((_6d&&_6e.name=="src")||(isA&&_6e.name=="href")){
var _6f=_68.getAttribute("_fcksavedurl");
_6a.setAttribute(_6e.name,_6f);
}else{
_6a.setAttribute(_6e.name,_6e.value);
}
}
}
}
var _70=_68.childNodes;
if(_70&&_70.length>0){
for(var i=0;i<_70.length;i++){
var _71=_70.item(i);
dom.domToXml(_71,_6a,doc);
}
}
return doc;
};
}


;define("dojox/lang/functional/lambda",["../..","dojo/_base/lang","dojo/_base/array"],function(_1,_2,_3){
var df=_2.getObject("lang.functional",true,_1);
var _4={};
var _5="ab".split(/a*/).length>1?String.prototype.split:function(_6){
var r=this.split.call(this,_6),m=_6.exec(this);
if(m&&m.index==0){
r.unshift("");
}
return r;
};
var _7=function(s){
var _8=[],_9=_5.call(s,/\s*->\s*/m);
if(_9.length>1){
while(_9.length){
s=_9.pop();
_8=_9.pop().split(/\s*,\s*|\s+/m);
if(_9.length){
_9.push("(function("+_8.join(", ")+"){ return ("+s+"); })");
}
}
}else{
if(s.match(/\b_\b/)){
_8=["_"];
}else{
var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);
if(l||r){
if(l){
_8.push("$1");
s="$1"+s;
}
if(r){
_8.push("$2");
s=s+"$2";
}
}else{
var _a=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],t={};
_3.forEach(_a,function(v){
if(!t.hasOwnProperty(v)){
_8.push(v);
t[v]=1;
}
});
}
}
}
return {args:_8,body:s};
};
var _b=function(a){
return a.length?function(){
var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);
for(--i;i>=0;--i){
x=df.lambda(a[i]).call(this,x);
}
return x;
}:function(x){
return x;
};
};
_2.mixin(df,{rawLambda:function(s){
return _7(s);
},buildLambda:function(s){
var l=_7(s);
return "function("+l.args.join(",")+"){return ("+l.body+");}";
},lambda:function(s){
if(typeof s=="function"){
return s;
}
if(s instanceof Array){
return _b(s);
}
if(_4.hasOwnProperty(s)){
return _4[s];
}
var l=_7(s);
return _4[s]=new Function(l.args,"return ("+l.body+");");
},clearLambdaCache:function(){
_4={};
}});
return df;
});


;define("dojox/lang/functional/array",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(_1,_2,_3,df){
var _4={};
_2.mixin(df,{filter:function(a,f,o){
if(typeof a=="string"){
a=a.split("");
}
o=o||_1.global;
f=df.lambda(f);
var t=[],v,i,n;
if(_2.isArray(a)){
for(i=0,n=a.length;i<n;++i){
v=a[i];
if(f.call(o,v,i,a)){
t.push(v);
}
}
}else{
if(typeof a.hasNext=="function"&&typeof a.next=="function"){
for(i=0;a.hasNext();){
v=a.next();
if(f.call(o,v,i++,a)){
t.push(v);
}
}
}else{
for(i in a){
if(!(i in _4)){
v=a[i];
if(f.call(o,v,i,a)){
t.push(v);
}
}
}
}
}
return t;
},forEach:function(a,f,o){
if(typeof a=="string"){
a=a.split("");
}
o=o||_1.global;
f=df.lambda(f);
var i,n;
if(_2.isArray(a)){
for(i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){
}
}else{
if(typeof a.hasNext=="function"&&typeof a.next=="function"){
for(i=0;a.hasNext();f.call(o,a.next(),i++,a)){
}
}else{
for(i in a){
if(!(i in _4)){
f.call(o,a[i],i,a);
}
}
}
}
return o;
},map:function(a,f,o){
if(typeof a=="string"){
a=a.split("");
}
o=o||_1.global;
f=df.lambda(f);
var t,n,i;
if(_2.isArray(a)){
t=new Array(n=a.length);
for(i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){
}
}else{
if(typeof a.hasNext=="function"&&typeof a.next=="function"){
t=[];
for(i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){
}
}else{
t=[];
for(i in a){
if(!(i in _4)){
t.push(f.call(o,a[i],i,a));
}
}
}
}
return t;
},every:function(a,f,o){
if(typeof a=="string"){
a=a.split("");
}
o=o||_1.global;
f=df.lambda(f);
var i,n;
if(_2.isArray(a)){
for(i=0,n=a.length;i<n;++i){
if(!f.call(o,a[i],i,a)){
return false;
}
}
}else{
if(typeof a.hasNext=="function"&&typeof a.next=="function"){
for(i=0;a.hasNext();){
if(!f.call(o,a.next(),i++,a)){
return false;
}
}
}else{
for(i in a){
if(!(i in _4)){
if(!f.call(o,a[i],i,a)){
return false;
}
}
}
}
}
return true;
},some:function(a,f,o){
if(typeof a=="string"){
a=a.split("");
}
o=o||_1.global;
f=df.lambda(f);
var i,n;
if(_2.isArray(a)){
for(i=0,n=a.length;i<n;++i){
if(f.call(o,a[i],i,a)){
return true;
}
}
}else{
if(typeof a.hasNext=="function"&&typeof a.next=="function"){
for(i=0;a.hasNext();){
if(f.call(o,a.next(),i++,a)){
return true;
}
}
}else{
for(i in a){
if(!(i in _4)){
if(f.call(o,a[i],i,a)){
return true;
}
}
}
}
}
return false;
}});
return df;
});


;define("dojox/lang/functional/object",["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(_1,_2,df){
var _3={};
_2.mixin(df,{keys:function(_4){
var t=[];
for(var i in _4){
if(!(i in _3)){
t.push(i);
}
}
return t;
},values:function(_5){
var t=[];
for(var i in _5){
if(!(i in _3)){
t.push(_5[i]);
}
}
return t;
},filterIn:function(_6,f,o){
o=o||_1.global;
f=df.lambda(f);
var t={},v,i;
for(i in _6){
if(!(i in _3)){
v=_6[i];
if(f.call(o,v,i,_6)){
t[i]=v;
}
}
}
return t;
},forIn:function(_7,f,o){
o=o||_1.global;
f=df.lambda(f);
for(var i in _7){
if(!(i in _3)){
f.call(o,_7[i],i,_7);
}
}
return o;
},mapIn:function(_8,f,o){
o=o||_1.global;
f=df.lambda(f);
var t={},i;
for(i in _8){
if(!(i in _3)){
t[i]=f.call(o,_8[i],i,_8);
}
}
return t;
}});
return df;
});


;define("dojox/lang/functional",["./functional/lambda","./functional/array","./functional/object"],function(df){
return df;
});


;if(!dojo._hasResource["lconn.share.util.IBMDocs.ThumbnailConstants"]){
dojo._hasResource["lconn.share.util.IBMDocs.ThumbnailConstants"]=true;
(function(){
"use strict";
dojo.provide("lconn.share.util.IBMDocs.ThumbnailConstants");


var _1=lconn.share.util.IBMDocs.ThumbnailConstants;
_1.thumbnailSizes={small:"small",medium:"medium",large:"large"};
_1.validateSize=function(_2){
var _3=dojo.some(dojox.lang.functional.keys(_1.thumbnailSizes),function(_4){
return _4==_2;
});
if(_3){
return true;
}
throw {name:"InvalidArgumentException",message:"\""+_2+"\" is not a valid thumbnail size format."};
};
_1.getOtherSizeFormats=function(_5){
var _6=dojo.filter(dojox.lang.functional.keys(_1.thumbnailSizes),function(_7){
return (_7!=_5);
});
return _6;
};
}());
}


;if(!dojo._hasResource["lconn.share.util.IBMDocs.ViewerRoutes"]){
dojo._hasResource["lconn.share.util.IBMDocs.ViewerRoutes"]=true;
(function(){
"use strict";
dojo.provide("lconn.share.util.IBMDocs.ViewerRoutes");






var _1=lconn.share.util.IBMDocs.ViewerRoutes;
var _2=lconn.share.util.IBMDocs.ThumbnailConstants;
var _3=lconn.core.config.services;
var _4=lconn.core.url;
var _5="/api/thumbnails/{serviceName}/{repositoryName}/{size}";
var _6="/api/thumbnails/{serviceName}/{cmisVersionSeriesId}@{repositoryName}/{size}";
_1.serviceNames={files:"icfiles",ecm:"ecm"};
_1.getServiceName=function(_7){
if(_7.isFilesContext()){
return _1.serviceNames.files;
}
if(_7.isLibraryContext()){
return _1.serviceNames.ecm;
}
};
_1.getViewerServiceURL=function(){
return _4.getServiceUrl(_3.viewer);
};
_1.canBuildViewerServiceURL=function(){
var _8=!!(_3.viewer);
return _8;
};
_1.getThumbnailBatchURL=function(_9,_a,_b){
if(!_9||!_a){
throw {name:"InvalidArgumentException",message:"One of the following arguments was invalid: serviceName=("+_9+"), repositoryName=("+_a+"), size=("+_b+")"};
}
if(!_1.canBuildViewerServiceURL()){
throw {name:"IllegalStateException",message:"Not able to build Viewer service URL because of incorrect environment.  This should have been guarded against with \"ViewerRoutes.canBuildViewerServiceURL\"."};
}
_2.validateSize(_b);
var _c=_1.getViewerServiceURL()+_5;
_c=_1._replaceCommonThumbnailURLIdentifiers(_c,_9,_a,_b);
return _c;
};
_1.getThumbnailSingleURL=function(_d,_e,_f,_10){
if(!_d||!_f){
throw {name:"InvalidArgumentException",message:"One of the following arguments was invalid: serviceName=("+_d+"), repositoryName=("+_f+"), size=("+_10+")"};
}
if(!_1.canBuildViewerServiceURL()){
throw {name:"IllegalStateException",message:"Not able to build Viewer service URL because of incorrect environment.  This should have been guarded against with \"ViewerRoutes.canBuildViewerServiceURL\"."};
}
if(!_e){
return;
}
_2.validateSize(_10);
var url=_1.getViewerServiceURL()+_6;
url=url.replace("{cmisVersionSeriesId}",encodeURIComponent(_e));
url=_1._replaceCommonThumbnailURLIdentifiers(url,_d,_f,_10);
return url;
};
_1._replaceCommonThumbnailURLIdentifiers=function(url,_11,_12,_13){
url=url.replace("{serviceName}",encodeURIComponent(_11));
url=url.replace("{repositoryName}",encodeURIComponent(_12));
url=url.replace("{size}",encodeURIComponent(_13));
return url;
};
}());
}


;if(!dojo._hasResource["lconn.share.bean.AbstractCMISBean"]){
dojo._hasResource["lconn.share.bean.AbstractCMISBean"]=true;
dojo.provide("lconn.share.bean.AbstractCMISBean");




dojo.declare("lconn.share.bean.AbstractCMISBean",null,{_getCMISObjectNode:function(){
if(!this._cmisObjectNode){
var _1=lconn.share.util.dom;
this._cmisObjectNode=_1.xpathNode(this.e,"cmisra:object");
if(!this._cmisObjectNode){
this._cmisObjectNode=_1.xpathNode(this.e,"lcmis:viaResource/cmisra:object");
}
}
return this._cmisObjectNode;
},getPropertyDateTime:function(_2,_3){
var _4=this.getProperty("DateTime",_2);
if(_4==null){
return _3;
}
return _4;
},getPropertyBoolean:function(_5,_6){
var _7=this.getProperty("Boolean",_5);
if(_7==null){
return _6;
}
return _7=="true";
},getPropertyInteger:function(_8,_9){
var _a=this.getProperty("Integer",_8);
return lconn.share.util.text.parseInt(_a,_9);
},getPropertyString:function(_b,_c){
var _d=this.getProperty("String",_b);
if(_d==null){
return _c;
}
return _d;
},getPropertyId:function(_e,_f){
var _10=this.getProperty("Id",_e);
if(_10==null){
return _f;
}
return _10;
},getProperty:function(_11,_12){
return lconn.share.util.dom.xpathString(this._getCMISObjectNode(),"cmis:properties/cmis:property"+_11+"[@propertyDefinitionId='"+_12+"']/cmis:value/text()");
}});
}


;if(!dojo._hasResource["lconn.share.bean.User"]){
dojo._hasResource["lconn.share.bean.User"]=true;
dojo.provide("lconn.share.bean.User");






dojo.declare("lconn.share.bean.User",null,{constructor:function(e){
this.id=lconn.share.util.dom.getChildElementTextContentNS(e,"userid",lconn.share.util.dom.NAMESPACES.SNX)||lconn.share.util.dom.getChildElementTextContentNS(e,"uid",lconn.share.util.dom.NAMESPACES.DOCUMENTS_ATOM);
this.uri=lconn.share.util.dom.getChildElementTextContentNS(e,"uri",lconn.share.util.dom.NAMESPACES.DOCUMENTS_ATOM)||lconn.share.util.dom.getChildElementTextContent(e,"uri");
this.name=lconn.share.util.dom.getChildElementTextContentNS(e,"name",lconn.share.util.dom.NAMESPACES.DOCUMENTS_ATOM)||lconn.share.util.dom.getChildElementTextContent(e,"name");
this.email=lconn.share.util.dom.getChildElementTextContentNS(e,"email",lconn.share.util.dom.NAMESPACES.DOCUMENTS_ATOM)||lconn.share.util.dom.getChildElementTextContent(e,"email");
this.hasEmail=(this.email!=null&&typeof (this.email)!="undefined")||(lconn.share.util.text.trim(this.email).length>0);
this.userState=lconn.share.util.dom.getChildElementTextContentNS(e,"userState",lconn.share.util.dom.NAMESPACES.SNX);
}});
dojo.declare("lconn.share.bean.UserFromCMIS",null,{constructor:function(e){
var _1=lconn.share.util.dom;
this.id=_1.xpathString(e,"lcmis:principalId/text()");
this.name=_1.xpathString(e,"cmis:value/text()");
this.email=_1.xpathString(e,"lcmis:email/text()");
this.hasEmail=(this.email!=null&&typeof (this.email)!="undefined")||(lconn.share.util.text.trim(this.email).length>0);
}});
dojo.declare("lconn.share.bean.UserFromJson",null,{constructor:function(d){
if(dojo.isArray(d)){
this.id=d[0]["snx:userid"]||lconn.share.util.misc.indexById(d,"name","snx:userid").children[0];
this.name=lconn.share.util.misc.indexById(d,"name","name").children[0];
this.email=lconn.share.util.misc.indexById(d,"name","email").children[0];
this.userState=d[0]["snx:userState"]||lconn.share.util.misc.indexById(d,"name","snx:userState").children[0];
}else{
this.id=d["snx:userid"]||lconn.share.util.misc.indexById(d.extensions,"name","snx:userid").children[0];
this.name=d.name;
this.email=d.email;
this.userState=d["snx:userState"]||d.userState;
}
this.hasEmail=(this.email!=null&&typeof (this.email)!="undefined")||(lconn.share.util.text.trim(this.email).length>0);
}});
lconn.share.bean.User.decodeUserUri=function(s){
return decodeURIComponent(s.replace("+"," "));
};
}


;if(!dojo._hasResource["lconn.share.bean.AbstractModerateBean"]){
dojo._hasResource["lconn.share.bean.AbstractModerateBean"]=true;
dojo.provide("lconn.share.bean.AbstractModerateBean");






dojo.declare("lconn.share.bean.AbstractModerateBean",null,{getStatus:function(){
if(!this.status){
this.status=lconn.share.util.dom.getChildElementAttributeMatching(this.e,"category","scheme","http://www.ibm.com/xmlns/prod/sn/flags","term");
}
return this.status;
},isActive:function(){
var _1=this.getStatus();
return (!_1)||"active"==_1;
},isQuarantined:function(){
return "quarantined"==this.getStatus();
},isPending:function(){
return "pending"==this.getStatus();
},isRejected:function(){
return "rejected"==this.getStatus();
},getStateChangedBy:function(){
if(!this.stateChangedBy){
var e=lconn.share.util.dom.getElementsByTagNameNS(this.e,"stateChangedBy",lconn.share.util.dom.NAMESPACES.SNX)[0];
if(e){
this.stateChangedBy=new lconn.share.bean.User(e);
}
}
return this.stateChangedBy;
},getStateChangedWhen:function(){
if(!this.stateChangedWhen){
this.stateChangedWhen=lconn.share.util.misc.date.convertAtomDate(lconn.share.util.dom.getChildElementTextContentNS(this.e,"stateChangedWhen",lconn.share.util.dom.NAMESPACES.SNX));
}
return this.stateChangedWhen;
},getUrlReport:function(){
var _2=lconn.share.util.dom;
return lconn.share.util.dom.getChildElementAttributeMatchingNS(this.e,"link",_2.ATOM_NAMESPACE,"rel",null,"http://www.ibm.com/xmlns/prod/sn/reports","href",null);
},isFlaggable:function(){
return this.getUrlReport();
}});
dojo.declare("lconn.share.bean.AbstractModerateBeanFromJson",lconn.share.bean.AbstractModerateBean,{getStatus:function(){
if(!this.status){
var _3=lconn.share.util.misc.indexById(this.d.categories,"scheme","http://www.ibm.com/xmlns/prod/sn/flags");
if(_3){
this.status=_3.term;
}
}
return this.status;
},getStateChangedBy:function(){
if(!this.stateChangedBy){
var _4=lconn.share.util.misc.indexById(this.d.extensions,"name","snx:stateChangedBy");
this.stateChangedBy=new lconn.share.bean.UserFromJson(_4);
}
return this.stateChangedBy;
},getStateChangedWhen:function(){
if(!this.stateChangedWhen){
var _5=lconn.share.util.misc.indexById(this.d.extensions,"name","snx:stateChangedWhen");
if(_5){
this.stateChangedWhen=lconn.share.util.misc.date.convertAtomDate(_5.children[0]);
}
}
return this.stateChangedWhen;
}});
}


;if(!dojo._hasResource["lconn.share.bean.Lock"]){
dojo._hasResource["lconn.share.bean.Lock"]=true;
dojo.provide("lconn.share.bean.Lock");






dojo.declare("lconn.share.bean.Lock",null,{constructor:function(e){
this.e=e;
},getType:function(){
return this.e?this.e.getAttribute("type"):null;
},getOwner:function(){
if(!this.owner&&this.e){
var e=lconn.share.util.dom.getChildElementNS(this.e,"owner",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
if(e){
this.owner=new lconn.share.bean.User(e);
}
}
return this.owner;
},getLockTime:function(){
if(!this.lockTime){
this.lockTime=lconn.share.util.misc.date.convertAtomDate(lconn.share.util.dom.getChildElementTextContentNS(this.e,"lockTime",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE));
}
return this.lockTime;
}});
}


;if(!dojo._hasResource["lconn.share.bean.Policy"]){
dojo._hasResource["lconn.share.bean.Policy"]=true;
dojo.provide("lconn.share.bean.Policy");






dojo.declare("lconn.share.bean.Policy",null,{constructor:function(e){
if(e){
var p=lconn.share.bean.Policy.createPolicy(e);
dojo.mixin(this,p);
}
}});
lconn.share.bean.Policy.SUPPORTED_POLICY=["organizationPublic","contentFollowing"];
lconn.share.bean.Policy.createPolicy=function(e){
if(e){
var _1=lconn.share.bean.Policy.SUPPORTED_POLICY;
var p={};
dojo.forEach(_1,function(_2){
var _3=lconn.share.util.dom.getChildElementTextContentNS(e,_2,lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
if(_3){
if(_3==="true"){
p[_2]=true;
}else{
p[_2]=false;
}
}
});
return p;
}
};
}


;if(!dojo._hasResource["lconn.core.uiextensions"]){
dojo._hasResource["lconn.core.uiextensions"]=true;
dojo.provide("lconn.core.uiextensions");


if(!window.lc_ui_extensionsContainer){
window.lc_ui_extensionsContainer={};
}
lconn.core.uiextensions={invokeExtesions:function(_1){
return lconn.core.uiextensions.invokeExtensions(_1);
},get:function(_2){
if(window.lc_ui_extensionsContainer==null){
console.log("lconn.core.uiextensions.invokeExtensions: lc_ui_extensionsContainer is not defined. plugin taglib must be missing.");
return [];
}
return window.lc_ui_extensionsContainer[_2];
},when:function(_3,_4){
var c=window.lc_ui_extensionsWhen;
if(!c){
c=window.lc_ui_extensionsWhen={};
}
var _5=c[_3];
if(!_5){
_5=c[_3]=new dojo.Deferred();
}
if(_5.fired==-1&&typeof _4!="undefined"){
try{
_5.callback(_4);
}
catch(e){
console.error(e);
}
}
return _5;
},add:function(_6,_7){
var c=window.lc_ui_extensionsContainer;
if(!c){
c=window.lc_ui_extensionsContainer={};
}
var _8=c[_6];
if(!_8){
_8=c[_6]=[];
}
_8.push(_7);
},invokeExtensions:function(_9){
if(window.lc_ui_extensionsContainer==null){
console.log("lconn.core.uiextensions.invokeExtensions: lc_ui_extensionsContainer is not defined. plugin taglib must be missing.");
return;
}
var _a=window.lc_ui_extensionsContainer[_9];
for(var i=0;_a!=null&&i<_a.length;i++){
var _b=_a[i].script;
var _c=_a[i].callbackText;
if(_c==null||_c==""){
continue;
}
var _d=function(){
if(_b!=null){
lconn.core.utilities.loadScript(_b);
}
var _e=function(){
eval(_c+"();");
};
lconn.core.utilities.processUntilAvailable(_e,"lconn.core.utilities.isDefined('"+_c+"')");
};
var _f=_a[i].invokeDelay;
if(_f!=null&&_f!=""){
setTimeout(_d,_f);
}else{
_d();
}
}
},areExtensionsEnabled:function(_10){
if(window.lc_ui_extensionsContainer==null){
console.log("lconn.core.uiextensions.areExtensionsEnabled: lc_ui_extensionsContainer is not defined. plugin taglib must be missing.");
return;
}
var _11=false;
if(typeof (window.lc_ui_extensionsContainer)!="undefined"&&window.lc_ui_extensionsContainer!=null){
var _12=window.lc_ui_extensionsContainer[_10];
for(var i=0;_12!=null&&i<_12.length;i++){
var _13=_12[i].callbackText;
if(_13!=null&&_13!=""&&typeof (_13)!="undefined"){
_11=true;
}
}
}
return _11;
},getParameters:function(_14,_15){
if(window.lc_ui_extensionsContainer==null){
console.log("lconn.core.uiextensions.getParameters: lc_ui_extensionsContainer is not defined. plugin taglib must be missing.");
return;
}
var _16=window.lc_ui_extensionsContainer[_14];
for(var i=0;_16!=null&&i<_16.length;i++){
if(_16[i]!=null&&_16[i].id==_15){
return _16[i].params;
}
}
return null;
}};
}


;if(!dojo._hasResource["lconn.share.bean.ConfigurableBean"]){
dojo._hasResource["lconn.share.bean.ConfigurableBean"]=true;
dojo.provide("lconn.share.bean.ConfigurableBean");


dojo.declare("lconn.share.bean.ConfigurableBean",null,{getConfiguration:function(_1){
if(this.config){
return this.config;
}
var _2=this.config={};
if(this.getExtConfiguration){
dojo.mixin(_2,this.getExtConfiguration(_1));
}
return _2;
}});
dojo.declare("lconn.share.bean.ConfigurableFile",lconn.share.bean.ConfigurableBean,{getExtConfiguration:function(_3){
var _4=lconn.core.uiextensions.get("lconn/files/config/file");
var _5={};
if(_4){
for(var i=0;i<_4.length;i++){
dojo.mixin(_5,_4[i](this,_3));
}
}
return _5;
}});
dojo.declare("lconn.share.bean.ConfigurableCollection",lconn.share.bean.ConfigurableBean,{});
}


;if(!dojo._hasResource["lconn.share.bean.File"]){
dojo._hasResource["lconn.share.bean.File"]=true;
(function(){
var _1=function(_2,_3){
if(!_2){
return null;
}
var _4=_2.indexOf("/basic");
if(_4==-1){
_4=_2.indexOf("/form");
}
var _5=null;
if(_4>0){
var _6=_2.substring(0,_4);
_5=[_6,"/app/file/",_3].join("");
}
return _5;
};
dojo.provide("lconn.share.bean.File");
























var _7=lconn.share.util.IBMDocs.ViewerRoutes;
var _8=lconn.share.util.IBMDocs.ThumbnailConstants;
dojo.declare("lconn.share.bean.File",[lconn.share.bean.AbstractModerateBean,lconn.share.bean.ConfigurableFile],{constructor:function(_9){
this.e=_9;
this._thumbnailData={};
},isFolder:function(){
return "folder"==this.getCategory();
},getEntry:function(){
return this.e;
},getAtomId:function(){
return lconn.share.util.dom.getChildElementTextContent(this.e,"id");
},getId:function(){
return lconn.share.util.dom.getChildElementTextContentNS(this.e,"uuid",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
},getName:function(){
return this.getLabel();
},getPublishedTitle:function(){
var _a=lconn.share.util.dom.getChildElementAttributeMatching(this.e,"link","rel","enclosure","title");
if(_a){
return _a;
}else{
return this.getName();
}
},getTitle:function(){
return lconn.share.util.dom.getChildElementTextContentNS(this.e,"title",lconn.share.util.dom.ATOM_NAMESPACE);
},getDraftStatus:function(){
if(lconn.share.util.dom.getChildElementAttribute(this.e,"category","term")=="draft"){
var _b=lconn.share.util.dom.getChildElementTextContentNS(this.e,"approvalState",lconn.share.util.dom.NAMESPACES.DOCUMENTS_ATOM);
if(_b=="pending"){
return "draftReview";
}
if(_b=="rejected"){
return "draftRejected";
}
return "draft";
}
return null;
},getLabel:function(){
var s=lconn.share.util.dom.getChildElementTextContentNS(this.e,"label",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
var _c=lconn.share.util.dom;
if(!s||s.length==0){
s=_c.getChildElementAttributeMatchingNS(this.e,"link",_c.ATOM_NAMESPACE,"rel",null,"enclosure","title",null);
}
if(!s||s.length==0){
s=this.getTitle();
}
return s;
},getContent:function(){
return this.content||lconn.share.util.dom.getChildElementTextContent(this.e,"content");
},getExtension:function(){
return lconn.share.util.text.getExtension(this.getLabel());
},getDescription:function(){
return lconn.share.util.dom.getChildElementTextContent(this.e,"summary");
},getChangeSummary:function(){
return lconn.share.util.dom.getChildElementTextContent(this.e,"changeSummary");
},getCategory:function(){
return lconn.share.util.dom.getChildElementAttributeMatching(this.e,"category","scheme","tag:ibm.com,2006:td/type","term");
},isPage:function(){
return this.getCategory()=="page";
},getAuthor:function(){
if(!this.author&&this.e){
this.author=new lconn.share.bean.User(this.e.getElementsByTagName("author")[0]);
}
return this.author;
},getObjectTypeId:function(){
return lconn.share.util.dom.getChildElementTextContentNS(this.e,"objectTypeId",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
},getLibraryId:function(){
if(!this.e){
return null;
}
var s=lconn.share.util.dom.getChildElementTextContentNS(this.e,"libraryId",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
if(!s){
throw "Library id not returned in element";
}
return s;
},isFilesContext:function(){
return (dojo.indexOf(lconn.share.bean.File.CONTEXTS.FILES,this.getLibraryType())>-1);
},isLibraryContext:function(){
return (dojo.indexOf(lconn.share.bean.File.CONTEXTS.ECM,this.getLibraryType())>-1);
},getLibraryType:function(){
if(this._libraryType){
return this._libraryType;
}
if(!this.e){
return null;
}
this._libraryType=lconn.share.util.dom.getChildElementTextContentNS(this.e,"libraryType",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
return this._libraryType;
},isSyncable:function(){
if(!this.e){
return null;
}
if(this.syncable==null||typeof (this.syncable)=="undefined"){
var _d=lconn.share.util.dom.getChildElementTextContentNS(this.e,"isSyncable",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
if(!_d){
console.log("File Sync mark was not returned in element");
}
this.syncable=_d=="true";
}
return this.syncable;
},getLibraryAuthor:function(){
if(!this.libraryAuthor&&this.e){
var e=lconn.share.util.dom.getElementsByTagNameNS(this.e,"libraryAuthor",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE)[0];
if(e){
this.libraryAuthor=new lconn.share.bean.User(e);
}
}
return this.libraryAuthor;
},getPolicy:function(){
if(this.policy===undefined&&this.e){
var e=lconn.share.util.dom.getElementsByTagNameNS(this.e,"policy",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE)[0];
this.policy=e?lconn.share.bean.Policy.createPolicy(e):null;
}
return this.policy;
},getAddedBy:function(){
if(!this.addedBy&&this.e){
var e=lconn.share.util.dom.getElementsByTagNameNS(this.e,"addedBy",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE)[0];
if(e){
this.addedBy=new lconn.share.bean.User(e);
}
}
return this.addedBy;
},getAdded:function(){
if(!this.added){
this.added=lconn.share.util.misc.date.convertAtomDate(lconn.share.util.dom.getChildElementTextContentNS(this.e,"added",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE));
}
return this.added;
},getSharedBy:function(){
if(!this.sharedBy&&this.e){
var e=lconn.share.util.dom.getElementsByTagNameNS(this.e,"sharedBy",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE)[0];
if(e){
this.sharedBy=new lconn.share.bean.User(e);
}
}
return this.sharedBy;
},getShared:function(){
if(!this.shared){
this.shared=lconn.share.util.misc.date.convertAtomDate(lconn.share.util.dom.getChildElementTextContentNS(this.e,"shared",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE));
}
return this.shared;
},getDeletedBy:function(){
if(!this.deletedBy&&this.e){
var e=lconn.share.util.dom.getElementsByTagNameNS(this.e,"deletedBy",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE)[0];
if(e){
this.deletedBy=new lconn.share.bean.User(e);
}
}
return this.deletedBy;
},getDeleted:function(){
if(!this.deleted){
this.deleted=lconn.share.util.misc.date.convertAtomDate(lconn.share.util.dom.getChildElementTextContentNS(this.e,"deletedWhen",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE));
}
return this.deleted;
},getModifier:function(){
if(!this.modifier&&this.e){
var e=lconn.share.util.dom.getElementsByTagNameNS(this.e,"modifier",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE)[0];
if(e){
this.modifier=new lconn.share.bean.User(e);
}
}
return this.modifier;
},getUpdated:function(){
if(!this.updated){
this.updated=lconn.share.util.misc.date.convertAtomDate(lconn.share.util.dom.getChildElementTextContentNS(this.e,"modified",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE))||this.getSystemLastModified();
}
return this.updated;
},getPublished:function(){
if(!this.published){
this.published=lconn.share.util.misc.date.convertAtomDate(lconn.share.util.dom.getChildElementTextContentNS(this.e,"created",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE))||this.getSystemCreated();
}
return this.published;
},getSystemLastModified:function(){
if(!this.systemLastModified){
this.systemLastModified=lconn.share.util.misc.date.convertAtomDate(lconn.share.util.dom.getChildElementTextContent(this.e,"updated"));
}
return this.systemLastModified;
},getSystemCreated:function(){
if(!this.systemCreated){
this.systemCreated=lconn.share.util.misc.date.convertAtomDate(lconn.share.util.dom.getChildElementTextContent(this.e,"published"));
}
return this.systemCreated;
},getOrgId:function(){
if(this._orgId==undefined){
this._orgId=lconn.share.util.dom.getChildElementTextContentNS(this.e,"orgId",lconn.share.util.dom.SNX_NAMESPACE);
}
return this._orgId;
},getOrgName:function(){
if(this._orgName==undefined){
this._orgName=lconn.share.util.dom.getChildElementTextContentNS(this.e,"orgName",lconn.share.util.dom.SNX_NAMESPACE);
}
return this._orgName;
},getRating:function(){
return lconn.share.util.text.parseInt(lconn.share.util.dom.getChildElementTextContentNS(this.e,"rating",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE));
},getAverageRating:function(){
return lconn.share.util.text.parseFloat(lconn.share.util.dom.getChildElementTextContentNS(this.e,"averageRating",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE));
},getRatingCount:function(){
if(this.ratingCount!=null){
return this.ratingCount;
}
return this.ratingCount=lconn.share.util.text.parseInt(lconn.share.util.dom.getChildElementMatchingAttributeTextContentNS(this.e,"rank",lconn.share.util.dom.SNX_NAMESPACE,"scheme",null,"http://www.ibm.com/xmlns/prod/sn/recommendations"));
},getUrlRecommendation:function(){
if(!this.urlRecommendation){
var _e=lconn.share.util.dom;
this.urlRecommendation=_e.getChildElementAttributeMatchingNS(this.e,"link",_e.ATOM_NAMESPACE,"rel",null,"recommendation","href",null);
this.urlRecommendation=this.urlRecommendation?this.urlRecommendation:null;
}
return this.urlRecommendation;
},isUserRecommended:function(){
return this.getUrlRecommendation()?true:false;
},isEncrypted:function(){
if(this.encrypted===undefined){
this.encrypted=(lconn.share.util.dom.getChildElementTextContentNS(this.e,"encrypt",lconn.share.util.dom.SNX_NAMESPACE)=="true");
}
return this.encrypted;
},getPermissions:function(){
if(!this.permissions){
var s=lconn.share.util.dom.getChildElementTextContentNS(this.e,"permissions",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
var p={};
if(s){
dojo.forEach(s.split(","),function(a){
if(a&&a.length>0){
p[dojo.trim(a)]=true;
}
});
}
this.permissions=p;
}
return this.permissions;
},hasFullPermissions:function(){
return this.getPermissions().View;
},getVisibility:function(){
if(!this.visibility){
this.visibility=lconn.share.util.dom.getChildElementTextContentNS(this.e,"visibility",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
}
return this.visibility;
},isRestrictedVisibility:function(){
return (lconn.share.util.dom.getChildElementTextContentNS(this.e,"restrictedVisibility",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE)=="true");
},getAllSharesCount:function(){
return this.getShareCount()+this.getCollectionCount();
},isExternal:function(){
if(this._isExternal==undefined){
this._isExternal=(lconn.share.util.dom.getChildElementTextContentNS(this.e,"isExternal",lconn.share.util.dom.SNX_NAMESPACE)=="true");
}
return this._isExternal;
},isPublic:function(){
return this.getVisibility()=="public";
},isPrivate:function(){
return this.getVisibility()=="private";
},isShared:function(){
return this.getVisibility()=="shared";
},isViralShareAllowed:function(){
return (lconn.share.util.dom.getChildElementTextContentNS(this.e,"propagation",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE)=="true");
},isFiledInFolder:function(){
return (lconn.share.util.dom.getChildElementTextContentNS(this.e,"isFiledInFolder",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE)=="true");
},getNotifications:function(){
if(typeof this.notifications=="undefined"&&this.e){
var n=this.notifications={};
var e=lconn.share.util.dom.getChildElementNS(this.e,"notifications",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
if(e){
var c;
for(var i=0;c=e.childNodes[i];i++){
if(c.nodeType==1){
n[c.localName||c.baseName]=lconn.share.util.dom.xmlText(c)=="on";
}
}
}
}
return this.notifications;
},hasNotifications:function(){
if(this.notifications){
return true;
}
return (this.e&&lconn.share.util.dom.getChildElementNS(this.e,"notifications",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE));
},getTimesDownloaded:function(){
if(typeof this.downloadCount=="undefined"){
this.downloadCount=lconn.share.util.text.parseInt(lconn.share.util.dom.getChildElementMatchingAttributeTextContentNS(this.e,"rank",lconn.share.util.dom.SNX_NAMESPACE,"scheme",null,"http://www.ibm.com/xmlns/prod/sn/hit"));
}
return this.downloadCount;
},getTimesDownloadedAnonymously:function(){
return lconn.share.util.text.parseInt(lconn.share.util.dom.getChildElementMatchingAttributeTextContentNS(this.e,"rank",lconn.share.util.dom.SNX_NAMESPACE,"scheme",null,"http://www.ibm.com/xmlns/prod/sn/anonymous_hit"));
},getUrlDownload:function(){
if(!this.urlDownload){
var _f=lconn.share.util.dom;
this.urlDownload=_f.getChildElementAttributeMatchingNS(this.e,"link",_f.ATOM_NAMESPACE,"rel",null,"enclosure","href",null);
}
return this.urlDownload;
},setRepositoryName:function(_10){
this.repositoryName=_10;
},getRepositoryName:function(){
return this.repositoryName;
},getUrlThumbnail:function(){
if(!this.urlThumbnail){
var qud=lconn.share.util.dom;
this.urlThumbnail=qud.getChildElementAttributeMatchingNS(this.e,"link",qud.ATOM_NAMESPACE,"rel",null,"thumbnail","href",null);
}
return this.urlThumbnail;
},setThumbnailData:function(_11,_12){
_8.validateSize(_11);
this._thumbnailData[_11]=_12;
},getThumbnailData:function(_13){
_8.validateSize(_13);
return this._thumbnailData[_13];
},hasDownloadInfo:function(){
return typeof this.getDownloadInfo().downloaded!="undefined";
},hasDownloaded:function(){
return this.getDownloadInfo().downloaded;
},hasDownloadedLatest:function(){
var d=this.getDownloadInfo();
return d.downloaded&&d.version==this.getLatestVersionLabel();
},getDownloadInfo:function(){
if(typeof this.downloadInfo=="undefined"&&this.e){
var n=this.downloadInfo={};
var qud=lconn.share.util.dom;
var _14=qud.DOCUMENTS_ATOM_NAMESPACE;
var e=qud.getChildElementNS(this.e,"downloadInfo",_14);
if(e){
n.date=lconn.share.util.misc.date.convertAtomDate(qud.getChildElementTextContentNS(e,"downloadedDate",_14));
n.id=qud.getChildElementTextContentNS(e,"versionUuid",_14);
n.version=parseInt(qud.getChildElementTextContentNS(e,"versionNumber",_14));
n.downloaded=!!n.id;
}
}
return this.downloadInfo;
},isLocked:function(){
var _15=this.getLock();
if(_15&&_15.getType()!="NONE"){
return true;
}
return false;
},getLock:function(){
if(typeof this.lock=="undefined"&&this.e){
var qud=lconn.share.util.dom;
var _16=qud.getChildElementNS(this.e,"lock",qud.DOCUMENTS_ATOM_NAMESPACE);
this.lock=_16?new lconn.share.bean.Lock(_16):null;
}
return this.lock;
},getLockOwner:function(){
if(!this.ccmFileLocked&&this.e){
if(lconn.share.util.dom.getChildElementTextContentNS(this.e,"locked",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE)){
var e=lconn.share.util.dom.getElementsByTagNameNS(this.e,"lockOwner",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE)[0];
if(e){
this.ccmFileLocked=new lconn.share.bean.User(e);
return this.ccmFileLocked;
}
}
return null;
}
},getUrlEntry:function(){
var qud=lconn.share.util.dom;
return lconn.share.util.dom.getChildElementAttributeMatchingNS(this.e,"link",qud.ATOM_NAMESPACE,"rel",null,"self","href",null);
},getUrlEdit:function(){
var qud=lconn.share.util.dom;
return lconn.share.util.dom.getChildElementAttributeMatchingNS(this.e,"link",qud.ATOM_NAMESPACE,"rel",null,"edit","href",null);
},getUrlFeed:function(){
var qud=lconn.share.util.dom;
return lconn.share.util.dom.getChildElementAttributeMatchingNS(this.e,"link",qud.ATOM_NAMESPACE,"rel",null,"replies","href",null);
},getUrlAlternate:function(){
var qud=lconn.share.util.dom;
return lconn.share.util.dom.getChildElementAttributeMatchingNS(this.e,"link",qud.ATOM_NAMESPACE,"rel",null,"alternate","href",null);
},getUrlSummary:function(){
if(!this._urlSummary){
this._urlSummary=this.getUrlAlternate();
}
return this._urlSummary;
},getUrlThumbnail:function(){
var qud=lconn.share.util.dom;
return lconn.share.util.dom.getChildElementAttributeMatchingNS(this.e,"link",qud.ATOM_NAMESPACE,"rel",null,"thumbnail","href",null);
},getThumbnailUrl:function(_17){
if(!_17){
return this.getUrlThumbnail();
}else{
return this.getThumbnailData(_17)||this.getUrlThumbnail()||this.buildThumbnailUrl(_17);
}
},buildThumbnailUrl:function(_18){
if(this.isFilesContext()){
return;
}
if(this.isLibraryContext()){
repositoryName=this.getRepositoryName();
cmisVersionSeriesId=this.getCMISVersionSeriesId();
if(!repositoryName){
throw {name:"InvalidArgumentException",message:"One of the following arguments was invalid: repositoryName=("+repositoryName+")"};
}
if(!cmisVersionSeriesId){
return;
}
_8.validateSize(_18);
return _7.getThumbnailSingleURL(_7.getServiceName(this),cmisVersionSeriesId,repositoryName,_18);
}
return;
},getUrlVia:function(){
var qud=lconn.share.util.dom;
return this.viaUrl=lconn.share.util.dom.getChildElementAttributeMatchingNS(this.e,"link",qud.ATOM_NAMESPACE,"rel",null,"via","href",null)||this.getUrlAlternate();
},getUrlVia:function(){
var qud=lconn.share.util.dom;
return this.viaUrl=lconn.share.util.dom.getChildElementAttributeMatchingNS(this.e,"link",qud.ATOM_NAMESPACE,"rel",null,"via","href",null)||this.getUrlAlternate();
},isIBMDocsFile:function(){
if(!this.isLibraryContext()){
return false;
}
var _19=lconn.share.util.dom.getChildElementTextContentNS(this.e,"IBMDocsState",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
return !!_19&&_19!=="none";
},getTags:function(){
if(!this.tags){
var _1a=[];
if(this.e){
for(var i=0;i<this.e.childNodes.length;i++){
var _1b=this.e.childNodes[i];
if(_1b.nodeName=="category"&&_1b.getAttribute("scheme")==null){
_1a.push(_1b.getAttribute("term"));
}
}
}
this.tags=_1a;
}
return this.tags;
},getSize:function(){
if(typeof this.size=="undefined"){
var qud=lconn.share.util.dom;
this.size=parseInt(lconn.share.util.dom.getChildElementAttributeMatchingNS(this.e,"link",qud.ATOM_NAMESPACE,"rel",null,"enclosure","length",null));
}
return this.size;
},getTotalSize:function(){
if(typeof this.totalSize=="undefined"){
this.totalSize=parseInt(lconn.share.util.dom.getChildElementTextContentNS(this.e,"totalMediaSize",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE));
}
return this.totalSize;
},getMimeType:function(){
var qud=lconn.share.util.dom;
return lconn.share.util.dom.getChildElementAttributeMatchingNS(this.e,"link",qud.ATOM_NAMESPACE,"rel",null,"enclosure","type",null);
},getDocumentId:function(){
lconn.share.util.dom.getChildElementTextContentNS(this.e,"documentId",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
},getVersionId:function(){
return lconn.share.util.dom.getChildElementTextContentNS(this.e,"versionUuid",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
},getBatchThumbnailId:function(){
return this.getVersionId()||this.getCMISVersionId()||this.getCMISDocumentId()||this.getVersionIdFromNexusId();
},getSingleThumbnailId:function(){
return this.getCMISVersionSeriesId();
},getCMISVersionId:function(){
return lconn.share.util.dom.getChildElementTextContentNS(this.e,"cmisVersionID",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
},getCMISVersionSeriesId:function(){
return lconn.share.util.dom.getChildElementTextContentNS(this.e,"cmisVersionSeriesID",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
},getCMISDocumentId:function(){
return lconn.share.util.dom.getChildElementTextContentNS(this.e,"cmisDocumentID",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
},getVersionIdFromNexusId:function(){
var _1c="idd_";
var _1d=this.getNexusId();
if(_1d){
var _1e=_1d.substring(_1d.lastIndexOf(";")+1);
var _1f=_1e.slice(1,-1);
var _20=_1c+_1f;
return _20;
}
},getNexusId:function(){
return lconn.share.util.dom.getChildElementTextContentNS(this.e,"nexusId",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
},getVersionLabel:function(){
return lconn.share.util.dom.getChildElementTextContentNS(this.e,"versionLabel",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
},getDocumentVersionId:function(){
return lconn.share.util.dom.getChildElementTextContentNS(this.e,"documentVersionUuid",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
},getDocumentVersionLabel:function(){
return lconn.share.util.dom.getChildElementTextContentNS(this.e,"documentVersionLabel",lconn.share.util.dom.DOCUMENTS_ATOM_NAMESPACE);
},getCurrentVersionId:function(){
return this.getVersionId()||this.getDocumentVersionId();
},getCurrentVersionLabel:function(){
return this.getVersionLabel()||this.getDocumentVersionLabel();
},getLatestVersionId:function(){
return this.getDocumentVersionId()||this.getVersionId();
},getLatestVersionLabel:function(){
return this.getDocumentVersionLabel()||this.getVersionLabel();
},getCommentCount:function(){
if(typeof this.commentCount=="undefined"){
var qud=lconn.share.util.dom;
this.commentCount=lconn.share.util.text.parseInt(lconn.share.util.dom.getChildElementAttributeMatchingNS(this.e,"link",qud.ATOM_NAMESPACE,"rel",null,"replies","count",lconn.share.util.dom.THREAD_ATOM_NAMESPACE));
}
return this.commentCount;
},getShareCount:function(){
if(typeof this.shareCount=="undefined"){
this.shareCount=lconn.share.util.text.parseInt(lconn.share.util.dom.getChildElementMatchingAttributeTextContentNS(this.e,"rank",lconn.share.util.dom.SNX_NAMESPACE,"scheme",null,"http://www.ibm.com/xmlns/prod/sn/share"),0);
}
return this.shareCount;
},getCollectionCount:function(){
if(typeof this.collectionCount=="undefined"){
this.collectionCount=lconn.share.util.text.parseInt(lconn.share.util.dom.getChildElementMatchingAttributeTextContentNS(this.e,"rank",lconn.share.util.dom.SNX_NAMESPACE,"scheme",null,"http://www.ibm.com/xmlns/prod/sn/collections"),0);
}
return this.collectionCount;
},getReferenceCount:function(){
if(typeof this.referenceCount=="undefined"){
this.referenceCount=lconn.share.util.text.parseInt(lconn.share.util.dom.getChildElementMatchingAttributeTextContentNS(this.e,"rank",lconn.share.util.dom.SNX_NAMESPACE,"scheme",null,"http://www.ibm.com/xmlns/prod/sn/references"),0);
}
return this.referenceCount;
},getAttachmentCount:function(){
if(typeof this.attachmentCount=="undefined"){
this.attachmentCount=lconn.share.util.text.parseInt(lconn.share.util.dom.getChildElementMatchingAttributeTextContentNS(this.e,"rank",lconn.share.util.dom.SNX_NAMESPACE,"scheme",null,"http://www.ibm.com/xmlns/prod/sn/attachments"));
}
return this.attachmentCount;
},getVersionCount:function(){
if(typeof this.versionCount=="undefined"){
this.versionCount=lconn.share.util.text.parseInt(lconn.share.util.dom.getChildElementMatchingAttributeTextContentNS(this.e,"rank",lconn.share.util.dom.SNX_NAMESPACE,"scheme",null,"http://www.ibm.com/xmlns/prod/sn/versions"));
}
return this.versionCount;
},getMicroblogCount:function(){
if(typeof this.microblogsCount=="undefined"){
this.microblogsCount=lconn.share.util.text.parseInt(lconn.share.util.dom.getChildElementMatchingAttributeTextContentNS(this.e,"rank",lconn.share.util.dom.SNX_NAMESPACE,"scheme",null,"http://www.ibm.com/xmlns/prod/sn/microblogs"));
}
return this.microblogsCount;
}});
dojo.declare("lconn.share.bean.FileFromJson",[lconn.share.bean.AbstractModerateBeanFromJson,lconn.share.bean.ConfigurableBean],{constructor:function(doc){
this.d=doc;
},getTitle:function(){
return this.d.title;
},getUrlEntry:function(){
if(!this.urlEntry){
var _21=lconn.share.util.misc.indexById(this.d.links,"rel","self");
if(_21){
this.urlEntry=_21.href;
}
}
return this.urlEntry;
},getUrlEdit:function(){
if(!this.urlEdit){
var _22=lconn.share.util.misc.indexById(this.d.links,"rel","edit");
if(_22){
this.urlEdit=_22.href;
}
}
return this.urlEdit;
},getUrlFeed:function(){
if(!this.urlFeed){
var _23=lconn.share.util.misc.indexById(this.d.links,"rel","replies");
if(_23){
this.urlFeed=_23.href;
}
}
return this.urlFeed;
},getSystemLastModified:function(){
return lconn.share.util.misc.date.convertAtomDate(this.d.updated);
},getShareCount:function(){
return lconn.share.util.text.parseInt(lconn.share.util.misc.indexById(this.d.extensions,"name","snx:rank").children[0],0);
},getPublished:function(){
return lconn.share.util.misc.date.convertAtomDate(this.d.published);
},getSystemCreated:function(){
return this.getPublished();
},getMimeType:function(){
if(!this.mimeType){
var _24=lconn.share.util.misc.indexById(this.d.links,"rel","enclosure");
if(_24){
this.mimeType=_24.type;
}
}
return this.mimeType;
},getExtension:function(){
return lconn.share.util.text.getExtension(this.getLabel());
},getLibraryId:function(){
return lconn.share.util.misc.indexById(this.d.extensions,"name","td:libraryId").children[0];
},getLibraryType:function(){
return lconn.share.util.misc.indexById(this.d.extensions,"name","td:libraryType").children[0];
},getName:function(){
return this.getLabel();
},getUrlDownload:function(){
if(!this.urlDownload){
var _25=lconn.share.util.misc.indexById(this.d.links,"rel","enclosure");
if(_25){
this.urlDownload=_25.href;
}
}
return this.urlDownload;
},getDescription:function(){
return this.d.summary;
},getLabel:function(){
if(!this.label){
this.label=lconn.share.util.misc.indexById(this.d.links,"rel","enclosure").title;
}
return this.label;
},getAtomId:function(){
if(this.atomId){
return this.atomId;
}
return this.atomId=this.d.id;
},getContent:function(){
if(this.content){
return this.content;
}
return this.content=this.d.content;
},getId:function(){
if(this.id){
return this.id;
}
return this.id=lconn.share.util.misc.indexById(this.d.extensions,"name","td:uuid").children[0];
},getCommentCount:function(){
if(this.commentCount){
return this.commentCount;
}
return this.commentCount=lconn.share.util.text.parseInt(lconn.share.util.misc.indexById(this.d.links,"rel","replies").attributes["td:commentCount"].value,0);
},getMicroblogCount:function(){
if(typeof this.microblogsCount=="undefined"){
this.microblogsCount=0;
var arr=this.d.extensions;
for(var i=0;i<arr.length;i++){
var ext=arr[i];
if(ext.name=="snx:rank"&&ext.attributes.scheme=="http://www.ibm.com/xmlns/prod/sn/microblogs"){
this.microblogsCount=lconn.share.util.text.parseInt(ext.children[0]);
break;
}
}
}
return this.microblogsCount;
},getOrgId:function(){
if(this.orgId){
return this.orgId;
}
var _26=lconn.share.util.misc.indexById(this.d.extensions,"name","snx:orgId");
if(_26){
this.orgId=_26.children[0];
}
return this.orgId;
},getOrgName:function(){
if(this.orgName){
return this.orgName;
}
var _27=lconn.share.util.misc.indexById(this.d.extensions,"name","snx:orgName");
if(_27){
this.orgName=_27.children[0];
}
return this.orgName;
},getUrlAlternate:function(){
if(!this.alternate){
var _28=lconn.share.util.misc.indexById(this.d.links,"rel","alternate");
if(_28){
this.alternate=_28.href;
}
}
return this.alternate;
},getUrlThumbnail:function(){
if(!this.thumbnail){
var _29=lconn.share.util.misc.indexById(this.d.links,"rel","thumbnail");
if(_29){
this.thumbnail=_29.href;
}
}
return this.thumbnail;
},getUrlVia:function(){
if(!this.alternate){
var _2a=lconn.share.util.misc.indexById(this.d.links,"rel","via");
this.alternate=_2a.href||this.getUrlAlternate();
}
return this.alternate;
},getSize:function(){
if(!this.length){
this.length=lconn.share.util.misc.indexById(this.d.links,"rel","enclosure").length;
}
return this.length;
},getTotalSize:function(){
if(!this.totalSize){
this.totalSize=parseInt(lconn.share.util.misc.indexById(this.d.extensions,"name","td:totalMediaSize").children[0]);
}
return this.totalSize;
},getUpdated:function(){
if(!this.updated){
this.updated=lconn.share.util.misc.date.convertAtomDate(lconn.share.util.misc.indexById(this.d.extensions,"name","td:modified").children[0]);
}
return this.updated;
},getAuthor:function(){
if(!this.author){
this.author=new lconn.share.bean.UserFromJson(this.d.authors[0]);
}
return this.author;
},getModifier:function(){
if(!this.modifier){
this.modifier=new lconn.share.bean.UserFromJson(lconn.share.util.misc.indexById(this.d.extensions,"name","td:modifier").children);
}
return this.modifier;
},getCategory:function(){
if(!this.category){
this.category=this.d.categories[0].term;
}
return this.category;
},getVersionNumber:function(){
if(!this.version){
this.version=lconn.share.util.text.parseInt(lconn.share.util.misc.indexById(this.d.extensions,"name","td:versionNumber").children[0],1);
}
return this.version;
},getVersionId:function(){
if(!this.versionId){
this.versionId=lconn.share.util.misc.indexById(this.d.extensions,"name","td:versionUuid").children[0];
}
return this.versionId;
},getVersionLabel:function(){
if(!this.versionLabel){
this.versionLabel=lconn.share.util.misc.indexById(this.d.extensions,"name","td:versionLabel").children[0];
}
return this.versionLabel;
},getVisibility:function(){
if(!this.vis){
this.vis=lconn.share.util.misc.indexById(this.d.extensions,"name","td:visibility").children[0];
}
return this.vis;
},isPublic:function(){
return this.getVisibility()=="public";
},isShared:function(){
return this.getVisibility()=="shared";
},isPrivate:function(){
return this.getVisibility()=="private";
},isExternal:function(){
if(this._isExternal==undefined){
var _2b=lconn.share.util.misc.indexById(this.d.extensions,"name","snx:isExternal");
this._isExternal=_2b?_2b.children[0]:false;
}
return this._isExternal;
},getAllSharesCount:function(){
return this.getShareCount()+this.getCollectionCount();
},getShareCount:function(){
if(typeof this.shareCount=="undefined"){
this.shareCount=0;
var arr=this.d.extensions;
for(var i=0;i<arr.length;i++){
var ext=arr[i];
if(ext.name=="snx:rank"&&ext.attributes.scheme=="http://www.ibm.com/xmlns/prod/sn/share"){
this.shareCount=lconn.share.util.text.parseInt(ext.children[0]);
break;
}
}
}
return this.shareCount;
},getReferenceCount:function(){
if(typeof this.referenceCount=="undefined"){
this.collectionCount=0;
var arr=this.d.extensions;
for(var i=0;i<arr.length;i++){
var ext=arr[i];
if(ext.name=="snx:rank"&&ext.attributes.scheme=="http://www.ibm.com/xmlns/prod/sn/references"){
this.referenceCount=lconn.share.util.text.parseInt(ext.children[0]);
break;
}
}
}
return this.referenceCount;
},getCollectionCount:function(){
if(typeof this.collectionCount=="undefined"){
this.collectionCount=0;
var arr=this.d.extensions;
for(var i=0;i<arr.length;i++){
var ext=arr[i];
if(ext.name=="snx:rank"&&ext.attributes.scheme=="http://www.ibm.com/xmlns/prod/sn/collections"){
this.collectionCount=lconn.share.util.text.parseInt(ext.children[0]);
break;
}
}
}
return this.collectionCount;
}});
dojo.declare("lconn.share.bean.PartialFile",null,{constructor:function(_2c){
if(_2c){
dojo.mixin(this,_2c);
}
}});
dojo.declare("lconn.share.bean.FileCopy",null,{hardcoded:["isPublic","isPrivate","isUserRecommended","getName"],baseClass:lconn.share.bean.File,constructor:function(doc){
doc=doc||new this.baseClass(null);
var m;
for(var key in doc){
var f=doc[key];
if(!this[key]){
if(typeof f=="function"){
if(dojo.indexOf(this.hardcoded,key)!=-1){
this[key]=f;
}else{
if(m=/^get([A-Z])(.*)/.exec(key)){
var _2d=m[1].toLowerCase()+m[2];
var _2e=f.apply(doc);
if(_2e&&_2e.nodeType){
this[_2d]=_2e;
}else{
if(typeof _2e!="undefined"){
this[_2d]=dojo.clone(_2e);
}
}
this[key]=dojo.partial(this.get,_2d);
}else{
if(m=/^is([A-Z])(.*)/.exec(key)){
var _2d=m[1].toLowerCase()+m[2];
var _2e=f.apply(doc);
if(_2e&&_2e.nodeType){
this[_2d]=_2e;
}else{
if(typeof _2e!="undefined"){
this[_2d]=dojo.clone(_2e);
}
}
this[key]=dojo.partial(this.get,_2d);
}
}
}
}
}
}
},get:function(s){
return this[s];
}});
lconn.share.bean.File.SPLIT_TAGS=/[,\s\u3000]+/;
lconn.share.bean.File.splitTags=function(_2f){
_2f=(_2f.toLowerCase()||"").replace(/["']/g,"");
var _30=_2f.split(lconn.share.bean.File.SPLIT_TAGS);
var _31={};
return dojo.filter(_30,function(s){
if(s.length>0&&!_31[s]){
_31[s]=1;
return true;
}
return false;
});
};
dojo.declare("lconn.share.bean.FileCMIS",[lconn.share.bean.File,lconn.share.bean.AbstractCMISBean],{getId:function(){
if(!this.id){
this.id=this.getPropertyId("cmis:objectId");
}
return this.id;
},isFolder:function(){
return false;
},getName:function(){
return this.getTitle();
},getTitle:function(){
if(!this.title){
this.title=this.getPropertyString("cmis:name");
}
if(!this.title){
this.title=this.inherited(arguments);
}
return this.title;
},getLabel:function(){
if(!this.label){
this.label=this.getPropertyString("cmis:contentStreamFileName");
}
if(!this.label){
this.label=this.inherited(arguments);
}
return this.label;
},getDescription:function(){
return this.getPropertyString("snx:summary");
},getChangeSummary:function(){
return this.getPropertyString("cmis:checkinComment");
},getAuthor:function(){
return this.getAddedBy();
},getObjectTypeId:function(){
return this.getPropertyId("cmis:objectTypeId");
},getLibraryId:function(){
console.log("CMISFile.getLibraryId()");
},getLibraryType:function(){
return this.getPropertyString("snx:repositoryType");
},getLibraryAuthor:function(){
console.log("CMISFile.getLibraryAuthor()");
},getAddedBy:function(){
if(!this.addedBy&&this.e){
this.addedBy=new lconn.share.bean.UserFromCMIS(lconn.share.util.dom.xpathNode(this.e,"cmisra:object/cmis:properties/cmis:propertyString[@propertyDefinitionId='cmis:createdBy']"));
}
return this.addedBy;
},getAdded:function(){
if(!this.added){
this.added=lconn.share.util.misc.date.convertAtomDate(this.getPropertyDateTime("cmis:creationDate"))||this.getSystemLastModified();
}
return this.added;
},getSharedBy:function(){
console.log("CMISFile.getSharedBy()");
return this.getAddedBy();
},getShared:function(){
console.log("CMISFile.getShared()");
return this.getAdded();
},getModifier:function(){
if(!this.modifier&&this.e){
this.modifier=new lconn.share.bean.UserFromCMIS(lconn.share.util.dom.xpathNode(this.e,"cmisra:object/cmis:properties/cmis:propertyString[@propertyDefinitionId='cmis:lastModifiedBy']"));
}
return this.modifier;
},getUpdated:function(){
if(!this.updated){
this.updated=lconn.share.util.misc.date.convertAtomDate(this.getPropertyDateTime("cmis:lastModificationDate"))||this.getSystemLastModified();
}
return this.updated;
},getPublished:function(){
console.log("CMISFile.getPublished()");
return this.getAdded();
},getSystemLastModified:function(){
console.log("CMISFile.getSystemLastModified()");
return this.getUpdated();
},getSystemCreated:function(){
console.log("CMISFile.getSystemCreated()");
return this.getAdded();
},getRatingCount:function(){
if(typeof this.ratingCount=="undefined"){
this.ratingCount=this.getPropertyInteger("snx:recommendationsCount");
}
return this.ratingCount;
},getUrlRecommendation:function(){
console.log("CMISFile.getUrlRecommendation()");
return null;
},isUserRecommended:function(){
console.log("CMISFile.isUserRecommended()");
return false;
},_CMIS_PERMISSIONS:{"cmis:canGetProperties":["ViewProperties"],"cmis:canGetContentStream":["ViewContent","View"],"cmis:canSetContentStream":["EditContent"],"cmis:canUpdateProperties":["Edit","EditProperties"],"cmis:canDeleteObject":["Delete","DeleteFromCollection"],"cmis:canAddObjectToFolder":["GrantAccessView"],"cmis:canRemoveObjectFromFolder":["DeleteFromCollection"],"cmis:canApplyACL":["GrantAccess","GrantAccessView","GrantAccessEdit","LockOverride"]},getPermissions:function(){
if(!this.permissions){
var qud=lconn.share.util.dom;
this.permissions={};
var _32=lconn.share.util.dom.xpath(this.e,"cmisra:object/cmis:allowableActions/*[text()='true']");
for(var n=null,i=0;n=_32[i++];){
var _33=this._CMIS_PERMISSIONS[n.nodeName]||[];
for(var p=null,j=0;p=_33[j++];){
this.permissions[p]=true;
}
}
}
return this.permissions;
},isExternal:function(){
if(typeof this._isExternal=="undefined"){
this._isExternal=this.getPropertyBoolean("snx:isExternal",null);
}
return this._isExternal;
},getVisibility:function(){
if(!this.visibility){
this.visibility=this.getPropertyString("snx:visibilityComputed");
}
return this.visibility;
},isViralShareAllowed:function(){
if(typeof this.isSharedViral=="undefined"){
this.isSharedViral=this.getPropertyBoolean("snx:isSharedViral",false);
}
return this.isSharedViral;
},getNotifications:function(){
console.log("CMISFile.getNotifications()");
return {};
},hasNotifications:function(){
console.log("CMISFile.hasNotifications()");
return false;
},getTimesDownloaded:function(){
if(typeof this.downloadCount=="undefined"){
this.downloadCount=this.getPropertyInteger("snx:downloadCount");
}
return this.downloadCount;
},getTimesDownloadedAnonymously:function(){
if(typeof this.anonymousDownloadCount=="undefined"){
this.anonymousDownloadCount=this.getPropertyInteger("snx:downloadCountAnon");
}
return this.anonymousDownloadCount;
},getUrlFeed:function(){
console.log("CMISFile.getUrlFeed()");
return null;
},getUrlAlternate:function(){
var url=lconn.share.util.dom.xpathString(this.e,"atom:link[@rel='alternate' and @type='text/html']/@href");
return url;
},getTags:function(){
console.log("CMISFile.getTags()");
return [];
},getSize:function(){
if(typeof this.size=="undefined"){
this.size=this.getPropertyInteger("cmis:contentStreamLength");
}
return this.size;
},getTotalSize:function(){
if(typeof this.totalSize=="undefined"){
this.totalSize=this.getPropertyInteger("snx:sizeAppliedToQuota");
}
return this.totalSize;
},getVersionLabel:function(){
if(typeof this.versionLabel=="undefined"){
this.versionLabel=this.getPropertyString("cmis:versionLabel");
}
return this.versionLabel;
},getCommentCount:function(){
if(typeof this.commentCount=="undefined"){
this.commentCount=this.getPropertyInteger("snx:commentCount");
}
return this.commentCount;
},getShareCount:function(){
console.log("CMISFile.getShareCount()");
return 0;
},getCollectionCount:function(){
console.log("CMISFile.getCollectionCount()");
return 0;
},getVersionCount:function(){
console.log("CMISFile.getVersionCount()");
return 1;
}});
dojo.declare("lconn.share.bean.FileFromCMISJson",lconn.share.bean.FileFromJson,{constructor:function(doc){
this.d=doc;
doc.links=doc.links||[];
doc.extensions=doc.extensions||[];
doc.categories=doc.categories||[];
doc.properties=doc.properties||[];
},isFolder:function(){
return false;
},getName:function(){
return this.getTitle();
},getTitle:function(){
if(!this.title){
this.title=this._getProperty("cmis:name");
}
return this.title;
},getLabel:function(){
if(!this.label){
this.label=this._getProperty("cmis:contentStreamFileName");
}
return this.label;
},getId:function(){
return this._getProperty("cmis:objectId");
},getSize:function(){
if(!this.length){
this.length=parseInt(this._getProperty("cmis:contentStreamLength"));
}
return this.length;
},getTotalSize:function(){
if(!this.totalSize){
this.totalSize=parseInt(this._getProperty("snx:sizeAppliedToQuota"));
}
return this.totalSize;
},getUpdated:function(){
if(!this.updated){
this.updated=lconn.share.util.misc.date.convertAtomDate(this._getProperty("cmis:lastModificationDate"));
}
return this.updated;
},getAuthor:function(){
if(!this.author){
this.author=this._getUser("cmis:createdBy");
}
return this.author;
},getModifier:function(){
if(!this.modifier){
this.modifier=this._getUser("cmis:lastModifiedBy");
}
return this.modifier;
},getCategory:function(){
console.log("FromFromCMISJson.getCategory()");
return null;
},getVersionNumber:function(){
if(!this.version){
this.version=lconn.share.util.text.parseInt(this._getProperty("cmis:versionLabel"),1);
}
return this.version;
},getVisibility:function(){
if(!this.vis){
this.vis=this._getProperty("snx:visibilityComputed");
}
return this.vis;
},isExternal:function(){
if(this._isExternal==undefined){
this._isExternal=this._getProperty("snx:isExternal")=="true";
}
return this._isExternal;
},getShareCount:function(){
console.log("FromFromCMISJson.getCollectionCount()");
return 0;
},getCollectionCount:function(){
console.log("FromFromCMISJson.getCollectionCount()");
return 0;
},_getUser:function(id){
var _34={};
try{
var el=lconn.share.util.misc.indexById(this.d.properties,"propertyDefinitionId",id);
if(el){
_34.id=el.principalId;
_34.email=el.email;
_34.name=el.value[0].value;
}
}
catch(e){
console.log(e);
}
return _34;
},_getProperty:function(id){
var _35;
try{
_35=lconn.share.util.misc.indexById(this.d.properties,"propertyDefinitionId",id).value[0].value;
}
catch(e){
console.log(e);
}
return _35;
}});
lconn.share.bean.File.CONTEXTS={};
lconn.share.bean.File.CONTEXTS.FILES=["communityFiles","personalFiles"];
lconn.share.bean.File.CONTEXTS.ECM=["communityECMFiles","library"];
lconn.share.bean.File.createBean=function(e,opt){
var _36=opt&&opt.apiType=="cmis";
var _37=opt&&opt.format=="json";
if(_36){
return _37?new lconn.share.bean.FileFromCMISJson(e):new lconn.share.bean.FileCMIS(e);
}else{
return _37?new lconn.share.bean.FileFromJson(e):new lconn.share.bean.File(e);
}
};
})();
}


;if(!dojo._hasResource["lconn.core.filesutil"]){
dojo._hasResource["lconn.core.filesutil"]=true;
dojo.provide("lconn.core.filesutil");
(function(_1){
_1.changeVisibility=function(_2){
net.jazz.ajax.xdloader.load_async("lconn.files.filesutil.FilesUtil",function(){
lconn.files.filesutil.FilesUtil.changeVisibility(_2);
});
};
_1.shareWithCommunity=function(_3){
net.jazz.ajax.xdloader.load_async("lconn.files.filesutil.FilesUtil",function(){
lconn.files.filesutil.FilesUtil.shareWithCommunity(_3);
});
};
_1.checkFileExist=function(_4){
net.jazz.ajax.xdloader.load_async("lconn.files.filesutil.FilesUtil",function(){
lconn.files.filesutil.FilesUtil.checkFileExist(_4);
});
};
_1.loadConfig=function(_5){
net.jazz.ajax.xdloader.load_async("lconn.files.filesutil.FilesUtil",function(){
lconn.files.filesutil.FilesUtil.loadConfig(_5);
});
};
_1.getConfig=function(_6){
net.jazz.ajax.xdloader.load_async("lconn.files.filesutil.FilesUtil",function(){
lconn.files.filesutil.FilesUtil.getConfig(_6);
});
};
})(lconn.core.filesutil);
}


;define("dojox/uuid/generateTimeBasedUuid",["dojo/_base/lang","./_base"],function(_1){
dojox.uuid.generateTimeBasedUuid=function(_2){
var _3=dojox.uuid.generateTimeBasedUuid._generator.generateUuidString(_2);
return _3;
};
dojox.uuid.generateTimeBasedUuid.isValidNode=function(_4){
var _5=16;
var _6=parseInt(_4,_5);
var _7=_1.isString(_4)&&_4.length==12&&isFinite(_6);
return _7;
};
dojox.uuid.generateTimeBasedUuid.setNode=function(_8){
dojox.uuid.assert((_8===null)||this.isValidNode(_8));
this._uniformNode=_8;
};
dojox.uuid.generateTimeBasedUuid.getNode=function(){
return this._uniformNode;
};
dojox.uuid.generateTimeBasedUuid._generator=new function(){
this.GREGORIAN_CHANGE_OFFSET_IN_HOURS=3394248;
var _9=null;
var _a=null;
var _b=null;
var _c=0;
var _d=null;
var _e=null;
var _f=16;
function _10(_11){
_11[2]+=_11[3]>>>16;
_11[3]&=65535;
_11[1]+=_11[2]>>>16;
_11[2]&=65535;
_11[0]+=_11[1]>>>16;
_11[1]&=65535;
dojox.uuid.assert((_11[0]>>>16)===0);
};
function _12(x){
var _13=new Array(0,0,0,0);
_13[3]=x%65536;
x-=_13[3];
x/=65536;
_13[2]=x%65536;
x-=_13[2];
x/=65536;
_13[1]=x%65536;
x-=_13[1];
x/=65536;
_13[0]=x;
return _13;
};
function _14(_15,_16){
dojox.uuid.assert(_1.isArray(_15));
dojox.uuid.assert(_1.isArray(_16));
dojox.uuid.assert(_15.length==4);
dojox.uuid.assert(_16.length==4);
var _17=new Array(0,0,0,0);
_17[3]=_15[3]+_16[3];
_17[2]=_15[2]+_16[2];
_17[1]=_15[1]+_16[1];
_17[0]=_15[0]+_16[0];
_10(_17);
return _17;
};
function _18(_19,_1a){
dojox.uuid.assert(_1.isArray(_19));
dojox.uuid.assert(_1.isArray(_1a));
dojox.uuid.assert(_19.length==4);
dojox.uuid.assert(_1a.length==4);
var _1b=false;
if(_19[0]*_1a[0]!==0){
_1b=true;
}
if(_19[0]*_1a[1]!==0){
_1b=true;
}
if(_19[0]*_1a[2]!==0){
_1b=true;
}
if(_19[1]*_1a[0]!==0){
_1b=true;
}
if(_19[1]*_1a[1]!==0){
_1b=true;
}
if(_19[2]*_1a[0]!==0){
_1b=true;
}
dojox.uuid.assert(!_1b);
var _1c=new Array(0,0,0,0);
_1c[0]+=_19[0]*_1a[3];
_10(_1c);
_1c[0]+=_19[1]*_1a[2];
_10(_1c);
_1c[0]+=_19[2]*_1a[1];
_10(_1c);
_1c[0]+=_19[3]*_1a[0];
_10(_1c);
_1c[1]+=_19[1]*_1a[3];
_10(_1c);
_1c[1]+=_19[2]*_1a[2];
_10(_1c);
_1c[1]+=_19[3]*_1a[1];
_10(_1c);
_1c[2]+=_19[2]*_1a[3];
_10(_1c);
_1c[2]+=_19[3]*_1a[2];
_10(_1c);
_1c[3]+=_19[3]*_1a[3];
_10(_1c);
return _1c;
};
function _1d(_1e,_1f){
while(_1e.length<_1f){
_1e="0"+_1e;
}
return _1e;
};
function _20(){
var _21=Math.floor((Math.random()%1)*Math.pow(2,32));
var _22=_21.toString(_f);
while(_22.length<8){
_22="0"+_22;
}
return _22;
};
this.generateUuidString=function(_23){
if(_23){
dojox.uuid.assert(dojox.uuid.generateTimeBasedUuid.isValidNode(_23));
}else{
if(dojox.uuid.generateTimeBasedUuid._uniformNode){
_23=dojox.uuid.generateTimeBasedUuid._uniformNode;
}else{
if(!_9){
var _24=32768;
var _25=Math.floor((Math.random()%1)*Math.pow(2,15));
var _26=(_24|_25).toString(_f);
_9=_26+_20();
}
_23=_9;
}
}
if(!_a){
var _27=32768;
var _28=Math.floor((Math.random()%1)*Math.pow(2,14));
_a=(_27|_28).toString(_f);
}
var now=new Date();
var _29=now.valueOf();
var _2a=_12(_29);
if(!_d){
var _2b=_12(60*60);
var _2c=_12(dojox.uuid.generateTimeBasedUuid._generator.GREGORIAN_CHANGE_OFFSET_IN_HOURS);
var _2d=_18(_2c,_2b);
var _2e=_12(1000);
_d=_18(_2d,_2e);
_e=_12(10000);
}
var _2f=_2a;
var _30=_14(_d,_2f);
var _31=_18(_30,_e);
if(now.valueOf()==_b){
_31[3]+=_c;
_10(_31);
_c+=1;
if(_c==10000){
while(now.valueOf()==_b){
now=new Date();
}
}
}else{
_b=now.valueOf();
_c=1;
}
var _32=_31[2].toString(_f);
var _33=_31[3].toString(_f);
var _34=_1d(_32,4)+_1d(_33,4);
var _35=_31[1].toString(_f);
_35=_1d(_35,4);
var _36=_31[0].toString(_f);
_36=_1d(_36,3);
var _37="-";
var _38="1";
var _39=_34+_37+_35+_37+_38+_36+_37+_a+_37+_23;
_39=_39.toLowerCase();
return _39;
};
}();
return dojox.uuid.generateTimeBasedUuid;
});


;dojo.cache("lconn.core", "templates/DialogUtil.html", "<div class=\"lotusDialogBorder\"> <div class=\"lotusDialog\" style=\"zoom: 1\" role=\"dialog\" aria-labelledby=\"${titleID}\" aria-describedby=\"${contentID}\" waistate=\"${titleID}\"> <div class=\"lotusDialogHeader\"> <h1 class=\"lotusHeading\"> <span id=\"${titleID}\" class=\"title\"></span> </h1> <a class=\"lotusDialogClose\" role=\"button\" href=\"javascript:;\" title=\"${rs_close}\"><img src=\"${blankGif}\" alt=\"${rs_close}\" aria-label=\"${rs_close}\" /><span class=\"lotusAltText\">X</span> </a> </div> <div id=\"${contentID}\" class=\"lotusDialogContent\" role=\"presentation\"></div> <div class=\"lotusDialogFooter\" role=\"presentation\"> <input type=\"button\" class=\"lotusFormButton submit\" /> <input type=\"button\" class=\"lotusFormButton cancel\" /> </div> </div></div>");

;if(!dojo._hasResource["lconn.core.DialogUtil"]){
dojo._hasResource["lconn.core.DialogUtil"]=true;
dojo.provide("lconn.core.DialogUtil");












dojo.requireLocalization("lconn.core","strings");
(function(){
var _1=dojo.i18n.getLocalization("lconn.core","strings");
lconn.core.DialogUtil.alert=function(_2,_3,_4){
var d=_5();
d.lotusTitleNode.innerHTML=_2;
d.lotusContentNode.innerHTML=_3;
d.lotusCancelNode.style.display="none";
d.titleBar.style.display="none";
d.lotusSubmitNode.value=dojo.i18n.getLocalization("lconn.core","strings").rs_ok;
d.lotusSubmitNode.onclick=function(){
d.hide();
if(dojo.isFunction(_4)){
_4();
}
};
d.show();
};
lconn.core.DialogUtil.prompt=function(_6,_7,_8,_9,_a,_b){
var d=_5(_6);
d.lotusTitleNode.innerHTML=_6;
d.lotusContentNode.innerHTML=_7;
d.lotusSubmitNode.value=_8;
d.lotusCancelNode.value=_9;
d.lotusCancelNode.style.display="";
d.lotusSubmitNode.onclick=function(){
d.hide();
if(dojo.isFunction(_a)){
_a(true);
}
};
dojo.connect(d,"onCancel",null,function(){
if(dojo.isFunction(_a)){
_a(false);
}
});
d.titleBar.style.display="none";
if(_b){
dojo.addClass(d.lotusBorderNode,_b);
}
d.show();
};
lconn.core.DialogUtil.popupForm=function(_c,_d,_e,_f,_10,_11){
var d=_5(_c);
d.lotusTitleNode.innerHTML=_c;
d.lotusContentNode.innerHTML="";
d.lotusContentNode.appendChild(_d);
d.lotusSubmitNode.value=_e;
d.lotusCancelNode.value=_f;
d.lotusCancelNode.style.display="";
d.lotusSubmitNode.onclick=function(){
_10();
};
if(_11){
d.connect(d,"onCancel",dojo.hitch(null,_11));
}
d.titleBar.style.display="none";
d.show();
dojo.publish("lconn/core/DialogUtil/popupFormDialogShown",d);
return {_dialog:d,hide:function(){
d.hide();
},disableSubmit:function(){
dojo.addClass(d.lotusSubmitNode,"lotusBtnDisabled");
d.lotusSubmitNode.disabled="disabled";
d.lotusSubmitNode.value=_1.rs_loading;
},enableSubmit:function(){
dojo.removeClass(d.lotusSubmitNode,"lotusBtnDisabled");
d.lotusSubmitNode.disabled="";
d.lotusSubmitNode.value=_e;
}};
};
var _12={templatePath:dojo.moduleUrl("lconn.core","templates/DialogUtil.html")};
var _13=[];
function _5(){
while(_13.length>0&&!_13[_13.length-1].open){
var top=_13.pop();
top.destroyRecursive();
top=null;
}
var _14=(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif?etag=20150310.220517"));
var _15=dojo.string.substitute(dojo.cache("lconn.core","templates/DialogUtil.html"),dojo.mixin(dojo.clone(_1),{blankGif:_14,titleID:dojox.uuid.generateTimeBasedUuid(),contentID:dojox.uuid.generateTimeBasedUuid()}));
var d=new dijit.Dialog();
d.containerNode.innerHTML=_15;
d.closeBtn=dojo.query(".lotusDialogClose",d.containerNode)[0];
d.lotusTitleNode=dojo.query("h1 .title",d.containerNode)[0];
d.lotusContentNode=dojo.query(".lotusDialogContent",d.containerNode)[0];
d.lotusFooterNode=dojo.query(".lotusDialogFooter",d.containerNode)[0];
d.lotusSubmitNode=dojo.query(".lotusDialogFooter .submit",d.containerNode)[0];
d.lotusCancelNode=dojo.query(".lotusDialogFooter .cancel",d.containerNode)[0];
d.lotusBorderNode=dojo.query(".lotusDialogBorder",d.containerNode)[0];
d.connect(d.closeBtn,"onclick","onCancel");
d.connect(d.lotusCancelNode,"onclick","onCancel");
_13.push(d);
return _13[_13.length-1];
};
})();
}


;if(!dojo._hasResource["lconn.core.ckplugins.icdocpicker"]){
dojo._hasResource["lconn.core.ckplugins.icdocpicker"]=true;
(function(){
var _1=dojo.provide("lconn.core.ckplugins.icdocpicker");






dojo.requireLocalization("lconn.core","strings");






var _2=dojo.i18n.getLocalization("lconn.core","strings");
var _3=null;
var _4=true;
var _5=null;
var _6=null;
var _7=false;
var _8=false;
var _9="icdocpicker";
_1.getName=function(){
return _9;
};
_1.isEnabled=function(){
return lconn.core.config.services.files||lconn.core.config.services.ecm_files;
};
_1.addPlugin=function(){
if(CKEDITOR&&CKEDITOR.plugins&&CKEDITOR.plugins.registered&&CKEDITOR.plugins.registered[_9]){
return;
}
CKEDITOR.plugins.add(_9,{init:function(_a){
_a.ui.addButton("LinkToFiles",{label:_2.rs_docpicker_label,command:"linkToFiles"});
_a.addCommand("linkToFiles",{exec:function(_b){
var _c=dojo.getObject("lconn.communities.bizCard.core.community");
var _d=false;
_8=true;
if(_c!=null&&_c.linkToCommunityFilesEnabled){
_5=_c.uuid;
_6=_c.name;
_d=true;
var _e=_c.communityType;
if(_e==="private"){
_8=false;
}
_7=true;
lconn.core.filepicker.open({useCompact:true,title:_2.rs_docpicker_title,showVisibility:true,filesService:lconn.core.config.services.files,onSave:dojo.hitch(_1,_1.onSave,_b),onClose:dojo.hitch(_1,_1.onClose,_b),onSourceChange:function(_f){
_3=_f.id;
},repository:{type:"community",communityId:_5,communityName:_6,isPublic:_8},shareableOnly:true,publicOnly:_8,externalOnly:!!_c.externalAllowed,showExternal:!!_c.isMultiTenantMode,communityFilesType:"all"});
}else{
_7=false;
lconn.core.filepicker.open({useCompact:true,title:_2.rs_docpicker_title,showVisibility:true,filesService:lconn.core.config.services.files,onSave:dojo.hitch(_1,_1.onSave,_b),onClose:dojo.hitch(_1,_1.onClose,_b),onSourceChange:function(_10){
_3=_10.id;
},shareableOnly:true});
}
}});
}});
};
_1.onClose=function(_11){
if(_11){
_11.focus();
}
};
_1.onSave=function(_12,_13){
if(_7&&_3!="currentcommunity"&&_5&&_13.length>0){
lconn.core.filesutil.shareWithCommunity({file:_13,community:[_5],callback:dojo.hitch(this,this.handleShareWithComplete,_12,_13),visibility:_8?"public":null});
return;
}
this.insertLinksToCKEditor(_12,_13);
};
_1.handleShareWithComplete=function(_14,_15,_16){
var _17=_16?_16.code:null,msg;
if(_17=="ConstraintViolation"){
msg=_2.rs_sharefile_constraint_violation;
}else{
if(_17=="AccessDenied"){
msg=_2.rs_sharefile_access_denied;
}else{
if(_17=="InvalidRequest"){
msg=_2.rs_sharefile_invalid_request;
}else{
if(_17=="SharingIntentRestriction"){
msg=_2.rs_sharefile_sharing_intent_restriction;
}
}
}
}
if(msg){
lconn.core.DialogUtil.alert(_2.rs_sharefile_error_title,msg);
}else{
this.insertLinksToCKEditor(_14,_15);
}
};
_1.insertLinksToCKEditor=function(_18,_19){
var el;
var doc=_18.document;
for(var i=0,l=_19.length;i<l;i++){
var _1a=_19[i];
var url=_1a.getUrlDownload();
el=new CKEDITOR.dom.element("a",doc);
el.setAttribute("href",(!url||0===url.length)?"href://":url);
el.setAttribute("title",dojo.string.substitute(_2.rs_docpicker_download_title,[lconn.core.util.html.formatFilename(_1a.getName())]));
el.setAttribute("data-cke-saved-href",(!url||0===url.length)?"href://":url);
el.setAttribute("target","_blank");
el.setAttribute("_ic_source","files");
el.setAttribute("_ic_files_uuid",_1a.getId());
var img=new CKEDITOR.dom.element("img",doc);
img.setAttribute("src",dojo.config.blankGif);
img.setAttribute("class","lconn-ftype16 lconn-ftype16-"+_1a.getExtension());
img.setAttribute("aria-hidden","true");
img.appendTo(el);
var str=new CKEDITOR.dom.element("strong",doc);
str.appendTo(el);
var txt=new CKEDITOR.dom.text(lconn.core.util.html.formatFilename(_1a.getName()),doc);
txt.appendTo(str);
_18.insertElement(el);
var sep=new CKEDITOR.dom.element("span",doc);
sep.setAttribute("class","lotusDivider");
sep.setAttribute("aria-hidden","true");
sep.setAttribute("role","img");
var bar=new CKEDITOR.dom.text("|",doc);
bar.appendTo(sep);
_18.insertElement(sep);
if(_3=="currentcommunity"){
url=_1a.getUrlVia();
}else{
url=_1a.getUrlAlternate();
}
el=new CKEDITOR.dom.element("a",doc);
el.setAttribute("href",(!url||0===url.length)?"href://":url);
el.setAttribute("title",dojo.string.substitute(_2.rs_docpicker_viewdetails_title,[lconn.core.util.html.formatFilename(_1a.getName())]));
el.setAttribute("data-cke-saved-href",(!url||0===url.length)?"href://":url);
el.setAttribute("target","_blank");
var txt=new CKEDITOR.dom.text(_2.rs_docpicker_viewdetails_text,doc);
txt.appendTo(el);
_18.insertElement(el);
}
};
})();
}


;if(!dojo._hasResource["lconn.core.ckplugins.icpublishBinaryData"]){
dojo._hasResource["lconn.core.ckplugins.icpublishBinaryData"]=true;












(function(){
var _1=dojo.provide("lconn.core.ckplugins.icpublishBinaryData");
var _2="icBinaryData";
_1.TOPIC="lconn/core/ckplugins/icpublishBinaryData";
_1.LOADING={DATA_AVAILABLE:_1.TOPIC+"/progress",UPLOAD_COMPLETE:_1.TOPIC+"/loaded"};
_1.URLarray=[];
_1.getName=function(){
return _2;
};
_1.isEnabled=function(){
return lconn.core.config.properties["com.ibm.lconn.core.web.ckeditor.pasteImages.enabled"]!=="false";
};
_1.addCustomConfig=function(){
if((dojo.indexOf(["blogs","wikis","forums"],dojo.getObject("ibmConfig.serviceName"))!==-1)||((dojo.indexOf(["activities"],dojo.getObject("ibmConfig.serviceName"))!==-1)&&dojo.getObject("_lconn_act_config.OAPasteImageToEditorEnabled")===true)){
CKEDITOR.config.ibmFilterPastedDataUriImage=!!dojo.isIE;
}
CKEDITOR.config.ibmPublishBinaryData=_1.PublishData;
};
_1.isDemo=function(){
return lconn.core.config.properties["com.ibm.lconn.core.web.ckeditor.pasteImages.demo.enabled"]=="true";
};
_1.addPlugin=function(){
if(CKEDITOR&&CKEDITOR.plugins&&CKEDITOR.plugins.registered&&CKEDITOR.plugins.registered[_2]){
return;
}
CKEDITOR.plugins.add(_2,{init:function(_3){
_1.URLarray=[];
var _4=dojo.subscribe(_1.TOPIC,function(_5){
if(_5.editor!==_3.name){
return;
}
_1.URLarray=[];
_1.subscribeObj=_5;
_6(_3,_5.filesArr);
for(var i=0;i<_5.filesArr.length;i++){
_7(_5.filesArr[i],_5.cb,false);
}
});
}});
};
_1.getImageAsBinaryDatacb=function(_8,id,_9){
};
_1.PublishData=function(_a,_b,_c,_d){
dojo.publish(_1.TOPIC,[{cb:_a,editor:_c,filesArr:_d,deleteImageNumber:_b,deleteImagecb:_e}]);
};
_1.substituteUrlcb=function(id,_f){
_10(id,_f);
CKEDITOR.tools.callFunction(_1.subscribeObj.cb,_1.URLarray,"");
};
var afl,_11=false;
function _e(id){
CKEDITOR.tools.callFunction(_1.subscribeObj.deleteImageNumber,[id],"");
};
function _12(_13){
var _14=new Array(_13.length);
for(var i=0;i<_13.length;i++){
_14[i]=_13.charCodeAt(i);
}
var _15=new Uint8Array(_14);
return _15;
};
function _6(_16,_17){
var _18=/^src="data:image\/(.*);base64,(.*)"$/;
var _19=/data:image\/(.*);base64,(.*)$/;
for(var i=0,_1a;_1a=_17[i];i++){
var m=_1a.data[0].match(_18);
var _1b=_1a.size/1000;
_17[i].name=_1a.name?_1a.name:dojo.string.substitute("editor_image_${0}.${1}",[dojox.uuid.generateRandomUuid(),m[1]]);
_1a.type="image/"+m[1];
_17[i].binary=window.atob(m[2]);
var _1c=_12(_17[i].binary);
var _1d=new Blob([_1c],{type:_1a.type});
_1.getImageAsBinaryDatacb(_1d,_1a.id,_1a.name);
}
};
function _1e(_1f){
var _20=new FormData();
var _21=_1f.binary;
var nls=dojo.i18n.getLocalization("lconn.core","strings");
var _22=_12(_21);
var _23=new Blob([_22],{type:_1f.type});
_20.append("method","upload");
_20.append("weblog",window.weblogHandle);
_20.append("path","BLOGS_UPLOADED_IMAGES");
_20.append("dangerousurlnonce",window.dangerousurlnonceValue);
_20.append("callType","ajax");
_20.append("uploadedFile0",_23,_1f.name);
var _24=new XMLHttpRequest();
_24.open("POST",_1.sendUrl);
_24.upload.onprogress=function(e){
if(e.lengthComputable){
var _25=(e.loaded/e.total)*100;
dojo.publish(_1.LOADING.DATA_AVAILABLE,{status:_25,id:_1f.id});
}
};
_24.send(_20);
_24.onreadystatechange=function(){
if(_24.readyState<4){
console.log("loading");
}else{
if(_24.readyState===4){
var _26=_24.response;
parser=new DOMParser();
var doc=parser.parseFromString(_26,"text/html");
var _27=doc.getElementsByTagName("textarea")[0];
responseObj=JSON.parse(_27.value);
dojo.publish(_1.LOADING.UPLOAD_COMPLETE,{id:_1f.id});
var _28=responseObj.returnCode.messages;
if(responseObj.returnCode.value=="1"){
_e(_1f.id);
var _29=_28[0].indexOf("]")+2;
lconn.core.DialogUtil.alert(nls.rs_sharefile_error_title,_28[0].substring(_29));
}else{
_10(_1f.id,_28);
CKEDITOR.tools.callFunction(_1.subscribeObj.cb,_1.URLarray,"");
}
}
}
};
};
function _2a(_2b){
var _2c=new FormData();
var _2d=_2b.binary;
var _2e=_12(_2d);
var _2f=new Blob([_2e],{type:_2b.type});
_2c.append("file",_2f,_2b.name);
var _30=new XMLHttpRequest();
_30.open("POST",_1.sendUrl);
_30.upload.onprogress=function(e){
if(e.lengthComputable){
var _31=(e.loaded/e.total)*100;
console.log(e.loaded);
console.log(e.total);
dojo.publish(_1.LOADING.DATA_AVAILABLE,{status:_31,id:_2b.id});
}
};
_30.send(_2c);
_30.onreadystatechange=function onreadystatechange_$2(){
if(_30.readyState<4){
console.log("loading");
}else{
if(_30.readyState===4){
dojo.publish(_1.LOADING.UPLOAD_COMPLETE,{id:_2b.id});
var _32=_30.response;
parser=new DOMParser();
doc=parser.parseFromString(_32,"text/html");
var _33=lconn.share0.util.atom.getJsonResponseFromHtml(doc);
var _34=_35(_33,_2b);
if(_34){
_10(_2b.id,_34);
CKEDITOR.tools.callFunction(_1.subscribeObj.cb,_1.URLarray,"");
}
}
}
};
};
function _36(_37){
console.log("cancel ");
_7(_37,_37.cb,false);
};
function _38(_39){
_7(_39,_39.cb,true);
};
function _35(_3a,_3b){
var url;
if(_3a&&_3a.contents&&_3a.contents.links){
for(var i=0;i<_3a.contents.links.length;i++){
var l=_3a.contents.links[i];
if(l.rel=="alternate"){
url=l.href;
if(url.search(/(\/media\/([^\/]*))/)==-1){
url=url+"/"+_3a.contents.title;
}
var uri=lconn.share0.util.uri.parseUri(url);
url=uri.path;
break;
}
}
url=url.replace(dojo.getObject("lconn.share0.config.services.form.anon"),dojo.getObject("lconn.share0.config.services.form.auth"));
}else{
if(_3a.status=="409"&&_3a.contents.errorCode==="ItemExists"){
if(_3b.stopRetry){
return;
}else{
_3b.stopRetry=true;
lconn.share0.util.html.confirm(_nls.INSERTLINK.CONFIRM_REPLACE,dojo.hitch(this,_38,_3b),dojo.hitch(this,_36,_3b));
}
}
}
return url;
};
function _7(_3c,cb,_3d){
var _3e=/wiki\/(.*)\/(.*)\/(.*)\//;
var _3f=document.location.href;
var _40=_3f.match(_3e);
if(!_40){
_3e=/wiki\/(.*)\/(.*)\/(.*)/;
_40=_3f.match(_3e);
}
if(dojo.getObject("ibmConfig.serviceName")==="wikis"){
var app=lconn.wikis.App.getInstance();
var _41;
var _42,_43,_44;
if(app.scene.sceneInfo.draftId){
_44=app.scene.pageId;
}else{
if(app.scene.sceneInfo.pageId){
_43=app.wikis_actions.insertImage.documentId;
_44=app.scene.sceneInfo.pageId;
}else{
_41=true;
_42=app.scene.currentDraftId;
}
}
var _45=app.scene.libraryId;
var _46=app.scene.wikiLabel;
var _47;
var _48=app.getAuthenticatedUser();
if(!_47&&_48&&_48.nonce){
_47=_48.nonce;
}
var f=function(_49,_4a){
if(_49 instanceof Error){
console.log(_49);
return;
}
var _4b=_49;
var _4c={nonce:_4b};
if(_3d){
_4c.replace="true";
}
if(_41){
_1.sendUrl=lconn.core.url.rewrite(app.routes.getDraftAttachmentListServiceUrl(_46,_42),_4c);
}else{
_1.sendUrl=lconn.core.url.rewrite(app.routes.getAttachmentListServiceUrl(_45,_44),_4c);
}
_2a(_3c);
};
if(!_47){
_47=app.getNonce(f);
console.log(_47);
}else{
f(_47);
}
}else{
if(dojo.getObject("ibmConfig.serviceName")==="blogs"){
var _4d=/blogs\/roller-ui\/authoring\/weblog(.*)entryId=(.*)&id=(.*)&autosave/;
var _4e=_3f.match(_4d);
_1.sendUrl="/blogs/roller-ui/authoring/uploadFiles.do";
_1e(_3c);
}
}
};
function _10(_4f,_50){
var _51=new Object();
_51.id=_4f;
_51.url=_50;
_1.URLarray.push(_51);
};
})();
}


;if(!dojo._hasResource["lconn.core.ckplugins.mentions.TypeAheadMenu"]){
dojo._hasResource["lconn.core.ckplugins.mentions.TypeAheadMenu"]=true;
dojo.provide("lconn.core.ckplugins.mentions.TypeAheadMenu");










dojo.declare("lconn.core.ckplugins.mentions.TypeAheadMenu",lconn.core.PeopleTypeAheadFormatMixin,{focusNode:null,store:null,isShowing:false,inputWidget:{},pageSize:lconn.core.config.properties["people.typeahead.pageSize"]?lconn.core.config.properties["people.typeahead.pageSize"]:15,constructor:function(_1){
dojo.safeMixin(this,_1);
},search:function(_2){
this.focusNode={value:_2.input};
if(!this.menu){
this.menu=new lconn.core.PeopleTypeAheadMenu({store:this.store,"class":"typeAhead",disableBizCard:false,minChars:2,multipleValues:false,searchDelay:600,onSelect:dojo.hitch(this,function(){
var _3=this.menu.items[this.menu._highlighted_option.getAttribute("item")];
this.onSelect(_3);
})});
dojo.place(document.createTextNode(this.menu.resBundle.rs_searchDirectory),this.menu.searchButton);
this.menu.NoResultsMessage=this.menu.resBundle.rs_noResults;
this.menu.inputWidget={_announceOption:function(_4){
}};
this.menu.domNode.onKeyDown=dojo.hitch(this,function(){
this.onMenuKeyDown();
});
}
var _5=this.store.fetch({queryOptions:{ignoreCase:true,deep:true},query:_2.input,onComplete:dojo.hitch(this,this.show,_2.node),onError:dojo.hitch(this,function(_6){
console.error("dijit.form.ComboBox: "+_6);
this.hide();
}),start:0,count:this.pageSize});
var _7=function(_8,_9){
_8.start+=_8.count*_9;
_8.direction=_9;
this.store.fetch(_8);
};
this._nextSearch=this.menu.onPage=dojo.hitch(this,_7,_5);
this.menu.searchDirectory=dojo.hitch(this,dojo.hitch(this,function(){
_5.queryOptions.searchDirectory=true;
this.store.fetch(_5);
}));
},show:function(_a,_b,_c){
var _d=dojo.position((_a.ownerDocument.defaultView||_a.ownerDocument.parentWindow).frameElement);
var _e=dojo.window.getBox().t;
var _f=dojo.position(_a);
var _10=_d.y+_f.y+_f.h;
this.menu.createOptions(_b,_c,dojo.hitch(this,"_getMenuLabelFromItem"));
com.ibm.oneui.util.openAround(this.menu.id,undefined,{noFocus:true,orient:["below","above"]},undefined,{x:_d.x+_f.x,y:_10+_e});
if(!dojo._isBodyLtr()){
com.ibm.oneui.util.openAround(this.menu.id,undefined,{noFocus:true,orient:["below","above"]},undefined,{x:_d.x+_f.x-this.menu._popupWrapper.clientWidth,y:_10+_e});
}
this.isShowing=true;
var _11=dojo.position(this.menu._popupWrapper).y;
if(_10>_11){
dojo.style(this.menu._popupWrapper,{top:_11-_f.h+_e+"px"});
}
},hide:function(){
if(this.menu){
dijit.popup.close(this.menu);
this.isShowing=false;
}
},onMenuKeyDown:function(e){
},onMenuKeyPress:function(e){
},onSelect:function(){
},focusPrevious:function(_12){
var _13=this.getHighlightedOption();
if(_13){
if(_13.previousSibling!=this.menu.previousButton){
this.menu._focusOptionNode(_13.previousSibling);
}
}else{
this.menu._focusOptionNode(this.menu.searchButton);
}
this.menu.selected=this.getHighlightedOption();
dojo.attr(_12,"aria-activedescendant",this.menu.selected.id);
},focusNext:function(_14){
var _15=this.getHighlightedOption();
if(_15){
if(_15.nextSibling!=this.menu.nextButton){
this.menu._focusOptionNode(_15.nextSibling);
}
}else{
this.menu._focusOptionNode(this.menu.previousButton.nextSibling);
}
this.menu.selected=this.getHighlightedOption();
dojo.attr(_14,"aria-activedescendant",this.menu.selected.id);
},getHighlightedOption:function(){
return this.menu&&this.menu._highlighted_option||null;
},getCurrentValue:function(){
var opt=this.getHighlightedOption();
return dojo.isIE<9?opt.innerText:opt.textContent;
}});
}


;if(!dojo._hasResource["lconn.core.ckplugins.mentions._ARIAMixin"]){
dojo._hasResource["lconn.core.ckplugins.mentions._ARIAMixin"]=true;
dojo.provide("lconn.core.ckplugins.mentions._ARIAMixin");
(function(){
var _1=1000;
var _2;
var _3=null;
function _4(_5){
try{
return _5.getDocument();
}
catch(e){
}
return null;
};
lconn.core.ckplugins.mentions._ARIAMixin={addLabel:function(_6,el,_7){
if(!_3||_4(_3)!==_6.document){
_3=new CKEDITOR.dom.element("span",_6.document);
_3.setAttribute("aria-live","polite");
_3.setAttribute("aria-atomic","true");
_3.setAttribute("contenteditable","false");
_3.setAttribute("style","position: absolute; top:-9999px");
}
var _8=el.$?el:new CKEDITOR.dom.element(el);
if(_8.getParent()){
_3.insertAfter(_8);
}else{
_6.insertElement(_3);
}
this.setLabel(_7);
_3.setAttribute("id","mentionsAria_"+this.idx);
el.setAttribute("aria-labelledBy","mentionsAria_"+this.idx);
},setLabel:function(_9){
if(!_3){
return;
}
if(!_3.getParent()){
_3.insertAfter(this._node);
}
_3.setText(_9);
_3.setAttribute("aria-label",_9);
if(_2!==undefined){
clearTimeout(_2);
}
_2=setTimeout(dojo.hitch(this,this.removeLabel),_1);
},removeLabel:function(){
if(!_3){
return;
}
_3.remove();
clearTimeout(_2);
_2=undefined;
},getLabel:function(){
return _3;
},deleteLabel:function(){
if(dojo.config.isDebug){
this.removeLabel();
_3=null;
}else{
console.warn("_ARIAMixin.deleteLabel should only be used in tests");
}
},setTimeout:function(_a){
if(dojo.config.isDebug){
_1=_a;
}else{
console.warn("_ARIAMixin.setTimeout should only be used in tests");
}
}};
})();
}


;if(!dojo._hasResource["lconn.core.events"]){
dojo._hasResource["lconn.core.events"]=true;
dojo.provide("lconn.core.events");
(function(){
var _1=this,_2=(function(e){
try{
e.initKeyboardEvent("keyup",false,false,_1,"+",3,true,false,true,false,false);
return ((e["keyIdentifier"]||e["key"])=="+"&&(e["keyLocation"]||e["location"])==3)&&(e.ctrlKey?e.altKey?1:3:e.shiftKey?2:4)||9;
}
catch(__e__){
_2=0;
}
})(document.createEvent&&document.createEvent("KeyboardEvent")),_3={"char":"","key":"","location":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"repeat":false,"locale":"","detail":0,"bubbles":false,"cancelable":false,"keyCode":0,"charCode":0,"which":0},_4=Function.prototype.call.bind?Function.prototype.call.bind(Object.prototype.hasOwnProperty):dojo.hitch(Object.prototype.hasOwnProperty,Function.prototype.call),_5=Object.defineProperty||function(_6,_7,_8){
if("value" in _8){
_6[_7]=_8["value"];
}
};
function _9(_a,_b){
var e;
if(_2){
e=document.createEvent("KeyboardEvent");
}else{
e=document.createEvent("Event");
}
var _c,_d={};
for(_c in _3){
if(_4(_3,_c)){
_d[_c]=(_4(_b,_c)&&_b||_3)[_c];
}
}
var _e=_d["ctrlKey"],_f=_d["shiftKey"],_10=_d["altKey"],_11=_d["metaKey"],_12=_d["altGraphKey"],_13=_2>3?((_e?"Control":"")+(_f?" Shift":"")+(_10?" Alt":"")+(_11?" Meta":"")+(_12?" AltGraph":"")).trim():null,_14=_d["key"]+"",_15=_d["char"]+"",_16=_d["location"],_17=_d["keyCode"]||(_d["keyCode"]=_14&&_14.charCodeAt(0)||0),_18=_d["charCode"]||(_d["charCode"]=_15&&_15.charCodeAt(0)||0),_19=_d["bubbles"],_1a=_d["cancelable"],_1b=_d["repeat"],_1c=_d["locale"],_1d=_1;
_d["which"]||(_d["which"]=_d["keyCode"]);
if("initKeyEvent" in e){
e.initKeyEvent(_a,_19,_1a,_1d,_e,_10,_f,_11,_17,_18);
}else{
if(_2&&"initKeyboardEvent" in e){
if(_2==1){
e.initKeyboardEvent(_a,_19,_1a,_1d,_14,_16,_e,_f,_10,_11,_12);
}else{
if(_2==2){
e.initKeyboardEvent(_a,_19,_1a,_1d,_e,_10,_f,_11,_17,_18);
}else{
if(_2==3){
e.initKeyboardEvent(_a,_19,_1a,_1d,_14,_16,_e,_10,_f,_11,_12);
}else{
if(_2==4){
e.initKeyboardEvent(_a,_19,_1a,_1d,_14,_16,_13,_1b,_1c);
}else{
e.initKeyboardEvent(_a,_19,_1a,_1d,_15,_14,_16,_13,_1b,_1c);
}
}
}
}
}else{
e.initEvent(_a,_19,_1a);
}
}
for(_c in _3){
if(_4(_3,_c)){
if(e[_c]!=_d[_c]){
try{
delete e[_c];
_5(e,_c,{writable:true,"value":_d[_c]});
}
catch(e){
}
}
}
}
return e;
};
lconn.core.events.createKeyboardEvent=_9;
})();
}


;if(!dojo._hasResource["lconn.core.ckplugins.mentions._Handler"]){
dojo._hasResource["lconn.core.ckplugins.mentions._Handler"]=true;
dojo.provide("lconn.core.ckplugins.mentions._Handler");








(function(_1,_2,_3){
function _4(_5){
var _6=0;
dojo.map(_5,function(c){
_6+=c.charCodeAt(0)>1424?2:1;
});
return _6;
};
function _7(_8,_9){
var el=new CKEDITOR.dom.element(dojo.isIE?"span":"a",_8.document);
if(dojo.isIE){
el.addClass("cke_mention");
}
if(_9){
new CKEDITOR.dom.text(_9).appendTo(el);
}
_8.insertElement(el);
return el;
};
lconn.core.ckplugins.mentions._Handler={idx:0,_buffer:[],_editor:null,activate:function(_a){
this._buffer=[];
this._editor=_a;
var el=this._node=_7(_a,this.activatorChar);
this.addLabel(_a,el,this.ariaLabels&&this.ariaLabels.compose||"");
var _b=new CKEDITOR.dom.range(el);
_b.moveToElementEditEnd(el);
_b.select();
},handleComposition:function(_c){
this._buffer.push(_c.data.$.data);
if(_4(this._buffer)>1){
this.showMenu();
}
},handleBlur:function(ev){
if(this.menu&&this.menu.isShowing){
this.hideMenu();
}
},handleKeyDown:function(_d){
var _e=_d.data.keyCode||_d.data.getKey();
if(this.menu&&this.menu.isShowing){
switch(_e){
case dojo.keys.UP_ARROW:
_d.data.preventDefault(true);
this.menu.focusPrevious(this._node.$);
this.setLabel(this.menu.getCurrentValue());
break;
case dojo.keys.DOWN_ARROW:
_d.data.preventDefault(true);
this.menu.focusNext(this._node.$);
this.setLabel(this.menu.getCurrentValue());
break;
case dojo.keys.PAGE_UP:
case dojo.keys.PAGE_DOWN:
case dojo.keys.ESCAPE:
_d.data.preventDefault(true);
this.dispatchEvent(this.menu.menu.domNode,_d.data.$);
this.cancel();
break;
case dojo.keys.ENTER:
if(this.menu.menu.selected==this.menu.menu.searchButton){
this.menu.menu.searchDirectory();
}else{
var _f=this.menu.menu.items[this.menu.menu.selected.getAttribute("item")];
this.onSelect(_f);
}
_d.cancel();
break;
}
}else{
switch(_e){
case dojo.keys.BACKSPACE:
if(this._node.getText()==this.activatorChar){
if(dojo.isIE){
this.cancel();
}else{
_d.data.preventDefault(true);
this.removeMention();
}
}
break;
case dojo.keys.ENTER:
this.cancel();
_d.cancel();
break;
}
}
},handleKeyUp:function(evt){
var key=evt.data.getKey();
switch(key){
case dojo.keys.UP_ARROW:
case dojo.keys.DOWN_ARROW:
break;
case dojo.keys.ESCAPE:
case dojo.keys.CANCEL:
this.cancel();
break;
case dojo.keys.BACKSPACE:
if(this._node.$.parentNode){
return this.handleBackspace();
}else{
this.hideMenu();
this.onCancel();
}
break;
case dojo.keys.SPACE:
if(this.menu&&this.menu.isShowing&&this.menu.menu.items&&!this.menu.menu.items.length){
this.updateBuffer();
this.cancel();
break;
}
default:
if(!(((key==86||key==dojo.keys.F7)&&(evt.data.$.ctrlKey||evt.data.$.metaKey))||(evt.data.$.shiftKey&&key==dojo.keys.INSERT))){
this.updateBuffer();
if(_4(this._buffer)>1){
this.showMenu();
}
}
}
},handleBackspace:function(){
this.updateBuffer();
var _10=this._node.getText().split("");
if(_10.length<1){
this.cancel();
return true;
}
if(_4(this._buffer)>1){
this.showMenu();
}else{
this.hideMenu();
}
},updateBuffer:function(){
this._buffer=this._node.getText().substring(1).split("");
dojo.forEach(this._buffer,dojo.hitch(this,function(_11,i){
if(_11.charCodeAt(0)=="160"){
this._buffer[i]=" ";
}
}));
},handleDeletion:function(_12,_13){
var _14=this.getMentionsAtRange(_13,_12);
if(_14&&_14.length>0){
var _15=_13.endContainer,_16,_17;
if(_14.length==1&&!dojo.isIE){
_2.addLabel(_12,_15.$.parentElement,dojo.string.substitute(this.ariaLabels.removed,[_14[0].name])||"");
}
dojo.forEach(_14,dojo.hitch(this,function(_18,i){
this._buffer=_18.name.split("");
_17=this.bidiActivatorChar();
if(_18.name.indexOf(_17)!==-1){
_18.name=_18.name.substring(_18.name.indexOf(_17)+_17.length);
}
dojo.publish("lconn/microblogging/mention/removed",[{editor:_12,mention:_18.name,id:_18.id}]);
}));
if(_15.$.className=="vcard"){
_16=_15.$;
}
_13.deleteContents();
_13.select();
if(_16){
if(dojo.isIE){
var _19=_12.createRange();
_19.setStartAt(_15,CKEDITOR.POSITION_AFTER_START);
_19.setEndAt(_15,CKEDITOR.POSITION_BEFORE_START);
_19.select();
_15.remove();
}else{
_16.remove();
var _1a=_12.getSelection().getRanges()[0];
_1a.select();
}
}
}
},handlePasteUndo:function(evt){
var _1b=false;
var _1c;
var _1d=dojo.query("span.vcard",evt.editor.document.$);
var _1e=(evt.name=="afterPaste");
if(!this._editor){
_1c=this._editor;
this._editor=evt.editor;
_1b=true;
}
dojo.forEach(_1d,dojo.hitch(this,function(_1f){
this.decorateContent(_1f,_1e);
}));
if(_1b){
this._editor=_1c;
}
},handlePasteActive:function(_20){
this._buffer=this._buffer.concat(_20.split(""));
this._node.$.textContent=this.bidiActivatorChar()+this._buffer.join("");
var _21=new CKEDITOR.dom.range(this._node);
_21.setStartAt(this._node,CKEDITOR.POSITION_AFTER_END);
_21.select();
if(_4(this._buffer)>1){
this.showMenu();
}
},complete:function(_22){
if(dojo.isIE){
var _23=new CKEDITOR.dom.element("a",this._editor.document);
new CKEDITOR.dom.text(this._node.getText()).appendTo(_23);
this._node.copyAttributes(_23);
_23.replace(this._node);
this._node=_23;
}
this._node.setAttribute("contentEditable","false");
var _24=dojo.isFunction(this.formatData)?this.formatData(_22):_22;
this._node.setAttribute("data-mentions",_24);
if(dojo.isFunction(this.addMicroFormat)){
this.addMicroFormat(_22);
}
this.hideMenu();
this.onComplete();
var _25=dojo.hitch(this,this.remove,this._node,_22);
dojo.publish("lconn/microblogging/mention/completed",[{editor:this._editor,mention:_24,node:this._node.$,remove:_25}]);
if(dojo.isFunction(this._editor.config.ibmMentionShouldNotifyCallback)){
var _26=this._editor.config.ibmMentionShouldNotifyCallback(_22);
if(!_26){
_25();
}else{
if(dojo.isFunction(_26.then)){
_26.then(function(){
},_25);
}
}
}
this.setLabel(this.ariaLabels&&dojo.string.substitute(this.ariaLabels.completed,[this.getValue()])||"");
var _27=new CKEDITOR.dom.text("\u200b");
_27.insertAfter(this._node);
if(dojo.isIE==8&&!this._node.getNext().getNext().getNext()){
var _28=new CKEDITOR.dom.element("BR");
_28.insertAfter(this._node);
}
},cancel:function(){
this.removeMention();
this._editor.insertText(this.activatorChar+this.getValue());
},removeMention:function(){
this.setLabel(this.ariaLabels&&dojo.string.substitute(this.ariaLabels.cancelled,[this.getValue()])||"");
var _29=new CKEDITOR.dom.range(this._node);
_29.moveToElementEditEnd(this._node);
_29.select();
_29.setStartBefore(this._node);
_29.setEndAfter(this._node);
_29.deleteContents();
this.hideMenu();
this.onCancel();
},showMenu:function(){
if(!this.menu){
this.menu=new _1({store:(this.getStore||function(){
return null;
})(),onSelect:dojo.hitch(this,this.onSelect),onMenuKeyDown:dojo.hitch(this,this.onMenuKeyDown),onMenuKeyPress:dojo.hitch(this,this.onMenuKeyPress),idx:this.idx});
this.idx++;
}
this.setLabel("type ahead list box");
this.menu.search({input:this.getValue(),node:this._node.$});
},hideMenu:function(){
if(this.menu){
this.menu.hide();
}
},getValue:function(){
return this._buffer.join("");
},setValue:function(_2a){
this._buffer=_2a.split("");
this._node.setText(this.bidiActivatorChar()+this.getValue());
},onSelect:function(_2b){
if(_2b){
this.setValue(this.getTextFromItem(_2b));
this.complete(_2b);
}
},onMenuKeyPress:function(e){
if(e.charCode>0){
this._buffer.push(String.fromCharCode(e.charCode));
this.setValue(this.getValue());
}
},onMenuKeyDown:function(e){
switch(e.keyCode){
case dojo.keys.ESCAPE:
case dojo.keys.CANCEL:
this._editor.focus();
break;
case dojo.keys.BACKSPACE:
dojo.stopEvent(e);
this._editor.focus();
this.dispatchEvent(this._node.$.ownerDocument.body,e);
if(this.menu){
this.menu.focus();
}
this.handleBackspace();
break;
}
},dispatchEvent:function(_2c,e){
var _2d=_3.createKeyboardEvent(e.type,{"char":String.fromCharCode(e.charCode),"key":e.keyCode,"location":0,"ctrlKey":e.ctrlKey,"shiftKey":e.shiftKey,"altKey":e.altKey,"metaKey":e.metaKey,"repeat":false,"locale":"","detail":0,"bubbles":e.bubbles,"cancelable":e.cancelable,"keyCode":e.keyCode,"charCode":e.charCode,"which":e.which});
_2c.dispatchEvent(_2d);
},onComplete:function(){
},onCancel:function(){
}};
dojo.safeMixin(lconn.core.ckplugins.mentions._Handler,_2);
})(lconn.core.ckplugins.mentions.TypeAheadMenu,lconn.core.ckplugins.mentions._ARIAMixin,lconn.core.events);
}


;if(!dojo._hasResource["lconn.core.PeopleTypeAheadOpenSocialConverter"]){
dojo._hasResource["lconn.core.PeopleTypeAheadOpenSocialConverter"]=true;
dojo.provide("lconn.core.PeopleTypeAheadOpenSocialConverter");
dojo.declare("lconn.core.PeopleTypeAheadOpenSocialConverter",null,{idPrefix:"urn:lsid:lconn.ibm.com:profiles.person:",convertOpenSocialPeopleTypeAheadFeed:function(_1){
var _2=this._createWrapper();
var _3=this;
_2.items=dojo.map(_1.list,function(_4){
return _3._convertItem(_4);
});
return _2;
},_createWrapper:function(){
var _5={identifier:"member",label:"name",items:[]};
return _5;
},_convertItem:function(_6){
var _7=this._getEmail(_6.emails);
var _8=_6.id.replace(this.idPrefix,"");
var _9={name:_6.displayName,userid:_8,member:_7,type:"0"};
return _9;
},_getEmail:function(_a){
var _b="";
if(_a&&_a.length>0){
if(_a.length==1){
_b=_a[0].value;
}else{
var _c=dojo.filter(_a,function(_d){
return _d.type=="primary";
});
if(_c.length>0){
_b=_c[0].value;
}else{
_b=_a[0].value;
}
}
}
return _b;
}});
}


;if(!dojo._hasResource["lconn.core.PeopleDataStoreOpenSocial"]){
dojo._hasResource["lconn.core.PeopleDataStoreOpenSocial"]=true;
dojo.provide("lconn.core.PeopleDataStoreOpenSocial");






dojo.declare("lconn.core.PeopleDataStoreOpenSocial",lconn.core.PeopleDataStore,{_openSocialDataConverter:null,_openSocialParameters:null,network:null,constructor:function(_1,_2){
this._openSocialDataConverter=new lconn.core.PeopleTypeAheadOpenSocialConverter();
this.network=_1.network;
if(_1.openSocialParameters){
this._openSocialParameters=_1.openSocialParameters;
}
},setOpenSocialParameters:function(p){
this._openSocialParameters=p;
},fetch:function(_3){
var _4={};
var _5;
this.searchDirectory=(_3.queryOptions.searchDirectory?true:false);
if(this.searchDirectory){
_5=this.dirCache;
}else{
_5=this.cache;
}
if(typeof _5[_3.query.toLowerCase()]=="object"){
_3.count=_5.length;
_3.onComplete(_5[_3.query.toLowerCase()],_3);
return _3;
}
if(this._openSocialParameters){
for(p in this._openSocialParameters){
_4[p]=this._openSocialParameters[p];
}
}
if(this.queryParam){
_4[this.queryParam]=_3.query;
}
if(this.searchDirectory){
_4.searchType="directory";
}
this.networkGet({url:this.url,content:_4,handleAs:"json-comment-optional",timeout:60000,load:dojo.hitch(this,function(_6){
var _7;
if(this.searchDirectory){
_7=this.dirCache;
}else{
_7=this.cache;
}
var _8=this._openSocialDataConverter.convertOpenSocialPeopleTypeAheadFeed(_6);
_3.count=_8.items.length;
_7[_3.query.toLowerCase()]=_8.items;
if(_3.onComplete){
_3.onComplete(_8.items,_3);
}
}),error:function(e,_9){
console.log("There was an error: "+e.message);
_9.xhr.abort();
}});
return _3;
}});
dojo.declare("lconn.core.HybridPeopleDataStoreOpenSocial",lconn.core.PeopleFinderDataStore,{_openSocialDataConverter:null,_openSocialParameters:null,_extendedCache:null,extendedTypeAheadUrl:null,extendedQueryParam:null,network:null,constructor:function(_a,_b){
this._openSocialDataConverter=new lconn.core.PeopleTypeAheadOpenSocialConverter();
if(_a.openSocialParameters){
this._openSocialParameters=_a.openSocialParameters;
}
this._extendedCache=[];
this.extendedTypeAheadUrl=_a.extendedTypeAheadUrl;
this.extendedQueryParam=_a.extendedQueryParam;
this.network=_a.network;
},setOpenSocialParameters:function(p){
this._openSocialParameters=p;
},fetch:function(_c){
var _d={};
var _e;
this.searchDirectory=(_c.queryOptions.searchDirectory?true:false);
if(!this.searchDirectory){
_c=this.inherited("fetch",arguments);
}else{
_e=this._extendedCache;
if(typeof _e[_c.query.toLowerCase()]=="object"){
_c.count=_e.length;
_c.onComplete(_e[_c.query.toLowerCase()],_c);
return _c;
}
if(this._openSocialParameters){
dojo.mixin(_d,this._openSocialParameters);
}
if(this.extendedQueryParam){
_d[this.extendedQueryParam]=_c.query;
}
if(this.searchDirectory){
_d.searchType="directory";
}
if(_c.count){
_d.count=_c.count;
}
this.networkGet({url:this.extendedTypeAheadUrl,content:_d,handleAs:"json-comment-optional",timeout:60000,load:dojo.hitch(this,function(_f){
var _10=this._extendedCache;
var _11=this._openSocialDataConverter.convertOpenSocialPeopleTypeAheadFeed(_f);
_c.count=_11.items.length;
_10[_c.query.toLowerCase()]=_11.items;
if(_c.onComplete){
_c.onComplete(_11.items,_c);
}
}),error:function(){
console.log("There was an error");
}});
}
return _c;
}});
}

dojo.provide("com.ibm.social.ublog.nls.Mentions")._built=true;
dojo.provide("com.ibm.social.ublog.nls.Mentions.en");
com.ibm.social.ublog.nls.Mentions.en={"MENTIONS":"@${0}","LOGIN_COMMENT":"Log in to post a comment","PREVIOUS_CHOICES":"Previous choices","REMOVED_MENTION":"Removed mention of ${0}","REMOVE_MENTION":"Remove mention","CREATED_MENTION":"Created mention, continue typing for type ahead","MENTION_TYPEAHEAD_OPENED":"Mention type ahead opened, use the up and down arrow keys to select an item","FULL_SEARCH":"Person not listed? Use full search.","SELECTED_MENTION":"${0} selected","MORE_CHOICES":"More choices","JOIN_COMMUNITY_NON_SPECIFIC":"Join the community \'${0}\' to post a comment","YOUR_COMMENT":"Your comment: ${0}","JOIN_COMMUNITY":"Join this community to post a comment","COMPLETED_MENTION":"Completed mention of ${0}","REMOVE_MENTION_ARIA":"Remove mention to this person","NOT_ALLOWED":"You are not authorized to make comments on this message","CANCELLED_MENTION":"Cancelled mention of ${0}","ERROR_LIST_PERSON":"An error occurred when retrieving the list of people. Try again - contact your administrator if the problem persists."};

;dojo.cache("lconn.core", "widget/mentions/templates/mention.html", "<span contenteditable=\"false\" class=\"vcard\"><a class=\"fn url\" href=\"${url}\">${name}</a><span class=\"x-lconn-userid\" style=\"display: none\">${userid}</span></span>");

;if(!dojo._hasResource["lconn.core.ckplugins.mentions.PersonHandler"]){
dojo._hasResource["lconn.core.ckplugins.mentions.PersonHandler"]=true;
dojo.provide("lconn.core.ckplugins.mentions.PersonHandler");


















dojo.requireLocalization("com.ibm.social.ublog","Mentions");
(function(){
var _1=dojo.i18n.getLocalization("com.ibm.social.ublog","Mentions");
lconn.core.ckplugins.mentions.PersonHandler={activatorChar:"@",bidiActivatorChar:function(){
var _2=lconn.core.globalization.bidiUtil.isRTLValue(this._buffer[0]);
return !dojo.isBodyLtr()&&!_2?lconn.core.globalization.bidiUtil.enforceTextDirection(this.activatorChar,"ltr"):this.activatorChar;
},ariaLabels:{compose:_1.CREATED_MENTION,completed:_1.COMPLETED_MENTION,cancelled:_1.CANCELLED_MENTION,removed:_1.REMOVED_MENTION},templatePath:dojo.moduleUrl("lconn.core","widget/mentions/templates/mention.html"),getStore:function(){
var _3={filterBy:"displayName",count:15};
if(lconn.core.config.services.search){
this._typeaheadFeed=lconn.core.url.getServiceUrl(lconn.core.config.services.search)+(this.network&&this.network.oauth?"/oauth":"/anonymous")+"/people/typeahead";
this._extendedTypeAheadFeed=lconn.core.url.getServiceUrl(lconn.core.config.services.opensocial)+(this.network&&this.network.oauth?"/oauth":"/anonymous")+"/rest/people/@public/@all";
this.typeaheadDataStore=new lconn.core.HybridPeopleDataStoreOpenSocial({url:this._typeaheadFeed,queryParam:"query",extendedTypeAheadUrl:this._extendedTypeAheadFeed,extendedQueryParam:"filterValue",openSocialParameters:_3,network:this.network});
}else{
this._typeaheadFeed=lconn.core.url.getServiceUrl(lconn.core.config.services.opensocial)+(this.network&&this.network.oauth?"/oauth":"/anonymous")+"/rest/people/@public/@all";
this.typeaheadDataStore=new lconn.core.PeopleDataStoreOpenSocial({url:this._typeaheadFeed,queryParam:"filterValue",openSocialParameters:_3,network:this.network});
}
return this.typeaheadDataStore;
},getTextFromItem:function(_4){
return _4?_4.name:null;
},decorateContent:function(_5,_6){
var _7=dojo.query("a.fn",_5)[0];
if((_6&&!this.hasBizCard(_5))||dojo.isIE==8){
var _8=dojo.isIE==8?_7.innerText:_7.textContent;
var _9={clean:dojo.trim(_8).replace(this.activatorChar,""),removeAtChar:_8.indexOf(this.activatorChar)==-1};
var _a=this.getStore();
_a.fetch({queryOptions:{ignoreCase:true,deep:true},query:_9.clean,onComplete:dojo.hitch(this,function(_b,_c,_d,_e){
var _f;
this._node=new CKEDITOR.dom.element();
this._node.$=_b;
var _10=dojo.filter(_e,function(_11){
return _11.name==_c.clean;
})[0];
if(!!_10&&dojo.isFunction(this.addMicroFormat)){
_f=this._editor;
this._editor=_d;
this.addMicroFormat(_10,_c.removeAtChar);
this._editor=_f;
}
},_5,_9,this._editor),onError:function(){
return;
}});
}else{
this._editor.fire("lockSnapshot");
dojo.removeClass(_7,"hasHover");
if(dojo.exists("SemTagSvc")){
SemTagSvc.parseDom(0,_5);
}
this._editor.fire("unlockSnapshot");
}
},formatData:function(_12){
var _13={displayName:_12.name,userId:_12.userid,type:"PersonMentions",hasSymbol:true};
return dojo.toJson(_13);
},addMicroFormat:function(_14,_15){
var url=com.ibm.lconn.layout.people.getProfileUrl({name:_14.name,userid:_14.userid});
var _16=dojo.string.substitute(dojo.cache(this.templatePath),{name:_15?_14.name:this.bidiActivatorChar()+_14.name,userid:_14.userid,url:url});
var _17=CKEDITOR.dom.element.createFromHtml(_16);
this._editor.fire("lockSnapshot");
_17.replace(this._node);
if(dojo.exists("SemTagSvc")){
SemTagSvc.parseDom(0,_17.$);
}
this._editor.fire("unlockSnapshot");
this._node=_17;
},remove:function(_18,_19){
var a=_18.$.children[0];
if(a){
for(var i=0;i<a.childNodes.length;i++){
if(a.childNodes[i].nodeType===3&&a.childNodes[i].nodeValue.indexOf(this.bidiActivatorChar())===0){
a.childNodes[i].nodeValue=_19.name;
return;
}
}
}
},getNameFromNode:function(_1a){
if(_1a.$&&_1a.$.className=="vcard"&&_1a.$.childNodes.length>0){
return dojo.query("a.fn",_1a.$)[0].innerHTML;
}else{
if(_1a.$&&_1a.$.parentElement&&_1a.$.parentElement.className=="vcard"){
return dojo.query("a.fn",_1a.$.parentElement)[0].innerHTML;
}
}
},getIdFromNode:function(_1b){
if(_1b.$&&_1b.$.className=="vcard"&&_1b.$.childNodes.length>0){
return dojo.query("span.x-lconn-userid",_1b.$)[0].innerHTML;
}else{
if(_1b.$&&_1b.$.parentElement&&_1b.$.parentElement.className=="vcard"){
return dojo.query("span.x-lconn-userid",_1b.$.parentElement)[0].innerHTML;
}
}
},isMentionNode:function(_1c){
return _1c&&((_1c.$&&_1c.$.className=="vcard")||(_1c.className&&_1c.className=="vcard"));
},getMentionsAtRange:function(_1d,_1e){
var _1f=_1d.endContainer,_20,_21=[];
var _22=_1d.getBoundaryNodes();
if((!_1d.collapsed&&_1d.endContainer.$==_1d.startContainer.$)||(dojo.isIE&&_1d.collapsed&&(this.isMentionNode(_1f)||(this.isMentionNode(_1f.getPrevious())&&_1d.endContainer.$.data=="\u200b")))){
if(_1f.type==CKEDITOR.NODE_ELEMENT){
var _23=_1e.getSelection().getRanges()[0];
_20=_1f.getChild(_23.endOffset-1);
}else{
if(dojo.isIE){
_20=_1f.$.className=="vcard"?_1f:_1f.getPrevious();
}else{
return false;
}
}
_21.push({name:this.getNameFromNode(_20),id:this.getIdFromNode(_20)});
}else{
if(!_1d.collapsed){
var _24=new CKEDITOR.dom.walker(_1d),_25;
while(_25=_24.previous()){
if(_25.$.className==="vcard"){
_21.push({name:this.getNameFromNode(_25),id:this.getIdFromNode(_25)});
}
}
}
}
return _21;
},hasBizCard:function(_26){
return _26&&!!dojo.query("span.x-lconn-userid",_26)[0];
}};
dojo.safeMixin(lconn.core.ckplugins.mentions.PersonHandler,lconn.core.ckplugins.mentions._Handler);
})();
}


;if(!dojo._hasResource["lconn.core.ckplugins.mentions.HashtagHandler"]){
dojo._hasResource["lconn.core.ckplugins.mentions.HashtagHandler"]=true;
dojo.provide("lconn.core.ckplugins.mentions.HashtagHandler");








lconn.core.ckplugins.mentions.HashtagHandler={activatorChar:"#",ariaLabels:{compose:"Created hashtag. Continue typing for type ahead",completed:"Completed hashtag",cancelled:"Cancelled hashtag",removed:"Deleted hashtag"},getStore:function(){
return new lconn.core.TypeAheadDataStore({queryParam:"name",url:"tags.json"});
},getTextFromItem:function(_1){
return _1?_1.displayName:null;
},decorateContent:function(_2){
},formatData:function(_3){
var _4={value:_3.displayName,type:"TagMentions",hasSymbol:true};
return dojo.toJson(_4);
},addMicroFormat:function(_5){
},remove:function(_6,_7){
},isMention:function(_8){
return false;
}};
dojo.safeMixin(lconn.core.ckplugins.mentions.HashtagHandler,lconn.core.ckplugins.mentions._Handler);
}


;if(!dojo._hasResource["lconn.core.ckplugins.mentions"]){
dojo._hasResource["lconn.core.ckplugins.mentions"]=true;
(function(){
var _1=dojo.provide("lconn.core.ckplugins.mentions");
var _2="com.ibm.lconn.core.web.ckeditor.mentions.enabled";










var _3="mentions";
_1.getName=function(){
return _3;
};
_1.isEnabled=function(){
return lconn.core.config.properties[_2]!=="false";
};
_1.addPlugin=function(){
if(CKEDITOR&&CKEDITOR.plugins&&CKEDITOR.plugins.registered&&CKEDITOR.plugins.registered[_3]){
return;
}
CKEDITOR.plugins.add(_3,{init:function(_4){
if(_4.config.ibmMentionDisabled||lconn.core.auth.getUser()&&lconn.core.auth.getUser().isExternal){
return;
}
var _5=0,_6=1;
var _7=_5,_8=null;
function _9(){
_7=_5;
};
function _a(_b){
var _c="";
var _d=_b.getSelection().getRanges()[0],_e=_d.startContainer;
if(_e.type==CKEDITOR.NODE_TEXT&&_d.startOffset){
_c=_e.getText()[_d.startOffset-1];
}else{
if(_d.endOffset==0&&_d.startOffset==0&&_d.endContainer.getText().slice(1)==""){
return _c;
}else{
_d.collapse(true);
_d.setStartAt(_b.editable(),CKEDITOR.POSITION_AFTER_START);
var _f=new CKEDITOR.dom.walker(_d),_10;
while(_10=_f.previous()){
if(_10.type==CKEDITOR.NODE_TEXT){
_c=_10.getText().slice(-1);
}
}
}
}
return _c;
};
function _11(c){
return c==""||c.match(/\s/)||dojo.indexOf(["\u200b","\xa0"],c)!==-1;
};
function _12(ev){
var _13=_4.getSelection().getRanges()[0];
dojo.forEach(_28,function(_14){
_14.handleDeletion(_4,_13);
});
};
function _15(ev){
var key=ev.data.keyCode;
if(key!=dojo.keys.ENTER){
return;
}
switch(_7){
case _6:
if(_8&&_8.handleKeyDown(ev)){
delete _8;
_7=_5;
}
}
};
function _16(ev){
switch(_7){
case _6:
if(_8&&_8.handlePasteActive(ev.data.dataValue,_4)){
delete _8;
_7=_5;
}
ev.cancel();
_4.fire("afterPaste",ev);
break;
}
};
function _17(ev){
switch(_7){
case _6:
_8.handlePasteUndo(ev);
break;
case _5:
dojo.forEach(_28,function(_18){
_18.handlePasteUndo(ev);
});
break;
}
};
function _19(ev){
var _1a=ev.data.getTarget();
if((_1a.$.tagName=="A"||_1a.$.tagName=="SPAN")&&_1a.$.getAttribute("href")){
if(!(dojo.isFF&&ev.data.$.button&&ev.data.$.button==2)){
ev.data.preventDefault(true);
}
}
};
function _1b(ev){
switch(_7){
case _6:
if(_8&&_8.handleComposition(ev)){
delete _8;
_7=_5;
}
}
};
function _1c(ev){
var key=ev.data.getKey();
if(key==dojo.keys.ENTER){
return;
}
switch(_7){
case _5:
var _1d=dojo.filter(_29,function(_1e){
return key==_1e[0];
})[0];
if(_1d&&_11(_a(_4))){
ev.data.preventDefault();
_8=_28[_1d[1]];
_8.activate(_4);
_8.onComplete=_9;
_8.onCancel=_9;
_7=_6;
}
break;
case _6:
break;
}
};
function _1f(ev){
var key=ev.data.getKey();
if(key==dojo.keys.ENTER){
return;
}
switch(_7){
case _6:
if(_8&&_8.handleKeyDown(ev)){
delete _8;
_7=_5;
}
break;
case _5:
if(dojo.indexOf([dojo.keys.BACKSPACE,dojo.keys.DELETE],key)!==-1){
_12(ev);
}
if(key==dojo.keys.BACKSPACE||key==dojo.keys.DELETE){
if(dojo.isChrome||dojo.isIE>8){
var _20=_4.getSelection().getRanges()[0],_21=_20.startContainer;
if(_8){
if(_21.$&&(_21.$.parentNode!=_4)){
var _22=_21.$;
if(dojo.isIE&&_22.length<=1&&_22.previousSibling&&_22.previousSibling.tagName=="SPAN"){
_22=_22.previousSibling;
}else{
while(_22.tagName!=("P"||"SPAN")&&_22.parentNode.tagName!=("P"||"SPAN")){
_22=_22.parentNode;
}
}
var _23=_22.className;
if(_23&&_23.indexOf("vcard")>-1){
ev.data.preventDefault(true);
if(_8._node&&_8._node.$==_22){
_22=_8._node;
}else{
if(dojo.isIE>8){
_22=_21.getPreviousSourceNode();
}
}
if(dojo.isChrome){
_22.remove();
}else{
_20.setStartBefore(_22);
_20.setEndAfter(_21);
_20.deleteContents();
}
if(_8){
delete _8;
}
}
}
}
}
}
}
};
function _24(ev){
var key=ev.data.getKey();
if(key==dojo.keys.ENTER){
return;
}
switch(_7){
case _6:
if(_8&&_8.handleKeyUp(ev)){
delete _8;
_7=_5;
}
case _5:
if(dojo.indexOf([dojo.keys.BACKSPACE,dojo.keys.DELETE],key)!==-1&&dojo.isIE==8){
_12(ev);
}
}
};
function _25(ev){
if(_8){
_8.handleBlur(ev);
}
};
function _26(ev){
if(ev.data.name=="undo"||ev.data.name=="redo"){
switch(_7){
case _6:
_8.handlePasteUndo(ev);
break;
case _5:
dojo.forEach(_28,function(_27){
_27.handlePasteUndo(ev);
});
break;
}
}
};
if(dojo.config.isDebug){
_1._eventHandlers={onAfterPaste:_17,onCompositionEnd:_1b,onKey:_15,onKeyDown:_1f,onKeyPress:_1c,onKeyUp:_24};
_1.resetState=_9;
}
_4.on("mode",function(evt){
if(_4.mode==="wysiwyg"){
_4.document.getBody().addClass("lconnRTE lotusui30 lotusui30_body lotusui30dojo lotusui30_fonts");
_4.on("key",_15);
_4.on("afterCommandExec",_26);
_4.on("afterPaste",_17);
_4.on("paste",_16);
_4.document.on("click",_19);
_4.document.on("compositionend",_1b);
_4.on("blur",_25);
_4.document.on("keypress",_1c);
_4.document.on("keydown",_1f);
_4.document.on("keyup",_24);
}
});
}});
_1.registerHandler(lconn.core.ckplugins.mentions.PersonHandler);
};
var _28=[],_29=[];
_1.registerHandler=function(_2a){
var _2b=_28.push(_2a)-1;
var arr=dojo.isArray(_2a.activatorChar)?_2a.activatorChar:[_2a.activatorChar];
dojo.forEach(arr,function(c){
_29.push([c.charCodeAt(0),_2b]);
});
};
})();
}


;if(!dojo._hasResource["lconn.core.ckplugins.urlDetect"]){
dojo._hasResource["lconn.core.ckplugins.urlDetect"]=true;
(function(){
var _1=dojo.provide("lconn.core.ckplugins.urlDetect");


var _2="urlDetect";
_1.getName=function(){
return _2;
};
_1.isEnabled=function(){
return !(lconn.core.config.properties["com.ibm.lconn.core.web.ckeditor.urlDetect.enabled"]==="false");
};
_1.addPlugin=function(){
if(CKEDITOR&&CKEDITOR.plugins&&CKEDITOR.plugins.registered&&CKEDITOR.plugins.registered[_2]){
return;
}
CKEDITOR.plugins.add(_2,{init:function(_3){
_3.on("afterCommandExec",function(_4){
switch(_4.data.name){
case "insertLink":
dojo.publish("lconn/core/ckeditor/url/entered",[{url:_4.data.commandData.href,editor:this}]);
break;
case "pasteLink":
dojo.publish("lconn/core/ckeditor/url/entered",[{url:_4.data.commandData,editor:this}]);
break;
}
});
}});
};
})();
}


;if(!dojo._hasResource["lconn.core.ckeditor"]){
dojo._hasResource["lconn.core.ckeditor"]=true;
(function(){
dojo.provide("lconn.core.ckeditor");




















var _1=false,_2=false,_3=net.jazz.ajax.xdloader;
var _4=[];
var _5=[],_6=["lconn.core.ckplugins.icdocpicker","lconn.core.ckplugins.icpublishBinaryData","lconn.core.ckplugins.mentions","lconn.core.ckplugins.urlDetect"];
window.CKEDITOR_GETURL=function(_7){
if(!CKEDITOR||!CKEDITOR.basePath||!CKEDITOR.timestamp){
return null;
}
var u=lconn.core.url.parse(_7);
if(!u.scheme&&_7.indexOf("/")!==0){
_7=CKEDITOR.basePath+_7;
}
if(_7.charAt(_7.length-1)!="/"){
_7=_8(_7);
}
return _7;
};
function _8(_9){
return lconn.core.url.rewrite(_9,{t:CKEDITOR.timestamp,etag:dojo.getObject("ibmConfig.versionStamp")});
};
function _a(_b){
var ep=CKEDITOR.config.extraPlugins,_c=[];
if(ep){
_c=ep.split(",");
}
_c.push(_b);
CKEDITOR.config.extraPlugins=_c.join(",");
};
function _d(p){
var o=dojo.getObject(p);
if(dojo.isFunction(o.isEnabled)&&!o.isEnabled()){
if(dojo.config.isDebug){
console.info("lconn.core.ckeditor: registered plugin '"+p+"' is not enabled.");
}
return;
}
if(dojo.isFunction(o.addPlugin)){
o.addPlugin();
}else{
console.warn("lconn.core.ckeditor: registered plugin '"+p+"' does not implement an addPlugin() method.");
}
lconn.core.ckeditor.addCustomConfig(function(){
_a(o.getName());
if(dojo.isFunction(o.addCustomConfig)){
o.addCustomConfig();
}
});
};
function _e(){
var as=dojo.query("head link[rel=stylesheet]"),hr=dojo.map(as,function(_f){
return _f.href;
}),st=dojo.filter(hr,function(_10){
return _10.indexOf("ckeditor")===-1;
});
return st.concat(_8(CKEDITOR.basePath+"contents.css"));
};
function _11(){
var _12="",_13=",Arial,Helvetica,sans-serif";
if(lconn.core.locale.getLanguage()==="ja"){
_12+=";MS Gothic/'MS UI Gothic','MS PGothic',Meiryo,'Sazanami Gothic','Hiragino Kaku Gothic Pro'"+_13;
}else{
if(lconn.core.locale.getLanguage()==="ko"){
_12+=";Gulim/Gulim,Dotum,'Malgun Gothic','Baekmuk Gulim',AppleGothic"+_13;
}else{
if(lconn.core.locale.getLanguage()==="zh"){
if(lconn.core.locale.getCountry()==="tw"){
_12+=";PMingLiU/PMingLiU,'AR PL ZenKai Uni','Apple LiGothic'"+_13;
}else{
_12+=";SimSun/SimSun,'AR PL ShanHeiSun Uni',STHeiti"+_13;
}
}
}
}
CKEDITOR.config.font_names+=_12;
};
function _14(){
com.ibm.oneui.ckeditor.editor.dojoconfig.execCustomConfig();
CKEDITOR.config.extraPlugins="ibmbinaryimagehandler";
CKEDITOR.editorConfig(CKEDITOR.config);
CKEDITOR.config.customConfig="";
CKEDITOR.config.language=dojo.config.locale;
CKEDITOR.config.ibmHelpDocumentationUrl=lconn.core.ckeditor.getHelpUrl;
CKEDITOR.config.contentsCss=_e();
CKEDITOR.config.ibmEnablePasteLinksEvt=true;
CKEDITOR.config.menus.link={buttonClass:"cke_button_link",commands:["link","linkToFiles"]};
_11();
for(var i=0,l=_4.length;i<l;i++){
_4[i]();
}
_4=[];
};
lconn.core.ckeditor={applyCustomConfig:function(){
if(_1){
return;
}
_1=true;
var _15=_5.concat(_6);
if(!_2&&_15.length>0){
_2=true;
var dj=dojo;
for(var i=0,l=_15.length;i<l;i++){
dj.require(_15[i]);
_d(_15[i]);
}
_14();
}else{
_14();
}
},addCustomConfig:function(f){
_4.push(f);
},addCustomPlugin:function(p){
_5.push(p);
},addExtraPlugin:function(n){
_a(n);
},replace:function(){
lconn.core.ckeditor.async("replace",dojo._toArray(arguments));
},appendTo:function(){
lconn.core.ckeditor.async("appendTo",dojo._toArray(arguments));
},async:function(_16,_17){
_3.load_layer_async("lconn.core.ckeditorstatic",["dojo.i18n","lconn.core.ckeditor"],function(){
if(typeof _16=="function"){
_16(CKEDITOR);
}else{
CKEDITOR[_16].apply(CKEDITOR,_17);
}
});
},getHelpUrl:function(_18){
var _19="/topic/"+(_18||"com.ibm.lotus.connections.common.help/eucommon_ckeditor.html");
return lconn.core.help.getProductHelpUrl(_19);
}};
})();
}


;if(!dojo._hasResource["lconn.core.bizCard.bizCardUtils"]){
dojo._hasResource["lconn.core.bizCard.bizCardUtils"]=true;
dojo.provide("lconn.core.bizCard.bizCardUtils");




(function(){
var _1=dojo;
var _2=null;
var _3=function(){
if(!_2){
try{
_2=_1.i18n.getLocalization("lconn.profiles.bizCard","ui");
}
catch(e){
}
}
};
var _4="_ICBizCardLink";
lconn.core.bizCard.bizCardUtils={isDebug:false,scriptResourceName:"semanticTagService.js",version:"4.0",scripts:new Array(),_loadedCss:new Array(),initiated:false,_haveProxy:false,_proxyHelper:null,baseUrl:null,resourcesUrl:null,appChksum:null,liveElemPrefix:"semtag_live_",hoverIdx:0,hoverIdAttr:"icBizCard_idx",refcntAttr:"icBizCard_ref",setDojoObject:function(d){
if(typeof d=="object"){
_1=d;
}
},getDojoObject:function(){
return _1||dojo;
},init:function(_5){
if(this.initiated){
return;
}
var _6=window.SemTagSvcConfig||{};
this.resourcesUrl=_6.resourcesSvc||null;
_3();
this.baseUrl=lconn.core.bizCard.bizCardUtils.initBaseUrl();
this._initProxyHelper();
this._initAppCksum();
if(_6.loadCssFiles&&!window.SemTagPersonConfig_noCss){
var _7=(window.SemTagSvcConfig&&SemTagSvcConfig.isBidiRTL);
if(!SemTagSvcConfig.isPortal){
this.loadCss(this.resourcesUrl+"/web/_style"+"?include=com.ibm.lconn.core.styles.oneui3/base/package3"+(_7?"RTL":"")+".css&exclude=org.dojotoolkit.dojo/resources/dojo.css",{id:"ibmConnect_CSS_package3"});
this.loadCss(this.resourcesUrl+"/web/_style"+"?include=com.ibm.lconn.core.styles.oneui3/sprites"+(_7?"RTL":"")+".css&exclude=org.dojotoolkit.dojo/resources/dojo.css",{id:"ibmConnect_CSS_sprites"});
this.loadCss(this.resourcesUrl+"/web/_lconntheme/default.css?version=oneui3"+(_7?"&rtl=true":"")+"&exclude=org.dojotoolkit.dojo/resources/dojo.css",{id:"ibmConnect_CSS_default"});
try{
var _8="\t\t\t\t\t\t.lotusui30 .lotusVCard .lotusPersonInfo h2 {\t\t\t\t\t\t\toverflow: hidden;\t\t\t\t\t\t}\t\t\t\t\t\t.lotusui30 .lotusInlineVCard .lotusAppLinks a {\t\t\t\t\t\t\tborder-width: 0;\t\t\t\t\t\t}\t\t\t\t\t\t.lotusui30 .lotusInlineVCard .lotusPersonInfo h2 {\t\t\t\t\t\t\twidth: 105px;\t\t\t\t\t\t}\t\t\t\t\t\t.lotusui30 .lotusInlineVCard .lotusInfo .lconnSprite-iconAttention16 {\t\t\t\t\t\t\tdisplay: none;\t\t\t\t\t\t}\t\t\t\t\t\t.lotusui30 .lotusInlineVCard .lotusInfo {\t\t\t\t\t\t\tborder: 0;\t\t\t\t\t\t\tbackground-color: transparent;\t\t\t\t\t\t\tfont-size: 1em;\t\t\t\t\t\t\tpadding: 5px 10px 0;\t\t\t\t\t\t}\t\t\t\t\t\t.lotusui30 .lotusInlineVCard .lotusInfo span {\t\t\t\t\t\t\tmargin: 0;\t\t\t\t\t\t}\t\t\t\t\t";
if(_7){
_8+="\t\t\t\t\t\t\t.lotusui30 .lotusInlineVCard .lotusPhoto img {\t\t\t\t\t\t\t\theight: 35px;\t\t\t\t\t\t\t\twidth: 35px;\t\t\t\t\t\t\t}\t\t\t\t\t\t\t.lotusui30 .lotusInlineVCard, .lotusui30 .lotusInlineVCard .lotusContainer {\t\t\t\t\t\t\t\twidth: 175px;\t\t\t\t\t\t\t}\t\t\t\t\t\t\t.lotusui30 .lotusInlineVCard h2 {\t\t\t\t\t\t\t\tcolor: #444444;\t\t\t\t\t\t\t\tfont-size: 1.2em;\t\t\t\t\t\t\t\tfont-weight: bold;\t\t\t\t\t\t\t\tline-height: 1.3;\t\t\t\t\t\t\t\tmargin-right: 55px!important;\t\t\t\t\t\t\t\tpadding: 0;\t\t\t\t\t\t\t}\t\t\t\t\t\t\t.lotusui30 .lotusInlineVCard .lotusPhoto {\t\t\t\t\t\t\t\tborder-width: 0;\t\t\t\t\t\t\t\tmargin-top: 5px;\t\t\t\t\t\t\t\tpadding: 0;\t\t\t\t\t\t\t}\t\t\t\t\t\t";
}
var _9=dojo.create("style",{type:"text/css"});
if(_9.styleSheet){
_9.styleSheet.cssText=_8;
}else{
dojo.place(dojo.doc.createTextNode(_8),_9);
}
dojo.place(_9,dojo.body(),"first");
}
catch(ee){
if(this.isDebug&&window.console){
console.log(ee);
}
}
this.standaloneCSSloaded=true;
}
}
this.isDebug=(window.location.search.indexOf("debug=bizcard")!=-1);
setTimeout(function(){
if(window.LCSemTagMenu&&!dojo.byId(LCSemTagMenu.id)){
LCSemTagMenu.createMenuTag();
}
},100);
this.initiated=true;
},printDebug:function(_a){
if(this.isDebug&&window.console){
var d=new Date();
if(dojo.config.isDebug){
console.debug("["+d.toLocaleTimeString()+"."+d.getMilliseconds()+"] lconn.core.bizCard.bizCardUtils: "+_a);
}
}
},_sametimeModulesLoaded:false,loadSametimeModules:function(){
if(lconn.core.bizCard.bizCardUtils._sametimeModulesLoaded){
return;
}
try{
var _b=[];
if(_1.exists("lconn.core.config.services")){
if(lconn.core.config.services.sametimeProxy&&!_1.exists("lconn.profiles.sametime.sametimeProxyAwareness")){
_b.push("lconn.profiles.sametime.sametimeProxyAwareness");
}else{
if(_1.exists("SemTagSvcConfig.sametimeAwarenessEnabled")&&SemTagSvcConfig.sametimeAwarenessEnabled==true&&lconn.core.config.services.profiles&&!_1.exists("lconn.profiles.sametime.sametimeAwareness")){
_b.push("lconn.profiles.sametime.sametimeAwareness");
}
}
}
if(_b.length){
if(_1.exists("net.jazz.ajax.xdloader.load_async")){
net.jazz.ajax.xdloader.batch_load_async(_b,function(){
});
}else{
dojo.forEach(_b,_1.require);
}
lconn.core.bizCard.bizCardUtils._sametimeModulesLoaded=true;
}
}
catch(e){
if(window.console){
console.error("Unable to load Sametime modules");
console.error(e);
}
}
},initBaseUrl:function(){
var _c="";
if(window.SemTagSvc_baseUrl!=null){
_c=SemTagSvc_baseUrl;
}else{
if(window.SemTagSvcConfig!=null&&SemTagSvcConfig.baseUrl!=null){
_c=SemTagSvcConfig.baseUrl;
}else{
_c=this.getURL(this.scriptResourceName,"script",SemTagSvc.baseUrl,"src").baseUrl;
}
}
return _c;
},_initProxyHelper:function(){
if(window.SemTagSvcConfig!=null&&typeof (window.SemTagSvcConfig.proxyURL)!="undefined"&&window.SemTagSvcConfig.proxyURL.length>0){
this._haveProxy=true;
this._proxyHelper=new lconn.core.url.ProxyUrlHelper(window.SemTagSvcConfig.proxyURL);
}
},_initAppCksum:function(){
this.appChksum=this._getConfigValue("appChksum","UNDEFINED");
},_getConfigValue:function(_d,_e){
if(window.SemTagSvcConfig!=null&&typeof (window.SemTagSvcConfig[_d])!="undefined"){
return window.SemTagSvcConfig[_d];
}
return _e;
},appendAppChkSum:function(_f){
if(_f==null||_f.indexOf("etag=")>=0){
return _f;
}
var c=null;
if(_f.indexOf("?")<0){
c="?";
}else{
c="&";
}
return _f+c+"etag="+this.appChksum;
},getService:function(_10){
for(i=0;window.livetextCfg!=null&&i<window.livetextCfg.length;i++){
var _11=window.livetextCfg[i];
if(_11.id==_10){
return _11;
}
}
return null;
},processUntilAvailable:function(_12,_13,_14){
var _15="";
_15=window.setInterval(function(){
if(eval(_13)){
if(_14!=null){
_12(_14);
}else{
_12();
}
window.clearInterval(_15);
}
},300);
},getBaseURL:function(_16){
var _17=lconn.core.bizCard.bizCardUtils.getService(_16);
if(_17!=null&&_17.baseURL!=null){
return _17.baseURL;
}else{
if(this.initiated){
return this.baseUrl;
}else{
return lconn.core.bizCard.bizCardUtils.initBaseUrl();
}
}
},buildBaseURL:function(_18){
var _19=_18.indexOf("//")+2;
var _1a=_18.substring(0,_19);
var _1b=_18.substring(_19,_18.length);
_19=_1b.indexOf("/")+1;
var _1c=_1b.substring(0,_19);
_1b=_1b.substring(_19,_1b.length);
_19=_1b.indexOf("/");
var _1d=_1b.substring(0,_19);
_1b=_1b.substring(_19,_1b.length);
var _1e=_1a+_1c+_1d;
return _1e;
},getURL:function(_1f,_20,_21,_22){
var _23={};
var _24=location.protocol+"//"+location.host;
var s=document.getElementsByTagName(_20);
var _25="";
var _26=null;
for(var i=0;i<s.length;i++){
var src=s[i].getAttribute(_22);
if(src&&src.indexOf(_1f)!=-1){
_26=src;
_25=src.substring(0,src.indexOf(_21));
if(_21==null){
_25=this.buildBaseURL(src);
_23.baseUrl=_25;
}
_23.resourceFound=true;
break;
}
}
if(_23.baseUrl=="undefined"){
_23.baseUrl=(_25==_24)?_21:_25+_21;
}
return _23;
},getUrlParam:function(_27){
var _28={};
var loc=location.href;
if(loc.indexOf("?")>-1){
loc=loc.substring(loc.indexOf("?")+1);
if(loc.indexOf("#")>-1){
loc=loc.split("#")[0];
}
_28=dojo.queryToObject(loc);
}
var _29=_28[_27];
if(dojo.isArray(_29)&&_29!=null&&_29.length>0){
return _29[0];
}else{
if(typeof _29==="string"){
return _29;
}
}
return null;
},getProxifiedURL:function(url,_2a,_2b,_2c){
if(typeof _2c==="undefined"){
_2c=true;
}
for(var key in _2a){
if(key=="LANG"&&_2a[key]==""){
var _2d=new RegExp("&lang=@@@"+key+"@@@");
}else{
var _2d=new RegExp("@@@"+key+"@@@");
}
var val=_2a[key];
url=url.replace(_2d,val);
}
if(_2c){
url=this.appendAppChkSum(url);
}
url+="&suppress401=true";
if(this._haveProxy){
return this._proxyHelper.getProxifiedURL(url);
}
if(typeof _2b==="string"){
url+="&callback="+_2b;
}
return url;
},_timeout:10000,getBizCardData:function(url,_2e,_2f,_30,_31,_32,_33){
var url=this.getProxifiedURL(url,_2e,_2f);
if(this._haveProxy){
var _34=function(_35){
var _36=dojo.fromJson(_35.replace(/^\s*while\(1\);/,""));
_31(true,_36,_32);
};
var _37=function(_38){
_31(false,_38,_32);
};
dojo.xhrGet({url:url,timeout:this._timeout,load:_34,error:_37,contentType:"application/json",headers:{"X-Requested-With":""}});
}else{
_30.request(url,this._timeout,_31,_32,_33);
}
},out:function(){
this.buffer="";
this.write=function(str){
this.buffer+=str;
};
},getSinglePropertyValue:function(_39){
if(!_39){
return false;
}
var _3a=_39.innerHTML.replace(/<[a-zA-Z\/][^>]*>/gi,"");
return _3a;
},sortByOrder:function(a,b){
if(a.order>b.order){
return 1;
}else{
if(a.order<b.order){
return -1;
}else{
return 0;
}
}
},getElementsByClassName:function(_3b,_3c,_3d,_3e){
if(!_3c){
_3c=document.body;
}
if(!_3d){
limit=0;
}
if(!_3e){
_3e=["*"];
}
var _3f=new RegExp("(^|\\s)"+_3b+"(\\s|$)");
if(_3c&&_3c.className&&_3c.className.match(_3f)){
return new Array(_3c);
}
var _40=new Array();
for(var t=0;t<_3e.length;t++){
var _41=_3c.getElementsByTagName(_3e[t]);
for(var i=0;i<_41.length;i++){
var _42=_41[i];
if(_42.className&&_42.className.match&&_42.className.match(_3f)){
_40.push(_42);
}
if(0<_3d&&_3d==_40.length){
break;
}
}
}
return _40;
},getParentByClassName:function(_43,_44){
if(!_44){
return null;
}
var _45=new RegExp("(^|\\s)"+_43+"(\\s|$)");
if(_44.className&&_44.className.match(_45)){
return _44;
}
while(_44.parentNode){
_44=_44.parentNode;
if(_44.className&&_44.className.match(_45)){
return _44;
}
}
},getConnectedElement:function(_46,_47){
var el=this.getParentByClassName(_46,_47);
if(el){
return el;
}
el=_47;
while(el){
var arr=dojo.query("["+_4+"=\""+el.id+"\"]");
if(arr&&arr.length>0){
return arr[0];
}
el=el.parentNode;
}
return el;
},_getAltOrTitleFromElement:function(el){
var alt="";
try{
if(el){
if(el.textContent||el.innerText){
var _48=dojo.clone(el);
try{
dojo.query("*",_48).forEach(function(_49){
if(_49&&(dojo.hasClass(_49,"lotusHidden")||_49.style.display=="none")){
_49.parentNode.removeChild(_49);
}
});
}
catch(e){
}
alt=dojo.trim((dojo.isIE?_48.innerText:_48.textContent));
}else{
if(el.tagName&&el.tagName.toUpperCase()==="IMG"){
if(dojo.hasAttr(el,"title")){
alt=dojo.trim(dojo.attr(el,"title"));
}else{
if(dojo.hasAttr(el,"alt")){
alt=dojo.trim(dojo.attr(el,"alt"));
}
}
}else{
if(el.parentNode){
dojo.query(".x-lconn-displayname",el.parentNode).forEach(function(_4a){
if(_4a.textContent||_4a.innerText){
alt=dojo.trim((dojo.isIE?_4a.innerText:_4a.textContent));
}
});
}
}
}
}
}
catch(e){
}
return alt;
},_getAltMessage:function(_4b,_4c){
_3();
if(typeof _4c=="undefined"){
_4c="label.semtag.hover.alt";
}
var _4d=_2["label.semtag.hover"];
try{
var _4e=lconn.core.bizCard.bizCardUtils._getAltOrTitleFromElement(_4b);
if(_4e.length==0){
for(var ii=0;ii<_4b.childNodes.length;ii++){
_4e=lconn.core.bizCard.bizCardUtils._getAltOrTitleFromElement(_4b.childNodes[ii]);
if(_4e.length>0){
break;
}
}
}
if(_4e.length>0){
_4d=(_2[_4c]).replace("{0}",_4e);
}
}
catch(e){
}
return _4d;
},_overrideTimeout:null,addOverride:function(_4f,_50){
if(dojo.hasAttr(_4f,"_bizcardprocessed_")){
return;
}
try{
dojo.attr(_4f,{"_bizcardprocessed_":"true","role":"button"});
var _51=function(evt){
LCSemTagMenu.isAccessibleOpen=true;
_50(evt);
dojo.stopEvent(evt);
};
var _52=function(el){
return (dojo.hasAttr(_4f,"href_bc_"));
};
var _53=function(el,yn){
if(yn){
if(dojo.hasAttr(_4f,"href")&&dojo.attr(_4f,"href")!=="javascript:;"){
dojo.attr(_4f,"href_bc_",dojo.attr(_4f,"href"));
dojo.attr(_4f,"href","javascript:;");
}
}else{
if(_52(el)){
dojo.attr(_4f,"href",dojo.attr(_4f,"href_bc_"));
dojo.removeAttr(_4f,"href_bc_");
}
}
};
setTimeout(function(){
_53(_4f,true);
},1);
dojo.connect(_4f,"onclick",dojo.hitch(this,function(_54){
if(_52(_4f)){
_51(_54);
}else{
if(this._overrideTimeout){
clearTimeout(this._overrideTimeout);
}
}
}));
dojo.connect(_4f,"onmouseover",dojo.hitch(this,function(_55){
_53(_4f,false);
if(dojo.exists("LCSemTagMenu.preventFocus")){
dojo.setObject("LCSemTagMenu.preventFocus_prev",LCSemTagMenu.preventFocus);
}
dojo.setObject("LCSemTagMenu.preventFocus",true);
this._overrideTimeout=setTimeout(function(){
_50(_55);
this._overrideTimeout=null;
},window.LCSemTagMenu.showDelay);
}));
dojo.connect(_4f,"onmouseout",dojo.hitch(this,function(_56){
_53(_4f,true);
if(this._overrideTimeout){
clearTimeout(this._overrideTimeout);
}
LCSemTagMenu.unfocus(_56);
setTimeout(function(){
if(dojo.exists("LCSemTagMenu.preventFocus_prev")){
dojo.setObject("LCSemTagMenu.preventFocus",LCSemTagMenu.preventFocus_prev);
dojo.setObject("LCSemTagMenu.preventFocus_prev",undefined);
}else{
dojo.setObject("LCSemTagMenu.preventFocus",undefined);
}
},LCSemTagMenu.hideDelay+100);
}));
}
catch(e){
if(window.console){
console.error("Error in lconn.core.bizCard.bizCardUtils.addOverride");
console.error(e);
}
}
try{
if(lconn.core.auth.getUser().isExternal){
dojo.attr(_4f,"href","javascript:;");
dojo.connect(_4f,"click",function(_57){
_51(_57);
});
}
}
catch(e){
}
},addPostLink:function(_58,_59){
if(dojo.hasAttr(_58,"_bizcardprocessed_")){
return;
}
dojo.attr(_58,"_bizcardprocessed_","true");
var _5a=(new String(Math.random())).substring(2);
dojo.attr(_58,_4,_5a);
var _5b=this._getAltMessage(_58);
var _5c=dojo.create("a",{"role":"button","aria-haspopup":"true","href":"javascript:;","aria-controls":LCSemTagMenu.id,"id":_5a});
dojo.connect(_5c,"onclick",_59);
dojo.create("img",{"src":(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif?etag=20150310.220517")),"className":"lconnSprite lconnSprite-iconContext","alt":_5b,"title":_5b,"style":{"display":"inline","margin":"0 3px","padding":"0 1px"}},_5c);
dojo.create("span",{"className":"lotusAltText",innerHTML:"&#9660;"},_5c);
dojo.place(_5c,_58,"after");
},addHover:function(_5d,_5e,_5f,_60){
var _61=_5d.getAttribute(this.refcntAttr);
if(_61){
_5d.setAttribute(this.refcntAttr,parseInt(Number(_61)+1));
if(LCSemTagMenu.staticHover){
var img=LCSemTagMenu.findHoverFromLiveElement(_5d);
if(img){
dojo.connect(img,"onclick",_5f);
img.setAttribute("href","javascript:;");
}else{
this.printDebug("couldn't find the hover for this element!");
}
}else{
var _62=dojo.isFF?_5d.getAttribute("class"):_5d.className;
if(_62.indexOf("hasHover")==-1){
dojo.connect(_5d,"onmouseover",_5e);
dojo.connect(_5d,"onfocus",_5e);
dojo.connect(_5d,"onmouseout",function(evt){
LCSemTagMenu.unfocus(evt);
});
if(!dojo.isIE){
dojo.connect(_5d,"onblur",function(evt){
LCSemTagMenu.unfocus(evt);
});
}
}else{
this.printDebug("attempting to connect repeated events to element: "+_5d);
}
}
}else{
_5d.setAttribute(this.refcntAttr,"1");
this.hoverIdx++;
_5d.setAttribute(this.hoverIdAttr,parseInt(this.hoverIdx));
if(LCSemTagMenu.staticHover){
var img=this.createHoverImage();
dojo.connect(img,"onclick",_5f);
img.setAttribute("href","javascript:;");
var _63=_5d.nextSibling;
if(_63){
_63.parentNode.insertBefore(img,_63);
}else{
_5d.parentNode.appendChild(img);
}
_5d.setAttribute(this.hoverIdAttr,parseInt(this.hoverIdx));
_5d.id=this.liveElemPrefix+this.hoverIdx;
}else{
var _62=dojo.isFF?_5d.getAttribute("class"):_5d.className;
if(_62&&0<_62.length){
_62+=" hasHover";
}else{
_62="hasHover";
}
if(dojo.isFF){
_5d.setAttribute("class",_62);
}else{
_5d.className=_62;
}
dojo.connect(_5d,"onmouseover",_5e);
dojo.connect(_5d,"onfocus",_5e);
dojo.connect(_5d,"onmouseout",function(evt){
LCSemTagMenu.unfocus(evt);
});
if(!dojo.isIE){
dojo.connect(_5d,"onblur",function(evt){
LCSemTagMenu.unfocus(evt);
});
}
}
if(_60!=null){
dojo.connect(_5d,"onkeydown",_60);
}
}
try{
dojo.query("> *:not(.hasHover)",_5d).forEach(dojo.hitch(this,function(_64){
if(!dojo.hasClass(_64,"lotusHidden")&&_64.style.display!="none"){
this.addHover(_64,_5e,_5f,_60);
}
}));
}
catch(e){
}
},createHoverImage:function(){
var img=document.createElement("img");
this.hoverIdx++;
img.id=this.hoverIdAttr+this.hoverIdx;
img.className=LCSemTagMenu.iconName;
img.setAttribute("src",this.baseUrl+"/images/menu_selected_hover.gif");
img.setAttribute("border","0");
var _65=document.createElement("a");
dojo.connect(_65,"onfocus",LCSemTagMenu.activateHover);
dojo.connect(_65,"onmouseover",LCSemTagMenu.activateHover);
dojo.connect(_65,"onmouseout",LCSemTagMenu.deactivateHover);
_65.appendChild(img);
return _65;
},showHover:function(_66,_67){
this.printDebug("in showHover");
try{
if(LCSemTagMenu.showing){
LCSemTagMenu.clearTimeouts();
LCSemTagMenu.showHover(_66,_67);
}else{
LCSemTagMenu.startShowTimer(_66,_67);
}
}
catch(e){
console.error("Error in lconn.core.bizCard.bizCardUtils.showHover");
console.error(e);
}
},setMenuData:function(_68,_69,_6a,_6b,_6c){
LCSemTagMenu.setMenuData(_68,_69,_6a,_6b,_6c);
},getMenuItemJson:function(_6d,_6e,_6f,_70){
var o=_6f?_6f:0;
var i=_70?_70:"";
return {"label":_6d,"href":_6e,"order":o,"icon":i};
},getMenuHeaderJson:function(_71,_72){
return {"markup":_71,"order":_72};
},getMenuFooterJson:function(_73,_74){
return {"markup":_73,"order":_74};
},getElementFromEvent:function(_75){
return _75.target?_75.target:_75.srcElement;
},getLiveElementFromEvent:function(_76){
return LCSemTagMenu.findLiveElementFromEventSource(this.getElementFromEvent(_76));
},getEventAbsoluteX:function(e){
var x=0;
if(e.pageX){
x=e.pageX;
}else{
if(e.clientX){
x=e.clientX+document.body.scrollLeft;
}
}
return x;
},getEventAbsoluteY:function(e){
var y=0;
if(e.pageY){
y=e.pageY;
}else{
if(e.clientY){
y=e.clientY+document.body.scrollTop;
}
}
return y;
},getStyle:function(_77,_78){
var _79;
if(window.getComputedStyle){
_79=document.defaultView.getComputedStyle(_77,null).getPropertyValue(_78);
}else{
if(_77.currentStyle){
_79=_77.currentStyle[_78];
}
}
return _79;
},createGroupJson:function(ctx,_7a){
return {"context":ctx,"extenders":_7a};
},createActionJson:function(id,ctx,_7b,_7c,url,_7d){
var o=parseInt(_7d);
return {"id":id,"context":ctx,"label":_7b,"description":_7c,"url":url,"order":o};
},parseOrder:function(_7e){
if(_7e==null||_7e.length==0){
return 0;
}
if(_7e.charAt(0)=="-"){
return parseInt(_7e.substr(1))*-1;
}else{
return parseInt(_7e);
}
},_langParamValue:"",getLangParam:function(){
var _7f=null;
var _80=dojo.getObject("lconn.core.LanguageSelector.COOKIE_NAME");
if(dojo.cookie&&(_80!="undefined")&&(_80!=null)){
_7f=dojo.cookie(_80);
}
if(_7f==null||_7f==""){
_7f=this.getUrlParam("lang");
}
if(_7f==null||_7f==""){
if(window.djConfig!=null&&djConfig.locale!=null){
_7f=djConfig.locale;
if(_7f=="pt-pt"){
_7f="pt";
}
}
}
if(_7f==null||_7f==""){
_7f="en";
}
_7f=_7f.replace(/\-/g,"_");
_7f=_7f.toLowerCase();
this._langParamValue=_7f;
return this._langParamValue;
},getTextValue:function(_81){
if(!_81){
return "";
}
return _81.innerHTML.replace(/<[a-zA-Z\/][^>]*>/gi,"");
},getTypedValue:function(_82,_83){
if(!_83){
_83="def";
}
var _84=new Array();
var _85=this.getElementsByClassName("type",_82);
var _86=this.getElementsByClassName("value",_82);
var _87="";
if(_86.length<1){
_87=this.getTextValue(_82);
}
for(i=0;i<_86.length;i++){
_87+=this.getTextValue(_86[i]);
}
if(_85.length<1){
_84[_83]=_87;
}else{
for(j=0;j<_85.length;j++){
var _88=_85[j];
var _89=_88.tagName.match(/^abbr$/i)?_88.getAttribute("title"):this.getTextValue(_88);
_84[_89.toLowerCase()]=_87;
}
}
return _84;
},findNameElementInHcard:function(_8a){
if(_8a.className!="vcard"){
_8a=this.getParentByClassName("vcard",_8a);
}
var _8b=this.getElementsByClassName("fn",_8a)[0];
if(!_8b){
_8b=this.getElementsByClassName("n",_8a)[0];
}
return _8b;
},findElementByNameInHcard:function(_8c,_8d){
if(_8c.className!="vcard"){
_8c=this.getParentByClassName("vcard",_8c);
}
return this.getElementsByClassName(_8d,_8c)[0];
},loadScript:function(_8e){
var _8f=this.getLangParam();
if(_8e.indexOf("lang=")!=-1&&_8f!=null){
_8e=_8e.substring(0,_8e.indexOf("lang"))+"lang="+_8f;
}else{
if(_8e.indexOf("resourcebundle")!=-1&&_8f!=null){
_8e=_8e+"&lang="+_8f;
}
if(_8e.indexOf("resourceStrings")!=-1&&_8f!=null){
_8e=_8e+"&lang="+_8f;
}
if(_8e.indexOf("js-resources.js")!=-1&&_8f!=null){
_8e=_8e+((_8e.indexOf("?")!=-1)?"&":"?")+"lang="+_8f;
}
}
_8e=this.appendAppChkSum(_8e);
if(!this.scripts[_8e]){
this.scripts[_8e]=true;
var _90=document.createElement("script");
_90.src=_8e;
document.body.insertBefore(_90,document.body.firstChild);
}
},loadCss:function(css,_91){
_91=_91||{};
css=this.appendAppChkSum(css);
var _92=false;
for(var ii=0;ii<this._loadedCss.length;ii++){
if(this._loadedCss[ii].href==css){
_92=true;
break;
}
}
if(!_92){
var el=dojo.create("link",{href:css,rel:"stylesheet",type:"text/css",media:"screen"});
dojo.mixin(el,_91);
var _93=function(){
var _94=dojo.doc.getElementsByTagName("head");
if(!_94||!_94[0]){
_94=dojo.doc.getElementsByTagName("body");
}
if(!_94||!_94[0]){
return null;
}else{
return _94[0];
}
};
var _95=null;
if(this._loadedCss.length>0){
var _96=this._loadedCss[this._loadedCss.length-1];
if(_96){
_95=dojo.place(el,_96,"after");
}else{
_95=dojo.place(el,_93(),"first");
}
}else{
_95=dojo.place(el,_93(),"first");
}
this._loadedCss.push(_95);
return true;
}
return false;
},toggleInlineCard:function(_97){
var _98=dojo.doc.getElementById(_97+"_Pivot");
var _99=dojo.doc.getElementById(_97+"_Details");
if(_98!=null&&_99!=null){
if(_98.className.indexOf("lotusPivotNavOpen")!=-1){
_98.className="lotusPivotNav";
_99.style.display="none";
}else{
_98.className="lotusPivotNav lotusPivotNavOpen";
_99.style.display="block";
}
}
}};
window.LCSemTagMenu={isDebug:false,staticHover:false,focusRestored:false,preventFocus:false,id:"semtagmenu",hideDelay:500,showDelay:500,timeouts:new Array(),iconName:"menu_drop_icon",showing:false,currentElem:null,refCount:-1,tabOrderByDomNodeOrder:0,tabOrderByTabIndex:0,elemOrigTabIdx:null,elemTempTabIdx:1000,elemNext:null,originalActiveEl:null,svcHandlers:new Array(),items:new Array(),headers:new Array(),footers:new Array(),hoverIdRE:null,iconNameRE:new RegExp("(^|\\s)menu_drop_icon(\\s|$)"),hoverOffset:{x:15,y:15,w:315},menuOffset:{x:15,y:15,w:425},initited:false,init:function(){
if(this.initited==false){
LCSemTagMenu.hoverIdRE=new RegExp(lconn.core.bizCard.bizCardUtils.hoverIdPrefix);
dojo.connect(document,"onclick",LCSemTagMenu.click);
dojo.connect(document,"onkeydown",LCSemTagMenu.keydown);
this.isDebug=(window.location.search.indexOf("debug=bizcard")!=-1);
this.initited=true;
}
},printDebug:function(msg){
if(this.isDebug){
var d=new Date();
if(dojo.config.isDebug){
console.debug("["+d.toLocaleTimeString()+"."+d.getMilliseconds()+"] LCSemTagMenu: "+msg);
}
}
},activateFocus:function(_9a){
lconn.core.bizCard.bizCardUtils.activateHover(_9a);
},activateHover:function(_9b){
var _9c=lconn.core.bizCard.bizCardUtils.getElementFromEvent(_9b);
if(_9c){
_9c.src=lconn.core.bizCard.bizCardUtils.baseUrl+"/images/menu_selected_hover.gif";
}
LCSemTagMenu.currentEvent=_9b;
LCSemTagMenu.setCurrentElement(LCSemTagMenu.findLiveElementFromEventSource(_9c));
},deactivateHover:function(_9d){
var _9e=lconn.core.bizCard.bizCardUtils.getElementFromEvent(_9d);
if(_9e){
_9e.src=lconn.core.bizCard.bizCardUtils.baseUrl+"/images/menu_selected_hover.gif";
}
LCSemTagMenu.setCurrentElement(null);
},showHover:function(_9f,_a0){
this.printDebug("in showHover");
try{
if(LCSemTagMenu.staticHover){
return;
}
try{
if(LCSemTagMenu.focusRestored&&_9f.type=="focus"){
LCSemTagMenu.printDebug("skipping showHover because focus was restored from hide timer...  event ["+_9f.type+"]. ");
LCSemTagMenu.focusRestored=false;
return;
}
}
catch(e){
console.log("showHover: eat exception, IE has issues with certain events not having an event.type, so reset flag regardless");
LCSemTagMenu.focusRestored=false;
return;
}
LCSemTagMenu.originalActiveEl=document.activeElement;
if(dojo.isIE&&dojo.exists("LCSemTagMenu.originalActiveEl.contentDocument.activeElement")){
LCSemTagMenu.originalActiveEl=LCSemTagMenu.originalActiveEl.contentDocument.activeElement;
}
var _a1=lconn.core.bizCard.bizCardUtils.getElementFromEvent(_9f);
if(_a1&&_a1.tagName.toLowerCase()=="img"&&_a1.parentNode.tagName.toLowerCase()=="a"){
_a1=_a1.parentNode;
}
LCSemTagMenu.elemOrigTabIdx=_a1.getAttribute("tabIndex");
if(LCSemTagMenu.tabOrderByTabIndex&&!LCSemTagMenu.elemOrigTabIdx){
LCSemTagMenu.elemNext=_a1.nextSibling;
_a1.setAttribute("tabIndex",parseInt(Number(LCSemTagMenu.elemTempTabIdx)));
}
var tag=LCSemTagMenu.getMenuTag(_a1);
var _a2=0;
if(_a1&&_a1!=LCSemTagMenu.currentElem){
LCSemTagMenu.clearAllSvcHandlers(tag);
_a2=_a1.getAttribute(lconn.core.bizCard.bizCardUtils.refcntAttr);
if(_a2){
LCSemTagMenu.currentEvent=_9f;
LCSemTagMenu.setCurrentElement(_a1);
}else{
LCSemTagMenu.printDebug("showHover called for a DOM element with no refcnt attribute!");
LCSemTagMenu.setCurrentElement(null);
return;
}
}
LCSemTagMenu.addSvcHandler(tag,_a0);
LCSemTagMenu.setRefCount(_a2);
var _a3=this._getCardNode();
if(_a3){
var _a4=true;
var _a5=_a3.parentNode;
while(_a5){
if(_a5.className&&(_a5.className.indexOf("popupPersonCard")>-1||_a5.className.indexOf("vcomm")>-1)){
_a4=false;
break;
}
_a5=_a5.parentNode;
}
if(_a4){
_a3.parentNode.removeChild(_a3);
}
}
var out=new lconn.core.bizCard.bizCardUtils.out();
LCSemTagMenu.writeHover(out,"ltr");
tag.innerHTML=out.buffer;
LCSemTagMenu.showing=true;
var pos=LCSemTagMenu.currentElemPosition;
LCSemTagMenu.show(LCSemTagMenu.id,_9f,Math.round(pos.x),LCSemTagMenu.hoverOffset.x,Math.round(pos.y),LCSemTagMenu.hoverOffset.y,Math.round(pos.w),Math.round(pos.h),LCSemTagMenu.hoverOffset.w);
}
catch(e){
console.error("Error in LCSemTagMenu.showHover");
console.error(e);
}
},addSvcHandler:function(tag,_a6){
LCSemTagMenu.svcHandlers.push(dojo.connect(tag,"onclick",_a6));
},clearAllSvcHandlers:function(tag){
while(0<LCSemTagMenu.svcHandlers.length){
var _a7=LCSemTagMenu.svcHandlers.pop();
if(_a7){
dojo.disconnect(_a7);
}
}
},getPosition:function(_a8,_a9){
var ret={x:0,y:0,w:0,h:0};
if(_1.exists("dojo.position")){
ret=dojo.position(_a8,_a9);
}else{
if(_a8["getBoundingClientRect"]){
var db=_1.body();
ret=_a8.getBoundingClientRect();
ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};
if(_1.isIE){
var _aa=_1._getIeDocumentElementOffset();
ret.x-=_aa.x+(_1.isQuirks?db.clientLeft+db.offsetLeft:0);
ret.y-=_aa.y+(_1.isQuirks?db.clientTop+db.offsetTop:0);
}
if(_a9){
var _ab=_1._docScroll();
ret.x+=_ab.x;
ret.y+=_ab.y;
}
}
}
try{
var _ac=_a8.parentNode;
while(_ac){
if(_ac.tagName.toLowerCase()=="body"){
break;
}
_ac=_ac.parentNode;
}
if(_ac){
var _ad=_1.query("[id=\""+LCSemTagMenu.id+"\"]",_ac)[0];
if(!_ad){
var _ae=_ac.parentNode;
var _af=_ae.parentNode;
var _b0;
if(_af.defaultView&&_af.defaultView.frameElement){
_b0=_af.defaultView.frameElement;
}else{
if(_af.frames.frameElement&&_af.frames.frameElement){
_b0=_af.frames.frameElement;
}
}
if(_b0){
var _b1=this.getPosition(_b0,false);
ret.x+=_b1.x;
ret.y+=_b1.y;
}
}
}
}
catch(e){
console.error("getPosition for iFrame failed");
console.error(e);
}
return ret;
},setCurrentElement:function(_b2){
LCSemTagMenu.currentElem=_b2;
if(_b2!=null){
LCSemTagMenu.currentElemPosition=this.getPosition(_b2,true);
LCSemTagMenu.setRefCount(_b2?Number(_b2.getAttribute(lconn.core.bizCard.bizCardUtils.refcntAttr)):0);
while(0<LCSemTagMenu.headers.length){
LCSemTagMenu.headers.pop();
}
while(0<LCSemTagMenu.items.length){
LCSemTagMenu.items.pop();
}
while(0<LCSemTagMenu.footers.length){
LCSemTagMenu.footers.pop();
}
}
},setRefCount:function(cnt){
LCSemTagMenu.refCount=cnt;
},setMenuData:function(_b3,_b4,_b5,_b6,_b7){
LCSemTagMenu.printDebug("Menu.setMenuData: items.length="+_b4.length);
if(!LCSemTagMenu.staticHover&&LCSemTagMenu.refCount<0){
LCSemTagMenu.printDebug("setMenuData called when refCount="+LCSemTagMenu.refCount);
return;
}
var _b8=LCSemTagMenu.findLiveElementFromEventSource(lconn.core.bizCard.bizCardUtils.getElementFromEvent(_b3));
if(!_b8){
LCSemTagMenu.printDebug("setMenuData called on a null live element");
return;
}
if(LCSemTagMenu.staticHover&&(_b8!=LCSemTagMenu.currentElem||LCSemTagMenu.showing)){
LCSemTagMenu.currentEvent=_b3;
LCSemTagMenu.setCurrentElement(_b8);
}
for(var i=0;i<_b4.length;i++){
LCSemTagMenu.items.push(_b4[i]);
}
if(_b5){
LCSemTagMenu.currentMenuCss=_b5;
}
if(_b6){
LCSemTagMenu.headers.push(_b6);
}
if(_b7){
LCSemTagMenu.footers.push(_b7);
}
LCSemTagMenu.stopEvent(_b3);
LCSemTagMenu.showMenu();
try{
if(LCSemTagMenu.isAccessibleOpen){
LCSemTagMenu.clearTimeouts();
}
}
catch(e){
LCSemTagMenu.printDebug("ERROR checking isAccessibleOpen event flag: "+e);
}
},getCurrentElement:function(){
return LCSemTagMenu.currentElem;
},showMenu:function(){
if(LCSemTagMenu.showing){
LCSemTagMenu.hide();
}
LCSemTagMenu.items.sort(lconn.core.bizCard.bizCardUtils.sortByOrder);
if(1<LCSemTagMenu.headers.length){
LCSemTagMenu.headers.sort(lconn.core.bizCard.bizCardUtils.sortByOrder);
}
if(1<LCSemTagMenu.footers.length){
LCSemTagMenu.footers.sort(lconn.core.bizCard.bizCardUtils.sortByOrder);
}
var out=new lconn.core.bizCard.bizCardUtils.out();
var _b9=(SemTagSvcConfig.isBidiRTL?"direction:rtl;":"");
var _ba="";
var _bb=LCSemTagMenu.id+"Card";
var _bc="";
if(LCSemTagMenu.currentElem){
var _bd=lconn.core.bizCard.bizCardUtils._getAltOrTitleFromElement(LCSemTagMenu.currentElem);
if(_bd.length>0){
_bc=" aria-label=\""+_2["label.personcard.dialog.title"].replace("{0}",lconn.core.util.html.encodeHtmlAttribute(_bd))+"\" ";
}
}
_ba+="<div id='"+_bb+"' role='dialog' "+_bc+" class='popupPersonCard' style='z-index:"+(LCSemTagMenu.getTopZIndex(_bb)+1)+"; position:absolute;"+_b9+"'>";
if(0<LCSemTagMenu.headers.length){
_ba+=LCSemTagMenu.headers[0].markup;
}
if(0<LCSemTagMenu.footers.length){
_ba+=LCSemTagMenu.footers[0].markup;
}
_ba+="</div>";
out.write(_ba);
var tag=LCSemTagMenu.getMenuTag();
LCSemTagMenu.clearAllSvcHandlers(tag);
LCSemTagMenu.offScreen(tag);
tag.innerHTML=out.buffer;
LCSemTagMenu.defaultCursor();
if(LCSemTagMenu.staticHover&&dojo.isFF){
var _be=tag.getElementsByTagName("a");
if(0<_be.length){
_be[0].focus();
}
}
var _bf={"target":LCSemTagMenu.currentElem};
var pos=LCSemTagMenu.currentElemPosition;
LCSemTagMenu.show(LCSemTagMenu.id,_bf,Math.round(pos.x),LCSemTagMenu.menuOffset.x,Math.round(pos.y),LCSemTagMenu.menuOffset.y,Math.round(pos.w),Math.round(pos.h),LCSemTagMenu.menuOffset.w);
},createMenuTag:function(_c0){
LCSemTagMenu.printDebug("in createMenuTag");
var tag=dojo.doc.createElement((LCSemTagMenu.tabOrderByDomNodeOrder?"div":"span"));
tag.setAttribute("id",LCSemTagMenu.id);
tag.setAttribute("role","tooltip");
tag.style.position=(LCSemTagMenu.tabOrderByDomNodeOrder?"fixed":"absolute");
tag.style.display="none";
dojo.connect(tag,"onmouseout",LCSemTagMenu.mouseout);
dojo.connect(tag,"onmouseover",LCSemTagMenu.mouseover);
dojo.connect(tag,"onfocus",LCSemTagMenu.focus);
if(LCSemTagMenu.tabOrderByTabIndex){
dojo.connect(tag,"onkeydown",LCSemTagMenu.keydown);
}
if(!dojo.hasClass(dojo.body(),"lotusui30_fonts")){
dojo.addClass(tag,"lotusui lotusui30 lotusui30dojo lotusui30_fonts lotusSpritesOn");
}
if(LCSemTagMenu.tabOrderByDomNodeOrder){
if(_c0){
_c0.parentNode.appendChild(tag);
}else{
dojo.body().insertBefore(tag,dojo.body().firstChild);
}
}else{
dojo.body().insertBefore(tag,dojo.body().firstChild);
}
return tag;
},getMenuTag:function(_c1){
var tag=dojo.byId(LCSemTagMenu.id);
if(!tag){
tag=this.createMenuTag(_c1);
}
if(LCSemTagMenu.tabOrderByTabIndex&&typeof (_c1)!="undefined"&&_c1!=null){
var _c2=_c1.getAttribute("tabIndex");
if(_c2){
tag.setAttribute("tabIndex",parseInt(Number(_c2)+1));
}
}else{
if(LCSemTagMenu.tabOrderByDomNodeOrder){
if(_c1){
_c1.parentNode.appendChild(tag);
}
}
}
return tag;
},windowWidth:function(){
var _c3=-1;
var d=document;
if(typeof window.innerWidth!="undefined"){
_c3=window.innerWidth;
}else{
if(d.documentElement&&typeof d.documentElement.clientWidth!="undefined"&&d.documentElement.clientWidth!=0){
_c3=d.documentElement.clientWidth;
}else{
if(d.body&&typeof d.body.clientWidth!="undefined"){
_c3=d.body.clientWidth;
}
}
}
return _c3;
},windowHeight:function(){
var _c4=-1;
var d=document;
if(typeof window.innerHeight!="undefined"){
_c4=window.innerHeight;
}else{
if(d.documentElement&&typeof d.documentElement.clientHeight!="undefined"&&d.documentElement.clientHeight!=0){
_c4=d.documentElement.clientHeight;
}else{
if(d.body&&typeof d.body.clientHeight!="undefined"){
_c4=d.body.clientHeight;
}
}
}
return _c4;
},show:function(_c5,e,_c6,_c7,_c8,_c9,_ca,_cb,_cc){
try{
var _cd=dojo.byId(_c5);
if(_ca==null){
_ca=0;
}
if(_cb==null){
_cb=0;
}
if(_cc==null){
_cc=0;
}
var _ce=SemTagSvcConfig.isBidiRTL;
LCSemTagMenu.printDebug("in show..."+" Y,X:["+_c8+","+_c6+"]"+" offsets:["+_c7+","+_c9+"] "+"parent W,H:["+_ca+","+_cb+"] "+"popup width: "+_cc);
_c6=_c6+_c7;
_c8=_c8+_c9;
var _cf=(e.target)?e.target:e.srcElement;
var top=(_c8!=null?_c8:lconn.core.bizCard.bizCardUtils.getEventAbsoluteY(e));
var _d0=(_c6!=null?_c6:lconn.core.bizCard.bizCardUtils.getEventAbsoluteX(e));
var _d1=this.windowWidth();
var _d2=this.windowHeight();
var _d3=document.body.scrollLeft;
var _d4=document.body.scrollTop;
LCSemTagMenu.printDebug("in show...(init values)"+" top,left:["+top+","+_d0+"] "+"win height,width:["+_d2+","+_d1+"] "+"scroll Y,X:["+_d4+","+_d3+"]");
if(_ce){
right=_d0-_c7+_ca;
_d0=right-_c7;
LCSemTagMenu.printDebug("in show...(bidi shift)"+" top,left:["+top+","+_d0+"]");
}
if(_ce){
if(_d0-_cc<0){
_d0=_cc-_c7+_d3;
LCSemTagMenu.printDebug("in show...(nudge right)"+" top,left:["+top+","+_d0+"]");
}
}else{
if(_d0+_cc>_d1){
_d0=_d1-_cc-_c7+_d3;
LCSemTagMenu.printDebug("in show...(nudge left)"+" top,left:["+top+","+_d0+"]");
}
}
if(SemTagSvcConfig.isPortal){
LCSemTagMenu.printDebug("in show...(in PORTAL start)"+" top,left:["+top+","+_d0+"]");
var od=SemTagUtil.getOwnerDocument(_cf);
if(od&&od.location!=document.location){
var f=SemTagUtil.getFrameElement(_cf);
if(f){
var el=f.offsetParent;
var x=0,y=0;
while(el){
x+=el.offsetLeft;
y+=el.offsetTop;
el=el.offsetParent;
}
var lof=_cf.offsetParent;
var xx=0,yy=0;
while(lof){
xx+=lof.offsetLeft;
yy+=lof.offsetTop;
lof=lof.offsetParent;
}
if(f.id=="wpsFLY_flyoutIFrame"){
top=y+yy+_cf.offsetHeight;
_d0=x+xx+_cf.offsetWidth;
}else{
top+=f.offsetTop;
_d0+=f.offsetLeft;
}
if(SemTagUtil.isGecko&&f.id=="wpsFLY_flyoutIFrame"){
iframeScrollLeft=f.contentWindow.pageXOffset;
iframeScrollTop=f.contentWindow.pageYOffset;
}
if(!SemTagUtil.isGecko&&f.id=="wpsFLY_flyoutIFrame"){
iframeScrollLeft=f.contentWindow.document.body.parentNode.scrollLeft;
iframeScrollTop=f.contentWindow.document.body.parentNode.scrollTop;
}
top-=iframeScrollTop;
_d0-=iframeScrollLeft;
}
}
LCSemTagMenu.printDebug("in show...(in PORTAL end)"+" top,left:["+top+","+_d0+"]");
}
LCSemTagMenu.printDebug("in show...(final)"+" top,left:["+top+","+_d0+"]");
_cd.style.top=top+"px";
_cd.style.left=_d0+"px";
_cd.style.display="block";
LCSemTagMenu.showing=true;
if(SemTagSvcConfig.isPortal){
_cd.style.zIndex="900";
}
if(dojo.isIE){
var _d5=dojo.byId("tempIframe");
if(_d5==null){
_d5=document.createElement("iframe");
_d5.setAttribute("id","tempIframe");
_d5.setAttribute("frameBorder","no");
_d5.setAttribute("scrolling","no");
_d5.setAttribute("src",lconn.core.bizCard.bizCardUtils.baseUrl+"/nav/blankIE.html");
_d5.style.position="absolute";
_d5.style.left=_d0+"px";
_d5.style.top=top+"px";
_d5.width=(_cd.offsetWidth).toString()+"px";
_d5.height=(_cd.offsetHeight).toString()+"px";
_d5.style.display="block";
_d5.style.zIndex="899";
document.body.appendChild(_d5);
}else{
_d5.style.left=_d0+"px";
_d5.style.top=top+"px";
_d5.width=(_cd.offsetWidth).toString()+"px";
_d5.height=(_cd.offsetHeight).toString()+"px";
_d5.style.display="block";
}
}
LCSemTagMenu.showing=true;
if(!LCSemTagMenu.preventFocus){
LCSemTagMenu.focusA11Y(_c5);
}
}
catch(e){
console.error("LCSemTagMenu.show: Exception Caught: ");
console.log(e);
}
},_getCardNode:function(_d6){
var _d7=null;
try{
dojo.query("*[id^='bc_document_node']",_d6||document).some(function(_d8){
_d7=_d8;
return _d8;
});
}
catch(e){
}
return _d7;
},focusA11Y:function(_d9){
try{
var _da=this._getCardNode(_d9);
if(LCSemTagMenu.showing&&_da){
var _db=[];
dojo.query("a,*:not([id^=\"A11Y\"],[tabindex=\"0\"]",_da).forEach(function(_dc){
var ok=true;
var _dd=_dc;
while(_dd&&_dd!=_da){
if(dojo.style(_dd,"display")=="none"){
ok=false;
break;
}
_dd=_dd.parentNode;
}
if(ok){
_db.push(_dc);
}
});
if(this.lastEventKeycode_&&this.lastEventKeycode_.keyCode==9&&this.lastEventKeycode_.shiftKey){
if(_db.length>0){
_db[_db.length-1].focus();
}else{
LCSemTagMenu.printDebug("focusA11Y:  could not find an element to focus.");
}
}else{
if(_db.length>0){
_db[0].focus();
}else{
LCSemTagMenu.printDebug("focusA11Y:  could not find an element to focus.");
}
}
this.lastEventKeycode_=null;
els=dojo.query("#A11YReader",_da).forEach(function(_de){
dojo.style(_de,"display","inline");
});
}
}
catch(e){
LCSemTagMenu.printDebug("focusA11Y:  could not focus element. Exception: "+e);
}
},hide:function(_df,e){
LCSemTagMenu.printDebug("in hide");
LCSemTagMenu.clearTimeouts();
var tag=LCSemTagMenu.getMenuTag();
if(!tag){
return false;
}
tag.style.display="none";
LCSemTagMenu.clearAllSvcHandlers(tag);
LCSemTagMenu.defaultCursor();
LCSemTagMenu.setCurrentElement(null);
var _e0=dojo.byId("tempIframe");
if(_e0){
_e0.style.display="none";
}
LCSemTagMenu.showing=false;
return true;
},restoreFocus:function(){
if(LCSemTagMenu.preventFocus){
return;
}
LCSemTagMenu.printDebug("in restoreFocus");
try{
var _e1=LCSemTagMenu.originalActiveEl;
if(_e1){
if(LCSemTagMenu.tabOrderByTabIndex&&_e1&&_e1.getAttribute("tabIndex")){
tag.setAttribute("tabIndex",null);
_e1.setAttribute("tabIndex",LCSemTagMenu.elemOrigTabIdx);
}
if(!lconn.profiles.bizCard.bizCardUI.wndh_vCard||(lconn.profiles.bizCard.bizCardUI.wndh_vCard&&lconn.profiles.bizCard.bizCardUI.wndh_vCard.closed)){
LCSemTagMenu.focusRestored=true;
setTimeout(function(){
try{
LCSemTagMenu.originalActiveEl.focus();
}
catch(e){
}
},100);
setTimeout(function(){
LCSemTagMenu.focusRestored=false;
},500);
}
}
}
catch(e){
console.error("LCSemTagMenu.restoreFocus: could not restore focus.  Exception: "+e);
}
},offScreen:function(_e2){
_e2.style.top="-1000px";
_e2.style.left="-1000px";
_e2.style.display="block";
},findLiveElementFromEventSource:function(_e3){
if(LCSemTagMenu.staticHover){
var id=_e3.id;
if(!id.match(LCSemTagMenu.hoverIdRE)){
var _e4=_e3.getElementsByTagName("img");
for(var i=0;i<_e4.length;i++){
if(_e4[i].id&&_e4[i].id.match(LCSemTagMenu.hoverIdRE)){
id=_e4[i].id;
break;
}
}
}
var idx=id.substr(lconn.core.bizCard.bizCardUtils.hoverIdPrefix.length);
return document.getElementById(lconn.core.bizCard.bizCardUtils.liveElemPrefix+idx);
}else{
var _e5=LCSemTagMenu.getCurrentElement();
return _e5?_e5:_e3;
}
},findHoverFromLiveElement:function(_e6){
var idx=_e6.getAttribute(lconn.core.bizCard.bizCardUtils.hoverIdPrefix+"idx");
return document.getElementById(lconn.core.bizCard.bizCardUtils.hoverIdPrefix+idx);
},inMenu:function(_e7,_e8){
if(!_e7||!_e8){
return false;
}
if(!LCSemTagMenu.showing){
return false;
}
try{
var el=lconn.core.bizCard.bizCardUtils.getElementFromEvent(_e8);
if((_e8.type=="mouseout"||_e8.type=="mouseover")){
el=(_e8.toElement?_e8.toElement:dojo.body());
LCSemTagMenu.printDebug("moused to: id:["+el.id+"] tag:["+el.tagName+"]");
}
while(el&&el.parentNode&&(el=el.parentNode)){
if(el===_e7){
return true;
}
}
return false;
}
catch(e){
console.log("inMenu: eat exception, IE has issues with certain events not having an event.type");
return false;
}
},mouseout:function(_e9){
LCSemTagMenu.printDebug("in mouseout..."+_e9);
var _ea=LCSemTagMenu.id;
menuElem=dojo.byId(_ea);
if(LCSemTagMenu.inMenu(menuElem,_e9)){
LCSemTagMenu.printDebug("mouseout: moused-out off element but we are on menu");
}else{
if(LCSemTagMenu.showing){
LCSemTagMenu.startHideTimer(_ea);
}else{
LCSemTagMenu.clearTimeouts();
}
}
},mouseover:function(_eb){
LCSemTagMenu.printDebug("in mouseover..."+_eb);
LCSemTagMenu.clearTimeouts();
},focus:function(_ec){
LCSemTagMenu.printDebug("in focus..."+_ec);
LCSemTagMenu.mouseover(_ec);
},unfocus:function(_ed){
LCSemTagMenu.printDebug("in unfocus..."+_ed);
LCSemTagMenu.mouseout(_ed);
},click:function(_ee){
LCSemTagMenu.printDebug("in click..."+_ee);
if(!_ee){
return;
}
if(LCSemTagMenu.showing){
var el=lconn.core.bizCard.bizCardUtils.getElementFromEvent(_ee);
if(el&&el.className!="lotusVCardHover"){
menuElem=dojo.byId(LCSemTagMenu.id);
if(!LCSemTagMenu.inMenu(menuElem,_ee)){
LCSemTagMenu.hide(LCSemTagMenu.id);
}
}
}
},lastEventKeycode_:null,keydown:function(_ef){
LCSemTagMenu.printDebug("in keydown..."+_ef);
LCSemTagMenu.catchEscape(_ef);
LCSemTagMenu.catchTab(_ef);
LCSemTagMenu.catchCtrlEnter(_ef);
LCSemTagMenu.lastEventKeycode_={"keyCode":_ef.keyCode,"shiftKey":_ef.shiftKey,"altKey":_ef.altKey,"ctrlKey":_ef.ctrlKey};
},catchEscape:function(_f0){
if(_f0.keyCode==27){
if(LCSemTagMenu.showing){
LCSemTagMenu.hide(LCSemTagMenu.id);
LCSemTagMenu.isAccessibleOpen=false;
LCSemTagMenu.restoreFocus();
}
}
},catchTab:function(_f1){
if(_f1.keyCode==9){
try{
if(LCSemTagMenu.showing&&document.activeElement.id=="A11YLast"){
LCSemTagMenu.focusA11Y();
}
if(LCSemTagMenu.showing&&dojo.query(".lotusVCardHover",dojo.byId(LCSemTagMenu.id)).length){
LCSemTagMenu.hide();
}
}
catch(e){
LCSemTagMenu.printDebug("catchTab:  could not check if current element is A11YLast id. Exception: "+e);
}
}
},catchCtrlEnter:function(_f2){
if(_f2.ctrlKey&&(_f2.keyCode==13)){
if(_f2.preventDefault){
_f2.preventDefault();
}
LCSemTagMenu.isAccessibleOpen=true;
lconn.profiles.bizCard.bizCard.showMenu(_f2);
if(!this.getCurrentElement()){
var _f3=lconn.core.bizCard.bizCardUtils.getLiveElementFromEvent(_f2);
this.setCurrentElement(_f3);
}
}
},stopEvent:function(_f4){
if(!_f4){
return;
}
if(dojo.isFF){
if(_f4.preventDefault==null){
_f4=_f4.original;
}
_f4.preventDefault();
_f4.stopPropagation();
}else{
try{
if(_f4.returnValue==null){
_f4=_f4.original;
}
_f4.returnValue=false;
_f4.cancelBubble=true;
}
catch(e){
}
}
},startShowTimer:function(_f5,_f6,_f7){
LCSemTagMenu.printDebug("in startShowTimer");
var _f8=(typeof (_f7)=="number"?_f7:LCSemTagMenu.showDelay);
if(0<_f8){
var t=window.setTimeout(function(){
LCSemTagMenu.showHover(_f5,_f6);
},_f8);
LCSemTagMenu.timeouts.push(t);
LCSemTagMenu.printDebug("...timer to show ("+t+") started, "+_f8+"ms");
}
},startHideTimer:function(_f9,_fa){
LCSemTagMenu.printDebug("in startHideTimer");
var _fb=(typeof (_fa)=="number"?_fa:LCSemTagMenu.hideDelay);
if(0<_fb){
var t=window.setTimeout(function(){
LCSemTagMenu.endHideTimer(_f9);
},_fb);
LCSemTagMenu.printDebug("...timer to hide ("+t+") started, "+_fb+"ms for "+_f9);
LCSemTagMenu.timeouts.push(t);
}
},endHideTimer:function(_fc){
LCSemTagMenu.printDebug("HIDE TIMER expired for "+_fc+".  Firing hide method.");
menuElem=dojo.byId(_fc);
LCSemTagMenu.hide(_fc);
LCSemTagMenu.restoreFocus();
},clearTimeouts:function(){
LCSemTagMenu.printDebug("in clearTimeouts:  ("+LCSemTagMenu.timeouts+")");
while((t=LCSemTagMenu.timeouts.pop())){
window.clearTimeout(t);
}
},defaultCursor:function(){
document.body.style.cursor="default";
},waitCursor:function(){
document.body.style.cursor="wait";
},clickCursor:function(){
document.body.style.cursor="pointer";
}};
LCSemTagMenu.defaultLoaded=true;
LCSemTagMenu.getTopZIndex=function(_fd){
var _fe=0;
dojo.query("[style*='z-index']").forEach(function(_ff,_100,arr){
if(!_fd||_ff.id!=_fd){
_fe=((zIdx=parseInt(dojo.style(_ff,"zIndex"),10))>_fe?zIdx:_fe);
}
});
return _fe;
};
LCSemTagMenu.writeHover=function(out,bidi){
var _101=LCSemTagMenu.id+"Box";
var _102="z-index:"+(LCSemTagMenu.getTopZIndex(_101)+1)+"; opacity: 1; top: 0;";
_3();
out.write("<a id='"+_101+"' class='lotusVCardHover' "+" onmouseover='javascript:LCSemTagMenu.clickCursor();'"+" onmouseout='javascript:LCSemTagMenu.defaultCursor();'"+" style='"+_102+"' "+">"+_2["label.semtag.hover.altA11Y"]+"</a>");
};
window.LCSemTagUtil={crossDomainRequest:function(){
var _103=new Array();
var _104=new Array();
var _105=new Array();
var self=this;
createTimeoutFunction=function(_106){
return function(){
self.cancelRequest(_106);
};
};
this.getScriptId=function(id){
return "_JVLN_"+id;
};
this.getScriptObject=function(id){
return document.getElementById(this.getScriptId(id));
};
this.cloneObject=function(obj){
var _107=new Object();
for(i in obj){
_107[i]=obj[i];
}
return _107;
};
this.request=function(url,_108,_109,_10a,_10b){
LCSemTagMenu.printDebug("LCSemTagUtil.request: started");
LCSemTagMenu.printDebug("LCSemTagUtil.request: connectionId "+_10b);
_10b=_10b.toLowerCase();
var _10c=this.getScriptId(_10b);
LCSemTagMenu.printDebug("LCSemTagUtil.request: objId "+_10c);
if(_109!=null){
_103[_10b]=_109;
}
if(_10a!=null){
if(!dojo.isFF){
_104[_10b]=this.cloneObject(_10a);
}else{
_104[_10b]=_10a;
}
}
var _10d=document.createElement("script");
_10d.id=_10c;
_10d.type="text/javascript";
_10d.defer=true;
try{
_10d.src=url;
LCSemTagMenu.printDebug("LCSemTagUtil.request: url: "+url);
}
catch(e){
LCSemTagMenu.printDebug("LCSemTagUtil.request: error:",e);
return false;
}
try{
var body=document.getElementsByTagName("body");
if(body[0]){
body[0].appendChild(_10d);
}else{
LCSemTagMenu.printDebug("LCSemTagUtil.request: error getting body element to insert script:"+_10d.id);
return false;
}
}
catch(e){
LCSemTagMenu.printDebug("LCSemTagUtil.request: error:",e);
return false;
}
LCSemTagMenu.printDebug("LCSemTagUtil.request: added script: "+_10d.id);
if(_108){
var self=this;
_105[_10b]=window.setTimeout(createTimeoutFunction(_10b),_108);
}
};
this.cancelRequest=function(id){
LCSemTagMenu.printDebug("LCSemTagUtil.cancelRequest:  Request ["+id+"] took too long.  Cancelling request for id: "+_105[id]);
var _10e=_103[id];
_103[id]=null;
var _10f=_104[id];
_104[id]=null;
if(_10e!=null){
try{
if(_10e){
_10e(false,null,_10f);
}
this.removeScript(id);
}
catch(e){
LCSemTagMenu.printDebug("LCSemTagUtil.cancelRequest: Exception Caught: "+e);
}
}else{
LCSemTagMenu.printDebug("LCSemTagUtil.cancelRequest: no callback for : "+id);
}
};
this.removeScript=function(id){
LCSemTagMenu.printDebug("LCSemTagUtil.removeScript: removing script element for: "+id);
if(id){
var _110=this.getScriptObject(id);
if(_110!=null){
var body=document.getElementsByTagName("body");
body[0].removeChild(_110);
LCSemTagMenu.printDebug("LCSemTagUtil.removeScript: removed script for id: "+id);
}else{
LCSemTagMenu.printDebug("LCSemTagUtil.removeScript: script is null for id: "+id);
}
}else{
LCSemTagMenu.printDebug("LCSemTagUtil.removeScript: id is null");
}
};
this.dispatch=function(id,data){
LCSemTagMenu.printDebug("LCSemTagUtil.dispatch: id: "+id);
if(id!=null){
id=id.toLowerCase();
}
try{
if(id!=null&&typeof (_105[id])!="undefined"&&_105[id]!=null){
LCSemTagMenu.printDebug("request dispatched. removing timeout for id ["+id+"]  timeout id: "+_105[id]);
window.clearTimeout(_105[id]);
}
var _111=_103[id];
var _112=_104[id];
_104[id]=null;
if(_111!=null){
_103[id]=null;
_111(true,data,_112);
window.setTimeout(function(){
self.removeScript(id);
},1000);
}else{
LCSemTagMenu.printDebug("LCSemTagUtil.dispatch: callback is null for id: "+id);
}
}
catch(e){
console.error("LCSemTagUtil.dispatch: Exception Caught: ");
console.log(e);
}
};
}};
var _113=false;
var _114;
if(_1.exists("window.SemTagSvc")){
_114=window.SemTagSvc;
}else{
_114=window.SemTagSvc=new com.ibm.mm.livetext.serviceImpl();
_113=true;
}
window.livetextCfg=(window.livetextCfg||[]);
var _115=window.SemTagSvcConfig=(window.SemTagSvcConfig||{});
if(!_115.proxyURL&&dojo.config.proxy){
_115.proxyURL=dojo.config.proxy;
}else{
if(_115.proxyURL&&!dojo.config.proxy){
dojo.config.proxy=_115.proxyURL;
}
}
if(!_115.appChksum&&_1.exists("lconn.core.config.versionStamp")){
_115.appChksum=lconn.core.config.versionStamp;
}
window.doUIExtensionConfigOnload=function(){
};
dojo.addOnLoad(function(){
setTimeout(function(){
if(dojo.config.isDebug&&window.console){
console.debug("Initialize semantic tag service");
}
_115.isBidiRTL=!dojo._isBodyLtr();
if(_113&&typeof _114.init==="function"){
_114.init();
}
lconn.core.bizCard.bizCardUtils.init();
},1);
});
})();
}


;if(!dojo._hasResource["lconn.communities.bizCard.dialogs.leaveConfirm"]){
dojo._hasResource["lconn.communities.bizCard.dialogs.leaveConfirm"]=true;
dojo.provide("lconn.communities.bizCard.dialogs.leaveConfirm");


dojo.requireLocalization("lconn.communities.bizCard","ui");
dojo.declare("lconn.communities.bizCard.dialogs.leaveConfirm",[dijit.Dialog],{stringResources:dojo.i18n.getLocalization("lconn.communities.bizCard","ui"),templateString:"<div dojoAttachPoint=\"containerNode\" id=\"dialog_communities\" class=\"lotusui30dojo lotusDialogWrapper\" tabindex=\"-1\" waiRole=\"dialog\" waiState=\"labelledby-${id}_title\">            <div style=\"width:600px\" aria-labelledby=\"${id}_title\" role=\"region\">\t\t\t\t<div dojoAttachPoint=\"dialogBorder\" class=\"lotusDialogBorder\" aria-labelledby=\"${id}_content\">\t\t\t\t\t<div class=\"lotusDialog lotusForm2 lotusLeftLabels _lotusDelete\"> \t\t\t\t\t\t<div dojoAttachPoint=\"titleBar\" class=\"lotusDialogHeader\"> \t\t\t\t\t\t\t<div dojoAttachPoint=\"titleNode\" id=\"${id}_title\" class=\"lotusHeading\">${dlgTitle}</div> \t\t\t\t\t\t\t<a class=\"lotusDialogClose\" role=\"button\" href=\"javascript:;\" title=\"${closeAnchorTitle}\"  dojoAttachEvent=\"onkeypress:onEnterCancelClicked,onclick:onCancelClicked\">\t\t\t\t\t\t\t\t<img dojoAttachEvent=\"onclick:onCancelClicked\" alt=\"${closeImageAltText}\" src=\""+dojo.config.blankGif+"\"/>\t\t\t\t\t\t\t\t<span class=\"lotusAltText\">X</span>\t\t\t\t\t\t\t</a> \t\t\t\t\t\t</div>\t\t\t\t\t\t<div>                            <div class=\"lotusDialogContent\" id=\"${id}_content\">\t\t\t\t\t\t\t\t${dlgContent}\t\t\t\t\t\t\t</div><!--end lotusDialogContent-->\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class=\"lotusDialogFooter\">\t\t\t\t\t\t\t<button dojoAttachPoint=\"okButtonNode\" class=\"lotusBtn\" dojoAttachEvent=\"onclick:onOkClicked\">${okButtonValue}</button>\t\t\t\t\t\t\t<button dojoAttachPoint=\"closeButtonNode\" dojoAttachPoint=\"closeText\" class=\"lotusBtn\" dojoAttachEvent=\"onclick:onCancelClicked\">${closeButtonValue}</button>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div><!--end lotusDialogBorder-->\t\t\t</div>\t\t</div>",callback:null,dlgContent:null,postMixInProperties:function(){
this.dlgTitle=this.stringResources["label.leaveConfirm.dlgTitle"];
this.okButtonValue=this.stringResources["label.leaveConfirm.okButtonValue"];
this.closeButtonValue=this.stringResources["label.leaveConfirm.closeButtonValue"];
this.closeAnchorTitle=this.closeImageAltText=this.stringResources["label.msgbox.close"];
this.inherited(arguments);
},postCreate:function(){
dojo.attr(this.dialogBorder,"style",{width:"auto"});
this.inherited(arguments);
dojo.removeClass(this.containerNode,"dijitContentPane");
},onOkClicked:function(){
this.hide();
if(this.callback!=null){
this.callback();
}
},onCancelClicked:function(){
this.hide();
},onEnterCancelClicked:function(_1){
if(_1.keyCode==13){
this.onCancelClicked();
}
}});
}


;if(!dojo._hasResource["lconn.communities.bizCard.dialogs.deleteConfirmTrash"]){
dojo._hasResource["lconn.communities.bizCard.dialogs.deleteConfirmTrash"]=true;
dojo.provide("lconn.communities.bizCard.dialogs.deleteConfirmTrash");


dojo.requireLocalization("lconn.communities.bizCard","ui");
dojo.declare("lconn.communities.bizCard.dialogs.deleteConfirmTrash",[lconn.communities.bizCard.dialogs.deleteConfirm],{stringResources:dojo.i18n.getLocalization("lconn.communities.bizCard","ui"),templateString:"<div dojoAttachPoint=\"containerNode\" id=\"dialog_communities\" class=\"lotusui30dojo lotusDialogWrapper\" tabindex=\"-1\" role=\"dialog\" waiState=\"labelledby-${id}_title\" aria-describedby=\"warning\" aria-labelledby=\"${id}_title\">\t\t\t<div dojoAttachPoint=\"dialogBorder\" class=\"lotusDialogBorder\" style=\"width:inherit; height:inherit\">\t\t\t\t<div class=\"lotusDialog lotusForm2 _lotusDelete\"> \t\t\t\t\t<div dojoAttachPoint=\"titleBar\" class=\"lotusDialogHeader\"> \t\t\t\t\t\t<div dojoAttachPoint=\"titleNode\" id=\"${id}_title\" class=\"lotusHeading\">${dlgTitle}</div> \t\t\t\t\t\t<a class=\"lotusDialogClose\" role=\"button\" href=\"javascript:;\" title=\"${closeAnchorTitle}\" dojoAttachEvent=\"onkeypress:onEnterCancelClicked,onclick:onCancelClicked\" >\t\t\t\t\t\t\t<img alt=\"${closeImageAltText}\" src=\""+dojo.config.blankGif+"\"/>\t\t\t\t\t\t\t<span class=\"lotusAltText\" >X</span>\t\t\t\t\t\t</a> \t\t\t\t\t</div>\t\t\t\t\t<div style=\"overflow:hidden\"> \t\t\t\t\t\t<div class=\"lotusErrorBox lotusui30_layout\">\t\t\t\t\t\t\t<div class=\"lotusErrorContent\">\t\t\t\t\t\t\t\t<img alt=\"\" class=\"iconsMessages48 iconsMessages48-msgError48\" src=\""+dojo.config.blankGif+"\">\t\t\t\t\t\t\t\t<div class=\"lotusErrorForm\">\t\t\t\t\t\t\t\t\t<span id=\"warning\">\t\t\t\t\t\t\t\t\t\t<div class=\"lotusMessage2\" style=\"margin:0px; top:0px; padding:10px\">\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size:150%\">${warning}</span>\t\t\t\t\t\t\t\t\t\t\t<br>\t\t\t\t\t\t\t\t\t\t\t<p><b dojoAttachPoint=\"subcommunities\"></b></p>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<div style=\"clear:both\"></div>\t\t\t\t\t\t\t\t\t\t<br>\t\t\t\t\t\t\t\t\t\t<span>\t\t\t\t\t\t\t\t\t\t\t${signDirection}\t\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t\t\t<br><br>\t\t\t\t\t\t\t\t\t\t<span class=\"lotusMeta\" style=\"color:#666666\">\t\t\t\t\t\t\t\t\t\t\t${capitalizationWarning}\t\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t\t<br><br>\t\t\t\t\t\t\t\t\t<div id=\"communityNameLabel\" class=\"lotusFormField\">\t\t\t\t\t\t\t\t\t\t<label role=\"presentation\" class=\"lotusFloat\" style=\"margin-left: 0px; width:200px\">${communityName}</label>                                        <div class=\"lotusFieldWrapper\"><b>${communityTitleDisplay}</b></div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div class=\"lotusFormField\">\t\t\t\t\t\t\t\t\t\t<label class=\"lotusFloat\" style=\"margin-left: 0px; width:200px\"><span class=\"lotusFormRequired\">* </span>${confirmCommunityName}</label>\t\t\t\t\t\t\t\t\t\t<div class=\"lotusFieldWrapper\">\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" dojoAttachPoint=\"communityInputField\" aria-required=\"true\" aria-labelledby=\"communityNameLabel\" value=\"\" name=\"communityName\" id=\"communityInputField\" class=\"lotusText\" dojoAttachEvent=\"oninput:onCommunityChange\"><br><br><br>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div id=\"signatureNameLabel\" class=\"lotusFormField\">\t\t\t\t\t\t\t\t\t\t<label role=\"presentation\" class=\"lotusFloat\" style=\"margin-left: 0px; width:200px\">${nameTitle}</label>\t\t\t\t\t\t\t\t\t\t<div class=\"lotusFieldWrapper\"><b>${userNameDisplay}</b></div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div class=\"lotusFormField\">\t\t\t\t\t\t\t\t\t\t<label class=\"lotusFloat\" style=\"margin-left: 0px; width:200px\"><span class=\"lotusFormRequired\">*</span>${signatureTitle}</label>\t\t\t\t\t\t\t\t\t\t<div class=\"lotusFieldWrapper\">\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" dojoAttachPoint=\"nameInputField\" aria-required=\"true\" aria-labelledby=\"signatureNameLabel\" value=\"\" name=\"signature\" id=\"signature\" class=\"lotusText\" dojoAttachEvent=\"oninput:onNameChange\"><br><br><br>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<div class=\"lotusFormField lotusMeta\">* ${required}</div> \t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div><!--end lotusDialogContent-->\t\t\t\t\t<div class=\"lotusDialogFooter\">\t\t\t\t\t\t<button dojoAttachPoint=\"okButtonNode\" class=\"lotusBtn lotusBtnDisabled\" aria-disabled=\"true\" dojoAttachEvent=\"onclick:onOkClicked\">${okButtonValue}</button>\t\t\t\t\t\t<button dojoAttachPoint=\"closeButtonNode\" dojoAttachPoint=\"closeText\" name=\"yourButtonName\"class=\"lotusBtn\" dojoAttachEvent=\"onclick:onCancelClicked\">${closeButtonValue}</button>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div><!--end lotusDialogBorder-->\t\t</div>",postMixInProperties:function(){
this.inherited(arguments);
this.closeAnchorTitle=this.closeImageAltText=this.stringResources["label.msgbox.close"];
this.dlgTitle=this.stringResources["label.deleteConfirm.trash.dlgTitle"];
this.warning=this.stringResources["label.deleteConfirm.trash.warning"];
this.signDirection=this.stringResources["label.deleteConfirm.trash.signDirection"];
}});
}


;if(!dojo._hasResource["lconn.communities.bizCard.core"]){
dojo._hasResource["lconn.communities.bizCard.core"]=true;
dojo.provide("lconn.communities.bizCard.core");
if(false){






}
dojo.requireLocalization("lconn.communities.bizCard","ui");
lconn.communities.bizCard.core={messages:dojo.i18n.getLocalization("lconn.communities.bizCard","ui"),_firstActionShown:false,_communityActionsNode:null,_nonCommunityActionBar:false,_messageWidget:null,_messageDiv:null,handleGroupEmailFunction:function(_1,_2){
var _3="/developerworks/community/groups/dw_dir/groupEmail.jsp?communityUuid="+_1+"&action=";
if(_2){
_3+="enable";
}else{
_3+="disable";
}
var _4=function(_5,_6){
window.location.reload();
};
dojo.xhrGet({url:_3,headers:{"X-Update-Nonce":"true"},load:_4,error:this.getFollowErrorCallback()});
return false;
},openComposeEmail:function(_7){
var _8=false;
var _9=document.getElementsByTagName("body")[0];
if(dojo.hasClass(_9,"dijit_a11y")){
_8=true;
}
var _a=630;
if(dojo.isIE){
_a+=30;
}
if(_8){
_a+=50;
}
var _b="width=1000,height="+_a+",scrollbars=yes,resizable=yes,location=no,status=no,toolbar=no,menubar=no";
window.open(_7,"",_b);
return false;
},enableTopButton:function(_c,_d){
var _e=dojo.byId(_c);
if(_e){
dojo.connect(_e,"onclick",null,function(_f){
_d(_f);
if(_f!=null){
dojo.stopEvent(_f);
}
return false;
});
this.keyPressHandle=dojo.connect(_e,"onkeypress",function(evt){
if(evt!=null){
if(evt.keyCode==dojo.keys.DOWN_ARROW){
_d(evt);
dojo.stopEvent(evt);
dojo.disconnect(this.keyPressHandle);
}
}
return false;
});
}
},confirmCommunityDeletion:function(_10){
var _11=_10.subcommunities.length;
var _12={"communityTitle":ic_comm_communityName,"callback":this.CommunityDelete,"numSubs":_11,"userName":_10.userName};
if((_10.trashEnabled==true)&&(_10.trashUIEnabled==true)){
var dlg=new lconn.communities.bizCard.dialogs.deleteConfirmTrash(_12);
}else{
var dlg=new lconn.communities.bizCard.dialogs.deleteConfirm(_12);
}
dlg.show();
},CommunityDelete:function(){
location.href=lconn.communities.bizCard.core.community.deleteUrl;
},confirmCommunityLeave:function(){
var _13="label.action.confirm.community.before.leave";
if(this.community.groupSupportEnabled){
_13="label.action.confirm.community.before.leave.groupEnabled";
}
var dlg=new lconn.communities.bizCard.dialogs.leaveConfirm({"dlgContent":this.messages[_13],"callback":this.CommunityLeave});
dlg.show();
},CommunityLeave:function(){
location.href=lconn.communities.bizCard.core.community.leaveUrl;
},setJoinCommunityReqCookie:function(){
document.cookie="JoinCommunityReqURL="+location.href+"; expires="+new Date(new Date().getTime()+365*24*60*60*1000).toGMTString()+"; path="+location.href;
},deleteCommunity:function(_14){
this.confirmCommunityDeletion(_14);
location.href=_14.deleteUrl;
},isNotEmpty:function(_15){
return _15!=null&&_15!="";
},buildActionsMenu:function(_16){
if(!dojo.exists("dijit.byId")){
return;
}
var _17=this.messages;
try{
var _18=dijit.byId("CommunitiesActionsMenuMain");
if(_18!=null){
_18.destroyRecursive();
}
}
catch(exception1){
console.log(exception1);
}
dojo["require"]("dijit.Menu");
var _19=new dijit.Menu({"class":"lotusPlain",id:"CommunitiesActionsMenuMain"});
var _1a=false;
if(lconn.core.WidgetPlacement!=null&&lconn.core.WidgetPlacement.isInWidgetFullpageMode){
_1a=true;
}
if(_16.showGoToComm==true){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.gotoComm"],"GOTOCOMM"));
}
if(_16.editSubEnabled==true){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.edit"],"EDITSUBURL"));
if(window.isOverviewLinkSelected()){
if(_16.customizeEnabled){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.theme.customize"],"CUSTOMIZE"));
}
}else{
if(_16.customizeEnabled){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.theme.customize"],"CUSTOMIZEURL"));
}
}
}
if(_16.editEnabled==true){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.edit"],"EDITURL"));
if(window.isOverviewLinkSelected()){
if(_16.createSubEnabled==true){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.create"],"CREATESUB"));
}
if(_16.customizeEnabled){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.theme.customize"],"CUSTOMIZE"));
}
}else{
if(_16.createSubEnabled==true){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.create"],"CREATESUBURL"));
}
if(_16.customizeEnabled){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.theme.customize"],"CUSTOMIZEURL"));
}
}
}
if(_16.moderateEnabled==true){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.moderate"],"MODERATE"));
}
if(this.isNotEmpty(_16.memberJoinURL)){
if(_16.canJoinCommunity==true){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.join"],"JOIN"));
}else{
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.requestToJoin"],"REQUESTJOIN"));
}
}
if(_16.mailEnabled==true){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.email"],"EMAIL"));
}
if(_16.messageGroupEnabled==true){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.disablemessage"],"DISABLE_GROUP_EMAIL"));
}
if(_16.messageGroupEnabled==false){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.enablemessage"],"ENABLE_GROUP_EMAIL"));
}
if(this.isNotEmpty(_16.leaveUrl)){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.leave"],"LEAVE"));
}
if(this.isNotEmpty(_16.deleteUrl)){
_19.addChild(lconn.communities.bizCard.core.buildActionsMenuItem(_17["label.top.buttons.delete"],"DELETE"));
}
var _1b=function(_1c){
if(_1c!=null){
if(_1c.action=="GOTOCOMM"){
location.href=lconn.communities.bizCard.core.community.homeUrl;
}else{
if(_1c.action=="EMAIL"){
lconn.communities.bizCard.core.openComposeEmail(lconn.communities.bizCard.core.getComposeURL(lconn.communities.bizCard.core.community));
}else{
if(_1c.action=="CUSTOMIZE"){
lconn.core.applicationPalette.showPalette();
}else{
if(_1c.action=="CUSTOMIZEURL"){
location.href=lconn.communities.bizCard.core.community.customizeUrl;
}else{
if(_1c.action=="EDIT"){
displayCommunityEdit();
}else{
if(_1c.action=="EDITURL"){
location.href=lconn.communities.bizCard.core.community.editUrl;
}else{
if(_1c.action=="MODERATE"){
location.href=_16.moderationServiceUrl+_16.uuid;
}else{
if(_1c.action=="METRICS"){
location.href=_16.metricsServiceUrl.replace("${0}",_16.uuid);
}else{
if(_1c.action=="EDITSUB"){
displaySubcommunityEdit();
}else{
if(_1c.action=="EDITSUBURL"){
location.href=lconn.communities.bizCard.core.community.editSubUrl;
}else{
if(_1c.action=="DELETE"){
if(lconn.communities.bizCard.core.confirmCommunityDeletion(_16)){
location.href=lconn.communities.bizCard.core.community.deleteUrl;
}
}else{
if(_1c.action=="CREATESUB"){
displaySubcommunityCreate();
}else{
if(_1c.action=="CREATESUBURL"){
location.href=lconn.communities.bizCard.core.community.createSubUrl;
}else{
if(_1c.action=="LEAVE"){
lconn.communities.bizCard.core.confirmCommunityLeave();
}else{
if(_1c.action=="JOIN"){
lconn.communities.bizCard.core.setJoinCommunityReqCookie();
location.href=lconn.communities.bizCard.core.community.memberJoinURL;
}else{
if(_1c.action=="REQUESTJOIN"){
location.href=lconn.communities.bizCard.core.community.memberJoinURL;
}else{
if(_1c.action=="DISABLE_GROUP_EMAIL"){
lconn.communities.bizCard.core.handleGroupEmailFunction(_16.uuid,false);
}else{
if(_1c.action=="ENABLE_GROUP_EMAIL"){
lconn.communities.bizCard.core.handleGroupEmailFunction(_16.uuid,true);
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
};
dojo.connect(_19,"onItemClick",_1b);
return _19;
},buildActionsMenuItem:function(_1d,_1e){
var _1f="communityMenu_"+_1e;
dojo["require"]("dijit.Menu");
var _20=new dijit.MenuItem({label:_1d,id:_1f});
_20.action=_1e;
return _20;
},openActionsMenu:function(evt){
try{
var _21=lconn.communities.bizCard.core.buildActionsMenu(lconn.communities.bizCard.core.community);
if(evt.target.id!=null){
dojo.attr(evt.target,"aria-owns",evt.target.id+"_dropdown");
}
menuUtility.openMenu(evt,_21.id);
dojo.stopEvent(evt);
}
catch(e){
console.log(e);
}
},getComposeURL:function(_22){
var _23=lconn.core.bizCard.bizCardUtils.getBaseURL("hgroup");
return _23+"/service/html/composeemail?communityUuid="+_22.uuid;
},joinComm:function(){
lconn.communities.bizCard.core.setJoinCommunityReqCookie();
location.href=lconn.communities.bizCard.core.community.memberJoinURL;
},setCommunitiesReqCookie:function(){
var _24=location.href.substr(0,location.href.indexOf("/service"));
_24=_24.substr(_24.indexOf("/",_24.indexOf("://")+3));
document.cookie="CommunitiesReqURL="+location.href+"; expires="+new Date(new Date().getTime()+365*24*60*60*1000).toGMTString()+"; path="+_24;
},addCommunityActionsMenuUI:function(_25){
var _26=this.messages;
var _27=this._getCommunityActionsNode();
if(_27!=null){
if(!_25.authContextAuthenticated){
if(this._nonCommunityActionBar==false){
var li=this.createActionListItem();
li.innerHTML=_25.translatedLoginLinkToParticipate;
dojo.place(li,_27);
dojo.connect(li,"onclick",function(){
lconn.core.auth.login();
});
dojo.publish("CommunityActionBar",[{type:"CreatedLogin",community:_25,node:li}]);
}
return;
}
if(!_25.showMemberActions&&this.isNotEmpty(_25.memberJoinURL)&&!_25.isSuperAdmin){
var li=dojo.byId("joinDisplayActionsBtnLi");
if(li==null){
li=this.createActionListItem();
dojo.attr(li,"id","joinDisplayActionsBtnLi");
if(_25.canJoinCommunity==true){
if(document.body.className.indexOf("minimal")>=0){
li.innerHTML="<span class=\"lotusBtn\"><a id=\"joinDisplayActionsBtn\" href=\"javascript:lconn.communities.bizCard.core.joinComm();\" role=\"button\" title=\""+_26["label.top.buttons.join.title"]+"\" alt=\""+_26["label.top.buttons.join"]+"\">"+_26["label.top.buttons.join"]+"</a></span>";
}else{
li.innerHTML="<a id=\"joinDisplayActionsBtn\" href=\"javascript:lconn.communities.bizCard.core.joinComm();\" role=\"button\" title=\""+_26["label.top.buttons.join.title"]+"\" alt=\""+_26["label.top.buttons.join"]+"\">"+_26["label.top.buttons.join"]+"</a>";
}
}else{
if(document.body.className.indexOf("minimal")>=0){
li.innerHTML="<span class=\"lotusBtn\"><a id=\"joinDisplayActionsBtn\" href=\""+_25.memberJoinURL+"\" role=\"button\" title=\""+_26["label.top.buttons.requestToJoin.title"]+"\" alt=\""+_26["label.top.buttons.requestToJoin"]+"\">"+_26["label.top.buttons.requestToJoin"]+"</a></span>";
}else{
li.innerHTML="<a id=\"joinDisplayActionsBtn\" href=\""+_25.memberJoinURL+"\" role=\"button\" title=\""+_26["label.top.buttons.requestToJoin.title"]+"\" alt=\""+_26["label.top.buttons.requestToJoin"]+"\">"+_26["label.top.buttons.requestToJoin"]+"</a>";
}
}
dojo.place(li,_27);
}else{
if(_25.canJoinCommunity==true){
if(document.body.className.indexOf("minimal")>=0){
li.innerHTML="<span class=\"lotusBtn\"><a id=\"joinDisplayActionsBtn\" href=\"javascript:lconn.communities.bizCard.core.joinComm();\" role=\"button\" aria-owns=\"joinDisplayActionsBtn\" title=\""+_26["label.top.buttons.join.title"]+"\" alt=\""+_26["label.top.buttons.join"]+"\">"+_26["label.top.buttons.join"]+"</a></span>";
}else{
li.innerHTML="<a id=\"joinDisplayActionsBtn\" href=\"javascript:lconn.communities.bizCard.core.joinComm();\" role=\"button\" aria-owns=\"joinDisplayActionsBtn\" title=\""+_26["label.top.buttons.join.title"]+"\" alt=\""+_26["label.top.buttons.join"]+"\">"+_26["label.top.buttons.join"]+"</a>";
}
}else{
if(document.body.className.indexOf("minimal")>=0){
li.innerHTML="<span class=\"lotusBtn\"><a id=\"joinDisplayActionsBtn\" href=\""+_25.memberJoinURL+"\" role=\"button\" aria-owns=\"joinDisplayActionsBtn\" title=\""+_26["label.top.buttons.requestToJoin.title"]+"\" alt=\""+_26["label.top.buttons.requestToJoin"]+"\">"+_26["label.top.buttons.requestToJoin"]+"</a></span>";
}else{
li.innerHTML="<a id=\"joinDisplayActionsBtn\" href=\""+_25.memberJoinURL+"\" role=\"button\" aria-owns=\"joinDisplayActionsBtn\" title=\""+_26["label.top.buttons.requestToJoin.title"]+"\" alt=\""+_26["label.top.buttons.requestToJoin"]+"\">"+_26["label.top.buttons.requestToJoin"]+"</a>";
}
}
}
dojo.publish("CommunityActionBar",[{type:"CreatedJoin",community:_25,node:li}]);
}
if(_25.showMemberActions||_25.isSuperAdmin){
var _28=dojo.byId("displayActionsBtn");
if(_28){
var _29=_28.parentNode;
dojo.destroy(_29);
this._firstActionShown=false;
}
var li=this.createActionListItem();
if(document.body.className.indexOf("minimal")>=0){
li.innerHTML="<span class=\"lotusBtn\"><a id=\"displayActionsBtn\" href=\"javascript:;\" role=\"button\" aria-haspopup=\"true\">"+_26["label.top.buttons.com.actions"]+" <img class=\"lotusArrow lotusDropDownSprite\" src=\""+dijit._Widget.prototype._blankGif+"\" role=\"presentation\" alt=\"\"/>"+"<span role=\"presentation\" class=\"lotusAltText\">&#x25bc;</span>"+"</a></span>";
}else{
li.innerHTML="<a id=\"displayActionsBtn\" href=\"javascript:;\" role=\"button\" aria-haspopup=\"true\">"+_26["label.top.buttons.com.actions"]+" <img class=\"lotusArrow lotusDropDownSprite\" src=\""+dijit._Widget.prototype._blankGif+"\" role=\"presentation\" alt=\"\"/>"+"<span role=\"presentation\" class=\"lotusAltText\">&#x25bc;</span>"+"</a>";
}
dojo.place(li,_27);
this.community=_25;
this.enableTopButton("displayActionsBtn",lconn.communities.bizCard.core.openActionsMenu);
dojo.publish("CommunityActionBar",[{type:"CreatedAction",community:_25,node:li}]);
}
dojo.publish("CommunityActionBar",[{type:"Created",community:_25}]);
}
},addParentCommunity:function(_2a){
var _2b=this.messages;
var _2c="";
if(_2a.parentName!=null&&_2a.parentName.length>0){
_2c+="<div class=\"lotusMenuSection lotusIndent10\">";
_2c+="<h3>";
_2c+="<div class=\"lotusIndent15 communityLink\">";
_2c+="<a class=\"lotusBold\" style=\"display:inline\" role=\"button\" href=\""+_2a.parentUrl+"\" title=\""+_2b["tooltip.startpage"]+"\">";
if(_2a.parentType!="public"){
if(_2a.parentType=="private"){
_2c+="<img class=\"iconsStates16 iconsStates16-CheckedOut\" src=\""+dojo.config.blankGif+"\" alt=\""+_2b["label.private.community.alt.text"]+"\" title=\""+_2b["label.private.community.alt.text"]+"\" />";
_2c+="<span class=\"lotusAltText\">"+_2b["label.private.community.alt.text"]+" </span>";
}else{
_2c+="<img class=\"iconsOther16 iconsOther16-ModeratedCommunity16\" src=\""+dojo.config.blankGif+"\" alt=\""+_2b["label.moderated.community.alt.text"]+"\" title=\""+_2b["label.moderated.community.alt.text"]+"\"/>";
_2c+="<span class=\"lotusAltText\">"+_2b["label.moderated.community.alt.text"]+" </span>";
}
}
_2c+=" "+_2a.parentName+"</a>";
_2c+="</div> </h3>";
_2c+="</div><!--end section-->";
}
return _2c;
},addSubCommunities:function(_2d){
var _2e=this.messages;
var _2f="";
if(_2d.subcommunities!=null&&_2d.subcommunities.length>0){
_2f="\t\t\t<div class=\"lotusMenuSection\" role=\"navigation\" aria-label = \""+_2e["label.subcommunities"]+"\">\t\t\t\t<h3>\t\t\t\t\t<label for=\""+_2d.uuid+"_subtwisty\" id=\""+_2d.uuid+"_subtwisty_label\" class=\"lotusAccess\">\t\t\t\t\t"+_2e["label.collapse"]+" "+_2e["label.subcommunities"]+"\t\t\t\t\t</label>\t\t\t\t\t<a role=\"button\" id=\""+_2d.uuid+"_subtwisty\" class=\"lotusSprite lotusArrow lotusTwistyOpen\" \t\t\t\t\t\t\ttitle=\""+_2e["label.collapse"]+"\" href=\"javascript:;\" \t\t\t\t\t\t\tonfocus=\"lconn.communities.bizCard.core.setReaderContent('"+_2d.uuid+"_subtwisty_label', true);\"\t\t\t\t\t\t\tonblur=\"lconn.communities.bizCard.core.setReaderContent('"+_2d.uuid+"_subtwisty_label', false);\"\t\t\t\t\t\t\tonclick=\"lconn.communities.bizCard.core.toggleSection('"+_2d.uuid+"_subtwisty"+"','"+_2d.uuid+"_comm_subLinks"+"','"+_2d.uuid+"_subAltOpen"+"');\"\t\t\t\t\t>\t\t\t\t\t\t<span id=\""+_2d.uuid+"_subAltOpen\" class=\"lotusAltText\">&#x25bc;</span>\t\t\t\t\t\t<span id=\""+_2d.uuid+"_subAltClosed\" class=\"lotusHidden\">&#x25BA;</span>\t\t\t\t\t</a>\t\t\t\t\t<div> "+_2e["label.subcommunities"]+"</div>\t\t\t\t</h3>\t\t\t\t<div id=\""+_2d.uuid+"_comm_subLinks\" class=\"lotusMenuSubsection\">\t\t\t\t\t<ul role=\"toolbar\" aria-label=\""+_2e["label.subcommunities"]+"\">";
for(var i=0;i<_2d.subcommunities.length;i++){
var _30=_2d.subcommunities[i];
var _31=_30.name;
if(dojo.exists("lconn.core.globalization.bidiUtil.enforceTextDirection")){
_31=lconn.core.globalization.bidiUtil.enforceTextDirection(_31);
}
_2f+="\t\t\t\t\t\t<li>\t\t\t\t\t\t\t<a role=\"button\" href=\""+_30.url+"\" title=\""+_30.name+"\">"+_31+"</a>\t\t\t\t\t\t</li>";
}
_2f+="\t\t\t\t\t</ul>\t\t\t\t</div>\t\t\t</div>";
}
return _2f;
},setReaderContent:function(id,_32){
var _33=dojo.byId(id);
if(_33!=null){
if(_32){
_33.setAttribute("aria-live","polite");
}else{
_33.removeAttribute("aria-live");
}
}
},toggleSection:function(_34,_35,_36,_37){
var _38=this.messages;
var _39=dojo.byId(_34);
var _3a=dojo.byId(_35);
var _3b=dojo.byId(_36);
var _3c=dojo.byId(_34+"_label");
if(_3a.style.display=="none"){
_3a.style.display="block";
dojo.removeClass(_39,"lotusTwistyClosed");
dojo.addClass(_39,"lotusTwistyOpen");
dojo.attr(_39,"title",_38["label.collapse"]);
if(dojo.cookie&&typeof _37=="string"){
dojo.cookie(_37,1);
}
_3b.innerHTML="&#x25bc;";
if(_3c){
_3c.innerHTML=_38["label.collapse"]+" "+_38["label.subcommunities"];
}
}else{
_3a.style.display="none";
dojo.removeClass(_39,"lotusTwistyOpen");
dojo.addClass(_39,"lotusTwistyClosed");
dojo.attr(_39,"title",_38["label.expand"]);
if(dojo.cookie&&typeof _37=="string"){
dojo.cookie(_37,0);
}
_3b.innerHTML="&#x25ba;";
if(_3c){
_3c.innerHTML=_38["label.expand"]+" "+_38["label.subcommunities"];
}
}
},showFollowConfirmation:function(_3d){
var _3e=dojo.byId("lotusContent");
if(_3e!=null){
if(this._messageDiv==null){
this._messageDiv=document.createElement("div");
dojo.attr(this._messageDiv,"role","alert");
dojo.attr(this._messageDiv,"aria-live","assertive");
_3e.insertBefore(this._messageDiv,_3e.firstChild);
}else{
this.clearMessage();
}
this._messageWidget=new com.ibm.oneui.controls.MessageBox({canClose:true,_strings:{icon_alt:this.messages["label.msgbox.success"],a11y_label:this.messages["label.msgbox.success.a11y"],close_btn_title:this.messages["label.msgbox.close"],close_btn_alt:this.messages["label.msgbox.close"]},type:com.ibm.oneui.controls.MessageBox.TYPE.SUCCESS,msg:_3d},dojo.byId(this._messageDiv));
}
},clearMessage:function(){
if(this._messageWidget){
this._messageWidget.destroy();
}
},follow:function(){
if(!dojo.exists("dijit.byId")){
return;
}
var _3f=this.messages;
var _40=function(_41,_42){
var _43;
if((lconn.communities.bizCard.bizCard.currentCommunity&&lconn.communities.bizCard.bizCard.currentCommunity.memberJoinURL)||(lconn.communities.bizCard.core.community&&lconn.communities.bizCard.core.community.memberJoinURL)){
_43="label.action.confirm.community.after.follow.nonmember";
}else{
_43="label.action.confirm.community.after.follow.member";
}
lconn.communities.bizCard.core.showFollowConfirmation(_3f[_43]);
var _44=dijit.byId("communityMenu_FOLLOW");
if(_44==null){
_44=dijit.byId("communityMenu_UNFOLLOW");
}
if(_44!=null){
dojo.attr(_44,"label",_3f["label.top.buttons.unfollow"]);
dojo.attr(_44,"title",_3f["label.top.buttons.unfollow.title"]);
_44.onClick=function(){
lconn.communities.bizCard.core.unFollow();
};
}
var _45=dojo.byId("followDisplayActionsBtn");
if(_45!=null){
_45.innerHTML=_3f["label.top.buttons.unfollow"];
if(dojo.isIE){
_45.onclick=function(){
lconn.communities.bizCard.core.unFollow();
};
}else{
_45.setAttribute("onclick","lconn.communities.bizCard.core.unFollow()");
}
dojo.attr(_45,"title",_3f["label.top.buttons.unfollow.title"]);
_45.setAttribute("aria-label",_3f["label.top.buttons.unfollow"]);
}
dojo.publish("lconn.comm.commFollowed",[lconn.communities.bizCard.core.community.uuid]);
};
var url=lconn.communities.bizCard.core.community.followUrl;
if(url==null){
url=lconn.communities.bizCard.core.community.unfollowUrl;
url=url.replace("memberunfollowsubmit","memberfollowsubmit");
}
if(window.SemTagSvcConfig!=null&&SemTagSvcConfig.proxyURL!=null){
var ph=new lconn.core.url.ProxyUrlHelper(SemTagSvcConfig.proxyURL);
url=ph.getProxifiedURL(url);
}
dojo.xhrGet({url:url,headers:{"X-Update-Nonce":"true"},load:_40,error:this.getFollowErrorCallback()});
return false;
},getFollowErrorCallback:function(){
return function(_46,_47){
console.log("follow errorCallBack callback: "+_46);
var _48=lconn.communities.bizCard.core.messages;
var _49;
if(_47.xhr.status==401){
_49=_48["label.msg.action.failed.need.login"];
}else{
_49=_48["label.msg.action.failed"].replace("${0}",_46);
}
var _4a=dojo.byId("lotusContent");
if(_4a!=null){
var _4b="followCommunityConfirmId";
var _4c=dojo.byId(_4b);
if(_4c!=null){
_4c.innerHTML="";
_4c.parentNode.removeChild(_4c);
}
var _4d=document.createElement("div");
dojo.addClass(_4d,"lotusMessage2");
dojo.attr(_4d,"role","alert");
dojo.attr(_4d,"id",_4b);
dojo.attr(_4d,"aria-live","assertive");
_4d.innerHTML="<img class=\"lconnSprite lconnSprite-iconError16\" title=\""+_48["label.msg.error"]+"\" alt=\""+_48["label.msg.error"]+"\" src=\""+dijit._Widget.prototype._blankGif+"\">";
var _4e=document.createElement("span");
_4e.innerHTML=_49;
_4d.appendChild(_4e);
_4a.insertBefore(_4d,_4a.firstChild);
}
};
},unFollow:function(){
if(!dojo.exists("dijit.byId")){
return;
}
var _4f=this.messages;
var _50=function(_51,_52){
lconn.communities.bizCard.core.showFollowConfirmation(_4f["label.action.confirm.community.after.unfollow"]);
var _53=dijit.byId("communityMenu_UNFOLLOW");
if(_53==null){
_53=dijit.byId("communityMenu_FOLLOW");
}
if(_53!=null){
dojo.attr(_53,"label",_4f["label.top.buttons.follow"]);
dojo.attr(_53,"title",_4f["label.top.buttons.follow.title"]);
_53.onClick=function(){
lconn.communities.bizCard.core.follow();
};
}
var _54=dojo.byId("followDisplayActionsBtn");
if(_54!=null){
_54.innerHTML=_4f["label.top.buttons.follow"];
if(dojo.isIE){
_54.onclick=function(){
lconn.communities.bizCard.core.follow();
};
}else{
_54.setAttribute("onclick","lconn.communities.bizCard.core.follow()");
}
_54.setAttribute("aria-label",_4f["label.top.buttons.follow"]);
dojo.attr(_54,"title",_4f["label.top.buttons.follow.title"]);
}
dojo.publish("lconn.comm.commUnFollowed",[lconn.communities.bizCard.core.community.uuid]);
};
var url=lconn.communities.bizCard.core.community.unfollowUrl;
if(url==null){
url=lconn.communities.bizCard.core.community.followUrl;
url=url.replace("memberfollowsubmit","memberunfollowsubmit");
}
if(window.SemTagSvcConfig!=null&&SemTagSvcConfig.proxyURL!=null){
var ph=new lconn.core.url.ProxyUrlHelper(SemTagSvcConfig.proxyURL);
url=ph.getProxifiedURL(url);
}
dojo.xhrGet({url:url,headers:{"X-Update-Nonce":"true"},load:_50,error:this.getFollowErrorCallback()});
return false;
},addFollowActionsMenuUI:function(_55){
if(!dojo.exists("dijit.byId")){
return;
}
var _56=this.messages;
var _57=dojo.byId("followActionBar");
var _58=dijit.byId("followDropDownMenu");
var _59=this._getCommunityActionsNode();
if(_55.isCommunityOverview&&this.isNotEmpty(_55.followUrl)){
var li=this.createActionListItem();
li.innerHTML="<a id=\"followDisplayActionsBtn\" href=\"javascript:void(0);\" role=\"button\" onclick=\"lconn.communities.bizCard.core.follow()\" title=\""+_56["label.top.buttons.follow.title"]+"\">"+_56["label.top.buttons.follow"]+"</a>";
dojo.place(li,_59);
dojo.publish("FollowActionBar",[{type:"CreatedFollow",community:_55,node:li}]);
}else{
if(_55.isCommunityOverview&&this.isNotEmpty(_55.unfollowUrl)){
var li=this.createActionListItem();
li.innerHTML="<a id=\"followDisplayActionsBtn\" href=\"javascript:void(0);\" role=\"button\" onclick=\"lconn.communities.bizCard.core.unFollow()\" title=\""+_56["label.top.buttons.unfollow.title"]+"\">"+_56["label.top.buttons.unfollow"]+"</a>";
dojo.place(li,_59);
dojo.publish("FollowActionBar",[{type:"CreatedunFollow",community:_55,node:li}]);
}else{
if(_58!=null){
if(this.isNotEmpty(_55.followUrl)){
var _5a=lconn.communities.bizCard.core.buildActionsMenuItem(_56["label.top.buttons.follow"],"FOLLOW");
_5a.onClick=function(){
lconn.communities.bizCard.core.follow();
};
dojo.attr(_5a,"title",_56["label.top.buttons.follow.title"]);
_58.addChild(_5a);
}else{
if(this.isNotEmpty(_55.unfollowUrl)){
var _5a=lconn.communities.bizCard.core.buildActionsMenuItem(_56["label.top.buttons.unfollow"],"UNFOLLOW");
_5a.onClick=function(){
lconn.communities.bizCard.core.unFollow();
};
dojo.attr(_5a,"title",_56["label.top.buttons.unfollow.title"]);
_58.addChild(_5a);
}
}
}
}
}
},startUp:function(_5b,_5c){
_5b.isCommunityOverview=true;
this.addFollowActionsMenuUI(_5b);
this.addCommunityActionsMenuUI(_5b);
_5b.subcommunities=_5c.subcommunities;
dojo.byId("subcommArea").innerHTML=this.addSubCommunities(_5b);
lconn.communities.bizCard.core.community=_5b;
var _5d=dojo.byId("lotusTitleBar");
var _5e=dojo.byId("tabNavigation");
if(_5d!=undefined&&_5d!=null){
if(_5e==undefined||_5e!=null){
_5e=document.createElement("a");
_5e.setAttribute("id","tabNavigation");
_5e.setAttribute("name","tabNavigation");
if(_5d.firstChild){
_5d.insertBefore(_5e,_5d.firstChild);
}else{
_5d.appendChild(_5e);
}
}
}
var _5f;
if(dojo.byId("lotusNavBar")){
try{
_5f=new lconn.core.WidgetPlacement.aria.Toolbar("lotusNavBar");
}
catch(ee){
_5f=new lconn.core.aria.Toolbar("lotusNavBar");
}
}
},createActionListItem:function(){
var _60=dojo.create("li");
dojo.addClass(_60,"lotusNowrap");
if(this._firstActionShown==false){
dojo.addClass(_60,"lotusFirst");
this._firstActionShown=true;
}
return (_60);
},_getCommunityActionsNode:function(){
var _61=null;
if(this._communityActionsNode==null){
var _62=dojo.byId("communityActionBar");
if(_62!=null){
var _61=this._getParentNode(_62);
if(_61!=null){
this._firstActionShown=dojo.query(".lotusFirst",_61).length!=0;
this._nonCommunityActionBar=true;
if(_62.tagName.toLowerCase()=="span"){
var _63=dojo.create("li",{id:"communityActionBar",style:{display:"none"}});
dojo.place(_63,_62,"replace");
}
}
if(_61==null){
_61=dojo.create("ul",{"id":"communityActions","class":"lotusInlinelist lotusActions lotusRight"});
dojo.place(_61,_62,"first");
}
this._communityActionsNode=_61;
}
}
return (this._communityActionsNode);
},_getParentNode:function(_64){
var _65=null;
var _66=_64.parentNode;
if(_66!=null){
if(_66.nodeName.toLowerCase()=="li"){
_66=_66.parentNode;
}
if(_66.nodeName.toLowerCase()=="ul"){
_65=_66;
}
}
return (_65);
}};
}


;if(!dojo._hasResource["lconn.communities.bizCard.bizCardUI"]){
dojo._hasResource["lconn.communities.bizCard.bizCardUI"]=true;
dojo.provide("lconn.communities.bizCard.bizCardUI");






dojo.requireLocalization("lconn.communities.bizCard","ui");
lconn.communities.bizCard.bizCardUI={messages:dojo.i18n.getLocalization("lconn.communities.bizCard","ui"),mainNodeId:"bc_document_node_comm",getMenuData:function(_1,_2,_3,_4,_5,_6){
var _7=this.messages;
var _8=_7["label.overview"];
var _9="";
if(lconn.core.bizCard.bizCardUtils.standaloneCSSloaded){
_9=" lotusui";
}
var _a=lconn.core.HTMLUtil.escapeInlineText(_1.name);
_5.write("<div id='container "+_9+"' style='width: 32em; border: 1px solid #e0e0e0; -moz-border-radius:7px;background-color:#F5F8FF;padding:10px 0px 8px 10px;'>");
_5.write("  <div id='navigationLinks' style='clear:left; border-bottom:1px solid #e0e0e0;padding: 0px 0pt 5px 0px;margin:0;'>");
_5.write("      <a href='"+_1.homeOverviewUrl+"' title=\""+_8+"\" class='action'>"+_8+"</a>");
this.writeLinksforPopupCard(_5,_1);
_5.write("  </div><br/>");
if(_1.imageUrl!=null&&_1.imageUrl!=""){
_5.write("  <img src='"+_1.imageUrl+"' alt=\""+_a+"\" title=\""+_a+"\" height='95' width='95' style='float:left;margin: 0px 10px 10px 10px; padding:2px !important; border:1px solid #c2c2c2;background-color:#fff;'/>");
}
_5.write("  <div  style='height:9em;overflow:hidden;'>");
_5.write("  <h2 style='font-size:1.1em;margin:0;margin-right:20px;padding:0;'>"+_1.name+"<span id='membersCount' style='font-size:.9em;color:#999;font-weight:normal;'> ("+_1.membercount+" "+_7["label.members"]+")</span></h2>");
if(_1.tags!=null&&_1.tags!=""){
_5.write("  <div style='font-size:.9em;color:#999;padding:0;margin:0;'>"+_7["label.tags"]+" "+_1.tags+"</div>");
}
if(_1.description!=null&&_1.description!=""){
_5.write("  <p id='communityDescription' style='font-size:.9em;padding:3px 5px 0 0;margin:0;'>");
_5.write("      "+_1.description);
_5.write("  </p>                        ");
}
_5.write("  </div>                      ");
_5.write("</div><!-- end container -->");
},getInlineMarkup:function(_b,_c,_d,_e){
var _f=this.messages;
var _10=_d;
var _11=((!dojo.cookie)?true:(dojo.cookie("community.inline.card.links")!=0));
var _12="";
var _13=_f["label.collapse"];
var _14="lotusTwistyOpen";
if(_11){
_14="lotusTwistyOpen";
}else{
_14="lotusTwistyClosed";
_12="style=\"display: none\"";
_13=_f["label.expand"];
}
_10.write("<style>.lotusui30 img.lotusForceLineHeight { line-height: 1; }</style>");
if(lconn.core.bizCard.bizCardUtils.standaloneCSSloaded){
_10.write("<div id=\""+this.mainNodeId+"\" role=\"document\" style=\"width:220px\">");
}
_10.write("<div class=\"lotusMenu\" role=\"navigation\" aria-label=\""+_f["label.nav.landmark.comm"]+"\"><div class=\"lotusBottomCorner\"><div class=\"lotusInner\">");
_10.write(lconn.communities.bizCard.core.addParentCommunity(_b));
_10.write("<div class=\"lotusMenuSection\">");
_10.write("<h3 class=\"\"><div class=\"lotusIndent10\"><a id=\""+_b.uuid+"_twisty\" class=\"lotusSprite lotusArrow "+_14+"\" href=\"javascript:lconn.communities.bizCard.core.toggleSection('"+_b.uuid+"_twisty"+"','"+_b.uuid+"_comm_appLinks"+"','"+_b.uuid+"_commAltText"+"','"+"community.inline.card.links"+"');\" title=\""+_13+"\"><span id=\""+_b.uuid+"_commAltText\" class=\"lotusAltText\">&#x25bc;</span></a>");
_10.write("<table cellpadding=\"0\" cellspacing=\"0\" class=\"lotusLayout\" role=\"presentation\" width=\"155px\"><tr><td>");
_10.write("<a href=\""+_b.homeUrl+"\" class=\"discussCommunityLink lotusBold\" title=\""+_f["tooltip.startpage"]+"\">");
if(_b.communityType!="public"){
var _15=lconn.core.bizCard.bizCardUtils.getBaseURL("hgroup");
if(_b.communityType=="private"){
_10.write("<img class='iconsStates16 iconsStates16-CheckedOut' src='"+dojo.config.blankGif+"' alt='"+_f["label.private.community.alt.text"]+"' title='"+_f["label.private.community.alt.text"]+"' /> ");
}else{
_10.write("<img class='lconnSprite lconnSprite-iconModeratedCommunity16' src='"+dojo.config.blankGif+"' alt='"+_f["label.moderated.community.alt.text"]+"' title='"+_f["label.moderated.community.alt.text"]+"' /> ");
}
var _16=document.getElementsByTagName("body")[0];
if(dojo.hasClass(_16,"lotusImagesOff")){
_10.write("<br>");
}
}
_10.write(_b.name+"</a>");
_10.write("</td></tr></table>");
_10.write("</div>");
_10.write("</h3>");
_10.write("<div id=\""+_b.uuid+"_comm_appLinks\" class=\"lotusMenuSubsection\" "+_12+">");
_10.write("<ul id=\"bizCardNav\" role=\"toolbar\" aria-label=\""+_f["label.nav.landmark.comm"]+"\">");
var _17=lconn.core.HTMLUtil.escapeInlineText(_b.name);
_10.write("<li class=\"lconnCommLogo\" role=\"presentation\" tabindex=\"-1\"><a title=\""+_f["tooltip.startpage"]+"\" href=\""+_b.homeUrl+"\" tabindex=\"-1\"><img src=\""+_b.imageUrl+"\" width=\"155\" height=\"155\" alt=\"\" class=\"discussCommunityLogo lotusForceLineHeight\" /></a></li>");
this.writeLinks(_10,_b,_e,_11);
if(_b.moderateEnabled){
_10.write("<li role=\"button\"");
if(_e=="moderation"){
_10.write(" class=\"lotusSelected\" ");
}
_10.write("><a href='"+_b.moderationServiceUrl+_b.uuid+"' title='"+_f["label.moderation.link"]+"'>"+_f["label.moderation.link"]+"</a></li>");
}
_10.write("</ul>");
_10.write("</div><!--end subsection-->");
_10.write("</div><!--end section-->");
_10.write(lconn.communities.bizCard.core.addSubCommunities(_b));
_10.write("</div></div></div><!--end menu-->");
if(lconn.core.bizCard.bizCardUtils.standaloneCSSloaded){
_10.write("</div>");
var _18=this.mainNodeId;
var _19=function(){
var el=dojo.byId(_18);
if(!el){
setTimeout(_19,250);
return;
}
var _1a=" lotusui lotusui30dojo lotusui30_body lotusui30_fonts lotusui30 lotusSpritesOn";
if(dojo.isIE==7){
_1a+=" lotusui_ie lotusui_ie7";
}else{
if(dojo.isIE){
_1a+=" lotusui_ie";
}
}
el.className+=_1a;
};
_19();
}
},writeLinksforPopupCard:function(_1b,_1c){
for(var i=0;_1c.links!=null&&i<_1c.links.length;i++){
_1b.write("&nbsp;&nbsp;|&nbsp;<a href='"+_1c.links[i].url+"' title='"+_1c.links[i].label+"' class='action'>"+_1c.links[i].label+"</a>");
}
},composePageTitle:function(_1d,_1e){
var _1f=this.messages["label.window.title"];
var _20="";
var _21="";
if(_1d){
_20=lconn.core.HTMLUtil.escapeInlineText(_1d);
}
if(_1e){
_21=lconn.core.HTMLUtil.escapeText(_1e);
}
return dojo.string.substitute(_1f,[_20,_21]);
},writeLinks:function(_22,_23,_24,_25){
var _26=this.messages;
_22.write("<li role=\"button\"><a href=\""+_23.homeOverviewUrl+"\" title=\""+_26["tooltip.overview"]+"\">"+_26["label.overview"]+"</a></li>");
for(var i=0;_23.links!=null&&i<_23.links.length;i++){
var _27=_23.links[i];
if(_27.id=="RecentUpdates"||_27.id=="StatusUpdates"){
this.writeLink(_27,_22,_24);
}
}
for(var i=0;_23.links!=null&&i<_23.links.length;i++){
var _27=_23.links[i];
if(_27.id=="Members"){
this.writeLink(_27,_22,_24);
break;
}
}
this.writeColLinks(_23,_22,_24,"col2");
this.writeColLinks(_23,_22,_24,"col3");
return;
},writeColLinks:function(_28,_29,_2a,_2b){
for(var i=0;_28.links!=null&&i<_28.links.length;i++){
var _2c=_28.links[i];
if(_2c.id!="RecentUpdates"&&_2c.id!="StatusUpdates"&&_2c.id!="Members"){
if(_2c.uiLocation.indexOf(_2b)!=-1){
this.writeLink(_2c,_29,_2a);
}
}
}
},writeLink:function(_2d,_2e,_2f){
_2e.write("<li role=\"button\"");
if(_2f==_2d.id){
_2e.write(" class=\"lotusSelected\" ");
}
var _30=lconn.core.HTMLUtil.escapeText(_2d.label);
_2e.write("><a href=\""+_2d.url+"\" title=\""+_30+"\">"+_30+"</a></li>");
},addCommunityActionsMenu:function(_31){
_31.showGoToComm=true;
lconn.communities.bizCard.core.community=_31;
if(lconn.communities.bizCard.core.isNotEmpty(_31.unfollowUrl)){
dojo.publish("lconn.comm.commFollowed",[_31.uuid]);
}
lconn.communities.bizCard.core.addFollowActionsMenuUI(_31);
lconn.communities.bizCard.core.addCommunityActionsMenuUI(_31);
}};
}


;if(!dojo._hasResource["lconn.communities.bizCard.bizCard"]){
dojo._hasResource["lconn.communities.bizCard.bizCard"]=true;
dojo.provide("lconn.communities.bizCard.bizCard");




ic_comm_communityUuid="";
ic_comm_communityName="";
ic_comm_communityType="";
ic_comm_communitiesSvcRef="";
lconn.communities.bizCard.bizCard={messages:{},servletUrl:null,requestor:null,initited:false,init:function(){
this.servletUrl=lconn.core.bizCard.bizCardUtils.getBaseURL("hgroup")+"/service/json/communityview?communityUuid=@@@UUID@@@";
if(this.initited==false){
dojo.requireLocalization("lconn.communities.bizCard","ui");
this.messages=dojo.i18n.getLocalization("lconn.communities.bizCard","ui");
this.requestor=new LCSemTagUtil.crossDomainRequest();
if(dojo.exists("lconn.bizCard.publish")){
lconn.bizCard.publish("lconn/bizCard/communities/init",this);
}
this.initited=true;
}
},updateGlobalVars:function(_1){
ic_comm_communityUuid=_1.uuid;
ic_comm_communityName=_1.name;
ic_comm_communityType=_1.communityType;
ic_comm_communitiesSvcRef=lconn.core.bizCard.bizCardUtils.getBaseURL("hgroup");
},getIdMethod:function(_2){
return _2.uuid?_2.uuid:null;
},convMethod:function(_3){
return _3;
},customTrim:function(_4){
return _4.replace(/^\s+/,"").replace(/\s+$/,"");
},processTag:function(_5){
try{
if(!this.initited){
lconn.core.bizCard.bizCardUtils.init();
LCSemTagMenu.init();
this.init();
}
this.processHcard(_5);
}
catch(e){
console.log(e);
}
},processHcard:function(_6){
var _7=this.getNameElement(_6);
if(!_7){
return;
}
if(this.isInline(_6)){
var _8={"target":_7};
this.getTagFromServer(_8);
}else{
lconn.core.bizCard.bizCardUtils.addHover(_7,lconn.communities.bizCard.bizCard.showHover,lconn.communities.bizCard.bizCard.showMenu);
}
_7.setAttribute("aria-label",this.messages["label.semtag.hover.altA11Y"]);
},isInline:function(_9){
return this.getHcardAttributeValue("X-community-display-inline",_9);
},loadHcardCommunity:function(_a){
var _b=new Object();
var _c=lconn.core.bizCard.bizCardUtils.getParentByClassName("vcomm",_a);
var _d=_c.getElementsByTagName("*");
for(i=0;i<_d.length;i++){
var _e=_d[i];
if(_e.className){
var _f=_e.className.split(" ");
for(j=0;j<_f.length;j++){
var c=_f[j];
var _10=this.getHcardAttributeValue(c,_c);
if(_10){
_b[c]=_10;
}
}
}
}
return _b;
},getHcardAttributeValue:function(_11,_12){
switch(_11){
case ("name"):
return this.getHcardTypedAttribute(_12,_11,"name");
case ("uuid"):
return this.getHcardTypedAttribute(_12,_11,"uuid");
case ("selectedWidgetId"):
return this.getHcardTypedAttribute(_12,_11,"selectedWidgetId");
}
var _13=lconn.core.bizCard.bizCardUtils.getParentByClassName("vcomm",_12);
var _14=lconn.core.bizCard.bizCardUtils.getElementsByClassName(_11,_13,1);
if(_14.length>0&&_14[0].tagName.match(/^abbr$/i)){
return _14[0].getAttribute("title");
}
switch(_11){
case ("uuid"):
var _15=lconn.core.bizCard.bizCardUtils.getSinglePropertyValue(_14[0]);
if(_15){
return _15;
}else{
return this.getHcardAttributeValue("name",_12);
}
break;
case ("name"):
var _16=lconn.core.bizCard.bizCardUtils.getSinglePropertyValue(_14[0]);
if(_16){
return _16;
}
break;
case ("selectedWidgetId"):
var _17=lconn.core.bizCard.bizCardUtils.getSinglePropertyValue(_14[0]);
if(_17){
return _17;
}
break;
case ("X-community-display-inline"):
if(_14.length>0){
return true;
}else{
return false;
}
default:
return lconn.core.bizCard.bizCardUtils.getSinglePropertyValue(_14[0]);
break;
}
},getHcardTypedAttribute:function(_18,_19,_1a){
var _1b=new Object();
var _1c=lconn.core.bizCard.bizCardUtils.getParentByClassName("vcomm",_18);
var _1d=lconn.core.bizCard.bizCardUtils.getElementsByClassName(_19,_1c);
for(i=0;i<_1d.length;i++){
var _1e=_1d[i];
_1b=lconn.core.bizCard.bizCardUtils.getTypedValue(_1e,_1a);
}
return _1b;
},showHover:function(_1f){
try{
lconn.core.bizCard.bizCardUtils.showHover(_1f,lconn.communities.bizCard.bizCard.showMenu);
if(!LCSemTagMenu.preventFocus){
this.focus();
}
}
catch(e){
console.log("Error in lconn.communities.bizCard.bizCard.showHover");
console.log(e);
}
},showMenu:function(_20){
LCSemTagMenu.waitCursor();
lconn.communities.bizCard.bizCard.getTagFromServer(_20);
},getTagFromServer:function(_21){
var _22=null;
var _23=null;
if(_21!=null&&_21.target!=null&&_21.target.className=="name"){
_22=_21.target;
_23=_21;
LCSemTagMenu.currentElem=_22;
}else{
_22=LCSemTagMenu.currentElem;
_23={target:_22,original:_21};
if(_22==null&&_21!=null){
_23=_21;
_22=_21.target;
}
}
var _24=this.customTrim(this.getElementUuid(_22));
var _25={"UUID":_24};
var _26="lconn.communities.bizCard.bizCard.dispatch";
var _27=_24;
if(lconn.core.bizCard.bizCardUtils.isDebug){
window.status="Community.getTagFromServer sending request for: "+_24+")";
}
lconn.core.bizCard.bizCardUtils.getBizCardData(this.servletUrl+"&preventCache="+new Date().getTime(),_25,_26,this.requestor,this.requestReturn,_23,_27);
},requestReturn:function(_28,_29,_2a){
if(_28==false){
console.log("lconn.communities.bizCard.bizCard.requestReturn: Error occurring while rendering the community bizcard");
console.log("lconn.communities.bizCard.bizCard.requestReturn: Error Details: "+_29);
}else{
if(lconn.core.bizCard.bizCardUtils.isDebug){
window.status="Community.requestReturn: success="+_28;
}
var _2b=_28?lconn.communities.bizCard.bizCard.convMethod(_29):{};
var _2c=lconn.core.bizCard.bizCardUtils.getLiveElementFromEvent(_2a);
lconn.communities.bizCard.bizCard.fillCommunityJsonMoreFromDom(_2b,_2c);
lconn.communities.bizCard.bizCard.update(_2b,_2c,_2a);
}
},fillCommunityJsonMoreFromDom:function(_2d,_2e){
if(lconn.core.bizCard.bizCardUtils.isDebug){
window.status="Community.fillCommunityJsonMoreFromDom";
}
if(!_2d.name){
var _2f=lconn.core.bizCard.bizCardUtils.findNameElementInHcard(_2e);
if(_2f){
_2d.name=lconn.core.bizCard.bizCardUtils.getTextValue(_2f);
}
}
if(!_2d.uuid){
var _30=this.getElementUuid(_2e);
_2d.uuid=_30;
}
},update:function(_31,_32,_33){
if(lconn.core.bizCard.bizCardUtils.isDebug){
window.status="Community.update";
}
this.currentCommunity=_31;
var _34=null;
dojo.query(".vcomm").forEach(function(_35){
_34=_35;
});
if(_34&&this.isInline(_34)){
var out=new lconn.core.bizCard.bizCardUtils.out();
var _36=this.getHcardAttributeValue("selectedWidgetId",_34).selectedWidgetId;
lconn.communities.bizCard.bizCardUI.getInlineMarkup(_31,"ltr",out,_36);
var _37=lconn.core.bizCard.bizCardUtils.getElementsByClassName("personinlinemenu",_34,1);
if(_37.length>0){
_37[0].innerHTML=out.buffer;
}else{
var _38=document.createElement("span");
_38.className="personinlinemenu";
_38.innerHTML=out.buffer;
try{
_34.appendChild(_38);
}
catch(e){
console.log("Error: attempt place inline bizcard menu under vcomm classed element failed.  parentVcomm=["+_34+"]");
console.log(e);
}
}
if(dojo.exists("lconn.core.WidgetPlacement")){
new lconn.core.WidgetPlacement.aria.Toolbar("bizCardNav");
}
lconn.communities.bizCard.bizCardUI.addCommunityActionsMenu(_31);
}else{
var _39=new Array();
var _3a="personMenuActions";
var _3b=new lconn.core.bizCard.bizCardUtils.out();
var _3c=new lconn.core.bizCard.bizCardUtils.out();
lconn.communities.bizCard.bizCardUI.getMenuData(_31,"ltr",_39,_3a,_3b,_3c);
lconn.core.bizCard.bizCardUtils.setMenuData(_33,_39,_3a,lconn.core.bizCard.bizCardUtils.getMenuHeaderJson(_3b.buffer,-100));
}
this.updateGlobalVars(_31);
},dispatch:function(_3d){
var _3e=this.getIdMethod(_3d);
this.requestor.dispatch(_3e,_3d);
},getElementUuid:function(_3f){
var _40;
var _41=lconn.core.bizCard.bizCardUtils.getParentByClassName("vcomm",_3f);
if(_41!=null){
_40=this.getHcardAttributeValue("uuid",_41);
_40=_40.uuid;
}
return _40;
},getNameElement:function(_42){
if(_42.className!="vcomm"){
_42=lconn.core.bizCard.bizCardUtils.getParentByClassName("vcomm",_42);
}
var _43=lconn.core.bizCard.bizCardUtils.getElementsByClassName("name",_42,1)[0];
return _43;
}};
(function(win){
win.SemTagSvcConfig=win.SemTagSvcConfig||{};
win.livetextCfg=win.livetextCfg||[];
var _44;
try{
var _45=lconn.core.config.services.communities;
_44=com.ibm.oneui.util.Url.secure?_45.secureUrl:_45.url;
}
catch(e){
if(win.SemTagSvcConfig.communitiesSvc){
_44=win.SemTagSvcConfig.communitiesSvc;
}
}
if(_44){
win.SemTagSvcConfig.baseUrl=_44;
win.livetextCfg.push({"id":"hgroup","match":".vcomm","tagHandler":lconn.communities.bizCard.bizCard,"loaded":true,"baseURL":_44});
}
})(window);
}


;if(!dojo._hasResource["lconn.core.people"]){
dojo._hasResource["lconn.core.people"]=true;
dojo.provide("lconn.core.people");
}

dojo.provide("lconn.profiles.bizCard.nls.ui")._built=true;
dojo.provide("lconn.profiles.bizCard.nls.ui.en");
lconn.profiles.bizCard.nls.ui.en={"friendsActionsFor":"Actions for Network","label.personcard.homepagelink.title":"Click here to see this person\'s home page","personCardCall":"Call","friendsInviteReceiveUpdates":"(receive updates)","friendsInvitedEmailMsg1":"has invited you to become a network contact with the following message included in the invitation:","friendsEmail":"Email:","friendsInvitedEmailMsg2":"Open your Network Invitation page","friendsPersonAlreadyInYourNetwork":"Invitation to your network is not possible because the {0} is already in your network.","friendsInvitedEmailMsg3":"I\'d like to add you to my network.","friendsInvitedEmailMsg4":"{0} has invited you to become a network contact:","label.bizcard.applinks.less":"Show less","friendsInvitedEmailMsg5":"{0} has invited you to become a network contact with the following message included in the invitation:","friendsRemoved":"Network contact(s) removed.","friendsNewInvs":"{0} new invitations","friendsInCommonMulti":"You have {0} network contacts in common","personCardFollow":"Follow","label.personcard.activitieslink":"Activities","friendsInitialMsgForInv":"I\'d like to add you to my developerWorks community network.","friendsNewInvitationsCount":"You have {0} new invitation(s)","friendsRecentlyAdded":"People you have recently added to your network.","friendsInvitations":"Invitations","friendsNewInv":"{0} new invitation","label.personcard.newslink.title":"Click here to see this person\'s news","friendsAltEmail":"Alternate Email:","label.personcard.noprofilemsg":"A profile does not exist for this person","friendsInviteMessage":"I\'d like to add you to my Connections network.","friendsViewAllFriends":"View All ({0})","label.personcard.wikislink":"Wikis","friendsInviteFollowHelp":"For more information, see {0}Following people{1}.","friendsNetworkFor":"Network for {0}","friendsSelectFriendForRemoval":"Select the contacts you want to remove first.","friendsRemoveSelected":"Remove Selected","friendsIncludeMsgForInv":"Include a message with your invitation:","friendsInvitedEmailSubject":"[Profiles] You are invited to join my network","label.personcard.quickrlink.title":"Click here to see this person\'s quickr shares","label.semtag.hover.altA11Y":"Click here or press control-enter to view the business card","friendsAddToMyNetwork":"I\'d like to add you to my Connections network.","label.personcard.newslink":"News","personCardAddAsMyColleagues":"Invite to My Network","label.bizcard.dismiss":"Press escape to dismiss this business card.","friendsCollapseWidget":"Click to collapse the network section","noStatuAvailable":"No Sametime status available","friendsSendInvAction":"Send Invitation","label.personcard.fileslink.title":"Click here to see this person\'s shared files","personCardProxyStatusAvailable":"I am available","friendsMenuTitleAllContacts":"All Network Contacts","personCardMoreActionsAltText":"Click for action menu","friendsSendFriendRequest":"Send request","label.personcard.homepagelink":"Home","friendsShowAllCommonFriends":"Show all...","label.personcard.communitieslink.title":"Click here to see this person\'s communities","friendsIsYourColleague":"{0} is your network contact","friendsMenuTitleMyContacts":"My Network Contacts","label.personcard.blogslink.title":"Click here to see this person\'s blog","friendsNetworkInCommon":"You have {0} network connections in common.","label.personcard.dogearlink.title":"Click here to see this person\'s bookmarks","friendsInviteUpdatesDescription":"Receive updates about people you are following on the Home page and in an email summary.","label.personcard.mobilelink.title":"Click here to see this person\'s mobile page","label.personcard.forumlink.title":"Click here to see this person\'s forum posts","label.personcard.blogslink":"Blogs","friendsNoFriends":"No network contacts are associated with this profile","label.personcard.activitieslink.title":"Click here to see shared activities","friendsColleaguesInvite":"Invite {0} to be your network contact","friendsSortByDisplayName":"Display Name","personCardSendMail":"Send Email","friendsSortByRecent":"Recent","label.personcard.cardreqexpired":"The request to get the business card expired","label.inactive.user.msg":"This person is no longer an active user","friendsLoadingInv":"Loading Invitations...","errorDefaultMsg2":"An error has occurred, contact your system administrator","label.personcard.forumlink":"Forums","personCardSendEMail":"Send Email","friendsYouExceedTextLimit":"Your invite message is too long. It can be a maximum of {1} characters. There are {0} characters in this field.","friendsAcceptAction":"Accept","friends":"Network","label.personcard.wikislink.title":"Click here to see this person\'s wikis","label.personcard.dialog.title":"Business card for {0}","personCardMoreActions":"More Actions","friendsFullPageTitle":"Network","label.semtag.hover":"Click here to view business card","friendsCannotAddYourself":"You cannot add yourself as a network contact.","label.personcard.cardnomarkup":"The business card could not be retrieved","friendsInviteTagError":"An error occurred while attempting to tag {0}","friendsInviteAddTagsFor":"Add tags for {0}:","personCardUnfollow":"Stop Following","friendsExpandWidget":"Click to expand the network section","friendsMenuTitleInCommon":"People in Common","friendsIsInYourNetwork":"{0} is in your network.","label.personcard.profilelink.title":"Click here to see this person\'s profile","label.personcard.dogearlink":"Bookmarks","friendsRemovedSelected":"Remove from My Network","label.bizcard.applinks.more":"Show more","friendsRemoveSelectedTip":"Click to remove the selected people from your network.","label.personcard.mobilelink":"Mobile","label.message.information":"Information:","friendsInCommonSingle":"You have {0} network contact in common","friendsMyNetwork":"Network","label.personcard.quickrlink":"Quickr","friendsInvSent":"No invitation sent because an invitation is already pending.","label.personcard.profilelink":"Profile","friendsCancelInvAction":"Cancel","friendsNetwork":"Network","friendsNoInv":"No invitations","friendsInviteFailed":"Due to a server error, an email notification was not sent to the invitee. However the invitee will still be able to accept your invitation through the Profiles web application.","friendsIgnoreAction":"Ignore","label.personcard.fileslink":"Files","label.semtag.hover.alt":"Click to view business card for {0}","friendsDate":"Date","friendsLoading":"Loading Network...","friendsPleaseLogIn":"Please log in to invite people to your network","friendsInviteLegalNote":"By sending this invitation, you agree to allow {0} to comment on your profile board.","friendsTelephone":"Telephone:","loadingSTStatus":"Loading Sametime status...","friendsColleaguesFor":"Network Contacts for {0}","personCardAddAsColleagues":"Invite to My Network","label.personcard.communitieslink":"Communities","friendsInvitePerson":"Invite {0} to your network","friendsInviteAlsoFollow":"Also Follow","friendsInviteFollowError":"An error occurred while attempting to follow {0}","personCardDownloadVCard":"Download vCard","personCardChat":"Chat","friendsInvite":"Invite to My Network"};
if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["lconn.profiles.bizCard"]=true;

;if(!dojo._hasResource["lconn.profiles.bizCard.bizCardUI"]){
dojo._hasResource["lconn.profiles.bizCard.bizCardUI"]=true;
dojo.provide("lconn.profiles.bizCard.bizCardUI");




(function(){
var _1=dojo;
lconn.profiles.bizCard.bizCardUI={messages:{},isDebug:false,isSlim:false,isExpandable:true,isEmailEnabled:true,wndh_vCard:null,initited:false,mainNodeId:"bc_document_node",init:function(){
if(this.initited==false){
_1=lconn.core.bizCard.bizCardUtils.getDojoObject();
dojo.requireLocalization("lconn.profiles.bizCard","ui");
this.messages=_1.i18n.getLocalization("lconn.profiles.bizCard","ui");
window.SemTagPerson=window.SemTagPerson||{};
SemTagPerson.services=SemTagPerson.services||[];
}
},followUser:function(_2,_3,_4){
if(!dojo.exists("lconn.profiles.invite.Invite")){
try{
net.jazz.ajax.xdloader.load_async("lconn.profiles.invite.Invite",dojo.hitch(this,function(){
this.followUser(_2,_3,_4);
}));
}
catch(e){
if(window.console){
console.error("Unable to load invite module");
console.error(e);
}
}
return;
}
lconn.profiles.invite.Invite.followUser(lconn.core.bizCard.bizCardUtils.getBaseURL("hcard"),_2,_3,dojo.byId("bizFollowBtn"));
},getMenuData:function(_5,_6,_7,_8,_9,_a,_b,_c){
try{
var _d=(dojo.cookie)?dojo.cookie("card.popup.slim"):null;
var _e=true;
if(!_5.X_bizCardServiceLinks||_5.X_bizCardServiceLinks.length==0){
_e=false;
this.isExpandable=false;
}
if(typeof (_b)!="undefined"&&_b!=null){
this.isSlim=_b;
}else{
if(_d!=null){
this.isSlim=(_d==1);
}
}
if(typeof (_c)!="undefined"){
this.isExpandable=_c;
}
if(_5!=null){
this.isEmailEnabled=(_5.email!=null&&_5.email.internet!=null);
}else{
this.isEmailEnabled=false;
}
if(this.isDebug){
console.log("slim? "+this.isSlim);
console.log("expandable? "+this.isExpandable);
console.log("email? "+this.isEmailEnabled);
}
var _f=lconn.core.bizCard.bizCardUtils.getBaseURL("hcard");
if(lconn.core.header==null&&dojo.isIE){
_9.write("<div id=\"b"+this.mainNodeId+"\" role=\"document\" aria-live=\"polite\" class=\"lotusui30 lotusui30_ie\">");
}else{
_9.write("<div id=\""+this.mainNodeId+"\" role=\"document\" aria-live=\"polite\" class=\"lotusui30\">");
}
_9.write("<div id=\"cardDiv\" class=\"lotusVCard\" style=\"width: 375px; position: static; opacity: 1;\">");
_9.write("<div id=\"A11YReader\" role=\"alert\" style=\"position:absolute; display:none; line-height:0; max-height:0; font-size:0; outline:0;\">"+this.messages["label.bizcard.dismiss"]+"</div>");
_9.write("<div id=\"A11Yblank\" tabindex=\"0\" onfocus=\"LCSemTagMenu.focusA11Y();\" style=\"line-height:0; max-height:0; font-size:0; outline:0;\"></div>");
_9.write("<table id=\"cardTable\" class=\"lotusContainer\" cellspacing=\"0\">");
_9.write("<tbody>");
if(_5!=null&&_5.X_inDirectory!=null&&_5.X_inDirectory=="true"){
_9.write("<tr id=\"cardHeader\" "+((this.isSlim||!_e)?"style=\"display:none\"":"")+">"+"<td>"+"<table role=\"list\" aria-label=\"application links\" cellspacing=\"0\" width=\"100%\">");
this.writeHeaderUIContent(_9,_5,false);
_9.write("</table>"+"</td></tr>");
}
_9.write("<tr id=\"cardBody\"><td class=\"lotusDetails\" "+((_5!=null&&_5.X_inDirectory!=null&&_5.X_inDirectory=="true")?"":" style=\"padding-bottom: 0px;\"")+"colSpan=\"6\">");
this.writeBodyUIContent(_5,_6,_7,_8,_9,_a,_f);
_9.write("</td></tr>");
if(_5!=null&&_5.X_inDirectory!=null&&_5.X_inDirectory=="true"&&_5.X_isActiveUser&&_5.X_isActiveUser=="true"){
this.writeFooterUIContent(_5,_6,_7,_8,_9,_a,_f);
}
_9.write("</tbody></table>");
_9.write("<div id=\"A11YLast\" onfocus=\"LCSemTagMenu.focusA11Y();\" style=\"line-height:0px; max-height: 0px; font-size:0px; outline:0;\" tabindex=\"0\">&nbsp;</div>");
_9.write("</div></div>");
this.isSlim=false;
}
catch(ex){
alert(ex.message);
}
},writeHeaderUIContent:function(_10,_11,_12){
this.writeLinks(_10,_11,_12);
},writeBodyUIContent:function(_13,_14,_15,_16,_17,_18,_19){
this.getSubUIContent(_13,_14,_15,_16,_17,_18,_19);
},writeFooterUIContent:function(_1a,_1b,_1c,_1d,_1e,_1f,_20){
var _21=this.messages;
_1e.write("<tr id=\"cardFooter\""+((this.isSlim)?"style=\"display:none\"":"")+">");
_1e.write("<td colSpan=\"6\">");
if(_1a.X_inDirectory){
_1e.write("<div class=\"lotusPersonActions\">");
_1e.write("<ul class=\"lotusInlinelist\">");
var _22=(typeof (SemTagSvcConfig)!="undefined"&&SemTagSvcConfig.isBidiRTL);
if(_1a.X_bizCardActions.length>0){
_1e.write("<li class=\"lotusFirst\">"+this.getActionLink(_1a,0,true)+"</li>");
if(_22){
_1e.write("<li class=\"lotusFirst\"></li>");
}
}
var _23=(_1a.X_bizCardSTInputType=="uid"?_1a.uid:_1a.email.internet);
var _24=(_1a.X_loggedInUserKey!=null&&_1a.X_loggedInUserKey!="");
if(_1a.X_bizCardSTAwareness||_1a.X_bizCardSecureSTAwareness||(window.sametimeAwarenessEnabled&&_24)){
if(_1a.X_STChatAction){
_1e.write("<li id=\""+_23+"ChatAction\" "+(_22?"class=\"lotusFirst\"":"")+" style=\"display:none;\">"+"<a href=\"javascript:void(0);\" onclick=\"lconn.profiles.bizCard.bizCard.sametimeStart('chat', '"+_23+"');return false;\">"+_21.personCardChat+"</a>"+"</li>");
}
if(typeof (SemTagSvcConfig)!="undefined"&&SemTagSvcConfig.isBidiRTL){
_1e.write("<li class=\"lotusFirst\"></li>");
}
}
if(_1a.X_bizCardActions.length>1){
_1e.write("<li "+(_23==""||_22?"class=\"lotusFirst\"":"")+">"+"<a role=\"button\" href=\"javascript:void(0);\" onclick=\"lconn.profiles.bizCard.bizCardUI.displayMore('"+_1a.key+"MoreActionMenu',this.parentNode.parentNode);event.cancelBubble=true;return false;\">"+_21.personCardMoreActions+"<img class=\"otherFramework16 otherFramework16-TriangleMediumGrayDown12\" src=\""+dojo.config.blankGif+"\" title=\""+_21.personCardMoreActionsAltText+"\">"+"</a>"+"</li>");
}
_1e.write("</ul>"+"</div>");
if(_1a.X_bizCardActions.length>1||(_23!=""&&(_1a.X_bizCardSTAwareness||_1a.X_bizCardSecureSTAwareness))){
this.writeMoreActionsMenu(_1e,_1a,_20,false);
}
}
_1e.write("</td></tr>");
},getActionLink:function(_25,_26,_27){
var _28=_25.X_bizCardActions[_26];
var _29="";
if(_27&&typeof (_28.icon)!="undefined"){
_29="<img src=\""+_28.icon.href+"\"/> ";
}
var id="";
if(_28.urlPattern.indexOf("followUser")!=-1){
_28.label=this.getFollowActionLabel(_25,_28);
id=" id=\"bizFollowBtn\"";
}
if(_28.label){
return "<a class=\"email\" "+id+" href=\""+_28.urlPattern+"\">"+_29+_28.label+"</a>";
}else{
return "";
}
},getFollowActionLabel:function(_2a,_2b){
var _2c=window.X_loggedInUserKey;
if(_2c&&_2c!=_2a.key&&_2a.X_isFollowedEnabled){
var nls=this.messages;
return _2a.X_isFollowed!="false"?nls.personCardUnfollow:nls.personCardFollow;
}
return null;
},getSubUIContent:function(_2d,_2e,_2f,_30,_31,_32,_33){
var _34=this.messages;
if(_2d!=null&&_2d.X_lconn_userid){
if(_2d.X_isActiveUser!="false"){
if(this.isExpandable&&_2d.X_inDirectory=="true"){
this.writeExpandoUIContent(_31,_33);
}
if(_2d.X_bizCardShowPhoto){
if(_2d.X_inDirectory=="true"){
_31.write("<div class=\"lotusPhoto photo\"><img src=\""+_2d.photo+"\" title=\""+lconn.core.util.html.encodeHtmlAttribute(_2d.fn)+"\" height=\"59\" width=\"59\"></div>");
}else{
_31.write("<div class=\"lotusPhoto photo\"><img class=\"otherPeople64 otherPeople64-NoPhotoPerson64\" src=\""+dojo.config.blankGif+"\" title=\""+lconn.core.util.html.encodeHtmlAttribute(_2d.fn)+"\" height=\"59\" width=\"59\"></div>");
}
}
_31.write("<div class=\"lotusPersonInfo\">");
var _35=_2d.X_bizCardMainHtml;
if(this.isSlim&&!this.isExpandable&&_2d.X_bizCardMainHtml.indexOf("<a href=\"mailto:")>0){
_35=_2d.X_bizCardMainHtml.substring(0,_2d.X_bizCardMainHtml.indexOf("<a href=\"mailto:"));
_35+="<a class=\"lotusHidden\" href=\"mailto:";
_35+=_2d.X_bizCardMainHtml.substring(_2d.X_bizCardMainHtml.indexOf("<a href=\"mailto:")+"<a href='mailto:".length);
}
if(_2d.X_inDirectory!=null&&_2d.X_inDirectory=="true"){
_31.write(_35);
}else{
if(_2d.X_bizCardMainHtml!=""){
_31.write(_35);
}else{
_31.write("<h3 id='noProfileMsg'>"+_34["label.personcard.cardnomarkup"]+"</h3>");
}
}
_31.write("</div>");
var _36=(_2d.X_bizCardSTInputType=="uid"?_2d.uid:_2d.email.internet);
var out="<div id=\""+_36+"vcardCommentElem\" class=\"lotusComment\" style=\"display: none;\">"+"<div class=\"lotusCommentHeader\">&nbsp;</div>"+"<div class=\"lotusCommentBody\">"+(_36!=""&&_2d.X_bizCardSTStatusMsg?"<span id=\""+_36+"vcardStStatusElem\"></span>":"")+"</div>"+"</div>";
_31.write(out);
}else{
if(_2d.X_isActiveUser=="false"){
var _37=_34["label.inactive.user.msg"];
var _38=_34["label.message.information"];
if(_2d.X_inDirectory=="true"){
_31.write("<div class=\"lotusPhoto photo\"><img src=\""+_2d.photo+"\" title=\""+lconn.core.util.html.encodeHtmlAttribute(_2d.fn)+"\" height=\"59\" width=\"59\" style=\"opacity: 0.5\"></div>");
}else{
_31.write("<div class=\"lotusPhoto photo\"><img \"otherPeople64 otherPeople64-NoPhotoPerson64\" src=\""+dojo.config.blankGif+"\" title=\""+lconn.core.util.html.encodeHtmlAttribute(_2d.fn)+"\" height=\"59\" width=\"59\" style=\"opacity: 0.5></div>");
}
_31.write("<div class=\"lotusPersonInfo\">"+"<h2>"+"<span class=\"fn\">"+lconn.core.util.html.encodeHtml(_2d.fn)+"</span></h2>"+"<p class=\"title\">"+lconn.core.util.html.encodeHtml(_2d.title)+"</p>"+"<div class=\"lotusMessage lotusInfo\" role=\"status\"><img alt=\""+_38+"\" src=\""+dojo.config.blankGif+"\" class=\"lconnSprite lconnSprite-iconAttention16\">"+"<span class=\"lotusAltText\">"+_38+"</span>"+"<span>"+_37+"</span>"+"</div><!--end lotusMessage-->"+"</div><!--end lotusInfo-->");
}else{
_31.write("<h3 id='noProfileMsg'>"+_34["label.personcard.cardnomarkup"]+"</h3>");
}
}
}else{
var _39=_34["label.personcard.noprofilemsg"];
_31.write("<h3 id='noProfileMsg'>"+_39+"</h3>");
}
},writeExpandoUIContent:function(_3a,_3b){
var lbl=this.messages["label.bizcard.applinks."+((this.isSlim)?"more":"less")];
_3a.write("<div id=\"slimTwistyDiv\" class=\"lotusRight\">");
_3a.write("<a role=\"button\" onclick=\"lconn.profiles.bizCard.bizCardUI.toggleSlimCard(this,'"+_3b+"');"+"event.cancelBubble=true;return false;\""+"href=\"javascript:void(0);\">");
if(this.isSlim){
_3a.write(" <img id=\"slimTwisty\" class=\"otherFramework16 otherFramework16-ShowMore12\" src=\""+dojo.config.blankGif+"\" alt=\""+lbl+"\" title=\""+lbl+"\"/>");
}else{
_3a.write(" <img id=\"slimTwisty\" class=\"otherFramework16 otherFramework16-HideMore12\" src=\""+dojo.config.blankGif+"\" alt=\""+lbl+"\" title=\""+lbl+"\"/>");
}
_3a.write("<span class=\"lotusAltText\">"+lbl+"</span>");
_3a.write("</a>");
_3a.write("</div>");
},getInlineMarkup:function(_3c,_3d,_3e){
var _3f=this.messages;
var _40=lconn.core.bizCard.bizCardUtils.getBaseURL("hcard");
var _41=_3e;
if(_3c!=null){
var _42=(_3c.X_bizCardSTInputType=="uid"?_3c.uid:_3c.email.internet);
_41.write("<div class=\"lotusui lotusui30dojo lotusui30_body lotusui30_fonts lotusui30 lotusSpritesOn\">");
_41.write("<div id=\""+_3c.key+"\" class=\"vcard lotusVCard lotusInlineVCard\" style=\"position:static;margin:10px\">");
_41.write("  <div class=\"lotusContainer\">");
_41.write("    <div id=\""+_3c.key+"_Pivot\" class=\"lotusPivotNav\">");
_41.write("      <div class=\"lotusPivotNavToggle\">");
_41.write("        <a role=\"button\" title=\"\" href=\"javascript:;\" onclick=\"lconn.core.bizCard.bizCardUtils.toggleInlineCard('"+_3c.key+"'); return false;\">"+"&nbsp;"+"</a>");
_41.write("      </div>");
if(_3c.X_bizCardShowPhoto){
_41.write("      <div class=\"lotusPhoto photo\">");
if(_3c.X_isActiveUser&&_3c.X_isActiveUser!="true"){
_41.write("        <img id=\"photo\" class=\"otherPeople32 otherPeople32-NoPhotoPerson32\" src=\""+dojo.config.blankGif+"\" alt=\""+lconn.core.util.html.encodeHtmlAttribute(_3c.fn)+"\" title=\""+lconn.core.util.html.encodeHtmlAttribute(_3c.fn)+"\" height=\"35\" width=\"35\" />");
}else{
_41.write("        <img id=\"photo\" src=\""+_3c.photo+"\" alt=\""+lconn.core.util.html.encodeHtmlAttribute(_3c.fn)+"\" title=\""+lconn.core.util.html.encodeHtmlAttribute(_3c.fn)+"\" height=\"35\" width=\"35\" />");
}
_41.write("      </div>");
}
_41.write("      <div class=\"lotusPersonInfo\">");
_41.write("      <h2>");
var _43=(_3c.X_loggedInUserKey!=null&&_3c.X_loggedInUserKey!="");
if(window.sametimeAwarenessEnabled&&_43){
_41.write("<span class=\"IMAwarenessDisplayedUser\">");
_41.write("<span style=\"display: none;\" class=\"renderType\">Icon</span>");
_41.write("<span style=\"display: none;\" class=\"dn\">"+_3c.dn+"</span>");
_41.write("<span style=\"display: none;\" class=\"uid\">"+_3c.uid+"</span>");
_41.write("<span id=\"IMcontent\" class=\"IMContent\"><img alt=\""+_3f["loadingSTStatus"]+"\" src=\""+_40+"/nav/common/styles/images/loading.gif\">&nbsp;</span>");
_41.write("</span>");
}
_41.write("<span class=\"fn\" id=\""+_42+"vcardNameElem\" class=\"fn\"  userid=\""+_42+"\">"+lconn.core.util.html.encodeHtml(_3c.fn)+"</span>");
_41.write("       </h2>");
if(_3c.X_isActiveUser&&_3c.X_isActiveUser!="true"){
var _44=_3f["label.inactive.user.msg"];
var _45=_3f["label.message.information"];
_41.write("<div class=\"lotusMessage lotusInfo\" role=\"status\"><img alt=\""+_45+"\" src=\""+dojo.config.blankGif+"\" class=\"lconnSprite lconnSprite-iconAttention16\">");
_41.write("<span class=\"lotusAltText\">"+_45+"</span>");
_41.write("<span>"+_44+"</span>");
_41.write("</div><!--end lotusMessage-->");
}
_41.write("      </div>");
_41.write("    </div>");
_41.write("    <div id=\""+_3c.key+"_Details\" class=\"lotusInlineVCardDetails\">");
if(_3c.X_bizCardActions.length>0){
_41.write("<div class=\"lotusEmail\">");
_41.write(this.getActionLink(_3c,0,true));
_41.write("</div>");
}
this.writeLinks(_41,_3c,true);
if(_3c.X_bizCardActions.length>1){
_41.write("<div class=\"lotusPersonActions\">");
_41.write("  <ul class=\"lotusInlinelist\">");
_41.write("    <li class=\"lotusFirst\">");
_41.write("      <a role=\"button\" id=\""+_3c.key+"_MoreActions\"");
_41.write("        href=\"javascript:;\" onclick=\"lconn.profiles.bizCard.bizCardUI.displayMore('"+_3c.key+"InlineMoreActionMenu',dojo.byId('"+_3c.key+"_MoreActions').parentNode.parentNode);return false;\">");
_41.write(_3f.personCardMoreActions);
_41.write("        <img class=\"otherFramework16 otherFramework16-TriangleMediumGrayDown12\" src=\""+dojo.config.blankGif+"\" alt=\""+_3f.personCardMoreActionsAltText+"\"");
_41.write("          title=\""+_3f.personCardMoreActionsAltText+"\" />");
_41.write("      </a>");
_41.write("    </li>");
_41.write("  </ul>");
_41.write("</div>");
this.writeMoreActionsMenu(_41,_3c,_40,true);
}
_41.write("    </div>");
_41.write("  </div>");
_41.write("</div>");
_41.write("</div>");
}else{
_41.write("<div class=\"lotusui30\">");
_41.write("<div class=\"vcard lotusVCard lotusInlineVCard\" style=\"position:static;margin:10px\">");
_41.write("  <div class=\"lotusContainer\">");
_41.write("    </div>");
_41.write("    </div>");
_41.write("    </div>");
}
},writeLinks:function(_46,_47,_48){
if(_47.X_loggedInUserKey!=null){
window.X_loggedInUserKey=_47.X_loggedInUserKey;
}
try{
var _49=lconn.core.bizCard.bizCardUtils.getBaseURL("hcard");
if(!_47.X_bizCardServiceLinks){
_47.X_bizCardServiceLinks=[];
}
if(!_47.X_concatSemPersonSvc&&dojo.exists("SemTagPerson.services")&&SemTagPerson.services.length>0){
_47.X_bizCardServiceLinks=_47.X_bizCardServiceLinks.concat(SemTagPerson.services);
_47.X_concatSemPersonSvc=true;
}
if(_47.X_bizCardServiceLinks&&_47.X_bizCardServiceLinks.length>0){
var _4a=4;
if(_48){
_46.write("<ul id=\"appLinks1\" class=\"lotusAppLinks\" role=\"list\" aria-label=\"application links\">");
}
var _4b=new Array();
for(var i=0;i<_4a;i++){
_4b[i]=_47.X_bizCardServiceLinks[i];
}
var _4c=new Array();
for(var i=_4a;i<_47.X_bizCardServiceLinks.length;i++){
var j=i-_4a;
_4c[j]=_47.X_bizCardServiceLinks[i];
}
this.writeSubLinksMenu(_46,_4b,_48,true,_4a,_47);
this.writeSubLinksMenu(_46,_4c,_48,false,_4a,_47);
if(_48){
_46.write("</ul>");
}
}
}
catch(exception2){
alert(exception2.message);
}
},writeSubLinksMenu:function(_4d,_4e,_4f,_50,_51,_52){
var _53=this.messages;
var _54=true;
var _55=0;
var _56=100/_51-1;
for(var k=0;k<_4e.length;k++){
var _57=_4e[k];
if(_57==null||_57.name==null||_57.name==""||_57.name=="dogear"){
continue;
}
var _58="";
var _59=false;
if(typeof (_57.href)!="undefined"&&_57.href!=null){
_58=_57.href;
}else{
if(typeof (_57.url_pattern)!="undefined"&&_57.url_pattern!=null&&_57.url_pattern!=""){
_58=_57.url_pattern;
if(_58.indexOf("{email}")!=-1&&(_52.email!=null&&_52.email.internet!=null)){
_58=_58.replace(/{email}/g,_52.email.internet);
}
if(_58.indexOf("{uid}")!=-1&&(_52.uid!=null)){
_58=_58.replace(/{uid}/g,_52.uid);
}
if(_58.indexOf("{key}")!=-1&&(_52.key!=null)){
_58=_58.replace(/{key}/g,_52.key);
}
if(_58.indexOf("{fn}")!=-1&&(_52.fn!=null)){
_58=_58.replace(/{fn}/g,lconn.core.util.html.encodeHtmlAttribute(_52.fn));
}
if(_58.indexOf("{displayName}")!=-1&&(_52.fn!=null)){
_58=_58.replace(/{displayName}/g,lconn.core.util.html.encodeHtmlAttribute(_52.fn));
}
if(_58.indexOf("{workPhoneNumber}")!=-1&&(_52.adr!=null&&_52.adr.work!=null)){
_58=_58.replace(/{workPhoneNumber}/g,_52.adr.work);
}
if(_58.indexOf("{userid}")!=-1&&(_52.X_lconn_userid!=null)){
_58=_58.replace(/{userid}/g,_52.X_lconn_userid);
}
if(typeof (_57.location)!="undefined"&&_57.location!=null){
_58=_57.location+_58;
}
}else{
continue;
}
}
if(!_4f&&_54==true){
_4d.write("<tr class=\"lotusAppLinks"+(!_50?" appLinksNext":"")+"\">");
}
_4d.write((_4f)?"<li ":"<td "+(_50?"style=\"width: "+_56+"%;\" ":""));
_4d.write(" role=\"listitem\" ");
_55++;
if(!_4f&&_54==true){
_4d.write("class=\"lotusFirst\"");
}
_54=false;
var _5a="";
if(typeof (_57.js_eval)!="undefined"&&_57.js_eval!=null&&_57.js_eval.indexOf("generalrs.")==0){
var key=_57.js_eval.substr("generalrs.".length);
if(typeof (_53[key])=="undefined"){
key=key.replace(/\_/g,".");
}
_5a=_53[key];
}else{
if(_57.js_eval){
try{
if(_52.X_allowEvalLabel){
_5a=dojo.eval(_57.js_eval);
}else{
_5a=new String(_57.js_eval);
}
}
catch(exception2){
_5a="!error.eval!";
}
}else{
if(_57.label){
_5a=new String(_57.label);
}else{
_5a="???";
}
}
}
if(_57.name=="blogs"&&_52.X_blogUrl!=null&&_52.X_blogUrl!=""){
_4d.write("><a class=\"url\" href=\""+_52.X_blogUrl+"\">"+_5a+"</a>");
}else{
_4d.write("><a class=\"url\" href=\""+_58.replace(/\"/g,"&quot;")+"\">"+_5a+"</a>");
}
_4d.write((_4f)?"</li>":"</td>");
if(!_4f&&_50&&(k==(_4e.length-1))){
_4d.write("</tr>");
_54=true;
_55=0;
}else{
if(!_4f&&(((k+1)%_51)==0)){
_4d.write("</tr>");
_54=true;
_55=0;
}else{
if(!_4f&&((k+1)==_4e.length)){
_4d.write("<td colSpan=\""+(_51-_55)+"\">&nbsp;</td>");
_4d.write("</tr>");
_54=true;
_55=0;
}
}
}
}
},writeMoreActionsMenu:function(_5b,_5c,_5d,_5e){
var _5f=this.messages;
try{
_5b.write("<ul class=\"lotusActionMenu lotusPlain\" id=\""+_5c.key);
if(_5e){
_5b.write("Inline");
}
_5b.write("MoreActionMenu\">");
if(_5c.X_bizCardActions.length>0&&!_5e){
_5b.write("<li class=\""+_5c.X_bizCardActions[0].liClass+"\">"+this.getActionLink(_5c,0,false)+"</li>");
}
var _60=(_5c.X_bizCardSTInputType=="uid"?_5c.uid:_5c.email.internet);
var _61=(_5c.X_loggedInUserKey!=null&&_5c.X_loggedInUserKey!="");
if(_5c.X_bizCardSTAwareness||_5c.X_bizCardSecureSTAwareness||(window.sametimeAwarenessEnabled&&_61)){
if(_5c.X_STChatAction){
_5b.write("<li id=\""+_60+"ChatActionMore\" class=\"lotusMenuSeparator\" style=\"display:none;\">"+"<a href=\"javascript:void(0);\" onclick=\"lconn.profiles.bizCard.bizCard.sametimeStart('chat', '"+_60+"');return false;\"> "+_5f.personCardChat+" </a>"+"</li>");
}
if(_5c.X_STCallAction){
_5b.write("<li id=\""+_60+"CallActionMore\" class=\"lotusMenuSeparator\" style=\"display:none;\">"+"<a href=\"javascript:void(0);\" onclick=\"lconn.profiles.bizCard.bizCard.sametimeStart('call', '"+_60+"');return false;\"> "+_5f.personCardCall+" </a>"+"</li>");
}
}
if(_5c.X_bizCardActions.length>1){
for(var i=1;i<_5c.X_bizCardActions.length;i++){
_5b.write("<li class=\""+_5c.X_bizCardActions[i].liClass+"\">"+this.getActionLink(_5c,i,false)+"</li>");
}
}
_5b.write("</ul>");
}
catch(exception2){
alert(exception2.message);
}
},displayMore:function(_62,_63){
try{
var _64=dojo.byId(_62);
dojo.style(_64,"display","block");
var _65=dojo.query("a,[tabindex=\"0\"]",_64);
if(_65.length>0){
_65[0].focus();
}
dojo.style(_63,"display","none");
}
catch(e){
if(window.console){
console.log("displayMore exception: "+e);
}
}
},convertQuickrEmail:function(_66){
_66=_66.replace(/@/g,"_at_");
_66=_66.replace(/\./g,"_");
return _66;
},toggleSlimCard:function(_67,_68){
var _69=document.getElementById("slimTwisty");
if(_69.className.indexOf("HideMore")!=-1){
if(this.slimCard(_68)){
if(dojo.cookie){
dojo.cookie("card.popup.slim",1);
}
}
}else{
if(this.expandCard(_68)){
if(dojo.cookie){
dojo.cookie("card.popup.slim",0);
}
}
}
},slimCard:function(_6a){
var _6b=dojo.byId("slimTwisty");
if(_6b){
var lbl=this.messages["label.bizcard.applinks.more"];
_6b.className="otherFramework16 otherFramework16-ShowMore12";
_6b.src=dojo.config.blankGif;
_6b.alt=_6b.title=lbl;
try{
dojo.query(".lotusAltText",dojo.byId("slimTwistyDiv")).forEach(function(_6c){
_6c.innerHTML=lbl;
});
}
catch(AltSetExc){
}
var _6d=dojo.byId("cardHeader");
if(_6d){
_6d.style.display="none";
}
var _6e=dojo.byId("cardFooter");
if(_6e){
_6e.style.display="none";
}
return true;
}
return false;
},expandCard:function(_6f){
var _70=dojo.byId("slimTwisty");
if(_70){
var lbl=this.messages["label.bizcard.applinks.less"];
_70.className="otherFramework16 otherFramework16-HideMore12";
_70.src=dojo.config.blankGif;
_70.alt=_70.title=lbl;
try{
dojo.query(".lotusAltText",dojo.byId("slimTwistyDiv")).forEach(function(_71){
_71.innerHTML=lbl;
});
}
catch(AltSetExc){
}
var _72=dojo.byId("cardHeader");
if(_72){
_72.style.display="";
}
var _73=dojo.byId("cardFooter");
if(_73){
_73.style.display="";
}
return true;
}
return false;
},resizeObj:function(obj,_74,_75){
if(typeof (obj.style.height)=="undefined"||obj.style.height<=0){
obj.style.height=obj.height;
}
if(typeof (obj.style.width)=="undefined"||obj.style.width<=0){
obj.style.width=obj.width;
}
obj.style.height=(_74)?obj.style.height=_75+"%":obj.style.height;
obj.style.width=(_74)?obj.style.width=_75+"%":obj.style.width;
},openVCardDialog:function(key,_76){
this._createVCardDialog(key,_76);
},_createVCardDialog:function(key,_77){
this.wndh_vCard=window.open(this._getVCardDownloadUrl(key,_77),"vcarddl","status=0,toolbar=0,scrollbars=0,resizable=0,height=350,width=550");
},_getVCardDownloadUrl:function(key,_78){
var _79=lconn.core.bizCard.bizCardUtils.getBaseURL("hcard");
var _7a=lconn.core.bizCard.bizCardUtils.getLangParam();
return _79+"/html/exportVCardDialog.do?key="+key+"&lastMod="+_78+"&lang="+_7a;
},networkInviteDefaultErrorHandler:function(){
if(!dojo.exists("lconn.profiles.invite.Invite")){
return;
}
dojo["require"]("dijit.Dialog");
var msg=this.messages;
function _7b(key){
return msg[key];
};
var i=lconn.profiles.invite.Invite;
var _7c=i.inviteDialog;
if(_7c){
_7c.hide();
}
if(i.errorDialog){
i.errorDialog.hide();
}
i.errorDialog=new dijit.Dialog({content:"",style:""});
dojo.addClass(i.errorDialog.domNode,"lotusDialogBorder lotusDialog");
i.errorDialog.titleBar.innerHTML="<h1>{title}</h1>".replace("{title}",_7b("friendsInvite"));
var _7d=dijit._Widget.prototype._blankGif;
i.errorDialog.containerNode.innerHTML="<div class=\"lotusMessage lotusError\" role=\"alert\"><img title=\"\" alt=\"\" class=\"lconnSprite lconnSprite-iconError16\" src=\"{blankGif}\">{errorMsg}</div><div class=\"lotusDialogFooter\"><input type=\"submit\" onclick=\"lconn.profiles.invite.Invite.errorDialog.hide(); return true;\" class=\"lotusFormButton\" value=\"Close\"></div>".replace("{blankGif}",_7d).replace("{errorMsg}",_7b("errorDefaultMsg2"));
i.errorDialog.show();
},openNetworkInviteDialog:function(key,_7e,_7f){
var _80=errorHandler=lconn.profiles.bizCard.bizCardUI.networkInviteDefaultErrorHandler;
if(lconn.core.header==null){
var _81=lconn.core.bizCard.bizCardUtils.getBaseURL("hcard");
var _82=lconn.core.bizCard.bizCardUtils.getLangParam();
var url=_81+"/html/profileView.do?key="+key+"&lang="+_82+"&invite=true";
window.open(url);
return;
}
if(!dojo.exists("lconn.profiles.invite.Invite")){
try{
net.jazz.ajax.xdloader.load_async("lconn.profiles.invite.Invite",dojo.hitch(this,function(){
this.openNetworkInviteDialog(key,_7e,_7f);
}));
}
catch(e){
if(window.console){
console.error("Unable to load invite module");
console.error(e);
}
}
return;
}
var _83=null;
var _84=null;
if(lconn.profiles.bizCard.bizCard.currentPerson){
if(lconn.profiles.bizCard.bizCard.currentPerson.fn){
_83=lconn.profiles.bizCard.bizCard.currentPerson.fn;
}
if(lconn.profiles.bizCard.bizCard.currentPerson.X_isFollowed&&lconn.profiles.bizCard.bizCard.currentPerson.X_isFollowedEnabled){
_84=dojo.fromJson(lconn.profiles.bizCard.bizCard.currentPerson.X_isFollowedEnabled);
if(_84){
_84=!dojo.fromJson(lconn.profiles.bizCard.bizCard.currentPerson.X_isFollowed);
}
}
}
LCSemTagMenu.hide(LCSemTagMenu.id);
lconn.profiles.invite.Invite.showDialog(lconn.core.bizCard.bizCardUtils.getBaseURL("hcard"),true,_83,key,_7e,_7f,_80,errorHandler,null,null,null,_84);
}};
setTimeout(function(){
lconn.profiles.bizCard.bizCardUI.init();
},1);
})();
}


;if(!dojo._hasResource["lconn.profiles.bizCard.bizCard"]){
dojo._hasResource["lconn.profiles.bizCard.bizCard"]=true;
dojo.provide("lconn.profiles.bizCard.bizCard");




(function(){
var _1=dojo;
lconn.core.bizCard.bizCardUtils.loadSametimeModules();
lconn.profiles.bizCard.bizCard={messages:{},CARDBEHAVIORS:{HOVER:"hover",POSTLINK:"postLink",OVERRIDE:"override"},cardBehavior:null,applicationContext:null,servletUrlByUserId:null,servletUrlByEmail:null,servletUrlByDn:null,requestor:null,services:[],initited:false,init:function(){
if(this.initited==false){
_1=lconn.core.bizCard.bizCardUtils.getDojoObject();
_1.requireLocalization("lconn.profiles.bizCard","ui");
this.messages=_1.i18n.getLocalization("lconn.profiles.bizCard","ui");
this.cardBehavior=this.CARDBEHAVIORS.OVERRIDE;
this.applicationContext=lconn.core.bizCard.bizCardUtils.getBaseURL("hcard");
var _2=this.applicationContext+"/json/semanticTagProfileView.do";
this.servletUrlByUserId2=_2+"?userid=@@@USERID@@@&lang=@@@LANG@@@&auth=@@@AUTH@@@";
this.servletUrlByEmail2=_2+"?email=@@@EMAIL@@@&lang=@@@LANG@@@&auth=@@@AUTH@@@";
this.servletUrlByDn2=_2+"?distinguishedName=@@@DN@@@&lang=@@@LANG@@@&auth=@@@AUTH@@@";
this.servletUrlByUserId=_2+"?userid=@@@USERID@@@&callback=lconn.profiles.bizCard.bizCard.dispatchByUserId&lang=@@@LANG@@@&auth=@@@AUTH@@@";
this.servletUrlByEmail=_2+"?email=@@@EMAIL@@@&callback=lconn.profiles.bizCard.bizCard.dispatchByEmail&lang=@@@LANG@@@&auth=@@@AUTH@@@";
this.servletUrlByDn=_2+"?distinguishedName=@@@DN@@@&callback=lconn.profiles.bizCard.bizCard.dispatchByEmail&lang=@@@LANG@@@&auth=@@@AUTH@@@";
this.requestor=new LCSemTagUtil.crossDomainRequest();
var _3=lconn.core.bizCard.bizCardUtils.getUrlParam("cardBehavior");
if(_3){
this.cardBehavior=_3;
}else{
if(dojo.exists("SemTagSvcConfig")&&SemTagSvcConfig.cardBehavior){
this.cardBehavior=SemTagSvcConfig.cardBehavior;
}else{
var _4=dojo.getObject("lconn.core.config.properties");
if(_4&&typeof _4["com.ibm.lconn.personcard.behavior"]!=="undefined"){
this.cardBehavior=_4["com.ibm.lconn.personcard.behavior"];
}
}
}
if(dojo.exists("lconn.bizCard.publish")){
lconn.bizCard.publish("lconn/bizCard/profiles/init",this);
}
this.initited=true;
}
},getIdMethod:function(_5){
return (_5.email&&_5.email.internet)?_5.email.internet:null;
},convMethod:function(_6){
return _6;
},dispatchByEmail:function(_7){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("lconn.profiles.bizCard.bizCard.dispatchByEmail: data: "+_7);
}
var _8=(_7.email&&_7.email.internet)?_7.email.internet:null;
this.dispatch(_8,_7);
},dispatchByUserId:function(_9){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("lconn.profiles.bizCard.bizCard.dispatchByUserId: data: "+_9);
}
var _a=_9.X_lconn_userid?_9.X_lconn_userid:null;
this.dispatch(_a,_9);
},dispatchByDn:function(_b){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("lconn.profiles.bizCard.bizCard.dispatchByDn: data: "+_b);
}
var _c=_b.dn?_b.dn:null;
this.dispatch(_c,_b);
},dispatchByConfig:function(_d){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("lconn.profiles.bizCard.bizCard.dispatchByConfig: data: "+_d);
}
this.dispatch("configDataId",_d);
},dispatch:function(id,_e){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("lconn.profiles.bizCard.bizCard.dispatch: id:"+id+"  data: "+_e);
}
this.requestor.dispatch(id,_e);
},processTag:function(_f){
try{
if(!this.initited){
lconn.core.bizCard.bizCardUtils.init();
LCSemTagMenu.init();
this.init();
}
if(typeof _f=="object"&&_f.length){
for(var ii=0;ii<_f.length;ii++){
this.processHcard(_f[ii]);
}
}else{
this.processHcard(_f);
}
}
catch(e){
console.log(e);
}
},processHcard:function(_10){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("Processing at lconn.profiles.bizCard.bizCard.processHcard for "+(dojo.isIE?_10.innerText:_10.textContent));
}
if(!this._hasValidSemanticTags(_10)){
return;
}
var _11=this.getNameElement(_10);
if(this.isInline(_10)){
return this.processHcard_inline(_11);
}else{
if(this.cardBehavior===this.CARDBEHAVIORS.HOVER){
return this.processHcard_hover(_11);
}else{
if(this.cardBehavior===this.CARDBEHAVIORS.POSTLINK){
return this.processHcard_postlink(_11);
}else{
return this.processHcard_override(_11);
}
}
}
},_onClickShowMenu:function(_12){
LCSemTagMenu.waitCursor();
LCSemTagMenu.originalActiveEl=document.activeElement;
LCSemTagMenu.currentEvent=_12;
LCSemTagMenu.setCurrentElement(lconn.core.bizCard.bizCardUtils.getElementFromEvent(_12));
this.showMenu(_12);
},_cleanupElementLink:function(_13){
setTimeout(function(){
try{
if(lconn.core.auth.getUser().isExternal){
dojo.attr(_13,"href","javascript:;");
dojo.connect(_13,"click",function(evt){
dojo.stopEvent(evt);
});
}
}
catch(e){
}
},0);
},_removeAriaDescribedBy:function(_14){
setTimeout(function(){
if(dojo.attr(_14,"aria-describedby")=="semtagmenu"){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.warn("[lconn.profiles.bizCard.bizCard.processHcard] The 'aria-describedby' attribute should not be set to 'semtagmenu' for profile bizcard links.  Removing...");
}
dojo.removeAttr(_14,"aria-describedby");
}
},0);
},processHcard_postlink:function(_15){
setTimeout(dojo.hitch(this,function(){
lconn.core.bizCard.bizCardUtils.addPostLink(_15,dojo.hitch(this,this._onClickShowMenu));
this._removeAriaDescribedBy(_15);
this._cleanupElementLink(_15);
}),0);
},processHcard_override:function(_16){
setTimeout(dojo.hitch(this,function(){
lconn.core.bizCard.bizCardUtils.addOverride(_16,dojo.hitch(this,this._onClickShowMenu));
this._removeAriaDescribedBy(_16);
}),0);
},processHcard_inline:function(_17){
var _18={"target":_17};
this.getTagFromServer(_18);
},processHcard_hover:function(_19){
try{
var _1a=_19.parentNode;
while(_1a){
if(dojo.hasClass(_1a,"dijitDialog")){
if(lconn.core.bizCard.bizCardUtils.isDebug&&window.console){
console.warn("Connections business card hover not supported from within dojo dijit Dialog.");
}
return;
}
_1a=_1a.parentNode;
}
}
catch(e){
}
lconn.core.bizCard.bizCardUtils.addHover(_19,this.showHover,this.showMenu,this.keystrokeHandler);
try{
var msg="";
try{
if(dojo.hasAttr(_19,"aria-label")){
msg+=dojo.attr(_19,"aria-label");
}else{
if(dojo.hasAttr(_19,"title")){
msg+=dojo.attr(_19,"title");
}else{
var _1b=dojo.clone(_19);
try{
dojo.query("*",_1b).forEach(function(_1c){
if(_1c&&(dojo.hasClass(_1c,"lotusHidden")||_1c.style.display=="none")){
_1c.parentNode.removeChild(_1c);
}
});
}
catch(e){
}
msg+=dojo.trim((dojo.isIE?_1b.innerText:_1b.textContent));
}
}
if(msg.length>0){
msg+=". ";
}
}
catch(e){
}
var _1a=_19.parentNode;
while(_1a){
if(dojo.hasClass(_1a,"lotusDim")){
msg+=this.messages["label.inactive.user.msg"]+". ";
break;
}
_1a=_1a.parentNode;
}
if(msg.indexOf(this.messages["label.semtag.hover.altA11Y"])==-1){
msg+=this.messages["label.semtag.hover.altA11Y"];
}
_19.setAttribute("aria-label",msg);
dojo.query("img",_19).forEach(function(_1d,_1e,_1f){
if(!dojo.attr(_1d,"aria-label")){
var _20=dojo.attr(_1d,"alt");
if(_20){
_20+=". ";
}
dojo.attr(_1d,"aria-label",_20+msg);
}
});
this._removeAriaDescribedBy(_19);
this._cleanupElementLink(_19);
}
catch(ee){
}
},isInline:function(_21){
return this.getHcardAttributeValue("X-person-display-inline",_21);
},loadHcardPerson:function(_22){
var _23=new Object();
var _24=lconn.core.bizCard.bizCardUtils.getParentByClassName("vcard",_22);
var _25=_24.getElementsByTagName("*");
for(var i=0;i<_25.length;i++){
var _26=_25[i];
if(_26.className){
var _27=_26.className.split(" ");
for(var j=0;j<_27.length;j++){
var c=_27[j];
var _28=this.getHcardAttributeValue(c,_24);
if(_28){
_23[c]=_28;
}
}
}
}
return _23;
},getHcardAttributeValue:function(_29,_2a){
switch(_29){
case ("email"):
return this.getHcardTypedAttribute(_2a,_29,"internet");
case ("tel"):
return this.getHcardTypedAttribute(_2a,_29,"voice");
case ("adr"):
return this.getHcardTypedAttribute(_2a,_29,"intl");
}
var _2b=lconn.core.bizCard.bizCardUtils.getParentByClassName("vcard",_2a);
var _2c=lconn.core.bizCard.bizCardUtils.getElementsByClassName(_29,_2b,1);
if(_2c.length>0&&_2c[0].tagName.match(/^abbr$/i)){
return _2c[0].getAttribute("title");
}
switch(_29){
case ("fn"):
var fn=lconn.core.bizCard.bizCardUtils.getSinglePropertyValue(_2c[0]);
if(fn){
return fn;
}else{
return this.getHcardAttributeValue("n",_2a);
}
break;
case ("n"):
if(_2c.length>0){
var _2d=_2c[0];
var _2e="";
var _2f=["honorific-prefix","given-name","additional-name","family-name","honorific-suffix"];
for(var i=0;i<5;i++){
var n=lconn.core.bizCard.bizCardUtils.getSinglePropertyValue(lconn.core.bizCard.bizCardUtils.getElementsByClassName(_2f[i],_2d,1)[0]);
if(n){
_2e+=n+" ";
}
}
return _2e;
}
return "";
break;
case ("photo"):
var _30=_2c[0];
if(_30){
return _30.getAttribute("src");
}else{
return;
}
break;
case ("X-sametime-status"):
var _31=_2c[0];
if(!_31){
return "";
}
var _32=_31.getAttribute("value");
if(_32){
return _32;
}else{
return lconn.core.bizCard.bizCardUtils.getSinglePropertyValue(_31);
}
break;
case ("X-person-display-inline"):
if(_2c.length>0){
return true;
}else{
return false;
}
case ("street-address"):
case ("post-office-box"):
case ("extended-address"):
case ("locality"):
case ("region"):
case ("postal-code"):
case ("country-name"):
case ("title"):
case ("role"):
case ("org"):
default:
return lconn.core.bizCard.bizCardUtils.getSinglePropertyValue(_2c[0]);
break;
}
},getHcardTypedAttribute:function(_33,_34,_35){
var _36=new Object();
var _37=lconn.core.bizCard.bizCardUtils.getParentByClassName("vcard",_33);
var _38=lconn.core.bizCard.bizCardUtils.getElementsByClassName(_34,_37);
for(var i=0;i<_38.length;i++){
var _39=_38[i];
if(_34=="email"&&_39.nodeName.toLowerCase()=="a"&&_39.href.match(/^mailto:/)){
var _3a=_39.href.indexOf("?");
if(_3a>-1){
_36[_35]=_39.href.slice(7,_3a);
}else{
_36[_35]=_39.href.slice(7);
}
continue;
}
_36=lconn.core.bizCard.bizCardUtils.getTypedValue(_39,_35);
}
return _36;
},showHover:function(_3b){
try{
lconn.core.bizCard.bizCardUtils.showHover(_3b,lconn.profiles.bizCard.bizCard.showMenu);
if(!LCSemTagMenu.preventFocus){
this.focus();
}
}
catch(e){
console.log("Error in lconn.profiles.bizCard.bizCard.showHover");
console.log(e);
}
},showMenu:function(_3c){
LCSemTagMenu.waitCursor();
lconn.profiles.bizCard.bizCard.getTagFromServer(_3c);
},keystrokeHandler:function(_3d){
if(_3d.ctrlKey&&(_3d.keyCode==13)){
if(_3d.preventDefault){
_3d.preventDefault();
}
try{
LCSemTagMenu.isAccessibleOpen=true;
}
catch(e){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("ERROR setting isAccessibleOpen event flag: "+e);
}
}
lconn.profiles.bizCard.bizCard.showMenu(_3d);
if(!LCSemTagMenu.getCurrentElement()){
var _3e=lconn.core.bizCard.bizCardUtils.getLiveElementFromEvent(_3d);
LCSemTagMenu.setCurrentElement(_3e);
}
}
},getSearchType:function(_3f){
indexOf.lconn.core.bizCard.bizCardUtils.getBaseURL("hcard");
},_hasValidSemanticTags:function(_40){
var _41=this.getElementUserId(_40);
var _42=this.getElementEmail(_40);
var dn=this.getElementDn(_40);
var nam=this.getNameElement(_40);
if((!_41&&!_42&&!dn)||(!nam)){
return false;
}else{
return true;
}
},_cachedData:{},getTagFromServer:function(_43){
var _44=lconn.core.bizCard.bizCardUtils.getLiveElementFromEvent(_43);
var _45=lconn.core.bizCard.bizCardUtils.getLangParam();
var _46={"LANG":_45};
var _47=false;
if(window.lconnAwarenessLoggedInUser){
_47=true;
}
_46["AUTH"]=true;
var url=null;
var _48=null;
var _49=null;
var _4a=this.getElementUserId(_44);
var _4b=this.getElementEmail(_44);
var dn=this.getElementDn(_44);
if(dn){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("Person.getTagFromServer sending request for dn: "+dn);
}
_46["DN"]=dn;
_48=dn;
url=this.servletUrlByDn2;
_49="lconn.profiles.bizCard.bizCard.dispatchByDn";
}else{
if(_4b){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("Person.getTagFromServer sending request for email: "+_4b);
}
_46["EMAIL"]=_4b;
_48=_4b;
url=this.servletUrlByEmail2;
_49="lconn.profiles.bizCard.bizCard.dispatchByEmail";
}else{
if(_4a){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("Person.getTagFromServer sending request for user id: "+_4a);
}
_46["USERID"]=_4a;
_48=_4a;
url=this.servletUrlByUserId2;
_49="lconn.profiles.bizCard.bizCard.dispatchByUserId";
}
}
}
if(_48!=null){
if(this._cachedData[_48]){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("Person.getTagFromServer get data from cache: "+_48);
}
this.requestReturn(true,this._cachedData[_48],_43);
}else{
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("Person.getTagFromServer get data from server: "+_48);
}
lconn.core.bizCard.bizCardUtils.getBizCardData(url,_46,_49,this.requestor,dojo.hitch(this,function(_4c,_4d,_4e){
if(!dojo.isIE){
this._cachedData[_48]=dojo.clone(_4d);
}
this.requestReturn(_4c,_4d,_4e);
}),_43,_48);
}
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("Person.getTagFromServer sent");
}
}else{
this.noInformationProvided(_44,_43);
}
},noInformationProvided:function(_4f,_50){
lconn.profiles.bizCard.bizCard.update(null,_4f,_50);
},requestReturn:function(_51,_52,_53){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("Person.requestReturn: success="+_51);
}
var _54=lconn.core.bizCard.bizCardUtils.getLiveElementFromEvent(_53);
var _52=_51?lconn.profiles.bizCard.bizCard.convMethod.call(null,_52):{};
lconn.profiles.bizCard.bizCard.fillPersonJsonMoreFromDom(_52,_54);
lconn.profiles.bizCard.bizCard.update(_52,_54,_53);
},fillPersonJsonMoreFromDom:function(_55,_56){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("Person.fillPersonJsonMoreFromDom");
}
if(!_55.photo){
_55.photo=lconn.core.url.getServiceUrl(lconn.core.config.services.webresources)+"/web/com.ibm.oneui3.styles/imageLibrary/OtherImages/People/NoPhotoPerson128.png";
}
if(!_55.fn){
var _57=lconn.core.bizCard.bizCardUtils.findNameElementInHcard(_56);
if(_57){
_55.fn=lconn.core.bizCard.bizCardUtils.getTextValue(_57);
}
}
if(!_55.email||!_55.email.internet){
var _58=this.getElementEmail(_56);
_55.email={"internet":_58};
}
if(!_55.tel||!_55.tel.voice){
var _59=lconn.core.bizCard.bizCardUtils.findElementByNameInHcard(_56,"tel");
if(_59){
var _5a=lconn.core.bizCard.bizCardUtils.getTypedValue(_59,"voice");
_55.tel={"voice":_5a["voice"]};
}
}
var _5b=lconn.core.bizCard.bizCardUtils.findElementByNameInHcard(_56,"adr");
var _5c={};
if(_5b){
_5c=SemTagAddr.getAddressJson(_5b);
_55.adr=_5c;
}
},update:function(_5d,_5e,_5f){
if(lconn.core.bizCard.bizCardUtils.isDebug){
console.log("Person.update");
}
var _60=this.messages;
this.currentPerson=_5d;
var _61=lconn.core.bizCard.bizCardUtils.getParentByClassName("vcard",_5e);
if(!_5d){
LCSemTagMenu.defaultCursor();
if(lconn.core.bizCard.bizCardUtils.isDebug&&window.console){
console.warn("Unable to find person object");
}
}else{
if(_61&&this.isInline(_61)){
var out=new lconn.core.bizCard.bizCardUtils.out();
lconn.profiles.bizCard.bizCardUI.getInlineMarkup(_5d,"ltr",out);
var _62=document.createElement("span");
_61.appendChild(_62);
_62.innerHTML=out.buffer;
var _63=(dojo.cookie&&dojo.cookie("card.inline.expanded")?false:true);
}else{
var _64=new Array();
var _65="personMenuActions";
var _66=new lconn.core.bizCard.bizCardUtils.out();
var _67=new lconn.core.bizCard.bizCardUtils.out();
lconn.profiles.bizCard.bizCardUI.getMenuData(_5d,"ltr",_64,_65,_66,_67);
lconn.core.bizCard.bizCardUtils.setMenuData(_5f,_64,_65,lconn.core.bizCard.bizCardUtils.getMenuHeaderJson(_66.buffer,-100));
}
if(_5d!=null&&_5d.X_isActiveUser&&_5d.X_isActiveUser=="true"){
if(_5d.X_stLinks!=null&&_5d.X_stLinks!=""){
this.invokeSTLinks(_5d);
}else{
if(dojo.exists("lconn.core.config.services.sametimeProxy")){
var _68=(_5d.X_loggedInUserKey!=null&&_5d.X_loggedInUserKey!="");
if(_68){
if(_61&&this.isInline(_61)){
lconn.profiles.sametime.sametimeProxyAwareness.scanPage();
}else{
var _69=dojo.byId(_5d.fn+"vcardNameElem");
if(_69==null){
_69=dojo.byId(_5d.uid+"vcardNameElem");
}
if(_69==null){
_69=dojo.byId(_5d.email.internet+"vcardNameElem");
}
if(_69==null){
_69=dojo.byId(_5d.X_lconn_userid+"vcardNameElem");
}
if(_69!=null){
var _6a="";
_6a+="<span class=\"IMAwarenessDisplayedUser\">";
_6a+="<span style=\"display: none;\" class=\"renderType\">Icon</span>";
_6a+="<span style=\"display: none;\" class=\"dn\">"+_5d.dn+"</span>";
_6a+="<span style=\"display: none;\" class=\"uid\">"+_5d.uid+"</span>";
_6a+="<span id=\"IMcontent\" class=\"IMContent\"><img alt=\""+_60["loadingSTStatus"]+"\" src=\""+this.applicationContext+"/nav/common/styles/images/loading.gif\">&nbsp;</span>";
_6a+="</span> ";
var _6b=document.createElement("span");
_6b.innerHTML=_6a;
var _6c=_69.parentNode;
_6c.insertBefore(_6b.firstChild,_69);
lconn.profiles.sametime.sametimeProxyAwareness.scanPage();
}
}
}
}else{
if(_5d.X_bizCardSTAwareness||_5d.X_bizCardSecureSTAwareness){
this.invokeSametimeAwareness(_5d);
}
}
}
}
}
},invokeSTLinks:function(_6d){
if(document.cookie.match(/LtpaToken=\w*/g)!=null&&window.writeSTLinksApplet!=null){
var _6e=document.getElementById(_6d.email.internet+"vcardNameElem");
if(_6e==null){
_6e=document.getElementById(_6d.X_lconn_userid+"vcardNameElem");
}
_6e.innerHTML=prepareSametimeLink(_6d.dn,_6d.fn,true,"icon:yes");
}
},invokeSametimeAwareness:function(_6f){
var _70=dojo.getObject("lconn.profiles.sametime.sametimeAwareness");
if(_70){
_70.invokeSametimeAwareness(_6f);
}
},sametimeStart:function(_71,_72){
sametime_invoke(_71,_72);
},getElementEmail:function(_73){
var _74;
var _75=lconn.core.bizCard.bizCardUtils.getConnectedElement("vcard",_73);
if(_75){
_74=this.getHcardAttributeValue("email",_75);
_74=_74.internet;
}else{
if(_73.nodeName.toLowerCase()=="a"&&_73.href.match(/^mailto:/)){
_74=_73.href.replace(/^mailto:/,"");
}
}
return _74;
},getElementUserId:function(_76){
var _77="";
var _78=lconn.core.bizCard.bizCardUtils.getConnectedElement("vcard",_76);
if(_78){
_77=this.getHcardAttributeValue("x-lconn-userid",_78);
}
return _77;
},getElementDn:function(_79){
var dn="";
var _7a=lconn.core.bizCard.bizCardUtils.getConnectedElement("vcard",_79);
if(_7a){
dn=this.getHcardAttributeValue("dn",_7a);
if(!dn){
dn=this.getHcardAttributeValue("uid",_7a);
}
}
return dn;
},getNameElement:function(_7b){
if(_7b.className!="vcard"){
_7b=lconn.core.bizCard.bizCardUtils.getConnectedElement("vcard",_7b);
}
var _7c=lconn.core.bizCard.bizCardUtils.getElementsByClassName("fn",_7b,1)[0];
if(!_7c){
_7c=lconn.core.bizCard.bizCardUtils.getElementsByClassName("n",_7b,1)[0];
}
return _7c;
},requestReturnMiniBizCard:function(_7d,_7e,_7f,_80){
var _7e=_7d?lconn.profiles.bizCard.bizCard.convMethod.call(null,_7e):{};
var _81=new lconn.core.bizCard.bizCardUtils.out();
lconn.profiles.bizCard.bizCardUI.getMenuData(_7e,null,null,null,_81,null,true,(_80?true:false));
if(_7f.target!=null&&typeof (_7f.target)=="object"){
_7f.target.innerHTML=_81.buffer;
}else{
if(_7f.callbackfn!=null){
_7f.callbackfn(_81.buffer);
}
}
if(dojo.exists("lconn.core.globalization.bidiUtil")){
lconn.core.globalization.bidiUtil.enforceTextDirectionOnPage(dojo.byId("cardDiv"));
}
},renderMiniBizCard:function(_82,_83,_84){
this.init();
var _85={"target":_84,"callbackfn":_83};
var _86={"USERID":_82,"AUTH":true,"LANG":lconn.core.bizCard.bizCardUtils.getLangParam()};
var src=lconn.core.bizCard.bizCardUtils.getProxifiedURL(this.servletUrlByUserId,_86,null,false);
this.requestor.request(src,10000,this.requestReturnMiniBizCard,_85,_82);
}};
})();
(function(win){
win.SemTagSvcConfig=win.SemTagSvcConfig||{};
win.livetextCfg=win.livetextCfg||[];
var _87;
try{
var _88=lconn.core.config.services.profiles;
_87=com.ibm.oneui.util.Url.secure?_88.secureUrl:_88.url;
}
catch(e){
if(win.SemTagSvcConfig.profilesSvc){
_87=win.SemTagSvcConfig.profilesSvc;
}
}
if(_87){
win.SemTagSvcConfig.baseUrl=_87;
win.livetextCfg.push({id:"hcard",match:".vcard",processEnclosedTags:false,tagHandler:lconn.profiles.bizCard.bizCard,loaded:true,baseURL:_87});
}
})(window);
}


;if(!dojo._hasResource["lconn.communities.bizCard.core_internal"]){
dojo._hasResource["lconn.communities.bizCard.core_internal"]=true;
dojo.provide("lconn.communities.bizCard.core_internal");








lconn.communities.bizCard.core=dojo.mixin(lconn.communities.bizCard.core,{CommunityDelete:function(){
location.href=lconn.communities.bizCard.core.community.deleteUrl;
},CommunityLeave:function(){
location.href=lconn.communities.bizCard.core.community.leaveUrl;
},deleteCommunity:function(_1){
this.confirmCommunityDeletion(_1);
location.href=_1.deleteUrl;
},confirmCommunityDeletion:function(_2){
var _3=_2.subcommunities.length;
var _4={"communityTitle":ic_comm_communityName,"callback":this.CommunityDelete,"numSubs":_3,"userName":_2.userName};
if((_2.trashEnabled==true)&&(_2.trashUIEnabled==true)){
var _5=new lconn.communities.bizCard.dialogs.deleteConfirmTrash(_4);
}else{
var _5=new lconn.communities.bizCard.dialogs.deleteConfirm(_4);
}
_5.show();
},confirmCommunityLeave:function(){
var _6="label.action.confirm.community.before.leave";
if(this.community.groupSupportEnabled){
_6="label.action.confirm.community.before.leave.groupEnabled";
}
var _7=new lconn.communities.bizCard.dialogs.leaveConfirm({"dlgContent":this.messages[_6],"callback":this.CommunityLeave});
_7.show();
}});
}


;if(!dojo._hasResource["lconn.communities.bizCard.bizCardUI_internal"]){
dojo._hasResource["lconn.communities.bizCard.bizCardUI_internal"]=true;
dojo.provide("lconn.communities.bizCard.bizCardUI_internal");




}


;if(!dojo._hasResource["lconn.communities.bizCard.bizCard_internal"]){
dojo._hasResource["lconn.communities.bizCard.bizCard_internal"]=true;
dojo.provide("lconn.communities.bizCard.bizCard_internal");




}

if(typeof define!=="undefined"&&typeof define._packages!=="undefined")define._packages["com.ibm.lconn.personcard"]=true;

;if(!dojo._hasResource["com.ibm.lconn.personcard.legacy"]){
dojo._hasResource["com.ibm.lconn.personcard.legacy"]=true;
dojo.provide("com.ibm.lconn.personcard.legacy");




}


;if(!dojo._hasResource["com.ibm.lconn.layout.track"]){
dojo._hasResource["com.ibm.lconn.layout.track"]=true;
(function com_ibm_lconn_layout_track(){
var _1=dojo.provide("com.ibm.lconn.layout.track");








var _2={className:"lconnTrackingBeacon",style:{cssText:"height: 1px; width: 1px; position: absolute; left: -9999px; top: 0px;"},alt:""};
var _3=0;
function _4(){
var _5=this.parentNode;
if(_5){
_5.removeChild(this);
}
};
var _6=lconn.core.config.services.metrics;
if(_6){
_1._addTracker=function(_7,_8,_9){
if(!_7){
return;
}
var _a;
var _b=lconn.core.url.getServiceUrl(_6);
var _c=dojo.mixin(_b.getQuery(),_7);
if(typeof _8=="object"){
dojo.mixin(_c,_8);
}else{
if(typeof _8=="string"){
_c.data=_8;
}
}
var _d=dojo.config.proxy;
_b.path+="/service/eventTracker";
var _e=_b.toString();
if(_d){
var _f=new lconn.core.url.ProxyUrlHelper(_d);
_e=_f.getProxifiedURL(_e);
}
var _10=function(_11){
};
var _12=function(_13){
};
_a=dojo.xhrPost({url:_e,sync:_9||false,timeout:10000,load:_10,error:_12,headers:{"X-Update-Nonce":"true"}});
return _a;
};
}else{
_1._addTracker=function(){
};
}
_1.read=function(id,_14,opt){
opt=opt||{};
if(dojo.config.isDebug){
console.log("Send read event with itemType = "+_14+", contentId = "+id);
console.log("Options="+dojo.toJson(opt,true));
}
return _1._addTracker({context:opt.context,contentId:id,itemType:_14,source:opt.source||null,community:opt.communityId||opt.community||null,i:_3++||null},opt.extra,opt.sync);
};
})();
}


;if(!dojo._hasResource["lconn.core.widget.mentions.MentionsUtils"]){
dojo._hasResource["lconn.core.widget.mentions.MentionsUtils"]=true;
dojo.provide("lconn.core.widget.mentions.MentionsUtils");




dojo.declare("lconn.core.widget.mentions.MentionsUtils",null,{disableBizCard:false,includeRangy:function(cb){
if(net.jazz.ajax.xdloader.load_async){
net.jazz.ajax.xdloader.load_async("lconn.core.ext.rangy.rangyCore",cb);
}
},rangeSelectNode:function(_1,_2){
if(_1){
if(this.isAnyMentionsNode(_1)){
_2.selectNodeContents(_1.getTextNode());
}else{
if(this.isAnyMentionsDomNode(_1)){
var _3=_1.getElementsByTagName("a");
if(_3&&_3.length==1){
_2.selectNodeContents(_3[0].firstChild);
}
}else{
_2.selectNodeContents(_1);
}
}
}
return _2;
},rangeMoveToNodeStart:function(_4,_5){
if(_4){
_5=this.rangeSelectNode(_4,_5);
_5.collapse(true);
}
return _5;
},rangeMoveToNodeEnd:function(_6,_7){
if(_6){
_7=this.rangeSelectNode(_6,_7);
_7.collapse(false);
}
return _7;
},isAnyMentionsDomNode:function(_8){
return this.isPersonMentionsDomNode(_8)||this.isMentionsDomNode(_8);
},isMentionsDomNode:function(_9){
var _a=dojo.attr(_9,"type");
var _b=false;
if(_a){
_b=_a.indexOf("MentionsNode")!=-1;
}
return _b;
},isPersonMentionsDomNode:function(_c){
return (dojo.attr(_c,"type")=="PersonMentionsNode");
},isAnyMentionsNode:function(_d){
return _d.className&&_d.className.indexOf("MentionsNode")!=-1;
},isMentionsNode:function(_e){
return _e.className&&_e.className=="MentionsNode";
},isPersonMentionsNode:function(_f){
return _f.className&&_f.className=="PersonMentionsNode";
},isSelectedNode:function(_10){
return _10==this._currentNode;
},setSelectedNode:function(_11){
this._currentNode=_11;
},isInputNode:function(_12){
return _12==this.textAreaNode;
},isTextNode:function(_13){
return _13.nodeType==3;
},isStartOfTextNode:function(_14){
return _14.startOffset==0&&_14.startContainer.nodeType==3;
},isEndOfTextNode:function(_15){
var _16=_15.startContainer;
return (_15.endOffset>=_16.length-1)&&_16.nodeType==3;
},saveSelectionIE:function(sel){
if(dojo.isIE){
this._rangySelection=sel;
}
},connectEvents:function(){
dojo.connect(this.textAreaNode,"onkeypress",this,this.keyListener);
dojo.connect(this.textAreaNode,"onpaste",this,this.pasteListener);
dojo.connect(this.textAreaNode,"onblur",this,this.blurListener);
dojo.connect(this.textAreaNode,"onfocus",this,this.focusListener);
dojo.connect(this.textAreaNode,"oncut",this,this.cutListener);
dojo.connect(this.textAreaNode,"onclick",this,this.clickListener);
if(dojo.isWebKit||dojo.isMozilla){
dojo.connect(this.textAreaNode,"compositionstart",this,this.compositionStart);
dojo.connect(this.textAreaNode,"compositionupdate",this,this.compositionUpdate);
dojo.connect(this.textAreaNode,"compositionend",this,this.compositionEnd);
}
dojo.connect(this.textAreaNode,"onmousedown",this,this.mouseDownListener);
dojo.connect(this.textAreaNode,"onmousemove",this,this.mouseMoveListener);
dojo.connect(this.textAreaNode,"onmouseup",this,this.mouseUpListener);
dojo.connect(this.textAreaNode,"ondrop",this,this.cancelEvent);
dojo.connect(this.textAreaNode,"ondragover",this,this.cancelEvent);
},compositionStart:function(e){
this.printDebug("Started composition from IME: "+e.data);
this._isComposition=true;
if(!this._isTracking){
if(e.data==String.fromCharCode(this.trackedKeyCode)){
e.keyCode=this.trackedKeyCode;
this.keyListener(e);
}
}
},compositionUpdate:function(e){
this.printDebug("Updated composition from IME: "+e.data);
if(this.eventHandles["onkeypress"]){
setTimeout(dojo.hitch(this,this.eventHandles.onkeypress),50);
}
},compositionEnd:function(e){
this.printDebug("Ended composition from IME: "+e.data);
if(this._isTracking){
var _17=this._currentNode;
_17.value=_17.value+e.data;
var _18=_17.getTextNode();
this.updateTrack(_17.value);
}
if(this.eventHandles["onkeypress"]){
setTimeout(dojo.hitch(this,this.eventHandles.onkeypress),50);
}
this._isComposition=false;
},cancelEvent:function(e,_19){
e.preventDefault();
if(_19){
e.cancelBubble=true;
if(e.stopPropagation){
e.stopPropagation();
}
}
return false;
},stringSplice:function(_1a,idx,_1b,_1c){
return (_1a.slice(0,idx)+(_1c||"")+_1a.slice(idx+Math.abs(_1b)));
},setTypeaheadHeader:function(s){
if(this._registeredTypes){
var _1d=dojo.filter(this._registeredTypes,function(_1e){
return _1e._type=="PersonMentionsType";
});
if(_1d.length>0){
if(_1d[0]&&_1d[0]._typeahead){
typeahead=_1d[0]._typeahead;
if(typeahead.setHeaderMessage){
typeahead.setHeaderMessage(s);
}else{
if(typeahead._popupWidget){
typeahead._popupWidget.HeaderMessage=s;
}
typeahead.HeaderMessage=s;
}
}
}
}
},_fixRangySelection:function(sel){
sel.removeAllRangesEx=dojo.partial(function(me){
try{
this.docSelection.empty();
if(this.docSelection.type!="None"){
var tmp=dojo.create("input",{type:"text",style:"display: none"},me.textAreaNode,"after");
var _1f=tmp.createTextRange();
_1f.select();
this.docSelection.empty();
me.textAreaNode.parentNode.removeChild(tmp);
}
}
catch(ex){
}
this.anchorNode=sel.focusNode=null;
this.anchorOffset=sel.focusOffset=0;
this.rangeCount=0;
this.isCollapsed=true;
this._ranges.length=0;
},this);
sel.setSingleRangeEx=function(_20){
if(dojo.isIE<8){
this.removeAllRangesEx();
}else{
this.removeAllRanges();
}
try{
this.addRange(_20);
}
catch(err){
}
};
},getSelection:function(){
var _21,_22;
if(dojo.isIE&&window.rangy){
if(!this._rangySelection){
rangy.init();
_21=rangy.getSelection();
_21.refresh();
this._fixRangySelection(_21);
this._rangySelection=_21;
}else{
_21=this._rangySelection;
}
var _23=null;
if(_21.rangeCount>0){
_22=_21.getRangeAt(0);
_23=_22.startContainer;
}
if(!_23||typeof _23.nodeValue==="unknown"){
_21=rangy.getSelection();
_21.refresh();
this._fixRangySelection(_21);
this._rangySelection=_21;
_22=_21.getRangeAt(0);
_23=_22.startContainer;
}
if(_23==dojo.body()){
_23=this.textAreaNode;
if(_23.childNodes.length==0){
_23.appendChild(document.createTextNode(""));
_22=this.rangeMoveToNodeEnd(_23.firstChild,_22);
}
}else{
if(_23==this.textAreaNode){
if(_23.childNodes.length==0){
_23.appendChild(document.createTextNode(""));
_22=this.rangeMoveToNodeEnd(_23.firstChild,_22);
}else{
_22=this.rangeMoveToNodeEnd(_23.childNodes[_22.startOffset],_22);
}
}
}
}else{
if(window.getSelection){
_21=window.getSelection();
}else{
if(document.selection){
_21=document.selection.createRange();
}
}
if(_21.getRangeAt&&_21.rangeCount>0){
_22=_21.getRangeAt(0);
}else{
if(document.createRange){
_22=document.createRange();
if(_21.anchorNode&&_21.focusNode){
_22.setStart(_21.anchorNode,_21.anchorOffset);
_22.setEnd(_21.focusNode,_21.focusOffset);
}
}else{
if(document.selection.createRange){
_22=document.selection.createRange();
var _24=_22.duplicate();
_24.moveToElementText(this.textAreaNode);
_24.setEndPoint("EndToEnd",_22);
_22.startOffset=_24.text.length-_22.text.length;
_22.endOffset=_22.startOffset+_22.text.length;
}
}
}
}
this.printDebug("Node: "+this.getRangeText(_22)+" -- Start: "+_22.startOffset+"    End: "+_22.endOffset);
return {selection:_21,range:_22};
},getRangeText:function(_25){
if(dojo.isIE){
if(_25&&_25.startContainer){
return _25.startContainer.data;
}
}else{
return _25.startContainer.textContent;
}
return "";
},setRange:function(_26,_27,_28,_29){
_26.setEnd(_27,_29);
var _2a=_26.cloneRange();
_26.setStart(_27,_28);
return {nodeRange:_2a,selectionRange:_26};
},updateRange:function(_2b,_2c){
var _2d=this.getSelection();
_2b=this.getTextNode(_2b);
var _2e=_2b.data.length;
var sel=_2d.selection;
var _2f=_2d.range;
var _30=null;
var _31;
if(_2c<=_2e){
_31=this.setRange(_2f,_2b,_2c,_2c);
}else{
_31=this.setRange(_2f,_2b,_2e,_2e);
}
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_31.selectionRange);
}else{
sel.removeAllRanges();
sel.addRange(_31.selectionRange);
}
_30=_31.nodeRange;
this.printDebug("NodeRange: "+this.getRangeText(_30)+" -- Start: "+_30.startOffset+"    End: "+_30.endOffset);
this.printDebug("SelectionRange: "+this.getRangeText(_2f)+" -- Start: "+_2f.startOffset+"    End: "+_2f.endOffset);
return {nodeRange:_30,selectionRange:_2f};
},setRangeBeforeNode:function(_32){
curSel=this.getSelection();
var _33=curSel.range;
var sel=curSel.selection;
if(dojo.isIE<9){
if(_32.nodeType!=3){
_33.moveToElementText(_32);
_33.select();
}
}else{
_33.setStartBefore(_32);
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_33);
}else{
sel.removeAllRanges();
sel.addRange(_33);
}
}
},setRangeAfterNode:function(_34){
curSel=this.getSelection();
var _35=curSel.range;
var sel=curSel.selection;
if(dojo.isIE<9){
if(_34.nodeType!=3){
_35.moveToElementText(_34);
_35.select();
}
}else{
_35.setStartAfter(_34);
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_35);
}else{
sel.removeAllRanges();
sel.addRange(_35);
}
}
},showBizCardHover:function(e,_36){
if(e&&_36&&!this.disableBizCard){
var evt=null;
if(document.createEvent){
evt=document.createEvent("KeyboardEvent");
if(evt.initKeyEvent){
evt.initKeyEvent("keypress",false,false,null,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.keyCode,e.charCode);
}else{
evt.initKeyboardEvent("keypress",false,false,null,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.keyCode,e.charCode);
}
_36.dispatchEvent(evt);
}else{
if(document.createEventObject){
evt=document.createEventObject();
if(typeof e.type!=="unknown"&&e.type=="keypress"){
evt.keyCode=e.keyCode;
evt.ctrlKey=e.ctrlKey;
evt.altKey=e.altKey;
evt.shiftKey=e.shiftKey;
evt.repeat=false;
evt.cancelBubble=true;
evt.returnValue=false;
evt.target=_36;
}
}
}
var _37=dojo.byId("bc_document_node");
if(!_37){
_37=dojo.byId("bc_document_node_comm");
}
if(_37){
var _38=_37.id;
_37.id="bc_document_node_hidden";
}
this._activeBizCard=true;
if(evt){
if(lconn.profiles.bizCard.bizCard&&dojo.isFunction(lconn.profiles.bizCard.bizCard.showMenu)){
LCSemTagMenu.showHover(evt,lconn.profiles.bizCard.bizCard.showMenu);
}
if(this._currentNode&&dojo.byId("semtagmenu").firstChild){
this.setAriaLabel(this._resourceBundle.SELECTED_MENTION+" "+dojo.attr(dojo.byId("semtagmenu").firstChild,"aria-label"),[this._currentNode.linkNode.innerHTML]);
}
}
if(_37){
_37.id=_38;
}
setTimeout(dojo.hitch(this,function(){
this.textAreaNode.focus();
}),10);
}
},hideBizCardHover:function(){
if(window.LCSemTagMenu&&!this.disableBizCard){
LCSemTagMenu.hide();
}
},getIdxFromId:function(_39){
var idx=0;
var id=_39.id;
var idx=parseInt(id.slice(-2));
if(isNaN(idx)){
idx=parseInt(id.slice(-1));
}
return idx;
},getTextNode:function(_3a){
var _3b=null;
if(_3a){
if(_3a.nodeType==3){
_3b=_3a;
}else{
if(_3a.firstChild){
_3b=this.getTextNode(_3a.firstChild);
}
}
}
return _3b;
},setText:function(_3c){
if(dojo.isIE){
this.textAreaNode.innerText=_3c;
}else{
this.textAreaNode.innerHTML=_3c;
}
},getText:function(_3d){
return (this.getNodeText(this.textAreaNode,_3d)).replace(new RegExp("\u200b","g"),"");
},getNodeText:function(_3e,_3f){
var _40="";
if(_3e){
dojo.forEach(_3e.childNodes,function(_41,i){
if(_41.nodeName=="BR"){
_40+="\n";
}else{
if(_3f&&_41.className=="vcard"){
_40+=this.getPlainMention(_41);
}else{
var _42=this.getTextNode(_41);
if(_42){
var _43=_42.data;
if(_43.charCodeAt(0)==128&&_43.length==1){
_43="";
}
_40+=_43;
}
}
}
},this);
}
if(dojo.isWebKit){
_40=_40.replace("\u200b","");
if(_40.charCodeAt(0)==128&&_40.length==1){
_40="";
}
}
return _40;
},getPlainMention:function(_44){
var _45="";
var _46="";
var _47=this.getTextNode(_44);
var _48=false;
if(_47&&_47.data.search(this.bidiActivatorChar(_47.data))==0){
_45=_47.data.replace(this.bidiActivatorChar(_47.data),"");
_48=true;
}else{
_45=_47.data;
}
var _49=dojo.query(".x-lconn-userid",_44)[0];
if(_49){
_46=dojo.isFF?_49.innerHTML:_49.innerText;
}
return this.activatorChar+"{{"+_46+"|"+_45+(_48?"|notify":"")+"}}";
},getTextAsJson:function(){
var _4a=[];
var _4b=this.textAreaNode.childNodes;
for(var i=0;i<_4b.length;i++){
var _4c=_4b[i];
var _4d="text";
if(_4c.id){
if(_4c.id.indexOf("mentionsNode_")!=-1){
var _4e=this.getNodeAttributes(_4c.id);
if(_4e){
if(_4e.isComplete){
_4a.push(_4e.toJsonString());
}else{
_4a.push({type:"text",value:_4e.value});
}
}
}
}else{
var _4f=_4c.data;
if(_4f&&_4f!=""&&_4f!="\u200b"&&_4c.nodeName!="BR"){
_4f=_4f.replace("\u200b","");
_4f=_4f.replace(/\u00A0/g," ");
_4a.push({type:"text",value:_4f});
}else{
if(_4c.nodeName=="BR"){
_4a.push({type:"html",value:"\n"});
}else{
if(_4c.nodeName=="A"){
_4a.push({type:"text",value:(_4c.innerText||_4c.textContent)});
}
}
}
}
}
return {textData:_4a};
},moveToPreviousNode:function(_50,_51,sel){
_50=this.adjustRangeWebKit(_50,_51);
var _52=null;
var _53=dojo.indexOf(this.textAreaNode.childNodes,_50);
if(_53>0){
_52=this.textAreaNode.childNodes[_53-1];
if(_52.nodeType==3){
if(_52.length==0){
this.moveToPreviousNode(_52,_51,sel);
}else{
if(dojo.isIE>8&&_52.length==1&&_52.data.charAt(0)=="\u200b"){
this.moveToPreviousNode(_52,_51,sel);
}else{
_51.setStart(_52,_52.length);
_51.setEnd(_52,_52.length);
}
}
if(window.LCSemTagMenu&&!this.disableBizCard){
LCSemTagMenu.hide();
}
}else{
if(dojo.isIE>7){
var _54=this.getTextNode(_52);
try{
_51.setStart(_54,0);
_51.setEnd(_54,_54.data.length);
}
catch(err){
}
}else{
_51.selectNode(_52);
}
this._currentNode=this.getNodeAttributes(_52.id);
}
}else{
if(_50){
_51.setStart(_50,0);
_51.setEnd(_50,0);
}else{
_51.selectNodeContents(this.textAreaNode);
}
}
if(sel&&_51){
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_51);
}else{
sel.removeAllRanges();
sel.addRange(_51);
}
this.saveSelectionIE(sel);
}
return _52;
},moveToNextNode:function(_55,_56,sel){
_55=this.adjustRangeWebKit(_55,_56);
var _57=null;
var _58=dojo.indexOf(this.textAreaNode.childNodes,_55);
if(_58<this.textAreaNode.childNodes.length-1){
_57=this.textAreaNode.childNodes[_58+1];
if(_57.nodeType==3){
if(_57.length==0){
this.moveToNextNode(_57,_56,sel);
}else{
_56.setStart(_57,0);
_56.setEnd(_57,0);
}
if(window.LCSemTagMenu&&!this.disableBizCard){
LCSemTagMenu.hide();
}
}else{
if(dojo.isIE>7){
var _59=this.getTextNode(_57);
_56.setStart(_59,0);
_56.setEnd(_59,_59.data.length);
}else{
_56.selectNode(_57);
}
this._currentNode=this.getNodeAttributes(_57.id);
}
}else{
if(_55){
_56.setStart(_55,_55.length);
_56.setEnd(_55,_55.length);
}else{
_56.selectNodeContents(this.textAreaNode);
}
}
if(sel&&_56){
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_56);
}else{
sel.removeAllRanges();
sel.addRange(_56);
}
this.saveSelectionIE(sel);
}
return _57;
},adjustRangeWebKit:function(_5a,_5b){
if(dojo.isWebKit){
while(_5a&&_5a.parentElement&&_5a.parentElement!=this.textAreaNode){
_5b.selectNode(_5b.startContainer);
_5a=_5b.startContainer;
}
}
return _5a;
},setReadOnly:function(){
dojo.attr(this.textAreaNode,"contenteditable",false);
},setEditable:function(){
dojo.attr(this.textAreaNode,"contenteditable",true);
},removeSelection:function(e){
if(e){
e.preventDefault();
}
var _5c=this.getSelection();
var sel=_5c.selection;
var _5d=_5c.range;
_5c.selection.collapseToStart();
if(dojo.isIE){
sel.refresh();
_5d=sel.getRangeAt(0);
}
var _5e=null;
if(_5d.startContainer==_5d.endContainer){
var _5f=_5d.startContainer;
while(_5f&&_5f.parentNode&&_5f.parentNode!=this.textAreaNode){
_5f=_5f.parentNode;
}
_5e=this.getNodeAttributes(_5f.id);
this._currentNode=(_5e==this._currentNode)?null:this._currentNode;
if(_5e){
if(this._isTracking){
var _60=_5d.startOffset;
_5d.extractContents();
_5e.setValue(_5d.startContainer.data);
_5d.setStart(_5d.startContainer,_60);
_5d.setEnd(_5d.startContainer,_60);
sel.removeAllRanges();
sel.addRange(_5d);
this.saveSelectionIE(sel);
}else{
this.removeMentionNode(_5e);
}
}
}
if(!_5e){
var _61=_5d.extractContents();
dojo.forEach(_61.childNodes,function(_62){
if(_62){
var _63=this.getNodeAttributes(_62.id);
if(_63){
this._currentNode=(_63==this._currentNode)?null:this._currentNode;
this.removeMentionNode(_63);
}
}
},this);
}
if(_5d.startContainer==this.textAreaNode){
if(dojo.isSafari){
_5d=this.mergeAdjacentTextNodes(_5d,this.textAreaNode.childNodes[_5d.startOffset]);
}else{
var _5f=this.textAreaNode.childNodes[_5d.startOffset];
if(_5f){
_5d.setStart(_5f,0);
_5d.setEnd(_5f,0);
}
}
}else{
try{
_5d.setStart(_5d.startContainer,_5d.startOffset);
_5d.setEnd(_5d.startContainer,_5d.startOffset);
}
catch(err){
}
}
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_5d);
this.saveSelectionIE(sel);
}else{
sel.removeAllRanges();
sel.addRange(_5d);
}
_61=null;
return _5d;
},mergeAdjacentTextNodes:function(_64,_65){
var _66="";
var _67=0;
if(_65&&_65.nodeType==3){
var _68=_65.previousSibling;
var _69=_65.nextSibling;
if(_68&&_68.nodeType==3){
_66+=_68.data;
_67+=_68.data.length;
_68.parentNode.removeChild(_68);
}
_66+=_65.data;
if(_69&&_69.nodeType==3){
_66+=_69.data;
_69.parentNode.removeChild(_69);
}
var _6a=document.createTextNode(_66);
_65=_65.parentNode.replaceChild(_6a,_65);
_64.setStart(_6a,_67);
_64.setEnd(_6a,_67);
}
return _64;
},completeMention:function(_6b){
var _6c=this.getSelection();
var sel=_6c.selection;
var _6d=_6c.range;
var _6e=this._currentNode;
_6e.setComplete(true,_6b,this.disableBizCard);
this.clearImeNodeIE(_6e);
this.setAriaLabel(this._resourceBundle.COMPLETED_MENTION,[_6e.value]);
this.resetTypeaheadAria();
var _6f=this.typeaheadField?this.typeaheadField._popupWidget:null;
if(_6f&&dojo.isIE){
dojo.removeClass(_6f.domNode.parentNode,"lconnTypeAhead");
}
if(this.eventHandles["onCreateMention"]){
this.eventHandles.onCreateMention(_6e);
}
var _70=_6e.domNode;
if(_70){
var _71,_72=null;
if(dojo.isWebKit||dojo.isIE>7){
_71=document.createTextNode("\u200b");
_72=document.createTextNode("\u200b");
}else{
_71=document.createTextNode("");
_72=document.createTextNode("");
}
if(!_70.previousSibling){
this.textAreaNode.insertBefore(_71,_70);
}else{
if(dojo.isWebKit){
prevSib=_70.previousSibling;
if(prevSib.nodeType==3&&prevSib.data===""){
prevSib.data="\u200b";
}
}
}
if(!_70.nextSibling||(dojo.isIE&&_70.nextSibling.length==0)){
this.textAreaNode.insertBefore(_72,_70.nextSibling);
}else{
if(dojo.isWebKit){
nextSib=_70.nextSibling;
if(nextSib.nodeType==3&&nextSib.data===""){
nextSib.data="\u200b";
}
}
}
}
_6d=this.rangeMoveToNodeStart(_70.nextSibling,_6d);
if(dojo.isIE>7){
_6d.setStart(_6d.startContainer,1);
_6d.setEnd(_6d.endContainer,1);
}
try{
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_6d);
}else{
sel.removeAllRanges();
sel.addRange(_6d);
}
}
catch(err){
this.printDebug("Setting backup range on Mention Completion.");
sel=rangy.getSelection();
var _6d=rangy.createRangyRange();
_6d.selectNode(_70);
_6d.collapse();
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_6d);
}else{
sel.removeAllRanges();
sel.addRange(_6d);
}
this.saveSelectionIE(sel);
}
this.saveSelectionIE(sel);
this.getSelection();
this.updateTrack(_6e.value);
this.stopTrack();
},clearImeNodeIE:function(_73){
if(dojo.isIE&&_73&&_73.linkNode){
var _74=_73.linkNode.nextSibling;
if(_74&&_74.nodeType==3){
_74.data="";
}
}
},removeMentionNode:function(_75){
var _76=_75.domNode.nextSibling;
this._trackedMentions.splice(dojo.indexOf(this._trackedMentions,_75),1);
var _77=_75.domNode;
if(_77&&_77.parentNode&&_77.parentNode.nodeType!=11){
if(dojo.isIE==8&&this.textAreaNode.firstChild.data==""){
this.textAreaNode.replaceChild(document.createTextNode("\u200b"),_77);
}else{
this.textAreaNode.removeChild(_77);
}
}
if(this.eventHandles["onRemoveMention"]){
this.eventHandles.onRemoveMention(_75);
}
this.setAriaLabel(this._resourceBundle.REMOVED_MENTION,[_75.value]);
this.resetTypeaheadAria();
_75.destroy();
return _76;
},convertMentionNodeToText:function(_78,_79){
var _7a=_78.domNode.nextSibling;
this.clearImeNodeIE(this._currentNode);
this._trackedMentions.splice(dojo.indexOf(this._trackedMentions,_78),1);
var _7b=_78.domNode;
if(_7b&&_7b.parentNode&&_7b.parentNode.nodeType!=11){
this.textAreaNode.removeChild(_7b);
}
this.setAriaLabel(this._resourceBundle.CANCELLED_MENTION,[_78.value]);
this.resetTypeaheadAria();
var _7c=document.createTextNode(_78.value);
this.textAreaNode.scrollTop=_78.domNode.offsetTop-this.textAreaNode.offsetTop;
this.textAreaNode.insertBefore(_7c,_7a);
if(this.eventHandles["onRemoveMention"]){
this.eventHandles.onRemoveMention(_78);
}
if(!_79){
var _7d=this.getSelection();
var sel=_7d.selection;
var _7e=_7d.range;
var _7f=_7c.data.length;
_7e.setStart(_7c,_7f);
_7e.setEnd(_7c,_7f);
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_7e);
}else{
sel.removeAllRanges();
sel.addRange(_7e);
}
this.saveSelectionIE(sel);
}
_78.destroy();
return _7c;
},resetTypeaheadAria:function(){
dojo.attr(this.textAreaNode,"role","textbox");
dojo.removeAttr(this.textAreaNode,"aria-expanded");
dojo.removeAttr(this.textAreaNode,"aria-activedescendant");
dojo.removeAttr(this.textAreaNode,"aria-owns");
},removeMentionById:function(_80){
var _81=this.getNodeAttributes(_80);
if(_81!=null){
nextNode=this.removeMentionNode(_81);
}
return nextNode;
},handleResumeMention:function(sel,_82){
var _83=_82.startContainer;
if(_83&&this._currentNode&&!this._currentNode.isComplete){
var _84=this._currentNode.getTextNode();
while(_83&&_83.nodeType==3&&(_83.data==""||_83.data=="\u200b")){
_83=_83.previousSibling;
}
if(_83&&_83.nodeType==1&&this.isAnyMentionsDomNode(_83)){
if(_83.getElementsByTagName("a")[0]){
_83=_83.getElementsByTagName("a")[0].firstChild;
}
}
if(_83&&_84&&(document.activeElement==this.textAreaNode&&_83!=window.document)&&(_83.data!=_84.data||(_83.data==_84.data&&_83!=_84&&_82.startOffset!=0))){
this.convertMentionNodeToText(this._currentNode,true);
this.stopTrack();
}else{
if(_83&&_82.startContainer!=_83){
_82.setStart(_83,_83.data.length);
_82.setEnd(_83,_83.data.length);
sel.removeAllRanges();
sel.addRange(_82);
this.saveSelectionIE(sel);
}
}
}
},addCallback:function(_85,_86){
this.eventHandles[_85]=_86;
},printDebug:function(msg){
if(dojo.config.isDebug){
var d=new Date();
if(console.debug){
console.debug("["+d.toLocaleTimeString()+"."+d.getMilliseconds()+"] MentionsHelper: "+msg);
}else{
console.log("["+d.toLocaleTimeString()+"."+d.getMilliseconds()+"] MentionsHelper: "+msg);
}
}
},simulateKeyPressEvent:function(el,key){
var _87=document.createEvent("KeyboardEvent");
var _88=typeof _87.initKeyboardEvent!=="undefined"?"initKeyboardEvent":"initKeyEvent";
_87[_88]("keypress",false,false,window,false,false,false,false,key,0);
el.dispatchEvent(_87);
},setAriaLabel:function(_89,_8a){
if(!this.ariaLabel){
this.ariaLabel=dojo.create("div",{id:"mentionsAria_"+this.idx,"aria-label":"What do you want to share?","aria-live":"polite","aria-atomic":"true",style:"position: absolute; top:-9999px"});
if(dojo.isIE){
dojo.style(this.ariaLabel,{position:"absolute",top:"-9999px"});
}
}
this.ariaLabel[dojo.isIE?"innerText":"innerHTML"]=(_8a?dojo.string.substitute(_89,_8a):_89)||"";
},preventDefault:function(e){
e.preventDefault();
if(dojo.isIE>8){
window.event.returnValue=false;
}
},handleLegacyFF_EmptyNode:function(_8b){
if(dojo.isFF<4&&this.textAreaNode.childNodes.length==1){
var _8c=this.textAreaNode.childNodes[0];
if(_8b.startContainer==_8c&&_8c.nodeType==3&&_8c.data=="\n"){
var _8d=document.createTextNode(" ");
this.replaceBlank=true;
this.textAreaNode.appendChild(_8d);
this.textAreaNode.removeChild(this.textAreaNode.childNodes[0]);
_8b.setStart(_8d,1);
_8b.setEnd(_8d,1);
}
}else{
this.replaceBlank=false;
}
return _8b;
}});
}


;if(!dojo._hasResource["lconn.core.widget.mentions.MentionsKeyHandlers"]){
dojo._hasResource["lconn.core.widget.mentions.MentionsKeyHandlers"]=true;
dojo.provide("lconn.core.widget.mentions.MentionsKeyHandlers");


dojo.declare("lconn.core.widget.mentions.MentionsKeyHandlers",null,{hasNoKeyModifiers:function(e){
return !e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey;
},canActivate:function(_1){
var _2=_1.charCodeAt(0);
return !this._isTracking&&(_2==32||_2==160||_1==""||_1=="\u200b"||_1=="NaN");
},handleActivatorKey:function(e){
var _3=this.getSelection();
if(dojo.isIE==8){
if(_3.range.startOffset==0){
try{
_3.selection.refresh();
_3.range.refresh();
}
catch(err){
}
}
}
var _4=_3.selection;
var _5=_3.range;
var _6=_5.startOffset;
var _7=_5.endOffset;
var _8=this.textAreaNode;
var _9=_8.childNodes;
if(_5.startContainer!=_5.endContainer||_5.startOffset!=_5.endOffset){
this.removeSelection(null,_5);
}
if(_5.startContainer==_8&&_9.length>0){
var _a=(_6>0)?_9[_6-1]:_9[0];
if(_a.nodeName=="BR"){
var _b=_a.nextSibling;
if(_b&&_b.nodeType!=3){
_a=_8.insertBefore(document.createTextNode(""),_b);
}else{
_a=_b;
}
}
if(_a){
_5=this.updateRange(_a,_a.data.length).nodeRange;
_6=_5.startOffset;
_4.removeAllRanges();
_4.addRange(_5);
}
}
var _c=this.getRangeText(_5);
if(e.type=="compositionupdate"){
_c=_c.slice(0,_c.length-1);
}
var _d="";
if(_c){
_d=_c.substring(_6-1,_6);
}else{
var _e=_5.startContainer;
while(_e&&_e.nodeType==3&&(_e.data==""||_e.data=="\u200b")){
_e=_e.previousSibling;
}
if(_e&&_e.nodeType==3){
_d=_e.data.substring(_e.data.length-1);
}
}
if(this.canActivate(_d)){
this.preventDefault(e);
this.addTrack();
this.saveSelectionIE(_4);
return true;
}else{
return false;
}
},isLeftArrow:function(e){
return e.charCode==0&&e.keyCode==dojo.keys.LEFT_ARROW;
},moveToPrevious:function(_f,_10){
var _11=_f.startOffset;
var _12=null;
if(_10!=this.textAreaNode){
if(this.isAnyMentionsDomNode(_f.startContainer)){
this._currentNode=this.getNodeAttributes(_f.startContainer.id);
if(dojo.isIE&&window.rangy){
_f.selectNode(_f.startContainer);
}else{
var _13=_10.getElementsByTagName("a")[0].firstChild;
_f.setStart(_13,0);
_f.setEnd(_13,_13.data.length);
}
}else{
if(_10&&_10.nodeName=="BR"){
_12=_10.previousSibling;
}else{
if(_10&&_10.nodeType==3&&_10.parentNode==this.textAreaNode){
var _14=dojo.isIE?(!_10.previousSibling)||(_10.previousSibling&&!this.isMentionsDomNode(_10.previousSibling)):true;
if(_14&&(_11==0||_10.data==""||_10.data=="\u200b")){
_12=_10.previousSibling;
while(_12&&_12.nodeType==3&&(_12.data==""||_12.data=="\u200b")){
_12=_12.previousSibling;
}
if(_12&&_12.nodeName=="BR"){
_12=_12.previousSibling;
}
}else{
var _15=_11-1;
_f.setStart(_f.startContainer,_15);
_f.setEnd(_f.startContainer,_15);
if(dojo.isIE>7&&_15==0){
if(dojo.isIE==8){
var _16=_10;
while(_16.previousSibling&&_16.previousSibling.nodeType==3){
_16=_16.previousSibling;
}
if(_16.previousSibling&&this.isMentionsDomNode(_16.previousSibling)){
_10=_16.previousSibling;
}
}
if(_10.previousSibling&&this.isMentionsDomNode(_10.previousSibling)){
_10=_10.previousSibling;
}
_f=this.moveToPrevious(_f,_10);
}
}
}else{
if(_10&&_10.nodeType==3&&_10.parentNode){
var _17=this.getNodeAttributes(_10.parentNode.parentNode.id);
if(this.isAnyMentionsDomNode(_10.parentNode.parentNode)&&this._currentNode!=_17){
this._currentNode=_17;
if(dojo.isIE&&window.rangy){
if(dojo.isIE>7){
var _18=this.getTextNode(_17.domNode);
_f.setStart(_18,0);
_f.setEnd(_18,_18.data.length);
}else{
_f.selectNode(_17.domNode);
}
}else{
var _13=_17.domNode.getElementsByTagName("a")[0].firstChild;
_f.setStart(_13,0);
_f.setEnd(_13,_13.data.length);
}
}else{
var _19=_10;
var _12=_19?_19.previousSibling:null;
while(!_12&&_19){
if(_19==this.textAreaNode){
break;
}
_19=_19.parentNode;
_12=_19?_19.previousSibling:null;
}
}
}else{
var _19=_10;
var _12=_19?_19.previousSibling:null;
while(!_12&&_19){
if(_19==this.textAreaNode){
break;
}
_19=_19.parentNode;
_12=_19?_19.previousSibling:null;
}
}
}
}
}
if(_12){
if(_12.nodeType==3){
this._currentNode=null;
_f.setStart(_12,_12.data.length);
_f.setEnd(_12,_12.data.length);
}else{
if(_12.nodeName=="BR"){
_f=this.moveToPrevious(_f,_12);
}else{
if(this.isAnyMentionsDomNode(_12)){
this._currentNode=this.getNodeAttributes(_12.id);
if(dojo.isIE&&window.rangy){
if(dojo.isIE>7){
var _18;
if(_10.previousSibling.className=="vcard"){
_18=this.getTextNode(_10.previousSibling);
}else{
_18=this.getTextNode(_10);
}
_f.setStartBefore(_18,0);
_f.setEndBefore(_18,0);
_18=this.getTextNode(_10);
}else{
_f.selectNode(_12);
}
}else{
if(_10.previousSibling.className=="vcard"){
_12=_10.previousSibling;
}else{
_12=_10;
}
_f.setStartBefore(_12,0);
_f.setEndBefore(_12,0);
_12=_10;
}
}
}
}
}
}else{
if(!dojo.isIE){
var _1a=null;
if(_f.startOffset==_f.endOffset){
var _1b=this.textAreaNode.childNodes.length;
if(_f.startOffset==0){
_1a=this.textAreaNode.childNodes[0];
}else{
if(_f.endOffset>=_1b){
_1a=this.textAreaNode.childNodes[_1b-1];
if(_1a.nodeType==3){
_f.setStart(_1a,_1a.data.length);
_f.setEnd(_1a,_1a.data.length);
}
}else{
_1a=this.textAreaNode.childNodes[_f.endOffset-1];
}
}
}else{
_1a=this.textAreaNode.childNodes[_f.startOffset];
}
if(_1a){
_f=this.moveToPrevious(_f,_1a);
}
}
}
return _f;
},moveToNext:function(_1c,_1d){
var _1e=_1c.startOffset;
var _1f=null;
if(_1d!=this.textAreaNode){
if(this.isAnyMentionsDomNode(_1c.startContainer)){
this._currentNode=this.getNodeAttributes(_1c.startContainer.id);
if(dojo.isIE&&window.rangy){
_1c.selectNode(_1c.startContainer);
}else{
var _20=_1d.getElementsByTagName("a")[0].firstChild;
_1c.setStart(_20,0);
_1c.setEnd(_20,_20.data.length);
}
}else{
if(_1d&&_1d.nodeName=="BR"){
_1f=_1d.nextSibling;
}else{
if(_1d&&_1d.nodeType==3&&_1d.parentNode==this.textAreaNode){
if(_1e==_1d.data.length||_1d.data==""||_1d.data=="\u200b"){
_1f=_1d.nextSibling;
while(_1f&&_1f.nodeType==3&&(_1f.data==""||_1f.data=="\u200b")){
_1f=_1f.nextSibling;
}
if(_1f&&_1f.nodeName=="BR"){
_1f=_1f.nextSibling;
}
}else{
_1c.setStart(_1c.startContainer,_1e+1);
_1c.setEnd(_1c.startContainer,_1e+1);
}
}else{
if(_1d&&_1d.nodeType==3&&_1d.parentNode){
var _21=this.getNodeAttributes(_1d.parentNode.parentNode.id);
if(this.isAnyMentionsDomNode(_1d.parentNode.parentNode)&&this._currentNode!=_21){
this._currentNode=_21;
if(dojo.isIE&&window.rangy){
_1c.selectNode(_21.domNode);
}else{
var _20=_21.domNode.getElementsByTagName("a")[0].firstChild;
_1c.setStart(_20,0);
_1c.setEnd(_20,_20.data.length);
}
}else{
var _22=_1d;
var _1f=_22?_22.nextSibling:null;
while(_22&&_22.parentNode!=this.textAreaNode){
_22=_22.parentNode;
_1f=_22?_22.nextSibling:null;
}
}
}else{
var _22=_1d;
var _1f=_22?_22.nextSibling:null;
while(_22&&_22.parentNode!=this.textAreaNode){
_22=_22.parentNode;
_1f=_22?_22.nextSibling:null;
}
}
}
}
}
if(_1f){
if(_1f.nodeType==3){
this._currentNode=null;
var _23=_1d.parentNode;
var _24=false;
if(dojo.isWebKit&&_23&&_23.parentNode&&this.isAnyMentionsDomNode(_23.parentNode)){
_24=true;
}
var pos=(_1f.data.charAt(0)=="\u200b"||(dojo.isWebKit&&!_24))?1:0;
_1c.setStart(_1f,pos);
_1c.setEnd(_1f,pos);
}else{
if(_1f.nodeName=="BR"){
_1c=this.moveToNext(_1c,_1f);
}else{
if(this.isAnyMentionsDomNode(_1f)){
this._currentNode=this.getNodeAttributes(_1f.id);
if(dojo.isIE&&window.rangy){
if(dojo.isIE>7){
var _25;
if(_1d.nextSibling.className=="vcard"){
_25=this.getTextNode(_1d.nextSibling);
}else{
_25=this.getTextNode(_1d);
}
_1c.setStartAfter(_25,0);
_1c.setEndAfter(_25,0);
_25=this.getTextNode(_1d);
}else{
_1c.selectNode(_1f);
}
}else{
if(_1d.nextSibling.className=="vcard"){
_1f=_1d.nextSibling;
}else{
_1f=_1d;
}
_1c.setStartAfter(_1f,0);
_1c.setEndAfter(_1f,0);
_1f=_1d;
}
}
}
}
}
}else{
if(!dojo.isIE){
var _26=null;
var _27=this.textAreaNode.childNodes.length;
if(_1c.endOffset>=_27){
_26=null;
}else{
var _28=_1c.endOffset-1;
if(_28>0){
_26=this.textAreaNode.childNodes[_28];
}else{
_26=this.textAreaNode.childNodes[0];
_1c.setStart(_26,0);
_1c.setEnd(_26,0);
}
}
if(_26){
_1c=this.moveToNext(_1c,_26);
}
}
}
return _1c;
},handleLeftArrowMain:function(e){
if(!e.shiftKey){
this.preventDefault(e);
var _29=this.getSelection();
var sel=_29.selection;
var _2a=_29.range;
if(!_2a.collapsed){
if(dojo.isFF){
sel.collapseToStart();
}
_2a.collapse(true);
}
var _2b="";
var _2c="";
if(_2a.startContainer.nodeType==3){
_2b=_2a.startContainer.data;
_2c=_2b.replace("/200","");
}
var _2d=_2a.startOffset-(_2b.length-_2c.length);
var _2e=_2a.endOffset-(_2b.length-_2c.length);
if(this._isTracking){
var _2f=this._currentNode.getTextNode();
var _30=_2a.cloneRange();
_30.setStart(_2f,1);
_30.setEnd(_2f,_2f.data.length);
compareStartPoints=_2a.compareBoundaryPoints(Range.START_TO_START,_30);
compareEndPoints=_2a.compareBoundaryPoints(Range.END_TO_END,_30);
if(compareStartPoints!=0){
_2a.setStart(_2a.startContainer,_2d-1);
_2a.setEnd(_2a.endContainer,_2e-1);
}
}else{
_2a=this.moveToPrevious(_2a,_2a.startContainer);
}
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_2a);
}else{
sel.removeAllRanges();
sel.addRange(_2a);
}
this.saveSelectionIE(sel);
this.getSelection();
}else{
if(dojo.isIE){
setTimeout(dojo.hitch(this,function(){
var _31=this.getSelection();
_31.selection.refresh();
this._rangySelection=_31.selection;
},50));
}else{
if(dojo.isFF){
var _29=this.getSelection();
var sel=_29.selection;
var _2a=_29.range;
var _32=_2a.startContainer.previousSibling;
while(_32&&_32.nodeType==3&&(_32.data==""||_32.data=="\u200b")){
_32=_32.previousSibling;
}
var _33=_2a.endOffset;
var _34=_2a.endContainer;
if(_2a.startOffset==0&&_32&&_32.nodeType==1){
this.preventDefault(e);
_2a.setStart(_32.previousSibling,_32.previousSibling.textContent.length);
_2a.setEnd(_34,_33);
}else{
if(_2a.startContainer.nodeType==3&&_2a.startOffset!=0){
this.preventDefault(e);
_2a.setStart(_2a.startContainer,_2a.startOffset-1);
_2a.setEnd(_34,_33);
}else{
if(_2a.startOffset==0&&_32&&_32.nodeType==3){
this.preventDefault(e);
_2a.setStart(_32,_32.textContent.length);
_2a.setEnd(_34,_33);
}else{
if(!_32){
this.preventDefault(e);
}
}
}
}
sel.removeAllRanges();
sel.addRange(_2a);
}
}
}
},isRightArrow:function(e){
return e.charCode==0&&e.keyCode==dojo.keys.RIGHT_ARROW;
},handleRightArrowMain:function(e){
if(!e.shiftKey){
this.preventDefault(e);
var _35=this.getSelection();
var sel=_35.selection;
var _36=_35.range;
if(!_36.collapsed){
if(dojo.isFF){
sel.collapseToEnd();
}
_36.collapse(false);
}
var _37="";
var _38="";
if(_36.startContainer.nodeType==3){
_37=_36.startContainer.data;
_38=_37.replace("/200","");
}
var _39=_36.startOffset-(_37.length-_38.length);
var _3a=_36.endOffset-(_37.length-_38.length);
if(!e.shiftKey){
_36.collapse(true);
}
if(this._isTracking){
var _3b=this._currentNode.getTextNode();
var _3c=_36.cloneRange();
_3c.setStart(_3b,0);
_3c.setEnd(_3b,_3b.data.length);
compareStartPoints=_36.compareBoundaryPoints(Range.START_TO_START,_3c);
compareEndPoints=_36.compareBoundaryPoints(Range.END_TO_END,_3c);
if(compareEndPoints!=0){
_36.setStart(_36.startContainer,_39+1);
_36.setEnd(_36.endContainer,_3a+1);
}
}else{
_36=this.moveToNext(_36,_36.startContainer);
}
if(_36){
sel.removeAllRanges();
sel.addRange(_36);
this.saveSelectionIE(sel);
this.getSelection();
}
}else{
if(dojo.isIE){
setTimeout(dojo.hitch(this,function(){
var _3d=this.getSelection();
_3d.selection.refresh();
this._rangySelection=_3d.selection;
},50));
}else{
if(dojo.isFF){
var _35=this.getSelection();
var sel=_35.selection;
var _36=_35.range;
var _3e=_36.endContainer.nextSibling;
if(_36.endOffset==_36.endContainer.length&&_3e&&_3e.nodeType==1){
this.preventDefault(e);
_36.setEnd(_3e.nextSibling,0);
sel.removeAllRanges();
sel.addRange(_36);
}
}
}
}
},isEscape:function(e){
return (e.charCode==0&&e.keyCode==dojo.keys.ESCAPE)||(dojo.isIE>8&&e.charCode==dojo.keys.ESCAPE&&e.keyCode==dojo.keys.ESCAPE);
},handleEscape:function(e){
if(this._isTracking){
this.convertMentionNodeToText(this._currentNode);
this.stopTrack(e);
e.cancelBubble=true;
if(e.stopPropagation){
e.stopPropagation();
}
this.cancelEvent(e);
}
},isTab:function(e){
return e.charCode==0&&e.keyCode==dojo.keys.TAB;
},handleTab:function(e){
if(this._isTracking){
}
},isBoldHotkey:function(e){
return e.keyCode==66&&(e.ctrlKey||e.metaKey);
},isItalicsHotkey:function(e){
return e.keyCode==73&&(e.ctrlKey||e.metaKey);
},isUnderlineHotkey:function(e){
return e.keyCode==85&&(e.ctrlKey||e.metaKey);
},isPasteHotkey:function(e){
return (e.keyCode==86||e.keyCode==118||e.charCode==86||e.charCode==118)&&(e.ctrlKey||e.metaKey)||(e.shiftKey&&e.keyCode==45);
},handlePrePaste:function(e){
if(dojo.isIE){
var _3f=(this.textAreaNode.innerText=="");
this.preventDefault(e);
this.tempTextArea.value=clipboardData.getData("Text");
if(_3f){
this.setText("");
if(dojo.isIE==8){
this._rangySelection=null;
}
}
}
var _40=this.getSelection();
var sel=_40.selection;
var _41=_40.range;
if((dojo.isWebKit||dojo.isIE)&&this.textAreaNode.childNodes.length==0){
var t=document.createTextNode("\u200b");
this.textAreaNode.appendChild(t);
_41.setStart(t,1);
_41.setEnd(t,1);
sel.removeAllRanges();
sel.addRange(_41);
this.saveSelectionIE(sel);
}
this._prePasteSel=sel;
this._prePasteRange=_41;
if(dojo.isWebKit){
this.tempTextArea.value=e.clipboardData?e.clipboardData.getData("text/plain"):"";
}else{
if(!dojo.isIE){
dojo.style(this.tempTextArea,{visibility:"visible"});
this._isPasteFocusLoss=true;
this.tempTextArea.focus();
}
}
if(this._postPasteTimeout){
clearTimeout(this._postPasteTimeout);
this._postPasteTimeout=null;
}
this._postPasteTimeout=setTimeout(dojo.hitch(this,this.postPaste),50);
},isBackspace:function(e){
return e.charCode==0&&e.keyCode==dojo.keys.BACKSPACE;
},handleBackspace:function(e){
var _42=this.getSelection();
var sel=_42.selection;
var _43=_42.range;
var _44=_43.startContainer;
this.convertMentionNodeToText(this._currentNode);
this.stopTrack(e);
this.closeTypeahead();
e.cancelBubble=true;
if(e.stopPropagation){
e.stopPropagation();
}
this.cancelEvent(e);
},isDelete:function(e){
return (e.charCode==0&&e.keyCode==dojo.keys.DELETE)||(dojo.isMac&&e.ctrlKey&&(e.charCode==100||e.keyCode==68))||(e.keyCode==46&&e.keyChar!="."&&!(dojo.isIE==8));
},isSpace:function(e){
return (e.charCode||e.keyCode)==dojo.keys.SPACE&&this._isTracking;
},isCtrlEnter:function(e){
return (e.ctrlKey&&e.charCode==0&&e.keyCode==dojo.keys.ENTER)||e.keyCode==10;
},isEnter:function(e){
return !e.ctrlKey&&!e.metaKey&&((e.charCode==0&&e.keyCode==dojo.keys.ENTER)||(dojo.isIE>8&&e.charCode==dojo.keys.ENTER&&e.keyCode==dojo.keys.ENTER));
},isTrackedKey:function(e){
return this._isTracking&&((e.ctrlKey&&e.altKey&&e.charCode!=0)||(!e.ctrlKey&&!e.metaKey&&!(e.altKey&&e.keyCode==18)&&!(e.shiftKey&&e.keyCode==16)&&(e.charCode!=0||e.data!=null)))&&!(e.keyCode==33||e.keyCode==34||e.keyCode==35||e.keyCode==36);
},isUpDownArrow:function(e){
return e.charCode==0&&(e.keyCode==dojo.keys.UP_ARROW||e.keyCode==dojo.keys.DOWN_ARROW);
},handleUpDownArrow:function(e){
if(this._isTracking&&e){
this.preventDefault(e);
if(this.getActiveType_IsShowing()){
this.getActiveType_Field()._onKey(e);
var _45=this.getActiveType_Popup().getHighlightedOption();
_45&&dojo.attr(this.textAreaNode,"aria-activedescendant",_45.id);
}
}else{
if(dojo.isIE){
setTimeout(dojo.hitch(this,function(){
var _46=this.getSelection();
_46.selection.refresh();
this._rangySelection=_46.selection;
},50));
}
}
}});
}


;if(!dojo._hasResource["lconn.core.widget.mentions.MentionsTypeaheadUtils"]){
dojo._hasResource["lconn.core.widget.mentions.MentionsTypeaheadUtils"]=true;
dojo.provide("lconn.core.widget.mentions.MentionsTypeaheadUtils");
dojo.declare("lconn.core.widget.mentions.MentionsTypeaheadUtils",null,{_registeredTypes:null,_activeType:null,registerActivatorType:function(_1){
if(!this._registeredTypes){
this._registeredTypes=[];
}
var _2=dojo.some(this._registeredTypes,function(_3){
return _3._type==_1._type;
});
if(!_2){
this._registeredTypes.push(_1);
var _4=_1.templateClass;
if(!dojo.exists(_4)){
dojo.require(_4);
}
}else{
this.printDebug("Type: "+_1._type+" has already been registered, please remove existing registration.");
}
},unregisterActivatorType:function(_5){
var _6=[];
dojo.forEach(this._registeredTypes,function(_7,i){
if(_7._type==_5){
_6.push(i);
}
});
for(i=0;i<_6.length;i++){
var _8=this._registeredTypes.splice(_6[i],1);
_8.destroy();
}
},isTrackedKeyCode:function(e){
var _9=false;
var _a=null;
var _b=this;
if(e.keyCode==16){
e.charCode=58;
}
if(!this._isTracking&&(e.charCode||e.keyCode)&&e.charCode!=dojo.keys.SPACE&&e.keyCode!=dojo.keys.ENTER){
this._lastActivatorTrack+=String.fromCharCode(e.charCode);
}else{
if(e.keyCode!=(dojo.keys.BACKSPACE||dojo.keys.DELETE)){
var _c=this.getSelection();
var _d=_c.selection;
var _e=_c.range;
var _f=_e.endContainer;
var _10=null;
while(_f&&_f.nodeType==3&&_f.parentNode==this.textAreaNode&&_f.data==""&&this.textAreaNode.childNodes.length>0){
_10=_f.previousSibling;
this.textAreaNode.removeChild(_f);
_f=_10;
}
var _11;
if(!this.disableURLPreview){
var _12=_f&&_f.data=="\u200b"&&_f.previousSibling.data?_f.previousSibling:_f;
_11=this.detectURL(_12);
}
if(_11&&_11!=this.textAreaNode&&_11.parentNode!=null){
_e.setStartAfter(_11);
_e.setEndAfter(_11);
_d.removeAllRanges();
_d.addRange(_e);
this.saveSelectionIE(_d);
}
this._lastActivatorTrack="";
}
}
if(!this.disableMentions&&this._registeredTypes){
dojo.some(this._registeredTypes,function(_13){
if(_b.enableActivateAnyKey){
_9=!(((e.ctrlKey||e.metaKey)&&!e.altKey&&e.charCode!=0)||_b.isRightArrow(e)||(e.charCode||e.keyCode)==dojo.keys.SPACE||_b.isLeftArrow(e)||_b.isRightArrow(e)||_b.isUpDownArrow(e)||_b.isEscape(e)||_b.isTab(e)||_b.isBoldHotkey(e)||_b.isItalicsHotkey(e)||_b.isUnderlineHotkey(e)||_b.isPasteHotkey(e)||_b.isBackspace(e)||_b.isDelete(e)||_b.isCtrlEnter(e)&&_b.isEnter(e));
}else{
if(_13._activatorChar){
_9=(e.charCode||e.keyCode)==_13._activatorChar.charCodeAt(0);
}else{
if(_13._activatorString){
isTrackedString=(_13._activatorString==this._lastActivatorTrack);
}
}
}
if(_9){
_a=_13;
return true;
}else{
_a=null;
}
});
if(_a){
if(this._activeSelectMouseEvent){
dojo.disconnect(this._activeSelectMouseEvent);
}
this._activeType=_a;
this._activeSelectMouseEvent=dojo.connect(this.getActiveType_Field(),"_selectOption",this,this.selectOption);
}
}
return _9;
},handleActiveType_KeyPress:function(e){
},handleActiveType_HideResults:function(){
if(this._activeType){
this._activeType.hideResults();
}
},handleTypeaheadKeyInput:function(){
var pw=this.getActiveType_Popup();
if(pw){
var _14=this._currentNode;
var _15=_14.value;
var _16=pw.getHighlightedOption();
if(_16){
var _17=this.getActiveType_Field().id;
var _18=pw.items[_16.getAttribute("item")];
if(_18){
if(dojo.indexOf([_17+"_popup_searchDir",_17+"_popup_resultsNode"],_16.id)===-1){
this.completeMention(_18);
this.textAreaNode.scrollTop=_14.domNode.offsetTop-this.textAreaNode.offsetTop;
}
}else{
if(_16.id==(_17+"_popup_searchDir")){
pw.searchDirectory();
pw._blurOptionNode();
}
}
}else{
this.handleUpDownArrow();
}
}
},getActiveType_VOffset:function(){
return this._activeType&&dojo.isFunction(this._activeType.getVOffset)&&this._activeType.getVOffset()||0;
},getActiveType_Field:function(){
return this._activeType&&dojo.isFunction(this._activeType.getTypeaheadField)?this._activeType.getTypeaheadField():null;
},getActiveType_Popup:function(){
return this._activeType?this._activeType.getTypeaheadPopup():null;
},getActiveType_Results:function(){
return this._activeType?this._activeType.getTypeaheadResults():null;
},getActiveType_IsShowing:function(){
return this._activeType?this.getActiveType_Field()._opened:false;
},getActiveType_NodeTemplateClass:function(){
return this._activeType?this._activeType.templateClass:null;
},setActiveType_FieldValue:function(_19){
if(this._activeType){
this._activeType.setTypeaheadValue(_19);
}
}});
}


;dojo.cache("lconn.core", "widget/mentions/templates/MentionsNode.html", "<span class=\"vcard\" type=\"${className}\" id=\"mentionsNode_${idx}\" tabindex=\"-1\"><a dojoAttachPoint=\"linkNode\" class=\"fn lotusPerson hasHover\">${value}</a></span>");

;if(!dojo._hasResource["lconn.core.widget.mentions.MentionsNode"]){
dojo._hasResource["lconn.core.widget.mentions.MentionsNode"]=true;
dojo.provide("lconn.core.widget.mentions.MentionsNode");






(function(){
var _1="mentions";
dojo.declare("lconn.core.widget.mentions.MentionsNode",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("lconn.core","widget/mentions/templates/MentionsNode.html"),widgetsInTemplate:false,idx:0,symbol:"@",bidiSymbol:function(){
var _2=lconn.core.globalization.bidiUtil.isRTLValue(this.value);
return !dojo.isBodyLtr()&&!_2?lconn.core.globalization.bidiUtil.enforceTextDirection(this.symbol,"ltr"):this.symbol;
},type:_1,value:"",data:"",isComplete:false,textRange:null,constructor:function(_3){
if(_3){
dojo.safeMixin(this,_3);
}
this.className="MentionsNode";
},postCreate:function(){
this.inherited(arguments);
this.setValue(this.value);
dojo.connect(this.textAreaNode,"ondrop",this,this.cancelEvent);
dojo.connect(this.textAreaNode,"ondragover",this,this.cancelEvent);
dojo.connect(this.domNode,"onresizestart",this,this.preventResize);
},preventResize:function(e){
return false;
},disableBizCardFocus:function(e){
var _4=dojo.attr(this.domNode.parentNode,"disableBizCardFocus");
if(_4){
e.preventDefault();
this.domNode.parentNode.focus();
}
},cancelEvent:function(e){
e.preventDefault();
return false;
},setValue:function(_5){
this.value=_5;
if(dojo.isIE){
this.linkNode.innerText=this.value;
}else{
this.linkNode.innerHTML=this.value;
}
},setData:function(_6){
this.data=_6;
},setTextRange:function(_7){
this.textRange=_7;
},setComplete:function(_8){
this.isComplete=_8;
dojo.attr(this.domNode,"contentEditable",!_8);
dojo.forEach(this.domNode.childNodes,function(_9,i){
if(_9&&_9.nodeType=="1"){
dojo.attr(_9,"contentEditable",!_8);
}
});
},toString:function(){
return this.value;
},toJsonString:function(){
return {type:this.type,value:this.value,data:this.data};
},getTextNode:function(){
if(this.linkNode){
return this.linkNode.firstChild;
}else{
return null;
}
},getLinkValueNode:function(){
var _a=null;
for(i=0;i<this.linkNode.childNodes.length;i++){
var _b=this.linkNode.childNodes[i];
if(_b.nodeType==3){
_a=_b;
}
}
return _a;
}});
lconn.core.widget.mentions.MentionsNode.TYPE=_1;
})();
}


;dojo.cache("lconn.core", "widget/mentions/templates/URLMentionsNode.html", "<span type=\"${className}\" id=\"mentionsNode_${idx}\" tabindex=\"-1\"><a dojoAttachPoint=\"linkNode\">${value}</a></span>");

;if(!dojo._hasResource["lconn.core.widget.mentions.URLMentionsNode"]){
dojo._hasResource["lconn.core.widget.mentions.URLMentionsNode"]=true;
dojo.provide("lconn.core.widget.mentions.URLMentionsNode");






(function(){
var _1="URLMentions";
dojo.declare("lconn.core.widget.mentions.URLMentionsNode",[lconn.core.widget.mentions.MentionsNode],{templatePath:dojo.moduleUrl("lconn.core","widget/mentions/templates/URLMentionsNode.html"),_hasSymbol:false,symbol:"",type:_1,hasPreview:false,constructor:function(_2){
this.className="URLMentionsNode";
},setValue:function(_3){
this.value=_3;
if(dojo.isIE){
this.linkNode.innerText=this.value;
}else{
this.linkNode.innerHTML=this.value;
}
var _4=this.value;
if(this.value.indexOf("://")==-1){
_4="http:"+"//"+_4;
}
this.href=_4;
dojo.attr(this.linkNode,"class","");
dojo.attr(this.linkNode,"target","_blank");
dojo.attr(this.linkNode,"href",_4);
},toJsonString:function(){
return {type:this.type,value:this.value,hasSymbol:this._hasSymbol,hasPreview:this.hasPreview,previewData:(this.previewNode&&this.previewNode.data)?this.previewNode.data:"",href:this.href};
}});
lconn.core.widget.mentions.URLMentionsNode.TYPE=_1;
})();
}


;if(!dojo._hasResource["lconn.core.widget.mentions.URLPreviewMixin"]){
dojo._hasResource["lconn.core.widget.mentions.URLPreviewMixin"]=true;
dojo.provide("lconn.core.widget.mentions.URLPreviewMixin");




(function(){
var _1=/\b(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/gim;
dojo.declare("lconn.core.widget.mentions.URLPreviewMixin",null,{disableURLPreview:false,matchURL:function(_2){
return _2.match(_1);
},detectURL:function(_3){
var _4=_3;
if(!this.disableURLPreview&&_3&&_3.nodeType==3&&this.textAreaNode!=null&&_3.parentNode==this.textAreaNode){
var _5=null;
var _6=_3.data;
if(_6){
var _7=this.matchURL(_6);
if(_7&&_7.length>0){
for(i=0;i<_7.length;i++){
_5=_6.split(_7[i],2);
this.textAreaNode.insertBefore(document.createTextNode(_5[0]),_3);
var _8=document.createElement("span");
_8.id=this.textAreaNode.id+"_mentionsNode_"+this._idx;
this.textAreaNode.insertBefore(_8,_3);
urlMentionsNode=new lconn.core.widget.mentions.URLMentionsNode({idx:this._idx},_8.id);
urlMentionsNode.setValue(_7[i]);
urlMentionsNode.setComplete(true);
this._idx++;
this._trackedMentions.push(urlMentionsNode);
_4=urlMentionsNode.domNode;
_6=_5[1];
if(i==_7.length-1&&_6){
this.textAreaNode.insertBefore(document.createTextNode(_6),_3);
}
}
_4=_3.previousSibling;
this.textAreaNode.removeChild(_3);
for(i=0;i<_7.length;i++){
dojo.publish("lconn/core/mentions/url/entered",[{url:_7[i],mentionsHelper:this}]);
}
}else{
if(_7&&_7[0]){
var _8=document.createElement("span");
_8.id=this.textAreaNode.id+"_mentionsNode_"+this._idx;
this.textAreaNode.replaceChild(_8,_3);
_4=new lconn.core.widget.mentions.MentionsNode({idx:this._idx},_8.id);
_4.setValue(_7[0]);
this._idx++;
this._trackedMentions.push(_4);
_4=_4.domNode;
}else{
_4=null;
}
}
}
if(_4&&_4!=_3){
var _9,_a=null;
if(dojo.isWebKit||dojo.isIE){
_9=document.createTextNode("\u200b");
_a=document.createTextNode("\u200b");
}else{
_9=document.createTextNode("");
_a=document.createTextNode("");
}
if(!_4.previousSibling){
this.textAreaNode.insertBefore(_9,_4);
}
if(!_4.nextSibling){
this.textAreaNode.insertBefore(_a,_4.nextSibling);
_4=_a;
}else{
if(_4.nodeType!=3){
_4=_4.nextSibling;
if(dojo.isWebKit||dojo.isIE){
if(_4.nodeType==3&&_4.data!="\u200b"){
_4.data="\u200b";
}
}
}
}
}
}
return _4;
},removeURLPreview:function(){
this._urlPreview.destroy();
this._urlPreview=null;
this._urlPreviewNode.hasPreview=false;
this._urlPreviewNode.previewNode=null;
this._urlPreviewNode=null;
}});
})();
}


;if(!dojo._hasResource["lconn.core.widget.mentions.MentionsHelper"]){
dojo._hasResource["lconn.core.widget.mentions.MentionsHelper"]=true;
dojo.provide("lconn.core.widget.mentions.MentionsHelper");














dojo.requireLocalization("com.ibm.social.ublog","Mentions");
(function(_1){
function _2(_3){
return dijit.getWaiState(_3,"describedby")==="semtagmenu";
};
dojo.declare("lconn.core.widget.mentions.MentionsHelper",[lconn.core.widget.mentions.MentionsUtils,lconn.core.widget.mentions.MentionsKeyHandlers,lconn.core.widget.mentions.MentionsTypeaheadUtils,lconn.core.widget.mentions.URLPreviewMixin],{MENTION_REGEX:/<[sS][pP][aA][nN] class="?vcard"?><[sS][pP][aA][nN] class="?fn"?>([^<>]+)<\/[sS][pP][aA][nN]><[sS][pP][aA][nN] class="?x-lconn-userid"?>([^<>]+)<\/[sS][pP][aA][nN]><\/[sS][pP][aA][nN]>/g,SMARTCLOUD_ENV:"SmartCloud",activatorChar:"@",bidiActivatorChar:function(_4){
var _5=lconn.core.globalization.bidiUtil.isRTLValue(_4);
return !dojo.isBodyLtr()&&!_5?lconn.core.globalization.bidiUtil.enforceTextDirection(this.activatorChar,"ltr"):this.activatorChar;
},_trackedMentions:null,_isTracking:false,_currentNode:null,_rangySelection:null,_lastActivatorTrack:"",inputField:null,eventHandles:null,multiline:false,disableBizCard:false,enableActivateAnyKey:false,disableMentions:false,_helperInstanceCounter:[0],constructor:function(_6){
if(_6){
dojo.safeMixin(this,_6);
}
this._resourceBundle=dojo.i18n.getLocalization("com.ibm.social.ublog","Mentions");
if(dojo.isIE){
try{
document.execCommand("AutoUrlDetect",false,false);
}
catch(e){
}
this.includeRangy(dojo.hitch(this,"initRangy"));
}
this._trackedMentions=[];
if(!this.eventHandles){
this.eventHandles=[];
}
this._idx=0;
this.initTypeahead();
},initRangy:function(){
if(window.rangy){
rangy.config.preferTextRange=true;
}
},initTypeahead:function(){
var _7=this._helperInstanceCounter[0]++;
this.textAreaNode=dojo.create("div",{className:"lotusText lotusMentionsDiv bidiAware",contentEditable:"true",id:"mentionstextAreaNode_"+_7,"aria-labelledby":"mentionstextAreaNode_"+_7,"data-notOpenEE":"true","data-commentInput":"true","role":"textbox","aria-multiline":"true","aria-autocomplete":"inline"});
if(dojo.isIE){
this.textAreaNode.appendChild(document.createTextNode(dojo.isIE==8?"\u200b":""));
}
if(this.isEE){
this.domNode=dojo.create("div",{id:"mentionsTypeaheadNode_"+_7,className:"lotusOffScreen"});
}else{
this.domNode=dojo.create("div",{id:"mentionsTypeaheadNode_"+_7});
}
var _8;
if(this.inputField){
_8=dojo.position(this.inputField,true);
dojo.place(this.textAreaNode,this.inputField,"before");
dojo.style(this.inputField,"display","none");
}
dojo.place(this.domNode,dojo.body());
if(_8){
dojo.style(this.domNode,{top:(_8.y+_8.h-5)+"px"});
}
this.tempTextArea=dojo.create("textarea",{style:"position: absolute; visibility: hidden; top: -9999px"});
if(dojo.isIE){
dojo.style(this.tempTextArea,{position:"absolute",visibility:"hidden",top:"-9999px"});
}
dojo.place(this.tempTextArea,this.textAreaNode,"after");
this.setAriaLabel(this.placeholder);
dojo.place(this.ariaLabel,this.textAreaNode,"after");
this.connectEvents();
dojo.subscribe("com/ibm/social/incontext/typeahead/onDisplayChange",this,"resultListOpened");
dojo.subscribe("com/ibm/social/incontext/typeahead/closeTypeahead",this,"closeTypeahead");
},closeTypeahead:function(){
this.handleActiveType_HideResults();
this.resetTypeaheadAria();
},resultListOpened:function(pw){
if(pw&&this.getActiveType_Field()&&this.getActiveType_Popup()&&pw.id==this.getActiveType_Popup().id){
var _9=pw.domNode;
dojo.attr(_9,"aria-live","polite");
dojo.attr(this.textAreaNode,"role","combobox");
dojo.attr(this.textAreaNode,"aria-autocomplete","inline");
dojo.attr(this.textAreaNode,"aria-expanded","true");
dojo.attr(this.textAreaNode,"aria-owns",this.getActiveType_Popup().id);
dojo.attr(this.textAreaNode,"aria-activedescendant",pw.id);
this.setAriaLabel("");
this.resizeTypeahead(_9);
}
},resizeTypeahead:function(_a){
var _b,_c,_d,_e,_f,_10;
var _11=this._currentNode;
if(_11){
if(this.isEE){
this.applyEEStyles(_a);
}
_d=dijit.getViewport().h;
_e=dojo.position(_11.linkNode,true);
_b=_e.y;
_c=_d-_e.y-_e.h;
_f=_a.parenNode?_a.parenNode.clientHeight:_a.clientHeight;
if(_c>_f||_c>_b){
_10=_b+_e.h;
}else{
_10=_b-_f;
if(_b<_f){
_10=2;
dojo.style(this.isEE?_a:_a.parentNode,{height:_b-_e.h+7+"px"});
}
}
dojo.style(_a.parentNode,{top:_10+"px"});
}
},applyEEStyles:function(_12){
dojo.style(_12.parentNode,{left:"15px",height:"auto",overflowY:"hidden"});
dojo.style(_12,{overflow:"auto",height:"auto"});
if(!dojo.isIE){
dojo.style(_12.parentNode,{overflow:"visible",border:""});
dojo.style(_12,{border:"",overflowX:"hidden"});
}
},mouseDownListener:function(e){
if(document.activeElement==this.textAreaNode){
this.mouseDown=true;
}
},mouseMoveListener:function(e){
if(this.mouseDown&&document.activeElement==this.textAreaNode){
if(window.LCSemTagMenu){
window.LCSemTagMenu.preventFocus=true;
}
}
},mouseUpListener:function(e){
if(this.mouseDown){
if(window.LCSemTagMenu){
window.LCSemTagMenu.preventFocus=false;
}
this.mouseDown=false;
}
},selectOption:function(){
var _13=this._currentNode;
var _14=_13.value;
var _15=this.getSelection();
var _16=_15.range;
var _17=null;
_17=this.getActiveType_Field().getItem();
if(_17){
this.completeMention(_17);
}else{
if(dojo.isIE){
this._stopBlur=true;
var _15=this.getSelection();
var sel=_15.selection;
this.saveSelectionIE(sel);
}
this.setActiveType_FieldValue(this.stringSplice(_14,0,1));
this.search();
}
},createMentionsSpan:function(_18,idx){
if(dojo.isFF<4){
var _19=[];
dojo.forEach(this.textAreaNode.childNodes,function(_1a){
if((_1a.nodeType===3&&_1a.data==="\n")||(_1a.nodeName=="BR"&&(_1a.hasAttribute("_moz_dirty")||dojo.attr(_1a,"type")=="_moz"))){
_19.push(_1a);
}
});
dojo.forEach(_19,function(_1b){
this.textAreaNode.removeChild(_1b);
},this);
}
var _1c={idx:idx};
this.saveSelectionIE(sel);
var _1d=this.getSelection();
var sel=_1d.selection;
var _1e=_1d.range;
var _1f=document.createElement("span");
_1f.id=this.textAreaNode.id+"_mentionsNode_"+idx;
_1e.insertNode(_1f);
try{
var _20=dojo.getObject(this.getActiveType_NodeTemplateClass());
if(!_20){
throw "No mention template class available";
}
var _21=new _20(_1c,_1f.id);
if(dojo.isIE){
dojo.attr(_21.domNode,"unselectable","on");
}
_21.setValue(String.fromCharCode(this.trackedKeyCode));
_21.setValue("\u200b");
this.setAriaLabel(this._resourceBundle.CREATED_MENTION);
this._currentNode=_21;
var _22=_21.domNode;
if(_22){
var _23,_24=null;
if(dojo.isWebKit){
_23=document.createTextNode("\u200b");
_24=document.createTextNode("\u200b");
}else{
if(dojo.isIE>7){
if(!this._isTracking){
_23=document.createTextNode("\u200b");
_24=document.createTextNode("\u200b");
}else{
if(!!(window.event)&&window.event.keyCode==50&&window.event.ctrlKey&&window.event.altKey){
_23=document.createTextNode("");
_24=document.createTextNode("");
}else{
if(!!(window.event)&&window.event.keyCode==50){
_23=document.createTextNode("");
_24=document.createTextNode("\u200b");
}else{
_23=document.createTextNode("");
_24=document.createTextNode("\u200b");
}
}
}
}else{
_23=document.createTextNode("");
_24=document.createTextNode("");
}
}
if(!_22.previousSibling){
this.textAreaNode.insertBefore(_23,_22);
}
if(!_22.nextSibling){
this.textAreaNode.insertBefore(_24,_22.nextSibling);
}
}
_1e=this.rangeMoveToNodeEnd(_21,_1e);
sel.removeAllRanges();
sel.addRange(_1e);
return _21;
}
catch(e){
console.log(e);
}
},addTrack:function(){
this._isTracking=true;
if(dojo.isIE){
this._stopBlur=true;
var _25=this.getSelection();
var sel=_25.selection;
this.saveSelectionIE(sel);
}
this.setActiveType_FieldValue("");
var _26=this.createMentionsSpan("",this._idx);
this._idx++;
this._trackedMentions.push(_26);
this._currentNode=_26;
this.positionTypeahead();
dojo.publish("lconn/core/mentions/startTrack");
},updateTrack:function(_27){
this._isTracking=true;
if(dojo.isIE){
this._stopBlur=true;
var _28=this.getSelection();
var sel=_28.selection;
this.saveSelectionIE(sel);
}
if(!this.enableActivateAnyKey){
_27=_27.substring(1,_27.length);
}
this.setActiveType_FieldValue(_27);
this.search();
},stopTrack:function(){
this._isTracking=false;
if(dojo.isIE){
this._stopBlur=true;
var _29=this.getSelection();
var sel=_29.selection;
this.saveSelectionIE(sel);
}
this.handleActiveType_HideResults();
this.setActiveType_FieldValue("");
this.search();
this._currentNode=null;
this.printDebug(this._trackedMentions);
dojo.publish("lconn/core/mentions/stopTrack",Array.prototype.slice.call(arguments));
},cancelMention:function(){
this.convertMentionNodeToText(this._currentNode);
this.stopTrack();
},plainTextChromeCancelMention:function(){
var _2a=this._currentNode.domNode.previousSibling;
_2a.data+=this._currentNode.value;
this.removeMentionNode(this._currentNode);
this.stopTrack();
var _2b=this.getSelection();
var sel=_2b.selection;
var _2c=_2b.range;
_2c.setStart(_2a,_2a.data.length);
_2c.setEnd(_2a,_2a.data.length);
sel.removeAllRanges();
sel.addRange(_2c);
},search:function(){
var _2d=this.getActiveType_Field();
if(_2d){
if(_2d.searchTimer){
_2d.searchTimer.remove();
_2d.searchTimer=null;
}
_2d.searchTimer=_2d.defer(dojo.hitch(_2d,_2d._startSearchFromInput),50);
}
},positionTypeahead:function(){
var _2e=this._currentNode;
if(_2e){
var pos=dojo.position(_2e.domNode,true);
if(dojo._isBodyLtr()){
dojo.style(this.getActiveType_Field().domNode,{left:pos.x+"px",top:(pos.y+pos.h-this.getActiveType_VOffset())+"px"});
}else{
var _2f=dijit.getViewport().w;
var _30=_2f-pos.x-pos.w;
dojo.style(this.getActiveType_Field().domNode,{right:_30+"px",top:(pos.y+pos.h-this.getActiveType_VOffset())+"px"});
}
dojo.style(this.domNode,{top:(pos.y+pos.h-5)+"px"});
}
},clickListener:function(e){
this.preventDefault(e);
this.textAreaNode.focus();
if(dojo.isFF<4){
if(this.textAreaNode.childNodes.length==0){
var t=document.createTextNode("\n");
this.textAreaNode.appendChild(t);
}
}
var _31=this.getSelection();
var sel=_31.selection;
var _32=_31.range;
if(this._isTracking){
if(!dojo.isIE){
this.handleResumeMention(sel,_32);
}else{
if(dojo.isIE&&window.rangy){
setTimeout(dojo.hitch(this,function(){
this._rangySelection=sel;
_32=sel.getRangeAt(0);
this.printDebug("After Key: "+this.getRangeText(_32)+" -- Start: "+_32.startOffset+"    End: "+_32.endOffset);
this.handleResumeMention(sel,_32);
}),50);
}
}
}else{
this._currentNode=null;
if(dojo.isIE&&window.rangy){
setTimeout(dojo.hitch(this,function(){
sel.refresh();
this._rangySelection=sel;
_32=sel.getRangeAt(0);
if(sel.anchorNode.parentNode.nodeName==("A"||"SPAN")&&sel.anchorNode.parentNode.nodeType==1){
var t=document.createTextNode("\u200b");
this.textAreaNode.appendChild(t);
_32.setStart(t,t.data.length);
_32.setEnd(t,t.data.length);
sel.removeAllRanges();
sel.addRange(_32);
this.saveSelectionIE(sel);
}
this.printDebug("After Key: "+this.getRangeText(_32)+" -- Start: "+_32.startOffset+"    End: "+_32.endOffset);
}),50);
}
}
if(this.eventHandles["onclick"]){
this.eventHandles.onclick();
}
},findNextNode:function(idx,_33){
var _34=-1;
var _35=this.textAreaNode.childNodes[idx+_33];
if(_35){
_34=_35.nodeType;
}
return {"nodeType":_34,"newNode":_35};
},getNodeAttributes:function(_36){
dojo.deprecated("MentionsHelper.getNodeAttributes","The name of this method is misleading. Use MentionsHelper.findTrackedMentionById(nodeId) instead","5.0");
return this.findTrackedMentionById(_36);
},findTrackedMentionById:function(_37){
var _38=null;
dojo.every(this._trackedMentions,function(_39){
if(_37==_39.id){
_38=_39;
return false;
}
return true;
},this);
return _38;
},setValue:function(_3a){
dojo.empty(this.textAreaNode);
var _3b=dojo.toDom(_1.htmlify(_3a));
this.textAreaNode.appendChild(_3b);
},keyListener:function(e){
if((document.activeElement!=this.textAreaNode)&&(!dojo.isIE&&!dojo.keys.BACKSPACE)){
return;
}
if(dojo.isIE&&e.keyCode==20){
return;
}
if(dojo.isIE&&e.keyCode==229&&e.charCode!=229){
this._isComposition=true;
if(this._currentNode){
dojo.style(this._currentNode.domNode,"color","#1970b0");
}
if(this._isTracking&&this._currentNode.linkNode){
if(!this._currentNode.linkNode.nextSibling){
var _3c=this.getSelection();
var sel=_3c.selection;
sel.refresh();
this._rangySelection=sel;
_3d=sel.getRangeAt(0);
var _3e=this._currentNode;
if(_3d.startContainer&&_3d.startContainer.data){
_3d.startContainer.data="";
var _3f=_3e.getTextNode();
_3e.setTextRange(this.updateRange(_3f,_3f.length).nodeRange);
}
}
setTimeout(dojo.hitch(this,function(){
var _40=this._currentNode.linkNode.nextSibling;
if(_40&&_40.nodeType==3&&_40.data.length>1){
var _41=_40.data.substring(0,_40.data.length-1).replace(/[\n\r\t]/g,"");
this.updateTrack(this._currentNode.value+_41);
}
}),50);
}
}else{
if(dojo.isIE&&this._isComposition&&e.keycode!=229){
this._wasComposition=true;
this._isComposition=false;
if(this._currentNode){
dojo.style(this._currentNode.domNode,"color","");
}
}
}
var _42=false;
if(!this._isTracking){
_42=this.isTrackedKeyCode(e);
if(_42){
_42=this.handleActivatorKey(e);
}
}
if(this.enableActivateAnyKey&&this.getActiveType_Field()&&(e.charCode||e.keyCode)==dojo.keys.SPACE&&this._isTracking&&this.getActiveType_Field().results.length<2){
this.convertMentionNodeToText(this._currentNode);
this.stopTrack();
_42=false;
}
var _3c=this.getSelection();
var sel=_3c.selection;
var _3d=_3c.range;
if(dojo.isIE&&e.keyCode==229&&e.charCode!=229){
var _43=this.getRangeText(_3d);
if(_43){
_3d.startOffset=_43.length;
_3d.endOffset=_43.length;
}
}
if(dojo.isFF<4){
_3d=this.handleLegacyFF_EmptyNode(_3d);
sel.removeAllRanges();
sel.addRange(_3d);
}
_44=_3d.startOffset;
_45=_3d.endOffset;
if(this.isRightArrow(e)){
if(dojo._isBodyLtr()){
this.handleRightArrowMain(e);
}else{
this.handleLeftArrowMain(e);
}
}else{
if(this.isLeftArrow(e)){
if(dojo._isBodyLtr()){
this.handleLeftArrowMain(e);
}else{
this.handleRightArrowMain(e);
}
}else{
if(this.isUpDownArrow(e)){
this.handleUpDownArrow(e);
}else{
if(this.isEscape(e)){
this.handleEscape(e);
}else{
if(this.isTab(e)){
this.handleTab(e);
}else{
if(this.isBoldHotkey(e)||this.isItalicsHotkey(e)||this.isUnderlineHotkey(e)){
this.cancelEvent(e);
}else{
if(this.isPasteHotkey(e)){
this.handlePrePaste(e);
}else{
if(this.isBackspace(e)){
if(dojo.isIE&&!this._isTracking){
sel.refresh();
}
var _3e=this._currentNode;
var _44=_3d.startOffset;
var _45=_3d.endOffset;
if(this._isTracking){
this.preventDefault(e);
var _46=_3e.value;
var _47=0;
if(_44==_45){
if(_44==0&&_45==0){
_46=this.stringSplice(_46,_44,_46.length);
_47=_44;
}else{
this.setAriaLabel(_46.slice(_45-1,-1));
_46=this.stringSplice(_46,_45-1,1);
_47=_45-1;
}
}else{
_46=this.stringSplice(_46,_44,_45-_44);
_47=_44;
}
if(_46!=""){
_3e.setValue(_46);
this.updateTrack(_3e.value);
if(dojo.isIE&&window.rangy){
var _3d=rangy.createRangyRange();
_3d.setStart(_3e.linkNode.firstChild,_47);
_3d.setEnd(_3e.linkNode.firstChild,_47);
sel.setSingleRangeEx(_3d);
}else{
_3e.setTextRange(this.updateRange(_3e.linkNode,_47).nodeRange);
}
}else{
var _48=_3e.domNode.previousSibling;
var _49=this.removeMentionNode(_3e,true);
this.stopTrack();
_3d=this.rangeMoveToNodeStart(_49,_3d);
sel.removeAllRanges();
sel.addRange(_3d);
this.saveSelectionIE(sel);
if(dojo.isSafari){
this.safariNodeFix(_48);
}
}
}else{
if(_3d.startContainer!=this.textAreaNode){
if(_44==_45&&_3d.startContainer==_3d.endContainer&&_3d.startContainer.parentNode!=null){
if(_3d.startContainer.nodeValue==""||_3d.startContainer.nodeValue=="\u200b"||(dojo.indexOf(this.textAreaNode.childNodes,_3d.startContainer)>0&&_3d.startContainer.nodeType==3&&_3d.startOffset==0)){
_3e=this.moveToPreviousNode(_3d.startContainer,_3d,sel);
_3c=this.getSelection();
sel=_3c.selection;
_3d=_3c.range;
_44=_3d.startOffset;
_45=_3d.endOffset;
if(this._currentNode){
_3e=this._currentNode;
}
}
if(!_3e){
var _4a=_3d.startContainer;
if(_4a!=this.textAreaNode){
while(_4a&&_4a.parentNode!=this.textAreaNode){
_4a=_4a.parentNode;
}
if(this.isAnyMentionsDomNode(_4a)){
_3e=dijit.byId(_4a.id);
}
}
}
if(_3e!=null&&dojo.indexOf(this._trackedMentions,_3e)!=-1){
this.preventDefault(e);
this.moveToPreviousNode(_3e.domNode,_3d,sel);
_3c=this.getSelection();
sel=_3c.selection;
_3d=_3c.range;
_44=_3d.startOffset;
_45=_3d.endOffset;
this.removeMentionNode(_3e);
this._currentNode=null;
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_3d);
}else{
sel.removeAllRanges();
sel.addRange(_3d);
}
}else{
if(dojo.isIE&&_3e&&_3e.previousSibling){
_3e=_3e.previousSibling;
_44=dojo.indexOf(this.textAreaNode.childNodes,_3e);
while(_3e&&_3e.nodeType==3&&(_3e.data==""||_3e.data=="\u200b")&&_44>0){
_44=_44-1;
_49=this.textAreaNode.childNodes[_44];
if(_49){
this.textAreaNode.removeChild(_3e);
_3e=_49;
}
}
_44=dojo.indexOf(this.textAreaNode.childNodes,_3e);
}else{
_3e=_3d.startContainer;
}
while(_3e&&_3e.nodeType==3&&(_3e.data==""||_3e.data=="\u200b")){
_3e.data="";
_44=_44-1;
_45=_45-1;
_49=this.textAreaNode.childNodes[_44];
if(_49&&_49.nodeType==3&&_49.data==""){
this.textAreaNode.removeChild(_3e);
}
_3e=_49;
}
if((this.multiline&&_3e&&_3e.nodeName=="BR")&&!(dojo.isIE==7)){
this.preventDefault(e);
var _4b=_3e.previousSibling;
this.textAreaNode.removeChild(_3e);
}else{
if(dojo.isIE>7&&_3e&&_3e.nodeType==3&&_3d.startOffset==1&&_3d.endOffset==1&&_3e.data.charAt(0)=="\u200b"){
_3e=this.moveToPreviousNode(_3e,_3d,sel);
_3c=this.getSelection();
sel=_3c.selection;
_3d=_3c.range;
_44=_3d.startOffset;
_45=_3d.endOffset;
if(this.isAnyMentionsDomNode(_3e)){
this.moveToPreviousNode(_3e,_3d,sel);
this.removeMentionById(_3e.id);
}
this._currentNode=null;
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_3d);
}else{
sel.removeAllRanges();
sel.addRange(_3d);
}
}else{
if(dojo.isIE&&window.rangy){
setTimeout(dojo.hitch(this,function(){
sel.refresh();
this._rangySelection=sel;
_3d=sel.getRangeAt(0);
this.printDebug("After Key: "+this.getRangeText(_3d)+" -- Start: "+_3d.startOffset+"    End: "+_3d.endOffset);
}),500);
}
}
}
if(dojo.isSafari){
if(this.eventHandles["onkeypress"]){
setTimeout(dojo.hitch(this,this.eventHandles.onkeypress),50);
}
return false;
}
}
}else{
if(!dojo.isIE){
this.removeSelection(e,_3d);
}
}
}else{
this.preventDefault(e);
_44=_44-1;
_45=_45-1;
if(_44<0){
_44=0;
}
if(_45<0){
_45=0;
}
var _3e=this.textAreaNode.childNodes[_44];
if(_44==_45){
while(_3e&&_3e.nodeType==3&&(_3e.data==""||_3e.data=="\u200b")){
_3e.data="";
_44=_44-1;
_45=_45-1;
_49=this.textAreaNode.childNodes[_44];
if(_49&&_49.nodeType==3&&(_49.data==""||_49.data=="\u200b")){
this.textAreaNode.removeChild(_3e);
}
_3e=_49;
}
if(_3e!=null){
if(_3e.nodeType==3){
_3d=this.updateRange(_3e,_3e.data.length).nodeRange;
_45=_3d.endOffset;
_3e.data=this.stringSplice(_3e.data,_45-1,1);
this.updateRange(_3e,_45);
}else{
if(_3e.nodeName=="BR"){
if((_3e.hasAttribute&&_3e.hasAttribute("_moz_dirty"))||dojo.attr(_3e,"type")=="_moz"){
var _4b=_3e.previousSibling;
this.textAreaNode.removeChild(_3e);
_3e=_4b;
while(_4b&&_4b.nodeName!="BR"){
_4b=_3e.previousSibling;
this.textAreaNode.removeChild(_3e);
if(this.isAnyMentionsDomNode(_3e)){
this.removeMentionById(_3e.id);
}
_3e=_4b;
}
}
while(_3e&&_3e.nodeName=="BR"){
var _4b=_3e.previousSibling;
this.textAreaNode.removeChild(_3e);
_3e=_4b;
}
this.moveToNextNode(_3e,_3d,sel);
_3c=this.getSelection();
sel=_3c.selection;
_3d=_3c.range;
_44=_3d.startOffset;
_45=_3d.endOffset;
}else{
if(_3e.id||(_3e.nodeName=="SPAN"&&_3e.className.indexOf("vcard")>-1)){
if(_3e.id){
_49=this.removeMentionById(_3e.id);
}else{
var _4c=_3e.previousSibling;
this._trackedMentions.splice(dojo.indexOf(this._trackedMentions,_3e),1);
this.textAreaNode.removeChild(_3e);
if(this.eventHandles["onRemoveMention"]){
this.eventHandles.onRemoveMention(mentionNode);
}
this.updateRange(_4c,_4c.length);
}
this._currentNode=null;
}else{
if(dojo.isFF){
if(_3e.nodeType==3&&_3e.data!="\n"){
_3d.setStart(_3e,_3e.data.length);
_3d.setEnd(_3e,_3e.data.length);
_45=_3e.data.length;
_3e.data=this.stringSplice(_3e.data,_45-1,1);
this.updateRange(_3e,_45);
}
}
}
}
}
}
}else{
this.removeSelection(e,_3d);
}
}
}
if(dojo.isWebKit){
this.textAreaNode.normalize();
}
}else{
if(this.isDelete(e)){
if(dojo.isIE&&!this._isTracking){
sel.refresh();
_3d=sel.getRangeAt(0);
}
var _3e=this._currentNode;
var _44=_3d.startOffset;
var _45=_3d.endOffset;
if(this._isTracking){
this.preventDefault(e);
var _46=_3e.value;
var _47=0;
if(_44==_45){
_46=this.stringSplice(_46,_45,1);
_47=_45;
}else{
_46=this.stringSplice(_46,_44,_45-_44);
_47=_44;
}
if(_46.charAt(0)==this.activatorChar){
_3e.setValue(_46);
var _3f=_3e.getTextNode();
if(dojo.isIE&&window.rangy){
var _3d=rangy.createRangyRange();
_3d.setStart(_3f,_47);
_3d.setEnd(_3f,_47);
sel.setSingleRangeEx(_3d);
this.saveSelectionIE(sel);
}else{
_3e.setTextRange(this.updateRange(_3f,_47).nodeRange);
}
this.updateTrack(_3e.value);
}else{
var _48=_3e.domNode.previousSibling;
var _49=this.removeMentionNode(_3e,true);
this.stopTrack();
_3d=this.rangeMoveToNodeStart(_49,_3d);
sel.removeAllRanges();
sel.addRange(_3d);
this.saveSelectionIE(sel);
if(dojo.isSafari){
this.safariNodeFix(_48);
}
}
}else{
if(_3d.startContainer!=this.textAreaNode){
if(_44==_45&&_3d.startContainer==_3d.endContainer){
if(dojo.isIE){
var _4a=_3d.startContainer;
while(_4a.parentNode&&_4a.parentNode!=this.textAreaNode){
_4a=_4a.parentNode;
}
}
if(_3d.startOffset==_3d.startContainer.length){
this.moveToNextNode(_3d.startContainer,_3d,sel);
_3c=this.getSelection();
sel=_3c.selection;
_3d=_3c.range;
_44=_3d.startOffset;
_45=_3d.endOffset;
_3e=this._currentNode;
}
if(_3e!=null&&dojo.indexOf(this._trackedMentions,_3e)!=-1){
this.preventDefault(e);
this.moveToPreviousNode(_3e.domNode,_3d,sel);
_3c=this.getSelection();
sel=_3c.selection;
_3d=_3c.range;
_44=_3d.startOffset;
_45=_3d.endOffset;
this.removeMentionNode(_3e);
this._currentNode=null;
if(dojo.isIE&&window.rangy){
sel.setSingleRangeEx(_3d);
}else{
sel.removeAllRanges();
sel.addRange(_3d);
}
}else{
if(dojo.isIE&&window.rangy){
setTimeout(dojo.hitch(this,function(){
sel.refresh();
this._rangySelection=sel;
_3d=sel.getRangeAt(0);
this.printDebug("After Key: "+this.getRangeText(_3d)+" -- Start: "+_3d.startOffset+"    End: "+_3d.endOffset);
}),50);
}
}
}else{
if(!dojo.isIE){
this.removeSelection(e,_3d);
}
}
}else{
this.preventDefault(e);
var _3e=this.textAreaNode.childNodes[_44];
var _49=null;
if(_44==_45){
while(_3e&&_3e.nodeType==3&&_49&&(_49.data==""||_49.data=="\u200b")){
_3e.data="";
_44=_44-1;
_45=_45-1;
_49=this.textAreaNode.childNodes[_44];
if(_49&&_49.nodeType==3&&(_49.data==""||_49.data=="\u200b")){
this.textAreaNode.removeChild(_3e);
}
_3e=_49;
}
if(_3e!=null){
if(_3e.nodeType==3){
_3d.selectNode(_3e);
_45=_3d.endOffset;
_3e.data=this.stringSplice(_3e.data,_45-1,1);
}else{
if(_3e.nodeName=="BR"){
this.textAreaNode.removeChild(_3e);
}else{
_49=this.removeMentionById(_3e.id);
this._currentNode=null;
}
}
}
}else{
this.removeSelection(e,_3d);
}
}
}
if(dojo.isWebKit){
this.textAreaNode.normalize();
}
}else{
if(this.isCtrlEnter(e)){
this.preventDefault(e);
if(lconn.profiles.bizCard.bizCard&&!this.disableBizCard){
e.keyCode=13;
if(dojo.isIE>8){
window.event.keyCode=13;
}
lconn.profiles.bizCard.bizCard.keystrokeHandler(e);
}
}else{
if(this.isEnter(e)){
if(!e.ctrlKey&&!e.metaKey&&this._isTracking&&this.getActiveType_IsShowing()){
this.preventDefault(e);
this.selectTypeaheadOption();
}else{
this.preventDefault(e);
if(this.getActiveType_Field()&&this._isTracking&&!this.getActiveType_IsShowing()){
this.convertMentionNodeToText(this._currentNode);
this.stopTrack();
_42=false;
}
if(this.multiline){
var br=document.createElement("br");
if(_3d.startContainer!=this.textAreaNode&&_3d.startContainer.parentNode!=this.textAreaNode){
_3d.setStart(this.textAreaNode,this.textAreaNode.childNodes.length);
_3d.setEnd(this.textAreaNode,this.textAreaNode.childNodes.length);
}
var _4d=document.createTextNode("");
var _4e=null;
if(dojo.isWebKit||dojo.isIE){
_4e=document.createTextNode("\u200b");
}else{
if(dojo.isIE==8){
_4e=document.createTextNode("\u200b");
}else{
_4e=document.createTextNode("");
}
}
if(dojo.isIE){
var _4a=_3d.startContainer;
while(_4a.parentNode&&_4a.parentNode!=this.textAreaNode){
_4a=_4a.parentNode;
}
if(this.isAnyMentionsDomNode(_4a)){
_3d=this.moveToNext(_3d,_4a);
}
}
_3d.insertNode(_4d);
_3d.setStartAfter(_4d);
sel.removeAllRanges();
sel.addRange(_3c.range);
_3d.insertNode(br);
_3d.setStartAfter(br);
sel.removeAllRanges();
sel.addRange(_3c.range);
_3d.insertNode(_4e);
_3d.setStartAfter(_4e);
sel.removeAllRanges();
sel.addRange(_3c.range);
if(dojo.isIE){
_3d.setStartAfter(br);
}
var _4c=document.createElement("span");
_3d.cloneRange().insertNode(_4c);
this.textAreaNode.scrollTop=_4c.offsetTop-this.textAreaNode.offsetTop;
_4c.parentNode.removeChild(_4c);
this.saveSelectionIE(sel);
}
}
this.printDebug(dojo.toJson(this.getTextAsJson()));
}else{
if((_42||this.isTrackedKey(e))&&!this._isComposition&&e.keyCode!=20){
this.preventDefault(e);
var _3e=this._currentNode;
if(!_3e){
var _4a=_3d.startContainer;
while(_4a&&_4a.parentNode&&_4a.parentNode!=this.textAreaNode){
_4a=_4a.parentNode;
}
_3e=this.getNodeAttributes(_4a.id);
this._currentNode=_3e;
}
if(_3e){
var _4f=_3e.value;
var _46=_4f.replace("\u200b","");
if(dojo.isIE){
var _50=_3d.endOffset-(_4f.length-_46.length)+1;
}else{
var _50=_3d.endOffset-(_4f.length-_46.length);
}
if(_44!=_45){
_3d=this.removeSelection(e,_3d);
_4f=_3e.value;
_46=_4f.replace("\u200b","");
_50=_3d.startOffset;
}
_3e.setValue(this.stringSplice(_46,_50,0,String.fromCharCode(e.charCode||e.keyCode)));
var _3f=_3e.getTextNode();
var _47=_50+1;
if(_47>_3f.length){
_47=_3f.length;
}
if(dojo.isIE&&window.rangy){
try{
var _51=rangy.createRangyRange();
_51.setStart(_3f,_47);
_51.setEnd(_3f,_47);
sel.setSingleRangeEx(_51);
this.saveSelectionIE(sel);
}
catch(err){
this.printDebug("Setting backup range on Mention Char addition.");
sel=rangy.getSelection();
var _51=rangy.createRange();
_51.setStart(_3f,_3f.data.length);
_51.setEnd(_3f,_3f.data.length);
sel.removeAllRanges();
sel.addRange(_51);
this.saveSelectionIE(sel);
}
}else{
_3e.setTextRange(this.updateRange(_3f,_47).nodeRange);
}
this.updateTrack(_3e.value);
this.positionTypeahead();
this.textAreaNode.scrollTop=_3e.domNode.offsetTop-this.textAreaNode.offsetTop;
if(this.isSpace(e)&&(this.getActiveType_IsShowing()&&this.getActiveType_Field().results==0)){
this.convertMentionNodeToText(_3e);
this.stopTrack();
}
if(_42){
dojo.publish("lconn/core/mentions/started",[{editor:this.textAreaNode,node:this._currentNode,cancel:dojo.hitch(this,this.cancelMention)}]);
}
}
}else{
if((e.charCode||e.keyCode==33||e.keyCode==34||e.keyCode==35||e.keyCode==36)&&e.charCode!=229||e.keyCode!=229){
if(this._isTracking){
var _3c=this.getSelection();
var sel=_3c.selection;
var _3d=_3c.range;
if(e.keyCode==35&&e.charCode!=35){
this.preventDefault(e);
if(e.shiftKey){
_3d.setEnd(_3d.startContainer,_3d.startContainer.data.length);
}else{
_3d.setStart(_3d.startContainer,_3d.startContainer.data.length);
_3d.setEnd(_3d.startContainer,_3d.startContainer.data.length);
}
sel.removeAllRanges();
sel.addRange(_3d);
this.saveSelectionIE(sel);
}else{
if(e.keyCode==36&&e.charCode!=36){
if(!dojo.isIE){
this.preventDefault(e);
}
if(e.shiftKey){
_3d.setStart(_3d.startContainer,1);
}else{
_3d.setStart(_3d.startContainer,1);
_3d.setEnd(_3d.startContainer,1);
}
sel.removeAllRanges();
sel.addRange(_3d);
this.saveSelectionIE(sel);
}
}
}else{
if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&this._currentNode){
this.removeMentionNode(this._currentNode);
this._currentNode=null;
}
}
this.displayBizCard(e);
if(dojo.isIE&&window.rangy&&e.keyCode!=dojo.keys.SHIFT){
setTimeout(dojo.hitch(this,function(){
_3d=sel.getRangeAt(0);
sel.refresh();
this._rangySelection=sel;
this.printDebug("After Key: "+this.getRangeText(_3d)+" -- Start: "+_3d.startOffset+"    End: "+_3d.endOffset);
if(!this.getRangeText(_3d)){
this.handleResumeMention(sel,_3d);
}
if(_3d.startContainer&&this._currentNode&&!(_3d.startContainer==this._currentNode.domNode||_3d.startContainer==this._currentNode.getTextNode())){
if(this._isTracking){
this.convertMentionNodeToText(this._currentNode,true);
this.stopTrack();
}
}
if(!this._currentNode&&window.LCSemTagMenu&&!this.disableBizCard){
LCSemTagMenu.hide();
}
}),1);
}else{
setTimeout(dojo.hitch(this,function(){
var _52=this.getSelection();
var _53=_52.range;
var _54=_53.startContainer.data;
if(this.replaceBlank&&_54.indexOf(" ")==0){
var _55=_54.replace(" ","");
var _56=_53.endOffset-(_54.length-_55.length);
_53.startContainer.data=_55;
_53.setStart(_53.startContainer,_56);
_53.setEnd(_53.startContainer,_56);
sel.removeAllRanges();
sel.addRange(_53);
}
if(_53.startContainer&&this._currentNode&&!(_53.startContainer==this._currentNode.domNode||_53.startContainer==this._currentNode.getTextNode())){
if(this._isTracking){
this.convertMentionNodeToText(this._currentNode,true);
this.stopTrack();
}
}
if(!this._currentNode&&window.LCSemTagMenu&&!this.disableBizCard){
LCSemTagMenu.hide();
}
if(this.getActiveType_IsShowing()){
dojo.attr(this.textAreaNode,"role","combobox");
dojo.attr(this.textAreaNode,"aria-autocomplete","inline");
dojo.attr(this.textAreaNode,"aria-expanded","true");
}else{
dojo.attr(this.textAreaNode,"role","textbox");
dojo.removeAttr(this.textAreaNode,"aria-autocomplete");
dojo.removeAttr(this.textAreaNode,"aria-activedescendant");
dojo.removeAttr(this.textAreaNode,"aria-expanded");
}
}),50);
}
}else{
if(dojo.isIE&&this._wasComposition&&this._isTracking){
this.preventDefault(e);
setTimeout(dojo.hitch(this,function(){
sel.refresh();
this._rangySelection=sel;
_3d=sel.getRangeAt(0);
var _57=this._currentNode;
if(_57&&_3d.startContainer&&_3d.startContainer.data){
_57.setValue(_57.value+_3d.startContainer.data);
_3d.startContainer.data="";
var _58=_57.getTextNode();
_57.setTextRange(this.updateRange(_58,_58.length).nodeRange);
this.updateTrack(_57.value);
}
this._wasComposition=false;
}),50);
}
}
}
}
}
}
}
}
}
}
}
}
}
}
this.displayBizCard(e);
if(dojo.isFF<4){
if(this.textAreaNode.childNodes.length==0){
var t=document.createTextNode("\n");
this.textAreaNode.appendChild(t);
}
}
if(this.eventHandles["onkeypress"]){
setTimeout(dojo.hitch(this,this.eventHandles.onkeypress),50);
}
},displayBizCard:function(e){
if(this._currentNode){
this.printDebug("Current Node:"+this._currentNode);
try{
if(_2(this._currentNode.linkNode)&&!this.disableBizCard){
this.showBizCardHover(e,this._currentNode.linkNode);
}
}
catch(e){
this.printDebug("Failed to show bizcard for Mention");
}
}else{
if(window.LCSemTagMenu&&!this.disableBizCard){
LCSemTagMenu.hide();
}
}
},pasteListener:function(e){
if(!dojo.isFF){
this.preventDefault(e);
}
if(dojo.isWebKit||dojo.isIE){
this.handlePrePaste(e);
}
if(dojo.isFF){
var _59=this.getSelection();
var sel=_59.selection;
var _5a=_59.range;
if(_5a.startContainer!=_5a.endContainer||_5a.startOffset!=_5a.endOffset){
this.removeSelection(null,_5a);
if(_5a.startContainer!=this.textAreaNode){
_5a.setStartBefore(_5a.startContainer);
}
}
var _5b=document.createElement("span");
_5b.id=this.textAreaNode.id+"_pasteSpan";
_5a.insertNode(_5b);
this._prePasteSel=sel;
this._prePasteRange=_5a;
if(_5b.nextSibling){
_5a.setEnd(_5b.nextSibling,0);
}
setTimeout(dojo.hitch(this,this.handleFFPaste),5);
}
if(this.eventHandles["onkeypress"]){
this.eventHandles.onkeypress();
}
},handleFFPaste:function(){
var _5c=this.getSelection();
var sel=_5c.selection;
var _5d=_5c.range;
var _5e=this._prePasteRange.startContainer;
var _5f=this._prePasteRange.endContainer;
var _60=this._prePasteRange.startOffset;
if(_5e==this.textAreaNode&&_5e.childNodes.length>0){
_5e=this.textAreaNode.childNodes[_60];
_60=0;
}
_5d.setStart(_5e,_60);
var _61=_5d.extractContents();
while(_5e&&_5e!=_5f){
var _62=_5e.nextSibling;
if(_5e.nodeType!=3&&!this.isAnyMentionsDomNode(_5e)){
this.textAreaNode.removeChild(_5e);
}
_5e=_62;
}
var _63=document.createTextNode(_61.textContent);
if(this._prePasteRange.startContainer!=this.textAreaNode){
this.textAreaNode.insertBefore(_63,_5f);
}else{
if(this.textAreaNode.childNodes.length>0){
this.textAreaNode.insertBefore(_63,this.textAreaNode.childNodes[this._prePasteRange.startOffset]);
}else{
this.textAreaNode.appendChild(_63,_5f);
}
}
if(!this.disableURLPreview){
_63=this.detectURL(_63);
}
if(_63){
_5d.setStartAfter(_63);
_5d.setEndAfter(_63);
}
if(this.eventHandles["onkeypress"]){
this.eventHandles.onkeypress();
}
},postPaste:function(){
var _64=this.getSelection();
var sel=_64.selection;
var _65=_64.range;
this.textAreaNode.focus();
this._isPasteFocusLoss=false;
_65.setStart(this._prePasteRange.startContainer,this._prePasteRange.startOffset);
_65.setEnd(this._prePasteRange.endContainer,this._prePasteRange.endOffset);
sel.removeAllRanges();
sel.addRange(_65);
if(_65.startContainer!=_65.endContainer||_65.startOffset!=_65.endOffset){
this.removeSelection(null,_65);
}
var _66=document.createTextNode(this.tempTextArea.value);
var _67=null;
if(this._isTracking){
_67=this._currentNode;
value=_67.value;
var _68=_65.endOffset;
if(_65.startOffset!=_65.endOffset){
this.removeSelection(null,_65);
_68=_65.startOffset;
}
var _69=(dojo.isIE)?this.tempTextArea.innerText:this.tempTextArea.value;
_67.setValue(this.stringSplice(value,_68,0,_69));
var _6a=_67.getTextNode();
var _6b=_68+_69.length;
if(_6b>_6a.length){
_6b=_6a.length;
}
if(dojo.isIE&&window.rangy){
var _65=rangy.createRangyRange();
_65.setStart(_6a,_6b);
_65.setEnd(_6a,_6b);
sel.setSingleRangeEx(_65);
}else{
_67.setTextRange(this.updateRange(_6a,_6b).nodeRange);
_65=this.updateRange(_6a,_6b).nodeRange;
}
this.updateTrack(_67.value);
var _6c=document.createElement("span");
_65.cloneRange().insertNode(_6c);
this.textAreaNode.scrollTop=_6c.offsetTop-this.textAreaNode.offsetTop;
_6c.parentNode.removeChild(_6c);
this.saveSelectionIE(sel);
if(this.tempTextArea.value.length>100){
this.convertMentionNodeToText(this._currentNode);
this.stopTrack();
}
}else{
if(dojo.isIE){
_64=this.getSelection();
sel=_64.selection;
sel.refresh();
_65=sel.getRangeAt(0);
}
_65.insertNode(_66);
var _6d=_65.endContainer;
if(_6d==this.textAreaNode){
var idx=-1;
if(dojo.isIE&&window.rangy){
idx=_65.endOffset;
}else{
idx=_65.endOffset-1;
}
if(idx<0){
idx=0;
}else{
if(idx>=this.textAreaNode.childNodes.length){
idx=this.textAreaNode.childNodes.length-1;
}
}
var _6e=this.textAreaNode.childNodes[idx];
var _6f=this.detectURL(_66);
if(_6f){
_6e=_6f;
}
if(_6e){
if(_6e.nodeType!=3){
_6e=this.getTextNode(_6e);
}
_65.setStart(_6e,_6e.data.length);
_65.setEnd(_6e,_6e.data.length);
}
}else{
_6e=this.getTextNode(_6d.nextSibling);
if(_6e){
_65.setStart(_6e,_6e.data.length);
_65.setEnd(_6e,_6e.data.length);
}
}
var _6c=document.createElement("span");
_65.cloneRange().insertNode(_6c);
this.textAreaNode.scrollTop=_6c.offsetTop-this.textAreaNode.offsetTop;
_6c.parentNode.removeChild(_6c);
sel.removeAllRanges();
sel.addRange(_65);
this.saveSelectionIE(sel);
this.displayBizCard(null);
}
if(this.eventHandles["onkeypress"]){
this.eventHandles.onkeypress();
}
this.tempTextArea.value="";
dojo.style(this.tempTextArea,{visibility:"hidden"});
},cutListener:function(e){
var _70=this.getSelection();
var _71=_70.range;
if(_71.cloneContents){
var _72=_71.cloneContents();
dojo.forEach(_72.childNodes,function(_73){
if(_73){
var _74=this.getNodeAttributes(_73.id);
if(_74){
this._currentNode=(_74==this._currentNode)?null:this._currentNode;
if(dojo.isIE){
if(_74.linkNode){
dojo.query(".x-lconn-userid",_74.linkNode)[0].innerHTML="";
}
}
this._trackedMentions.splice(dojo.indexOf(this._trackedMentions,_74),1);
}
}
},this);
_72=null;
}
if(this.eventHandles["onkeypress"]){
this.eventHandles.onkeypress();
}
},resetBox:function(){
if(dojo.isIE&&window.rangy){
try{
var _75=this.getSelection();
var sel=_75.selection;
sel.removeAllRanges();
this.saveSelectionIE(sel);
}
catch(err){
}
}
this._trackedMentions.length=0;
if(this._isTracking){
this.convertMentionNodeToText(this._currentNode,true);
this.stopTrack();
}
this.setShadowText();
},setShadowText:function(){
this.placeholder=dojo.attr(this.textAreaNode,"placeholder");
if(this.placeholder){
dojo.style(this.textAreaNode,"color","#666");
this.setText(this.placeholder);
if(dojo.isWebKit){
dojo.style(this.textAreaNode,"-webkit-user-select","none");
}
}
},setText:function(_76){
dojo.empty(this.textAreaNode);
this.MENTION_REGEX.lastIndex=0;
var _77=this.MENTION_REGEX.exec(_76);
if(_77==null){
if(dojo.isIE==8){
dojo.place(document.createTextNode("\u200b"),this.textAreaNode);
}
dojo.place(document.createTextNode(_76),this.textAreaNode);
return;
}
this.MENTION_REGEX.lastIndex=0;
while(true){
var _78=this.MENTION_REGEX.lastIndex;
var _77=this.MENTION_REGEX.exec(_76);
var _79=_77!=null?_77.index:_76.length;
if(_79>_78){
var s=_76.substring(_78,_79);
var el=document.createTextNode(s);
var _7a=this.getSelection();
var sel=_7a.selection;
var _7b=_7a.range;
_7b.insertNode(el);
_7b.setStartAfter(el);
sel.removeAllRanges();
sel.addRange(_7b);
}
if(_77==null){
break;
}else{
var _7c=false;
var _7d=_77[1];
if(_7d.indexOf(this.activatorChar)==0){
_7d=_7d.substring(1);
_7c=true;
}
var _7e=_77[2];
this.addTrack();
var _7f=this._currentNode;
this.completeMention({name:_7d,userid:_7e});
if(!_7c){
_7f.removeSymbol();
}
}
}
},blurListener:function(e){
dojo.publish("lconn/core/mentions/blur");
this.setShadowText();
this.setAriaLabel(this.placeholder);
if(this._isTracking&&!this._stopBlur){
var _80=document.activeElement.id;
var _81=this.getActiveType_Field()?this.getActiveType_Popup():null;
var _82="";
if(_81){
if(dojo.isIE){
dojo.removeClass(_81.domNode.parentNode,"lconnTypeAhead");
}
_82=_81?_81.id:"";
if(dojo.isIE&&_80!=_82||!dojo.isIE&&!dojo.isChrome){
this.closeTypeahead();
}
}
}
this._stopBlur=false;
if(this.eventHandles["onblur"]){
this.eventHandles.onblur();
}
},focusListener:function(e){
dojo.publish("lconn/core/mentions/focus",[this._isTracking]);
if(dojo.isWebKit){
dojo.style(this.textAreaNode,"-webkit-user-select","auto");
}
dojo.style(this.textAreaNode,"color","#000");
if(this.placeholder){
if(this.placeholder==this.getText()){
this.setText("");
setTimeout(dojo.hitch(this,function(){
this.getSelection();
}),5);
if(dojo.isWebKit){
var _83=document.createRange();
_83.selectNodeContents(this.textAreaNode);
var sel=this.getSelection().selection;
sel.removeAllRanges();
sel.addRange(_83);
}
}
}
if(dojo.isIE==8){
if(this.textAreaNode.firstChild&&this.textAreaNode.firstChild.data==""){
this.textAreaNode.firstChild.data="\u200b";
}
this.preventDefault(e);
}
var _84=this.getSelection();
var sel=_84.selection;
var _83=_84.range;
if((dojo.isWebKit)&&this.textAreaNode.childNodes.length==0){
var t=document.createTextNode("\u200b");
this.textAreaNode.appendChild(t);
_83.setStart(t,1);
_83.setEnd(t,1);
sel.removeAllRanges();
sel.addRange(_83);
this.saveSelectionIE(sel);
}
if(!this._isPasteFocusLoss){
this.handleResumeMention(sel,_83);
}
var _85=_83.startContainer;
if(dojo.isIE==8&&_85.previousSibling&&_85.previousSibling.tagName=="SPAN"&&(_85.previousSibling.className.indexOf("vcard")!=-1)){
_85=_85.previousSibling;
}else{
while(_85&&_85.parentNode&&_85.parentNode!=this.textAreaNode){
_85=_85.parentNode;
}
}
mentionNode=this.getNodeAttributes(_85.id);
if(mentionNode){
this._currentNode=mentionNode;
}else{
if(dojo.isIE){
dojo.forEach(this.textAreaNode.childNodes,function(_86){
if(_86.tagName=="SPAN"){
mentionNode=_86;
}
});
this._currentNode=mentionNode;
}
}
if(this._currentNode){
if(this._activeBizCard&&!dojo.isIE){
setTimeout(dojo.hitch(this,function(){
var _87=this.getSelection();
var sel=_87.selection;
var _88=_87.range;
var _89=this.getTextNode(this._currentNode.domNode);
if(_89){
if(!dojo.isIE){
_88.setStart(_89,0);
_88.setEnd(_89,_89.data.length);
}else{
_88.selectNode(_89);
}
}
sel.removeAllRanges();
sel.addRange(_88);
this._activeBizCard=false;
try{
if(this._currentNode&&_2(this._currentNode.linkNode)&&!this.disableBizCard){
this.showBizCardHover(e,this._currentNode.linkNode);
}
}
catch(e){
this.printDebug("Failed to show bizcard for Mention");
}
}),5);
}else{
if(dojo.isIE==8){
var t=document.createTextNode("\u200b");
this.textAreaNode.appendChild(t);
_83.setStart(t,1);
_83.setEnd(t,1);
sel.removeAllRanges();
sel.addRange(_83);
this.saveSelectionIE(sel);
if(!this._isTracking){
this._currentNode=null;
}
}
}
}else{
if(window.LCSemTagMenu&&!this.disableBizCard){
LCSemTagMenu.hide();
}else{
if(dojo.isIE&&this.textAreaNode.innerHTML==""){
this.setText("");
}
}
}
if(dojo.isFF<4){
if(this.textAreaNode.childNodes.length==0){
var t=document.createTextNode("\n");
this.textAreaNode.appendChild(t);
}
}
if(this.eventHandles["onfocus"]){
this.eventHandles.onfocus();
}
},selectTypeaheadOption:function(){
if(this.handleTypeaheadKeyInput){
this.handleTypeaheadKeyInput.apply(this,arguments);
}
},safariNodeFix:function(_8a){
curSel=this.getSelection();
range=curSel.range;
sel=curSel.selection;
this.textAreaNode.normalize();
if(_8a){
if(_8a.nodeType!=3){
_8a=this.getTextNode(_8a);
}
var _8b=Math.min(_8a.length,_8a.data.length);
if(_8b<0){
range.selectNodeContents(this.textAreaNode);
if(this.textAreaNode.childNodes.length==0){
this.textAreaNode.appendChild(document.createElement("br"));
}
}else{
range.setStart(_8a,_8b);
range.setEnd(_8a,_8b);
}
}else{
range.selectNodeContents(this.textAreaNode);
if(this.textAreaNode.childNodes.length==0){
this.textAreaNode.appendChild(document.createElement("br"));
}
}
sel.removeAllRanges();
sel.addRange(range);
},getMentions:function(){
return this._trackedMentions;
},cleanUp:function(){
if(this._registeredTypes){
dojo.forEach(this._registeredTypes,function(_8c){
if(_8c){
_8c.cleanUp();
}
});
}
}});
})(lconn.core.util.text);
}


;if(!dojo._hasResource["lconn.core.widget.mentions.MentionsType"]){
dojo._hasResource["lconn.core.widget.mentions.MentionsType"]=true;
dojo.provide("lconn.core.widget.mentions.MentionsType");
dojo.declare("lconn.core.widget.mentions.MentionsType",null,{_id:"",_type:"MentionsType",_activatorChar:"~",_typeaheadFeed:"",_typeahead:null,_typeaheadArgs:{},parentNode:null,typeaheadDataStore:null,templateClass:"lconn.core.widget.mentions.MentionsNode",constructor:function(_1){
if(_1){
dojo.safeMixin(this,_1);
}
this.initPlaceholderField();
if(!this.typeaheadDataStore){
this.initDefaultDataStore();
}else{
this.initFromDataStore();
}
this.initTypeaheadArgs();
this.initTypeahead();
this.postTypeaheadInit();
},initPlaceholderField:function(){
this._typeahead=dojo.create("input",{type:"text",id:this.parentNode.id+"_"+this._type});
if(this.parentNode){
dojo.place(this._typeahead,this.parentNode);
}
},initTypeaheadArgs:function(){
dojo.mixin(this._typeaheadArgs,{id:this._typeahead.id,minChars:1,searchDelay:400,multipleValues:false,store:this.typeaheadDataStore});
},initTypeahead:function(){
},initDefaultDataStore:function(){
},initFromDataStore:function(){
if(this.typeaheadDataStore){
this._typeaheadFeed=this.typeaheadDataStore.url;
this._extendedTypeAhead=this.typeaheadDataStore.extendedTypeAheadUrl;
}else{
throw "No data store available!";
}
},postTypeaheadInit:function(){
this._typeahead.focusNode.preventFocus=true;
dojo.addClass(this._typeahead,"lotusMentionsTypeaheadField");
dojo.addClass(this._typeahead.domNode,"lotusMentionsTypeaheadField");
},setTypeaheadValue:function(_2){
if(this._typeahead&&this._typeahead.focusNode){
this._typeahead.focusNode.value=_2;
}
},hideResults:function(){
if(this._typeahead){
this._typeahead._hideResultList();
}
},getTypeaheadField:function(){
return this._typeahead;
},getTypeaheadPopup:function(){
if(this._typeahead){
return this._typeahead._popupWidget;
}
},getTypeaheadResults:function(){
if(this._typeahead){
return this._typeahead.results;
}
},getVOffset:function(){
if(this._typeahead){
return this._typeahead._vOffset;
}
}});
}


;if(!dojo._hasResource["lconn.core.widget.mentions.PersonMentionsNode"]){
dojo._hasResource["lconn.core.widget.mentions.PersonMentionsNode"]=true;
dojo.provide("lconn.core.widget.mentions.PersonMentionsNode");








(function(){
var _1="PersonMentions";
dojo.declare("lconn.core.widget.mentions.PersonMentionsNode",[lconn.core.widget.mentions.MentionsNode],{type:_1,_hasSymbol:true,_userData:null,EXTERNAL_PROP:"EXTERNAL",constructor:function(_2){
this.className="PersonMentionsNode";
},setUserId:function(_3){
this.setData(_3);
},getUserId:function(){
return this.data;
},getUserData:function(){
return this._userData;
},setUserData:function(_4){
this._userData=_4;
this.setValue(this._userData.name);
this.setUserId(this._userData.userid);
},getUserExternalMode:function(){
return dojo.getObject("ext.mode",false,this.getUserData());
},getUserOrgId:function(){
return dojo.getObject("ext.orgId",false,this.getUserData());
},isUserExternal:function(){
return this.getUserExternalMode()===this.EXTERNAL_PROP;
},setComplete:function(_5,_6,_7){
this.setUserData(_6);
if(dojo.exists("com.ibm.lconn.layout.people")){
var _8=com.ibm.lconn.layout.people.createLink({name:this.bidiSymbol()+this.value,userid:this.data});
}
if(!_8){
_8=dojo.create("span",{"aria-describedby":"semtagmenu",className:"fn lotusBold",innerHTML:this.bidiSymbol()+this.value+"<span style='display: none;' class='x-lconn-userid'>"+this.data+"</span>"});
}
this.linkNode=dojo.place(_8,this.linkNode,"replace");
if(!_7&&window.SemTagSvc&&SemTagSvc.parseDom){
SemTagSvc.parseDom(0,this.domNode);
}
dojo.attr(this.linkNode,"target","_blank");
this.inherited(arguments);
},removeSymbol:function(){
var _9=this.getLinkValueNode();
var _a=_9.data;
if(_a.search(this.bidiSymbol())==0){
_a=this.stringSplice(_a,0,this.bidiSymbol().length);
_9.data=_a;
this._hasSymbol=false;
}
},addSymbol:function(){
var _b=this.getLinkValueNode();
var _c=_b.data;
if(_c.search(this.bidiSymbol())!=0){
_c=this.stringSplice(_c,0,0,bidiSymbol());
_b.data=_c;
this._hasSymbol=true;
}
},toString:function(){
return this.value;
},toJsonString:function(){
var _d={type:this.type,displayName:this.value,hasSymbol:this._hasSymbol,userId:this.data};
if(this._userData){
_d.userData=this._userData;
}
return _d;
},parseNode:function(_e){
if(_e){
this.setUserId(_e.firstChild.href.split("uid=")[1]);
this.setValue(_e.textContent||_e.innerText);
}
},getTextNode:function(){
if(this.linkNode){
return this.linkNode.firstChild;
}else{
return null;
}
},stringSplice:function(_f,idx,_10,_11){
return (_f.slice(0,idx)+(_11||"")+_f.slice(idx+Math.abs(_10)));
}});
lconn.core.widget.mentions.PersonMentionsNode.TYPE=_1;
})();
}


;if(!dojo._hasResource["lconn.core.widget.mentions.PersonMentionsType"]){
dojo._hasResource["lconn.core.widget.mentions.PersonMentionsType"]=true;
dojo.provide("lconn.core.widget.mentions.PersonMentionsType");














dojo.declare("lconn.core.widget.mentions.PersonMentionsType",lconn.core.widget.mentions.MentionsType,{_type:"PersonMentionsType",_activatorChar:"@",templateClass:"lconn.core.widget.mentions.PersonMentionsNode",isPersonAndGroup:false,noResultsMsg:"",headerMsg:"",disableSearchDirectory:false,disableBizCard:false,initDefaultDataStore:function(){
var _1={filterBy:"displayName",count:15};
if(lconn.core.widget.mentions.PersonMentionsType.SEARCH_URL){
this._typeaheadFeed=lconn.core.widget.mentions.PersonMentionsType.SEARCH_URL+(this.network&&this.network.oauth?"/oauth":"/anonymous")+"/people/typeahead";
this._extendedTypeAheadFeed=lconn.core.widget.mentions.PersonMentionsType.OPENSOCIAL_URL+(this.network&&this.network.oauth?"/oauth":"/anonymous")+"/rest/people/@public/@all";
this.typeaheadDataStore=new lconn.core.HybridPeopleDataStoreOpenSocial({url:this._typeaheadFeed,queryParam:"name",extendedTypeAheadUrl:this._extendedTypeAheadFeed,extendedQueryParam:"filterValue",openSocialParameters:_1,network:this.network});
}else{
this._typeaheadFeed=lconn.core.widget.mentions.PersonMentionsType.OPENSOCIAL_URL+(this.network&&this.network.oauth?"/oauth":"/anonymous")+"/rest/people/@public/@all";
this.typeaheadDataStore=new lconn.core.PeopleDataStoreOpenSocial({url:this._typeaheadFeed,queryParam:"filterValue",openSocialParameters:_1,network:this.network});
}
},initTypeaheadArgs:function(){
this.inherited(arguments);
dojo.mixin(this._typeaheadArgs,{isPersonAndGroup:this.isPersonAndGroup,NoResultsMessage:this.noResultsMsg,HeaderMessage:this.headerMsg,"class":"typeAhead",minChars:2,multipleValues:false,searchDelay:600,disableSearchDirectory:this.disableSearchDirectory,disableBizCard:this.disableBizCard});
},initTypeahead:function(){
this._typeahead=new lconn.core.PeopleTypeAhead(this._typeaheadArgs,this._typeahead);
this._typeahead._vOffset=4;
},cleanUp:function(){
if(this._typeahead){
this._typeahead.destroyRecursive();
this._typeahead=null;
}
}});
if(lconn.core.config.services.search){
lconn.core.widget.mentions.PersonMentionsType.SEARCH_URL=lconn.core.url.getServiceUrl(lconn.core.config.services.search);
}
lconn.core.widget.mentions.PersonMentionsType.OPENSOCIAL_URL=lconn.core.url.getServiceUrl(lconn.core.config.services.opensocial);
}


;if(!dojo._hasResource["lconn.core.widget.mentions.TagMentionsNode"]){
dojo._hasResource["lconn.core.widget.mentions.TagMentionsNode"]=true;
dojo.provide("lconn.core.widget.mentions.TagMentionsNode");






(function(){
var _1="TagMentions";
dojo.declare("lconn.core.widget.mentions.TagMentionsNode",[lconn.core.widget.mentions.MentionsNode],{_hasSymbol:true,symbol:"#",type:_1,constructor:function(_2){
this.className="TagMentionsNode";
},toJsonString:function(){
return {type:this.type,value:this.value};
}});
lconn.core.widget.mentions.TagMentionsNode.TYPE=_1;
})();
}


;if(!dojo._hasResource["lconn.core.widget.mentions.TagMentionsType"]){
dojo._hasResource["lconn.core.widget.mentions.TagMentionsType"]=true;
dojo.provide("lconn.core.widget.mentions.TagMentionsType");










dojo.declare("lconn.core.widget.mentions.TagMentionsType",lconn.core.widget.mentions.MentionsType,{_type:"TagMentionsType",_activatorChar:"#",templateClass:"lconn.core.widget.mentions.TagMentionsNode",initDefaultDataStore:function(){
if(lconn.core.config.services.activities){
this._typeaheadFeed=lconn.core.url.getServiceUrl(lconn.core.config.services.activities)+"/service/json/tags";
this.typeaheadDataStore=new lconn.core.TypeAheadDataStore({url:this._typeaheadFeed,queryParam:"tag"});
}
},initTypeahead:function(){
this._typeahead=new lconn.core.CommonTags.CommonTagsTypeAhead(this._typeaheadArgs,this._typeahead);
}});
}


;if(!dojo._hasResource["lconn.core.widget.mentions.utilities"]){
dojo._hasResource["lconn.core.widget.mentions.utilities"]=true;
dojo.provide("lconn.core.widget.mentions.utilities");


lconn.core.widget.mentions.utilities.isSmartCloud=function(_1){
dojo.deprecated("Use declarative bindings to differentiate code in SmartCloud","5.0");
return _1&&_1.environment==="SmartCloud";
};
lconn.core.widget.mentions.utilities.isProfilesEnabled=function(){
dojo.deprecated("Use lconn.core.config.services.profiles to check if Profiles is enabled","5.0");
return lconn.core.config.services.profiles;
};
lconn.core.widget.mentions.utilities.cleanupHTML=function(_2){
if(_2.indexOf("vcard")>-1){
_2=_2.replace(/(\s|")contenteditable="false"/gi,"$1");
_2=_2.replace(/class=\"fn url hasHover\"/gi,"class=\"fn url\"");
_2=_2.replace(/(\s|")icbizcard_ref="\d+"/gi,"$1");
_2=_2.replace(/(\s|")icbizcard_idx="\d+"/gi,"$1");
_2=_2.replace(/(\s|")aria-label="[^"\r\n]*"/gi,"$1");
_2=_2.replace(/(\s|")_bizcardprocessed_="true"/gi,"$1");
}
return _2;
};
}


;if(!dojo._hasResource["lconn.core.widget.mentions.mentions"]){
dojo._hasResource["lconn.core.widget.mentions.mentions"]=true;
dojo.provide("lconn.core.widget.mentions.mentions");
























}


;if(!dojo._hasResource["lconn.core.bundle_common"]){
dojo._hasResource["lconn.core.bundle_common"]=true;
dojo.provide("lconn.core.bundle_common");








































































































































































}


window['_js_modules']=(window['_js_modules']||[]).concat(["lconn.core.bundle_common"]);
