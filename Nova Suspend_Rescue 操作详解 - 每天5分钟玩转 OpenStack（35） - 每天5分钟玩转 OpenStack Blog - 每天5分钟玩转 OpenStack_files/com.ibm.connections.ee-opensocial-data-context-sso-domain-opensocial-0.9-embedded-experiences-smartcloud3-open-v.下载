window.___jsl=window.___jsl||{};window['___jsl']['f'] = ['auth-refresh','com.ibm.connections.ee','container','container.site','container.site.gadget','container.site.url','container.util','content-rewrite','core','core.config','core.config.base','core.io','core.json','core.legacy','core.log','core.prefs','core.util','core.util.base','core.util.dom','core.util.event','core.util.onload','core.util.string','core.util.urlparams','cre.globals','cre.promise','cre.service.sso','cre.services.oauth.Popup','cre.util.array','cre.util.function','cre.util.loop','cre.util.object','domnode','dynamic-height','dynamic-height.height','dynamic-size.util','embedded-experiences','gadgets.json.ext','globals','ibm.connections.ee','locked-domain','oauthpopup','open-views','open-views.common','open-views.ee','open-views.gadget','open-views.results','open-views.url','opensocial','opensocial-0.9','opensocial-base','opensocial-data-context','opensocial-jsonrpc','opensocial-reference','osapi','osapi.base','rpc','security-token','settitle','shindig-container','shindig.auth','shindig.uri','shindig.uri.ext','sso-domain','taming','views','xmlutil'];(function(){osapi.newBatch=function(){var e={},g=[],l=function(b){var c={method:b.request.method,id:b.key};b.request.rpc&&(c.params=b.request.rpc);return c};e.execute=function(b){for(var c={},f={},e=0,k=[],d=0;d<g.length;d++){var a=g[d].request.transport;f[a.name]||(k.push(a),e++);f[a.name]=f[a.name]||[];f[a.name].push(l(g[d]))}d=function(a){a.error&&(c.error=a.error);for(var d=0;d<g.length;d++){var f=g[d].key,h=a[f];h&&(c[f]=h.error?h:h.data||h.result)}e--;0===e&&b(c)};for(a=0;a<k.length;a++)k[a].execute(f[k[a].name],
d);0==e&&window.setTimeout(function(){b(c)},0)};e.add=function(b,c){c&&b&&g.push({key:b,request:c});return e};return e}})();osapi._registerMethod=function(b,d){if("newBatch"!==b){for(var a=b.split("."),c=osapi,f=0;f<a.length-1;f++)c[a[f]]=c[a[f]]||{},c=c[a[f]];var e=a[a.length-1],g;c[e]&&(g=c[e]);c[e]=function(a){a=a||{};a.userId=a.userId||"@viewer";a.groupId=a.groupId||"@self";return new osapi._BoundCall(b,d,a)};"undefined"!==typeof tamings___&&(a=function(){caja___.markFunction(c[e],b)},g&&g.__taming_index?(c[e].__taming_index=g.__taming_index,tamings___[g.__taming_index]=a):(c[e].__taming_index=tamings___.length,tamings___.push(a)))}};
osapi._BoundCall=function(b,d,a){this.method=b;this.transport=d;this.rpc=a};osapi._BoundCall.prototype.execute=function(b){var d="undefined"!==typeof caja___&&caja___.getUseless&&caja___.getUseless(),a=d?caja___.getUseless():this,c=d?caja___.untame(b):b;b=osapi.newBatch();b.add(this.method,this);b.execute(function(b){b.error?c.call(a,{error:b.error}):c.call(a,b[a.method])})};(function(){function k(a,d){var c={POST_DATA:gadgets.json.stringify(a),CONTENT_TYPE:"JSON",METHOD:"POST",AUTHORIZATION:"SIGNED"},e={"Content-Type":"application/json"},f=this.name,g=shindig.auth.getSecurityToken();g&&(h?e.Authorization="OAuth2 "+g:e["X-Shindig-ST"]=g);gadgets.io.makeNonProxiedRequest(f,function(b){if(b.errors[0])d({error:{code:b.rc,message:b.text}});else if(b=b.result||b.data,b.error)d(b);else{for(var c={},a=0;a<b.length;a++)c[b[a].id]=b[a];d(c)}},c,e)}function l(a){var d=a["osapi.services"];
h=a["osapi.useOAuth2"];if(d)for(var c in d)if(d.hasOwnProperty(c)&&(0==c.indexOf("http")||0==c.indexOf("//"))){a={name:c.replace("%host%",document.location.host),execute:k};for(var e=d[c],f=0;f<e.length;f++)osapi._registerMethod(e[f],a)}}var h;gadgets.config&&gadgets.config.register("osapi.services",null,l)})();gadgets&&gadgets.rpc&&function(){function n(a,d){gadgets.rpc.call("..","osapi._handleGadgetRpcMethod",function(b){if(b)if(b.error)d(b);else{for(var a={},c=0;c<b.length;c++)a[b[c].id]=b[c];d(a)}else d({code:500,message:"Container refused the request"})},a)}function f(a){var d={name:"gadgets.rpc",execute:n},b=a["osapi.services"];a=a.rpc.rpcDelay;"undefined"===typeof a&&(a=500);if(b)for(var e in b)if(b.hasOwnProperty(e)&&"gadgets.rpc"===e)for(var c=b[e],g=0;g<c.length;g++)osapi._registerMethod(c[g],
d);if(osapi.container&&osapi.container.listMethods){var f=gadgets.util.runOnLoadHandlers,l=!1,h=!1,m=!1,k=function(){!m&&(l&&h)&&(m=!0,f())};gadgets.util.runOnLoadHandlers=function(){l=!0;k()};osapi.container.listMethods({}).execute(function(a){if(!a.error)for(var b=0;b<a.length;b++)"container.listMethods"!=a[b]&&osapi._registerMethod(a[b],d);h=!0;k()});window.setTimeout(function(){h=!0;k()},a)}}gadgets.config&&gadgets.config.register("osapi.services",null,f)}();gadgets.util.registerOnLoadHandler(function(){osapi&&(osapi.people&&osapi.people.get)&&(osapi.people.getViewer=function(a){a=a||{};a.userId="@viewer";a.groupId="@self";return osapi.people.get(a)},osapi.people.getViewerFriends=function(a){a=a||{};a.userId="@viewer";a.groupId="@friends";return osapi.people.get(a)},osapi.people.getOwner=function(a){a=a||{};a.userId="@owner";a.groupId="@self";return osapi.people.get(a)},osapi.people.getOwnerFriends=function(a){a=a||{};a.userId="@owner";a.groupId="@friends";
return osapi.people.get(a)})});shindig._uri=shindig.uri;shindig.uri=function(){var f=shindig._uri;shindig._uri=null;return function(g){var a=f(g);a.hasSameOrigin=function(b){return a.getOrigin()==b.getOrigin()};a.resolve=function(b){""==a.getSchema()&&a.setSchema(b.getSchema());""==a.getAuthority()&&a.setAuthority(b.getAuthority());var c=a.getPath();if(""==c||"/"!=c.charAt(0)){var d=b.getPath(),e=d.lastIndexOf("/");-1!=e&&d.substring(0,e+1);a.setPath(b.getPath()+c)}};return a}}();gadgets.views=function(){function k(a){a||(a=window.event);var b;a.target?b=a.target:a.srcElement&&(b=a.srcElement);b.nodeType===DOM_TEXT_NODE&&(b=b.parentNode);if("a"===b.nodeName.toLowerCase()&&(b=b.getAttribute("href"))&&"#"!==b[0]&&-1===b.indexOf("://"))gadgets.views.requestNavigateTo(m,b),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.returnValue=!1,a.cancelBubble=!0;return!1}var p={},m=null,g={},n={};gadgets.config.register("views",null,function(a){a=a.views||
{};for(var b in a)if(a.hasOwnProperty(b)&&"rewriteLinks"!=b){var c=a[b],s=b.toUpperCase();p[s]=s;if(c){g[b]=new gadgets.views.View(b,c.isOnlyVisible);for(var s=c.aliases||[],t=0,q;q=s[t];++t)g[q]=new gadgets.views.View(b,c.isOnlyVisible)}}b=gadgets.util.getUrlParameters();b["view-params"]&&(n=gadgets.json.parse(b["view-params"])||n);b=b.view||"";c=b.split(".");1<c.length?(c=c[0],m=g.hasOwnProperty(c)?new gadgets.views.View(b,g[c].isOnlyVisibleGadget()):g["default"]):m=g[b]||g["default"];a.rewriteLinks&&
gadgets.util.attachBrowserEvent(document,"click",k,!1)});return{bind:function(a,b){function c(a,c){return b.hasOwnProperty(a)?b[a]:c}function g(b){if(!(f=b.match(q)))throw Error("Invalid variable : "+b);}function k(b,a,d){var e=b.split(",");for(b=0;b<e.length&&!(g(e[b]),d(a,c(f[1]),f[1]));++b);return a}if("string"!==typeof a)throw Error("Invalid urlTemplate");if("object"!==typeof b)throw Error("Invalid environment");for(var q=/^([a-zA-Z0-9][a-zA-Z0-9_\.\-]*)(=([a-zA-Z0-9\-\._~]|(%[0-9a-fA-F]{2}))*)?$/,
m=RegExp("\\{([^}]*)\\}","g"),p=/^-([a-zA-Z]+)\|([^|]*)\|(.+)$/,h=[],n=0,d,f,l,e,r;d=m.exec(a);)if(h.push(a.substring(n,d.index)),n=m.lastIndex,f=d[1].match(q))d=f[1],l=f[2]?f[2].substr(1):"",h.push(c(d,l));else if(f=d[1].match(p))switch(e=f[1],d=f[2],r=f[3],l=0,e){case "neg":l=1;case "opt":k(r,{flag:l},function(b,a){var c;if(c="undefined"!==typeof a){a:if("object"===typeof a||"function"===typeof a){for(var d in a)if(a.hasOwnProperty(d)){c=!1;break a}c=!0}else c=!1;c=!c}return c?(b.flag=!b.flag,1):
0}).flag&&h.push(d);break;case "join":h.push(k(r,[],function(b,a,c){if("string"===typeof a)b.push(c+"\x3d"+a);else if("object"===typeof a)for(var d in a)a.hasOwnProperty(d)&&b.push(d+"\x3d"+a[d])}).join(d));break;case "list":g(r);e=c(f[1]);"object"===typeof e&&"function"===typeof e.join&&h.push(e.join(d));break;case "prefix":l=1;case "suffix":g(r);e=c(f[1],f[2]&&f[2].substr(1));"string"===typeof e?h.push(l?d+e:e+d):"object"===typeof e&&"function"===typeof e.join&&h.push(l?d+e.join(d):e.join(d)+d);
break;default:throw Error("Invalid operator : "+e);}else throw Error("Invalid syntax : "+d[0]);h.push(a.substr(n));return h.join("").replace("%host%",document.location.host)},requestNavigateTo:function(a,b,c){"string"!==typeof a&&(a=a.getName());gadgets.rpc.call(null,"requestNavigateTo",null,a,b,c)},getCurrentView:function(){return m},getSupportedViews:function(){return g},getParams:function(){return n},ViewType:p}}();gadgets.views.View=function(k,p){this.name_=k;this.isOnlyVisible_=!!p};
gadgets.views.View.prototype.getName=function(){return this.name_};gadgets.views.View.prototype.getUrlTemplate=function(){return gadgets.config&&gadgets.config.views&&gadgets.config.views[this.name_]&&gadgets.config.views[this.name_].urlTemplate};gadgets.views.View.prototype.bind=function(k){return gadgets.views.bind(this.getUrlTemplate(),k)};gadgets.views.View.prototype.isOnlyVisibleGadget=function(){return this.isOnlyVisible_};gadgets.window=gadgets.window||{};gadgets.views=gadgets.views||{};gadgets.views.close=function(a){gadgets.rpc.call("..","gadgets.views.close",null,a)};gadgets.window.getContainerDimensions=function(a){gadgets.rpc.call("..","gadgets.window.getContainerDimensions",a)};var opensocial=opensocial||{};opensocial.data=opensocial.data||{};
opensocial.data.DataContext=function(){var e=[],d={},k=function(a,b,c){"undefined"===typeof b||null===b||(d[a]=b,!1!==c&&h(a))},g=function(a,b,c,d){var f={keys:{},callback:b,oneTime:!!c};if("string"===typeof a)f.keys[a]=!0,"*"!=a&&(a=[a]);else for(b=0;b<a.length;b++)f.keys[a[b]]=!0;e.push(f);d&&("*"!==a&&l(f.keys))&&window.setTimeout(function(){m(f,a)},1)},l=function(a){if(a["*"])return!0;for(var b in a)if("undefined"===typeof d[b])return!1;return!0},m=function(a,b){if(l(a.keys)&&(a.callback(b),a.oneTime))a:for(var c=
0;c<e.length;++c)if(e[c]==a){e.splice(c,1);break a}},h=function(a){"string"==typeof a&&(a=[a]);for(var b=0;b<e.length;++b)for(var c=e[b],d=0;d<a.length;d++)if(c.keys[a[d]]||c.keys["*"]){m(c,a);break}};return{getData:function(){var a={},b;for(b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);return a},registerListener:function(a,b){g(a,b,!1,!0)},registerOneTimeListener_:function(a,b){g(a,b,!0,!0)},registerDeferredListener_:function(a,b){g(a,b,!1,!1)},getDataSet:function(a){return d[a]},putDataSet:function(a,
b){k(a,b,!0)},putDataSets:function(a){var b=[],c;for(c in a)b.push(c),k(c,a[c],!1);h(b)}}}();opensocial.data.getDataContext=function(){return opensocial.data.DataContext};gadgets.views=gadgets.views||{};(function(){var c={},b=0;gadgets.util.registerOnLoadHandler(function(){gadgets.rpc.register("gadgets.views.deliverResult",function(a,b){if(".."===this.f){var d;if(d=c[a])delete c[a],d(b)}})});gadgets.views.registerCallback_=function(a){c[b]=a;return b++};gadgets.views.setReturnValue=function(a){gadgets.rpc.call("..","gadgets.views.setReturnValue",null,a)}})();gadgets.ee=gadgets.ee||{};
(function(){function b(a){".."===this.f&&opensocial.data.DataContext.putDataSet("org.opensocial.ee.context",a)}function e(a){gadgets.rpc.call(null,"ee_gadget_rendered",b,{});gadgets.rpc.register("ee_set_context",b);opensocial.data.getDataContext().registerListener("org.opensocial.ee.context",function(a){a=opensocial.data.getDataContext().getDataSet(a);d=!0;for(var b=c.length;b--;)c[b](a)})}var c=[],d=!1;gadgets.config&&gadgets.config.register("embedded-experiences",null,e);gadgets.ee.registerContextListener=
function(a){c.push(a);d&&a(opensocial.data.getDataContext().getDataSet("org.opensocial.ee.context"))}})();gadgets.json.xml=function(){function l(d,c){for(var f=0;f<d.length;f++){var a=d[f];if(a.nodeType==DOM_TEXT_NODE){var b=a.nodeName,e=c[b];c[b]=null!=e?h(e,a.nodeValue):a.nodeValue}else if(0==a.childNodes.length)if(null!=a.attributes&&0!=a.attributes.length)if(b=a,a=c,e=a[b.nodeName],null==e)a[b.nodeName]={},k(b.attributes,a[b.nodeName]);else{var g={};k(b.attributes,g);a[b.nodeName]=h(e,g)}else c[a.nodeName]=null;else 1==a.childNodes.length&&a.firstChild.nodeType==DOM_TEXT_NODE&&(null==a.attributes||
0==a.attributes.length)?(b=a.nodeName,a=a.firstChild,e=c[b],c[b]=null!=e?h(e,a.nodeValue):a.nodeValue):(b=c,e=b[a.nodeName],null==e?(b[a.nodeName]={},null!=a.attributes&&0!=a.attributes.length&&k(a.attributes,b[a.nodeName]),l(a.childNodes,b[a.nodeName])):(g={},null!=a.attributes&&0!=a.attributes.length&&k(a.attributes,g),l(a.childNodes,g),b[a.nodeName]=h(e,g)))}}function h(d,c){return d instanceof Array?(d[d.length]=c,d):[d,c]}function k(d,c){for(var f=null,a=0;a<d.length;a++)f=d[a],c["@"+f.nodeName]=
f.nodeValue}return{convertXmlToJson:function(d){var c={};l(d.childNodes,c);return c}}}();var opensocial=opensocial||{};opensocial.xmlutil=opensocial.xmlutil||{};opensocial.xmlutil.parser_=null;
opensocial.xmlutil.parseXML=function(b){if("undefined"!=typeof DOMParser){opensocial.xmlutil.parser_=opensocial.xmlutil.parser_||new DOMParser;var a=opensocial.xmlutil.parser_.parseFromString(b,"text/xml");if(a.firstChild&&"parsererror"==a.firstChild.tagName)throw Error(a.firstChild.firstChild.nodeValue);return a}if("undefined"!=typeof ActiveXObject){a=new ActiveXObject("MSXML2.DomDocument");a.validateOnParse=!1;a.loadXML(b);if(a.parseError&&a.parseError.errorCode)throw Error(a.parseError.reason);
return a}throw Error("No XML parser found in this browser.");};opensocial.xmlutil.NSMAP={os:"http://opensocial.org/"};opensocial.xmlutil.getRequiredNamespaces=function(b,a){var c=a?opensocial.xmlutil.getNamespaceDeclarations_(a):{},d;for(d in opensocial.xmlutil.NSMAP)opensocial.xmlutil.NSMAP.hasOwnProperty(d)&&(!c.hasOwnProperty(d)&&0<=b.indexOf("\x3c"+d+":")&&0>b.indexOf("xmlns:"+d+":"))&&(c[d]=opensocial.xmlutil.NSMAP[d]);return opensocial.xmlutil.serializeNamespaces_(c)};
opensocial.xmlutil.serializeNamespaces_=function(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push(" xmlns:",c,'\x3d"',b[c],'"');return a.join("")};opensocial.xmlutil.getNamespaceDeclarations_=function(b){for(var a={},c=0;c<b.attributes.length;c++){var d=b.attributes[c].nodeName;"xmlns:"==d.substring(0,6)&&(a[d.substring(6,d.length)]=b.getAttribute(d))}return a};opensocial.xmlutil.ENTITIES='\x3c!ENTITY nbsp "\x26#160;"\x3e';
opensocial.xmlutil.prepareXML=function(b,a){var c=opensocial.xmlutil.getRequiredNamespaces(b,a);return"\x3c!DOCTYPE root ["+opensocial.xmlutil.ENTITIES+']\x3e\x3croot xml:space\x3d"preserve"'+c+"\x3e"+b+"\x3c/root\x3e"};gadgets.views=gadgets.views||{};gadgets.views.openEmbeddedExperience=function(a,b,c,d){gadgets.rpc.call("..","gadgets.views.openEmbeddedExperience",function(a){b.apply(this,a)},gadgets.views.registerCallback_(a),c,d)};gadgets.views=gadgets.views||{};gadgets.views.openGadget=function(a,b,c){gadgets.rpc.call("..","gadgets.views.openGadget",function(a){b.apply(this,a)},gadgets.views.registerCallback_(a),c)};gadgets.views=gadgets.views||{};gadgets.views.openUrl=function(a,b,c,d){gadgets.rpc.call("..","gadgets.views.openUrl",function(a){b.call(this,a)},a,c,d)};gadgets.io.AuthorizationType.SSO="SSO";com=(window||this).com||{};com.ibm=com.ibm||{};com.ibm.cre=com.ibm.cre||{};cre$=com.ibm.cre;cre$.iwidget=cre$.iwidget||{};cre$.services=cre$.services||{};cre$.util=cre$.util||{};"undefined"==typeof __trace&&(__trace={enter:function(){},msg:function(){},evalFunction:function(){return"function() { }"},evalResult:function(){},exit:function(){},assertFunction:function(){return"function() { }"}});"undefined"==typeof __logging&&(__logging={logLevel:{TRACE:500,INFO:800,WARNING:900,SEVERE:1E3},log:function(){}});
if(!window.console){var c=window.console={};c.assert=c.debug=c.error=c.info=c.log=c.trace=c.warn=function(){}}console.debug||(console.debug=console.error);(function(){var a=cre$.util,b=window.dojo,p=Object.prototype.toString;"undefined"===typeof a._scopeMap&&(a._scopeMap=b?b._scopeMap:{});a.global=b?b.global:this;var d="$Rev: 22487 $".match(/\d+/);a.version=b?b.version:{major:1,minor:5,patch:0,flag:"",revision:d?+d[0]:NaN,toString:function(){}};var h,l,k={},e;for(e in{toString:1}){h=[];break}h=b?b._extraNames:h||"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" ");a._extraNames=h;l=h.length;a._mixin=
b?b._mixin:function(a,b){var c,f,g;for(c in b)if(f=b[c],!(c in a)||a[c]!==f&&(!(c in k)||k[c]!==f))a[c]=f;if(l&&b)for(g=0;g<l;++g)if(c=h[g],f=b[c],!(c in a)||a[c]!==f&&(!(c in k)||k[c]!==f))a[c]=f;return a};a.evalFn=function(a,b){var c;!b&&window.execScript?(a&&window.execScript(a,"JavaScript"),c=""):c=window.eval.call(window,a);return c};a.mixin=b?b.mixin:function(b,d){b||(b={});for(var c=1,f=arguments.length;c<f;c++)a._mixin(b,arguments[c]);return b};a._getProp=b?b._getProp:function(b,d,c){c=c||
a.global;for(var f=0,g;c&&(g=b[f]);f++)0===f&&a._scopeMap[g]&&(g=a._scopeMap[g]),c=g in c?c[g]:d?c[g]={}:void 0;return c};a.setObject=b?b.setObject:function(b,d,c){var f=b.split(".");b=f.pop();return(c=a._getProp(f,!0,c))&&b?c[b]=d:void 0};a.getObject=b?b.getObject:function(b,d,c){return a._getProp(b.split("."),d,c)};a.exists=b?b.exists:function(b,d){return!!a.getObject(b,!1,d)};if(b)a.isBrowser=b.isBrowser,a._name=b._name,a.isOpera=b.isOpera,a.isAIR=b.isAIR,a.isKhtml=b.isKhtml,a.isWebKit=b.isWebKit,
a.isChrome=b.isChrome,a.isMac=b.isMac,a.isSafari=b.isSafari,a.isMozilla=a.isMoz=b.isMozilla,a.isFF=b.isFF,a.isIE=b.isIE;else if("undefined"!==typeof window){a.isBrowser=!0;a._name="browser";e=navigator;d=e.userAgent;e=e.appVersion;var m=parseFloat(e);0<=d.indexOf("Opera")&&(a.isOpera=m);0<=d.indexOf("AdobeAIR")&&(a.isAIR=1);a.isKhtml=0<=e.indexOf("Konqueror")?m:0;a.isWebKit=parseFloat(d.split("WebKit/")[1])||void 0;a.isChrome=parseFloat(d.split("Chrome/")[1])||void 0;a.isMac=0<=e.indexOf("Macintosh");
var n=Math.max(e.indexOf("WebKit"),e.indexOf("Safari"),0);if(n&&!a.isChrome&&(a.isSafari=parseFloat(e.split("Version/")[1]),!a.isSafari||419.3>=parseFloat(e.substr(n+7))))a.isSafari=2;0<=d.indexOf("Gecko")&&(!a.isKhtml&&!a.isWebKit)&&(a.isMozilla=a.isMoz=m);a.isMoz&&(a.isFF=parseFloat(d.split("Firefox/")[1]||d.split("Minefield/")[1])||void 0);if(document.all&&!a.isOpera&&(a.isIE=parseFloat(e.split("MSIE ")[1])||void 0,(d=document.documentMode)&&5!=d&&Math.floor(a.isIE)!=d))a.isIE=d}a.isObject=b?b.isObject:
function(b){return void 0!==b&&(null===b||"object"===typeof b||a.isArray(b)||a.isFunction(b))};a.isFunction=b?b.isFunction:function(a){return"[object Function]"===p.call(a)};a.isArray=b?b.isArray:function(a){return a&&(a instanceof Array||"array"===typeof a)};a.isString=b?b.isString:function(a){return"string"==typeof a||a instanceof String};a.objectToQuery=b?b.objectToQuery:function(b){var d=encodeURIComponent,c=[],f={},g;for(g in b)if(Object.prototype.hasOwnProperty.call(b,g)){var e=b[g];if(e!=f[g]){var h=
d(g)+"\x3d";if(a.isArray(e))for(var k=0;k<e.length;k++)c.push(h+d(e[k]));else c.push(h+d(e))}}return c.join("\x26")}})();(function(){var c=cre$.util,d=window.dojo,k={};c.isArrayLike=d?d.isArrayLike:function(a){return a&&void 0!==a&&!c.isString(a)&&!c.isFunction(a)&&!(a.tagName&&"form"===a.tagName.toLowerCase())&&(c.isArray(a)||isFinite(a.length))};var h=function(a,b,e){return(e||[]).concat(Array.prototype.slice.call(a,b||0))},l=function(a,b,e){e=e||[];for(b=b||0;b<a.length;b++)e.push(a[b]);return e};c._toArray=d?d._toArray:c.isIE?function(a){return(a.item?l:h).apply(this,arguments)}:h;c.filter=d?d.filter:function(a,
b,e){var f=0,c=a&&a.length||0,d=[],g;c&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=k[b]||buildFn(b));if(e)for(;f<c;++f)g=a[f],b.call(e,g,f,a)&&d.push(g);else for(;f<c;++f)g=a[f],b(g,f,a)&&d.push(g);return d}})();(function(){var c=cre$.util,a=window.dojo;c.isAlien=a?a.isAlien:function(b){return b&&!c.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(String(b))};c.delegate=c._delegate=a?a.delegate:function(){function b(){}return function(d,a){b.prototype=d;var e=new b;b.prototype=null;a&&c._mixin(e,a);return e}}();c._hitchArgs=a?a._hitchArgs:function(b,d){var a=c._toArray(arguments,2),e=c.isString(d);return function(){var g=c._toArray(arguments),f=e?(b||c.global)[d]:d;return f&&f.apply(b||this,a.concat(g))}};
c.hitch=a?a.hitch:function(b,a){if(2<arguments.length)return c._hitchArgs.apply(c,arguments);a||(a=b,b=null);if(c.isString(a)){b=b||c.global;if(!b[a])throw['cu.hitch: scope["',a,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[a].apply(b,arguments||[])}}return!b?a:function(){return a.apply(b,arguments||[])}};c.partial=a?a.partial:function(a){return c.hitch.apply(c,[null].concat(c._toArray(arguments)))}})();(function(){var e=cre$.util,d=window.dojo;e.forEach=d?d.forEach:function(a,b,c){if(a&&a.length){b=["string"==typeof a?a.split(""):a,c||e.global,"string"==typeof b?new Function("item","index","array",b):b];a=b[0];c=0;for(var d=a.length;c<d;++c)b[2].call(b[1],a[c],c,a)}}})();(function(){var b=cre$.util;b.forIn=function(a,e,c){if(a&&"object"==typeof a){c=c||null;var b,d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b=a[d],cre$.util.hitch(c,e)(b,d,a))}};b.each=function(a,b,c){a&&(a instanceof Array||"number"===typeof a.length?cre$.util.forEach(a,b,c):cre$.util.forIn(a,b,c))}})();cre$.promise=cre$.promise||{};
(function(){var g=cre$,h=cre$.util,m=h.isFunction,n=h.mixin,k=h.each,q=h.partial,r=h.hitch;cre$.promise={};var f=cre$.promise,s=0;g.promise=g.promise||{};f.Promise=function(b){__trace.enter("cre$.promise","constructor",arguments);this._cbs=[];this._stat=-1;this._id=b;this._counter=s++;if(!b){var a=arguments.callee;this.id=(a=a?a.caller:null)?a.name&&0<a.name.length?a.name:a.toString():""}__trace.exit("cre$.promise","constructor")};n(g.promise,{isPromise:function(b){__trace.enter("cre$.promise","isPromise",
arguments);var a=b&&m(b.then);__trace.exit("cre$.promise","isPromise",a);return a},resolved:function(b){__trace.enter("cre$.promise","resolved",arguments);var a=new f.Promise("resolved("+b+")["+this._counter+"]");a.resolve(b);__trace.exit("cre$.promise","resolved",a);return a},rejected:function(b){__trace.enter("cre$.promise","rejected",arguments);var a=new f.Promise("rejected("+b+")["+this._counter+"]");a.reject(b);__trace.exit("cre$.promise","rejected",a);return a},join:function(b){__trace.enter("cre$.promise",
"join",arguments);try{eval("("+__trace.assertFunction("arr!\x3dnull")+").call(this);")}catch(a){console.log("cre$.promise.join: Error on asserting 'arr!\x3dnull'.",a)}var c=new f.Promise("join["+this._counter+"]"),d=Array(b.length),e=0,l=!1,p=function(){__trace.msg("cre$.promise","join","finCheck: Verifying whether we are done ++${0} \x3e\x3d ${1}",[e,d.length]);++e>=d.length&&(__trace.msg("cre$.promise","join","finCheck: Calling ${0} as rejected? ${1}",[c,l]),c[l?"reject":"resolve"](d))};0<b.length?
k(b,function(a,b){__trace.msg("cre$.promise","join","For each promise ${0} i:${1}",[a,b]);a.then(function(c){__trace.msg("cre$.promise","join","Resolved promise ${0} - return value: ${1}",[a,c]);d[b]=c;p()},function(c){__trace.msg("cre$.promise","join","Rejected promise ${0} - return value: ${1}",[a,c]);l=!0;d[b]=c;p()})}):(__trace.msg("cre$.promise","join","Empty Array."),c.resolve([]));__trace.exit("cre$.promise","join",c);return c}});n(f,{when:function(b){__trace.enter("cre$.promise","when",arguments);
var a=cre$.promise.isPromise(b)?b:cre$.promise.resolved(b);__trace.exit("cre$.promise","when",a);return a},whenAll:function(b){__trace.enter("cre$.promise","whenAll",arguments);var a=[];k(arguments,function(b){__trace.msg("cre$.promise","whenAll","For each promise: ${0}",[b]);a.push(f.when(b))});var c=g.promise.join(a);__trace.exit("cre$.promise","whenAll",c);return c}});f.Promise.prototype={_fin:function(b,a){__trace.enter("cre$.promise","_fin",arguments);if(-1!==this._stat)throw Error(cre$.LocaleHelper.getLocalizedMessages().ERR_PROMISE_ALREADY_RESOLVED);
this._v=b;this._stat=a;this._cbk();__trace.exit("cre$.promise","_fin",this);return this},_cbk:function(){__trace.enter("cre$.promise","_cbk",arguments);var b=this._stat,a=this._cbs,c=this._v,d;if(0===b&&g.promise.isPromise(c))for(__trace.msg("cre$.promise","_cbk","Recognized promise");0<a.length;)c.then.apply(c,a.shift());for(;0<a.length;)if(d=a.shift()[b]){__trace.msg("cre$.promise","_cbk","Calling function: ${0}",[d]);try{d(c)}catch(e){d=__logging.isLogTrace,__logging.isLogTrace=!0,__logging.log("cre$.promise.Promise",
"_cbk",e),__logging.isLogTrace=d}}__trace.exit("cre$.promise","_cbk")},_delegate:function(b){__trace.enter("cre$.promise","_delegate",arguments);try{eval("("+__trace.assertFunction("fn!\x3dnull")+").call(this);")}catch(a){console.log("cre$.promise._delegate: Error on asserting 'fn!\x3dnull'.",a)}var c=new f.Promise("_delegate["+this._counter+"]");this.then(q(b,c),r(c,"reject"));__trace.exit("cre$.promise","_delegate",c);return c},resolve:function(b){__trace.enter("cre$.promise","resolve",arguments);
var a=arguments.callee;calledBy=(a=a?a.caller:null)?a.name&&0<a.name.length?a.name:a.toString():"";__trace.msg("cre$.promise","resolve","resolve of ${0} called by ${1}",[this,calledBy]);a=this._fin(b,0);__trace.exit("cre$.promise","resolve",a);return a},reject:function(b){__trace.enter("cre$.promise","reject",arguments);var a=arguments.callee;calledBy=(a=a?a.caller:null)?a.name&&0<a.name.length?a.name:a.toString():"";__trace.msg("cre$.promise","reject","reject of ${0} called by ${1}",[this,calledBy]);
a=this._fin(b,1);__trace.exit("cre$.promise","reject",a);return a},progress:function(b){__trace.enter("cre$.promise","progress",arguments);k(this._cbs,function(a){__trace.msg("cre$.promise","progress","For each set ${0}",[a]);if(a[2])a[2](b)});__trace.exit("cre$.promise","progress",this);return this},then:function(b,a,c){__trace.enter("cre$.promise","then",arguments);try{eval("("+__trace.assertFunction("suc!\x3dnull")+").call(this);")}catch(d){console.log("cre$.promise.then: Error on asserting 'suc!\x3dnull'.",
d)}var e=new f.Promise("then["+this._counter+"]");__trace.msg("cre$.promise","then","Promise to execute: ${0}",[e]);this._cbs.push([function(a){__trace.msg("cre$.promise","then","Resolved promise ${0} - return value: ${1}",[e,a]);try{if(b){var c=b(a);void 0!==c&&(a=c)}e.resolve(a)}catch(d){throw __trace.msg("cre$.promise","then","Error while resolving - exception: ${0}",[d]),e.reject(d),d;}},function(b){__trace.msg("cre$.promise","then","Rejected promise ${0} - return value: ${1}",[e,b]);var c=b;
try{a&&(c=a(b),void 0===c&&(c=b)),e.reject(c)}catch(d){throw __trace.msg("cre$.promise","then","Error while rejecting - exception: ${0}",[d]),e.reject(d),d;}},c]);-1!==this._stat&&this._cbk();__trace.exit("cre$.promise","then",e);return e},call:function(b,a){__trace.enter("cre$.promise","call",arguments);try{eval("("+__trace.assertFunction("name!\x3dnull")+").call(this);")}catch(c){console.log("cre$.promise.call: Error on asserting 'name!\x3dnull'.",c)}var d=this._delegate(function(c,d){d&&m(d[b])?
c.resolve(d[b].apply(d,a)):c.reject(Error(b+" "+cre$.LocaleHelper.getLocalizedMessages().ERR_NOT_A_FUNC+" "+d))});__trace.exit("cre$.promise","call",d);return d},get:function(b){__trace.enter("cre$.promise","get",arguments);try{eval("("+__trace.assertFunction("name!\x3dnull")+").call(this);")}catch(a){console.log("cre$.promise.get: Error on asserting 'name!\x3dnull'.",a)}var c=this._delegate(function(a,c){c?a.resolve(c[b]):a.reject(Error(cre$.LocaleHelper.getLocalizedMessages().ERR_IS_NULL_UNDEFINED)+
" "+c)});__trace.exit("cre$.promise","get",c);return c}}})();cre$.sso=cre$.sso||{};cre$.sso.ReauthHandler=function(a,b){this.reauthURL_=this.behavior_=null;a&&b?(this.openCallback_=a,this.closeCallback_=b,this.behavior_=cre$.sso.ReauthBehavior.INLINE):this.behavior_=cre$.sso.ReauthBehavior.NAVIGATE;this.win_=null};cre$.sso.ReauthHandler.prototype.getReauthBehavior=function(){return this.behavior_};cre$.sso.ReauthHandler.prototype.setReauthURL=function(a){this.reauthURL_=a};cre$.sso.ReauthHandler.prototype.renderComplete=function(){};
cre$.sso.ReauthHandler.prototype.createHandlerOnClick=function(){var a=this;return function(){if(a.behavior_===cre$.sso.ReauthBehavior.NAVIGATE)gadgets.rpc.call("..","_cre_sso_reauth_cb");else if(a.behavior_===cre$.sso.ReauthBehavior.INLINE){var b=gadgets.rpc.call(null,"_cre_sso_reauth_cb");if(null==b||void 0==b)b=a.reauthURL_;null==b||void 0==b?console.error("There is no valid reauth URE could be used to do reauth!"):setTimeout(function(){a.onClick_(b)},100)}}};
cre$.sso.ReauthHandler.prototype.onClick_=function(a){if(this.win_=window.open(a,"_blank")){var b=this;this.timer_=window.setInterval(function(){b.checkClosed_()},100);this.openCallback_()}return!1};cre$.sso.ReauthHandler.prototype.checkClosed_=function(){if(!this.win_||this.win_.closed)this.win_=null,this.handleDone_()};
cre$.sso.ReauthHandler.prototype.handleDone_=function(){this.timer_&&(window.clearInterval(this.timer_),this.timer_=null);this.win_&&(this.win_.close(),this.win_=null);this.closeCallback_();return!1};cre$.sso.ReauthHandler.prototype.createDoneOnClick=function(){var a=this;return function(){a.handleDone_()}};cre$.sso.ReauthBehavior=gadgets.util.makeEnum(["INLINE","NAVIGATE"]);var com=com||{};com.ibm=com.ibm||{};com.ibm.connections=com.ibm.connections||{};com.ibm.connections.ee=com.ibm.connections.ee||{};
(function(){function d(a){a||(a=window.event);a.keyCode==f&&(b?c&&(b=c=!1):gadgets.rpc.call("","_conn_ee_close_popup"))}var e=com.ibm.connections.ee,b=!1,c=!1;e.preventCloseOnEscape=function(){b=!0;c=!1};e.allowCloseOnEscape=function(a){b&&(a?c=!0:b=!1)};var f=27;gadgets.util.registerOnLoadHandler(function(){var a=window.document;a.addEventListener?a.addEventListener("keyup",d,!1):a.attachEvent&&a.attachEvent("onkeyup",d)})})();var ibm=ibm||{};ibm.connections=ibm.connections||{};ibm.connections.ee=ibm.connections.ee||{};(function(){var a=ibm.connections.ee;a.onActivityEntryUpdate=function(a,b){gadgets.rpc.call("","_conn_ee_activityentry_update",null,a,b)};a.setDirty=function(a){gadgets.rpc.call("","_conn_ee_setdirty",null,a)};a.scrollToTop=function(){gadgets.rpc.call("","_conn_ee_scrollTop")};a.scrollToBottom=function(){gadgets.rpc.call("","_conn_ee_scrollBottom")}})();gadgets.window=gadgets.window||{};
(function(){function h(c,d){var e=navigator,a=e.appVersion,e=parseFloat(e.userAgent.split("WebKit/")[1])||void 0,a=parseFloat(a.split("MSIE ")[1])||void 0,a=(e?function(a){var b;if(a.nodeType==DOM_ELEMENT_NODE){var c=a.ownerDocument.defaultView;b=c.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=c.getComputedStyle(a,null))}return b||{}}:a&&!window.getComputedStyle?function(a){return a.nodeType==DOM_ELEMENT_NODE?a.currentStyle:{}}:function(a){return a.nodeType==DOM_ELEMENT_NODE?a.ownerDocument.defaultView.getComputedStyle(a,
null):{}})(c);return d&&a?a[d]:a}function k(c,d){var e=h(c,d);if(e)return e.match(/^([0-9]+)/),parseInt(RegExp.$1,10)}gadgets.window.getDimen=function(c){for(var d=0,e=[document.body];0<e.length;){var a=e.shift(),l=a.childNodes;if("undefined"!==typeof a.style&&a!==document.body){var b=a.style[c?"overflowY":"overflowX"];b||(b=h(a,c?"overflowY":"overflowX"));if("visible"!=b&&"inherit"!=b&&((b=a.style[c?"height":"width"])||(b=h(a,c?"height":"width")),b&&0<b.length&&"auto"!=b))continue}for(a=0;a<l.length;a++){var f=
l[a];if("undefined"!=typeof f.style){var g=f.offsetTop,m="marginBottom",b=f.offsetHeight,n=h(f,"direction");c||(g=f.offsetLeft,m="marginRight",b=f.offsetWidth,"rtl"==n&&("undefined"!=typeof g&&"undefined"!=typeof b&&f.offsetParent)&&(g=f.offsetParent.offsetWidth-g-b));"undefined"!=typeof g&&"undefined"!=typeof b&&(b=g+b+(k(f,m)||0),d=Math.max(d,b))}e.push(f)}}return d+(k(document.body,c?"borderBottom":"borderRight")||0)+(k(document.body,c?"marginBottom":"marginRight")||0)+(k(document.body,c?"paddingBottom":
"paddingRight")||0)};gadgets.window.getViewportDimensions=function(){var c=0,d=0;self.innerHeight?(c=self.innerWidth,d=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(c=document.documentElement.clientWidth,d=document.documentElement.clientHeight):document.body&&(c=document.body.clientWidth,d=document.body.clientHeight);return{width:c,height:d}}})();gadgets.window=gadgets.window||{};(function(){gadgets.window.getHeight=function(){return gadgets.window.getDimen(1)}})();gadgets.window=gadgets.window||{};(function(){var b;gadgets.window.adjustHeight=function(a){if("object"===typeof a&&(a=a.height)){gadgets.rpc.call(null,"resize_iframe",null,a);return}a=parseInt(a,10);var c=!1;isNaN(a)&&(c=!0,a=gadgets.window.getHeight());a!==b&&(!isNaN(a)&&!(c&&0===a))&&(b=a,gadgets.rpc.call(null,"resize_iframe",null,a+"px"))}})();var _IG_AdjustIFrameHeight=gadgets.window.adjustHeight;gadgets.window=gadgets.window||{};gadgets.window.setTitle=function(a){gadgets.rpc.call(null,"set_title",null,a)};var _IG_SetTitle=gadgets.window.setTitle;gadgets.oauth=gadgets.oauth||{};gadgets.oauth.Popup=function(a,b,c,d){this.destination_=a;this.windowOptions_=b;this.openCallback_=c;this.closeCallback_=d;this.win_=null};gadgets.oauth.Popup.prototype.createOpenerOnClick=function(){var a=this;return function(){a.onClick_()}};gadgets.oauth.Popup.prototype.onClick_=function(){if(this.win_=window.open(this.destination_,"_blank",this.windowOptions_)){var a=this;this.timer_=window.setInterval(function(){a.checkClosed_()},100);this.openCallback_()}return!1};
gadgets.oauth.Popup.prototype.checkClosed_=function(){if(!this.win_||this.win_.closed)this.win_=null,this.handleApproval_()};gadgets.oauth.Popup.prototype.handleApproval_=function(){this.timer_&&(window.clearInterval(this.timer_),this.timer_=null);this.win_&&(this.win_.close(),this.win_=null);this.closeCallback_();return!1};gadgets.oauth.Popup.prototype.createApprovedOnClick=function(){var a=this;return function(){a.handleApproval_()}};(function(){function k(){}function l(){this._fired=-1;this._result=null;this._cbQ=[];this._errQ=[];this.then=function(a,c){a&&this._cbQ.push(a);c&&this._errQ.push(c);this._runCallbacks();return new l};this._resolve=function(a,c){-1===this._fired&&(this._fired=a,this._result=c,this._runCallbacks())};this._runCallbacks=function(){if(-1!==this._fired){var a=this._result;n(0===this._fired?this._errQ:this._cbQ,function(c){c(a)});this._errQ=[];this._cbQ=[]}}}function n(a,c){if(a&&c){var b,d=a.length;for(b=
0;b<d;b++)c(a[b],b)}}function e(){var a="BackCompat"==document.compatMode?document.body:document.documentElement;b.style.left=(window.pageXOffset||document.body.scrollLeft)+"px";b.style.top=(window.pageYOffset||document.body.scrollTop)+"px";b.style.width=a.clientWidth+"px";b.style.height=a.clientHeight+"px"}function p(){b||m.then(function(a){var c=document.createElement("img");c.src=a;c.alt="loading";b=document.createElement("div");b.id="auth_overlay";b.style.cssText="position:absolute; left:0; top:0; z-index:1000; background: #fff;";
b.appendChild(c);document.body.appendChild(b);e();window.addEventListener&&window.addEventListener("resize",e,!1);window.attachEvent&&window.attachEvent("onresize",e);window.setTimeout(g,1E4)})}function g(){b&&(b.parentNode.removeChild(b),b=null,window.removeEventListener&&window.removeEventListener("resize",e,!1),window.detachEvent&&window.detachEvent("onresize",e))}var m=new l;gadgets.config.register("cre.services.oauth.Popup",null,function(a){a=a["cre.services.oauth.Popup"]||{};m._resolve(1,a.spinnerImageUrl)});
gadgets.oauth=gadgets.oauth||{};var h=gadgets.oauth.Popup;h.prototype.renderComplete=h.prototype.renderComplete||function(){};var q=0,f={};(function(){gadgets.rpc.register("_ic_oauth_dialog_closed",function(a){var c=a.pids;a=a.isAutoFail;for(var b=c.length,d;b--;)d=c[b],f[d]&&(f[d](a),delete f[d])})})();var b=null;gadgets.oauth.Popup=function(a,b,e,d){var f=gadgets.util.getUrlParameters(a)._oauth_client_auto_authorize;if(void 0==f)return new h(a,b,e,d);this._pid=q++;this._destination=a;this._windowOptions=
b;this._openCallback=e||k;this._closeCallback=d||k;this._autoAuthParam=f};gadgets.oauth.Popup.prototype={createOpenerOnClick:function(){var a=this;return function(){return a._openPopup(!1)}},_continue:function(a){this._continued||(a?g():(this._continued=!0,"true"===this._autoAuthParam&&this._openCallback(),g(),this._closeCallback()))},createApprovedOnClick:function(){var a=this;return function(){a._continue(!1);return!1}},_openPopup:function(a){gadgets.rpc.call("","_ic_oauth_dialog_open",null,this._destination,
this._windowOptions,this._pid,a);var b=this;f[this._pid]=function(a){b._continue(a)};p();a||this._openCallback();return!1},renderComplete:function(){"true"===this._autoAuthParam&&this._openPopup(!0)}}})();window['___jsl']['l'] = (window['___jsl']['l'] || []).concat(['com.ibm.connections.ee','content-rewrite','cre.service.sso','cre.services.oauth.Popup','dynamic-height','embedded-experiences','ibm.connections.ee','oauthpopup','open-views','opensocial-0.9','opensocial-data-context','osapi','security-token','settitle','sso-domain']);