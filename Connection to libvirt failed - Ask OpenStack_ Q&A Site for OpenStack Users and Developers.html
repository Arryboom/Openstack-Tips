<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0073)https://ask.openstack.org/en/question/98662/connection-to-libvirt-failed/ -->
<html xmlns="http://www.w3.org/1999/xhtml" class=" js history"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="https://apis.google.com/js/plusone.js?_=1511173707988"></script> <title>Connection to libvirt failed - Ask OpenStack: Q&amp;A Site for OpenStack Users and Developers</title> <meta name="description" content="Am installing Openstack mitaka (single Ubuntu 14 vm - all in one controller with neutron linuxbridge) deploying through the ansible playbooks. Once the deployment is completed am able to see the services (nova, neutron etc )are active. But when i try to launch an instance, vm is getting to ERROR state. The nova-compute logs shows error as follows: 2016-11-07 12:43:42.892 30047 INFO nova.service [-] Starting compute node (version 13.1.1) 2016-11-07 12:43:42.899 30047 INFO nova.virt.libvirt.driver [-] Connection event &#39;0&#39; reason &#39;Failed to connect to libvirt&#39; 2016-11-07 12:43:42.923 30047 WARNING nova.virt.libvirt.driver [req-4678f654-469f-4085-a409-7a17b01d6674 - - - - -] Cannot update service status on host &quot;controller&quot; since it is not registered. 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host [req-4678f654-469f-4085-a409-7a17b01d6674 - - - - -] Connection to libvirt failed: Failed to connect socket to &#39;/var/run/libvirt/libvirt-sock&#39;: Permission denied 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host Traceback (most recent call last): 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host File &quot;/usr/lib/python2.7/dist-packages/nova/virt/libvirt/host.py&quot;, line 528, in get_connection 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host conn = self._get_connection() 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host File &quot;/usr/lib/python2.7/dist-packages/nova/virt/libvirt/host.py&quot;, line 515, in _get_connection 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host wrapped_conn = self._get_new_connection() 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host File &quot;/usr/lib/python2.7/dist-packages/nova/virt/libvirt/host.py&quot;, line 467, in _get_new_connection 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host wrapped_conn = self._connect(self._uri, self._read_only) 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host File &quot;/usr/lib/python2.7/dist-packages/nova/virt/libvirt/host.py&quot;, line 321, in _connect 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host libvirt.openAuth, uri, auth, flags) 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host File &quot;/usr/lib/python2.7/dist-packages/eventlet/tpool.py&quot;, line 144, in proxy_call 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host rv = execute(f, *args, **kwargs) 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host File &quot;/usr/lib/python2.7/dist-packages/eventlet/tpool.py&quot;, line 125, in execute 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host six.reraise(c, e, tb) 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host File &quot;/usr/lib/python2.7/dist-packages/eventlet/tpool.py&quot;, line 83, in tworker 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host rv = meth(*args, **kwargs) 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host File &quot;/usr/lib/python2.7/dist-packages/libvirt.py&quot;, line 105, in openAuth 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host if ret is None:raise libvirtError(&#39;virConnectOpenAuth() failed&#39;) 2016-11-07 12:43:42.924 30047 ERROR nova.virt.libvirt.host libvirtError: Failed ... (more)">  <meta http-equiv="X-UA-Compatible" content="IE=EDGE"> <meta name="keywords" content=",Ask, OpenStack,forum,community,cloud,iaas"> <meta name="referrer" content="always"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> <link rel="shortcut icon" href="https://ask.openstack.org/upfiles/favicon.ico"> <link rel="alternate" type="application/rss+xml" title="RSS feed from Ask OpenStack" href="https://ask.openstack.org/en/feeds/rss/"> <link href="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/style.css" rel="stylesheet" type="text/css"> <link href="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/extra.css" rel="stylesheet" type="text/css"> <link href="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/font-awesome.css" rel="stylesheet" type="text/css"> <link href="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/bootstrap.css" rel="stylesheet" type="text/css"> <!--
Copyright 2013 OpenStack Foundation

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.
--> <link href="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/css" rel="stylesheet" type="text/css"> <link rel="canonical" href="https://ask.openstack.org/en/question/98662/connection-to-libvirt-failed/"> <link rel="stylesheet" type="text/css" href="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/wmd.css"> <script type="text/javascript" async="" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/ga.js.下载"></script><script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/modernizr.custom.js.下载"></script> <script type="text/javascript">
    var askbot = {};
    askbot['data'] = {};
    askbot['data']['userIsAuthenticated'] = false;
    askbot['data']['languageCode'] = 'en';
    
        askbot['data']['userReputation'] = 0;
        askbot['data']['userEmail'] = null;
        askbot['data']['userIsReadOnly'] = false;//in principle we allow anon users to start posting
    
    askbot['urls'] = {};
    askbot['settings'] = {};
    askbot['messages'] = {};
    
</script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/saved_resource"></script> <script type="text/javascript">
        /*<![CDATA[*/
        //below is pure cross-browser javascript, no jQuery
        askbot['data']['userIsThreadModerator'] = false;
        askbot['data']['oldestAnswerId'] = 98677;
        askbot['data']['threadIsClosed'] = false;
        
        (function(){

            var hasClass = function(node, selector) {
                var classes = (" " + node.className + " ").split(' ');
                for (var i = 0; i < classes.length; i++) {
                    if (classes[i] === selector) {
                        return true;
                    }
                }
                return false;
            }

            var findClosestParentByClassName = function(node, className) {
                if (hasClass(node, className)) {
                    return node;
                }
                if (node.nodeName === 'BODY') {
                    return false;
                } else {
                    return findClosestParentByClassName(node.parentNode, className);
                }
            };

            var findChildrenByClassName = function(node, className) {
                var nodes = [];
                var walk = function(node) {
                    if (hasClass(node, className)) {
                        nodes.push(node);
                    }
                    if (node.childNodes) {
                        for (var i=0; i < node.childNodes.length; i++) {
                            walk(node.childNodes[i]);
                        }
                    }
                };
                walk(node);
                return nodes;
            };

            var getTextContent = function(node) {
                var text = node.innerText || node.textContent;
                if (text === undefined) {
                    return '';
                } else {
                    return text;
                }
            };

            var hasAttribute = function(node, attrName) {
                if (node.hasAttribute) {
                    return node.hasAttribute(attrName);
                } else {
                    return (!(!(node.getAttribute(attrName))));
                }
            };

            var findChildByAttribute = function(node, attrName, attrVal) {
                var children = node.childNodes;
                for (var i = 0; i < children.length; i++) {
                    var child = children[i];
                    if (child.getAttribute(attrName) === attrVal) {
                        return child;
                    }
                };
                return null;
            };

            var postIsComment = function(postId) {
                if (document.getElementById('comment-' + postId)) {
                    return true;
                }
                return false;
            };

            var getPost = function(postId) {
                return document.getElementById('post-id-' + postId);
            }

            var postIsQuestion = function(postId) {
                var content = getPost(postId);
                if (content) {
                    if (hasClass(content, 'js-comment')) {
                        return false;
                    }
                    if (findClosestParentByClassName(content, 'js-question')) {
                        return true;
                    }
                }
                return false;
            };

            var removeNode = function(node) {
                node.parentNode.removeChild(node);
            };

            var trim = function(text) {
                return text.replace(/^\s+|\s+$/g, '');
            };

            var data = askbot['data'];
            var isAuthorOfPost = function(post_id) {
                return (data['user_posts'] && data['user_posts'][post_id]);
            };

            if (data['userIsAuthenticated']){
                var votes = {};
                
                data['user_votes'] = votes;
                var posts = {};
                
                data['user_posts'] = posts;
            }

            function render_vote_buttons(post_type, post_id){
                var upvote_btn = document.getElementById(
                    post_type + '-img-upvote-' + post_id
                );
                var downvote_btn = document.getElementById(
                    post_type + '-img-downvote-' + post_id
                );
                if (data['userIsAuthenticated']){
                    if (post_id in data['user_votes']){
                        var vote = data['user_votes'][post_id];
                        if (vote == -1){
                            var btn = downvote_btn;
                        } else if (vote == 1){
                            var btn = upvote_btn;
                        } else {
                            return;
                        }
                        if (post_type == 'comment'){
                            btn.className = btn.className + ' upvoted';
                        } else {
                            btn.className = btn.className + ' on';
                        }
                    }
                }
            }

            function hide_convert_answer_links(post_id){
                var id1 = 'post-' + post_id + '-convert';//for repost as Q comment
                var repostAsQuestionComment = document.getElementById(id1);
                var id2 = 'post-' + post_id + '-repost-as-comment-under-previous-answer';
                var repostAsPrevAnsComment = document.getElementById(id2);
                var extraOptsList = repostAsQuestionComment.parentNode;
                var extraOpts = extraOptsList.parentNode;

                var isAuthenticated = data['userIsAuthenticated'];
                var isMod = data['userIsAdminOrMod'];
                if (isAuthenticated && (isMod || isAuthorOfPost(post_id))) {
                    //still may need to hide because answer may be too long
                    var answer_container = getPost(post_id);
                    var answerBody = findChildrenByClassName(answer_container, 'post-body')[0];
                    //todo: this is not reliable
                    var answerBodyNodes = answerBody.childNodes;
                    var answerElement = answerBodyNodes[answerBodyNodes.length - 1];
                    if (trim(getTextContent(answerElement)).length > askbot['data']['maxCommentLength']) {
                        repostAsQuestionComment.parentNode.removeChild(repostAsQuestionComment);
                        repostAsPrevAnsComment.parentNode.removeChild(repostAsPrevAnsComment);
                    } else if (parseInt(post_id) === data['oldestAnswerId']) {
                        repostAsPrevAnsComment.parentNode.removeChild(repostAsPrevAnsComment);
                    }
                } else {
                    repostAsQuestionComment.parentNode.removeChild(repostAsQuestionComment);
                    repostAsPrevAnsComment.parentNode.removeChild(repostAsPrevAnsComment);
                }

                //if the whole control is empty - remove it
                if (extraOptsList.getElementsByTagName('li').length === 0) {
                    extraOpts.parentNode.removeChild(extraOpts);
                }
            }

            function hidePublishAnswerLink(postId) {
                if (data['userIsThreadModerator'] === false) {
                    //hide publish/unpublish answer links
                    var answerId = 'post-' + postId + '-publish';
                    var pubBtn = document.getElementById(answerId);
                    if (pubBtn) {
                        removeNode(pubBtn);
                    }
                }
            }

            function remove_all_controls(post_id) {
                var deleteBtn = document.getElementById('post-' + post_id + '-delete');
                var controls = deleteBtn.parentNode;
                if (controls.className == 'comment-content') {
                    removeNode(deleteBtn);
                    var convertLinks = findChildrenByClassName(controls, 'convert-comment');
                    if (convertLinks.length) {
                        removeNode(convertLinks[0]);
                    }
                    var editLinks = findChildrenByClassName(controls, 'edit');
                    if (editLinks.length) {
                        removeNode(editLinks[0]);
                    }
                } else {
                    var buttons = controls.childNodes;
                    var numButtons = buttons.length;
                    for (var i = numButtons - 1; i >= 0; i--) {
                        removeNode(buttons[i]);
                    }
                }
            };

            function render_post_controls(post_id, is_wiki){

                //in this case remove all post controls
                if (askbot['settings']['readOnlyModeEnabled'] === true) {
                    remove_all_controls(post_id);
                    return;
                }

                var deleteBtn = document.getElementById('post-' + post_id + '-delete');
                var controls = deleteBtn.parentNode;
                var mergeBtn = findChildrenByClassName(controls, 'question-merge');
                if (mergeBtn.length === 1 && data['userIsThreadModerator'] === false) {
                    removeNode(mergeBtn[0]);
                }

                if (data['userIsAdminOrMod']) {
                    return;//all remaining functions stay on
                }

                

                if (isAuthorOfPost(post_id)) {
                    if (postIsQuestion(post_id) && 1) {
                        if (data['userReputation'] < 1) {
                            if (!data['userIsAdminOrMod']) {
                                removeNode(deleteBtn);
                            }
                        }
                    }
                    //todo: remove edit button from older comments
                    return;
                }

                if (//maybe remove "delete" button
                    (data['userReputation'] <
                    200) || data['userIsReadOnly']
                ) {
                    removeNode(deleteBtn);
                }

                var canFlagPosts = data['userReputation'] >= 5;
                var flags = findChildrenByClassName(controls, 'question-flag');
                if (flags.length > 0 && !canFlagPosts) {
                    for (var i = 0; i < flags.length; i++) {
                        removeNode(flags[i]);
                    }
                }
                var closeBtn = findChildrenByClassName(controls, 'question-close');
                if (
                    closeBtn.length === 1 &&
                    (
                        (data['userReputation'] < 200) ||
                        data['userIsReadOnly']
                    )
                ) {
                    removeNode(closeBtn[0]);
                }
                var enoughRep = (data['userReputation'] >= 100 ||
                        (is_wiki && data['userReputation'] >= 75));
                if (//maybe remove "edit" button
                    !enoughRep || data['userIsReadOnly']//only authors edit comments
                ){
                    var editBtns = findChildrenByClassName(getPost(post_id), 'js-edit');
                    var numBtns = editBtns.length;
                    for (var i=0; i<numBtns; i++) {
                        removeNode(editBtns[i]);
                    }
                }
                if (//maybe remove retag button
                    (!isAuthorOfPost(post_id)) &&
                    postIsQuestion(post_id) &&
                    ((data['userReputation'] <
                    50) ||
                    data['userIsReadOnly'])
                ){
                    var retagBtn = document.getElementById('retag');
                    if (retagBtn) {
                        removeNode(retagBtn);
                    }
                }
            }

            function render_add_answer_button(){
                var add_answer_btn = document.getElementById('add-answer-btn');
                if (askbot['data']['userIsAuthenticated']){
                    if (askbot['data']['userId'] == 8788){
                        add_answer_btn.className += ' answer-own-question';
                        add_answer_btn.setAttribute(
                            'value',
                            'Answer Your Own Question'
                        )
                    } else {
                        add_answer_btn.setAttribute(
                           'value',
                           'Post Your Answer'
                        )
                    }
                } else {
                    add_answer_btn.setAttribute(
                        'value',
                        'Login/Signup to Post'
                    );
                }
            }

            function hide_convert_links() {
                var isAuthenticated = data['userIsAuthenticated'];
                var isMod = data['userIsAdminOrMod'];
                if (isAuthenticated && isMod) {
                    return;
                }
                var convertForms = findChildrenByClassName(document, 'convert-comment');
                for (var i = 0; i < convertForms.length; i++) {
                    //get comment id
                    var form = convertForms[i];
                    var idInput = findChildByAttribute(form, 'name', 'comment_id');
                    var commentId = idInput.getAttribute('value');
                    if (! isAuthorOfPost(commentId) ) {
                        form.setAttribute('style', 'display:none;');
                    }
                }
            }

            askbot['functions'] = askbot['functions'] || {};
            askbot['functions']['renderPostVoteButtons'] = render_vote_buttons;
            askbot['functions']['renderPostControls'] = render_post_controls;
            askbot['functions']['renderAddAnswerButton'] = render_add_answer_button;
            askbot['functions']['hideConvertLinks'] = hide_convert_links;
            askbot['functions']['hideConvertAnswerLinks'] = hide_convert_answer_links;
            askbot['functions']['hidePublishAnswerLink'] = hidePublishAnswerLink;
        })();
        /*]]>*/
    </script> <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17511903-1']);
  _gaq.push(['_setDomainName', 'openstack.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script> <meta name="google-site-verification" content="KopbwK-gwQmiTVr-iZbHQxBlM7gRjd3RkuIyGNi4bJE"> </head> <body class="two-col question-page anon lang-en"> <div class="notify" style="display:none"> <div class="content-wrapper"> <a id="closeNotify" onclick="notify.close(true)"></a> </div> </div> <!-- template header.html --> <div id="header" class="with-logo"> <div class="content-wrapper"> <div id="userToolsNav"> <span class="lang-nav dropdown-toggle"> <ul class="dropdown-menu"> <li> <a href="https://ask.openstack.org/zh/" data-lang="zh">Chinese</a> </li> </ul> <i class="fa fa-globe"></i> <span class="curr-lang">English</span> <span class="toggle">▼</span> </span> </div> <a id="logo" href="https://ask.openstack.org/en/questions/"><img src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/openstack-logo-full-padded_pcWgUcp.png" alt="Ask OpenStack logo"> </a> <div id="metaNav"> <!--
Copyright 2013 OpenStack Foundation

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.
--> <a class="signin" href="https://ask.openstack.org/en/account/signin/?next=/en/question/98662/connection-to-libvirt-failed/">Hi there! Please sign in</a> <a id="navTags" href="https://ask.openstack.org/en/tags/">tags</a> <a id="navUsers" href="https://ask.openstack.org/en/users/">users</a> <a id="navBadges" href="https://ask.openstack.org/en/badges/">badges</a> <a class="help" href="https://ask.openstack.org/en/help/" title="help">help</a> </div> <div class="clean"></div> </div> </div> <!-- end template header.html --> <!-- template secondary_header.html --> <div id="secondaryHeader"> <div class="content-wrapper"> <form action="https://ask.openstack.org/en/questions/" id="searchForm" class="scopes-True-True-False" method="get"> <table width="100%"> <tbody><tr> <td width="1"><a id="homeButton" href="https://ask.openstack.org/en/questions/"><i class="fa fa-home"></i></a></td> <td width="1"><div id="scopeNav"> <a class="scope-selector " href="https://ask.openstack.org/en/questions/scope:all/sort:activity-desc/page:1/">ALL</a> <a class="scope-selector " href="https://ask.openstack.org/en/questions/scope:unanswered/sort:answers-asc/page:1/">UNANSWERED</a> </div></td> <td width="*" class="search-bar"> <div id="searchBar" class="search-bar"><input class="searchInput" type="text" autocomplete="off" value="" name="query" placeholder="search or ask your question" id="keywords"><input type="submit" value="" name="search" class="searchBtn"><input type="button" value="X" name="reset_query" class="cancelSearchBtn" style="display: none;"><div class="search-drop-menu empty" style="display: none;"><ul></ul><div class="wait-icon-box" style="display: none;"><img src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/ajax-loader.gif"></div><div class="footer"><button class="submit btn btn-default">Ask Your Question</button></div></div></div> </td> <td width="1"> <a id="askButton" class="button" href="https://ask.openstack.org/en/questions/ask/">
            Ask Your Question
        </a> </td> </tr> </tbody></table> </form> </div> </div> <div class="content-wrapper"> <div id="ContentLeft"> <div class="post js-question" data-post-id="98662"> <div class="vote-buttons"> <div id="question-img-upvote-98662" class="question-img-upvote post-vote upvote"> </div> <div id="question-vote-number-98662" class="vote-number" title="current number of votes">0</div> <div id="question-img-downvote-98662" class="question-img-downvote post-vote downvote"> </div> <script type="text/javascript">
    askbot['functions']['renderPostVoteButtons']('question', '98662');
</script> <a class="twitter-share icon" title="Share this content on twitter"></a> <a class="facebook-share icon" title="Share this content on facebook"></a> <a class="linkedin-share icon" title="Share this content on linkedin"></a> <g:plusone size="small" count="false"></g:plusone> </div> <div id="post-id-98662" class="post-content"> <h1 class="js-editable" id="js-question-title-98662" data-get-text-url="/en/get-question-title/?question_id=98662" data-save-text-url="/en/set-question-title/?question_id=98662" data-save-text-param-name="title" data-validated-text-param-name="title" data-min-lines="1" data-editor-type="plain" data-validator="askbot.validators.titleValidator"><div class="js-error"></div> <div class="js-editable-content">Connection to libvirt failed</div><div style="display: none;"><div class="js-simple-editor"><textarea cols="60" rows="10" maxlength="1000"></textarea><pre class="mirror"></pre></div></div> <div class="js-editable-controls">  <button style="display: none;">save</button><button style="display: none;">cancel</button></div> </h1> <ul id="question-tags" class="tags post-tags tags"> <li> <div class="js-tag "><a class="js-tag-name" rel="tag" href="https://ask.openstack.org/en/questions/scope:all/sort:activity-desc/tags:mitaka-nova/page:1/" data-tag-name="mitaka-nova">mitaka-nova</a></div> </li> <li> <div class="js-tag "><a class="js-tag-name" rel="tag" href="https://ask.openstack.org/en/questions/scope:all/sort:activity-desc/tags:nova/page:1/" data-tag-name="nova">nova</a></div> </li> <li> <div class="js-tag "><a class="js-tag-name" rel="tag" href="https://ask.openstack.org/en/questions/scope:all/sort:activity-desc/tags:libvirt/page:1/" data-tag-name="libvirt">libvirt</a></div> </li> <li> <div class="js-tag "><a class="js-tag-name" rel="tag" href="https://ask.openstack.org/en/questions/scope:all/sort:activity-desc/tags:qemu/page:1/" data-tag-name="qemu">qemu</a></div> </li> <li> <div class="js-tag "><a class="js-tag-name" rel="tag" href="https://ask.openstack.org/en/questions/scope:all/sort:activity-desc/tags:nova-compute-kvm/page:1/" data-tag-name="nova-compute-kvm">nova-compute-kvm</a></div> </li> </ul> <div class="clearfix"></div> <div class="post-body"> <div class="js-editable-hide-post-body-98662"> <div class="post-update-info-container"> <div class="post-update-info"> <p style="line-height:12px;"> <a href="https://ask.openstack.org/en/questions/98662/revisions/">asked <strong><abbr class="timeago" title="2016-11-07 03:32:21 -0600" style="display: inline;">Nov 7 '16</abbr></strong></a> </p> <div class="user-card"> <a class="js-avatar-box" href="https://ask.openstack.org/en/users/8788/praveen-n/"><img class="js-avatar gravatar" width="32" height="32" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/18f6c0510e18f079ca4785f2cabc2f1b" title="Praveen N" alt="Praveen N gravatar image" style="max-width: 685px; height: auto;"></a> <div class="user-info"> <a href="https://ask.openstack.org/en/users/8788/praveen-n/">Praveen N</a> <img class="flag" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/in.gif" alt="flag of India" title="Praveen N is from India" style="max-width: 685px; height: auto;"> <br> <span class="reputation-score">415</span> <span class="badges" title="Praveen N has 12 gold badges, 19 silver badges and 25 bronze badges"> <span class="badge1">●</span><span class="badgecount">12</span> <span class="badge2">●</span><span class="badgecount">19</span> <span class="badge3">●</span><span class="badgecount">25</span> </span> </div> </div> </div> </div> </div> <div class="js-editable" id="js-post-body-98662" data-get-text-url="/en/get-post-body/?post_id=98662" data-save-text-url="/en/set-post-body/?post_id=98662" data-save-text-param-name="body_text" data-validated-text-param-name="body_html" data-min-lines="10" data-editor-type="markdown" data-validator="askbot.validators.questionDetailsValidator"><div class="js-error"></div> <div class="js-editable-content"><div class="snippet"><p>Am installing Openstack mitaka (single Ubuntu 14 vm - all in one controller with neutron linuxbridge) deploying through the ansible playbooks. Once the deployment is completed am able to see the services (nova, neutron etc )are active.
But when i try to launch an instance, vm is getting to ERROR state. The nova-compute  logs shows error as follows:</p> <pre class="prettyprint"><code><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.892</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> INFO nova</span><span class="pun">.</span><span class="pln">service </span><span class="pun">[-]</span><span class="pln"> </span><span class="typ">Starting</span><span class="pln"> compute node </span><span class="pun">(</span><span class="pln">version </span><span class="lit">13.1</span><span class="pun">.</span><span class="lit">1</span><span class="pun">)</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.899</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> INFO nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">driver </span><span class="pun">[-]</span><span class="pln"> </span><span class="typ">Connection</span><span class="pln"> </span><span class="kwd">event</span><span class="pln"> </span><span class="str">'0'</span><span class="pln"> reason </span><span class="str">'Failed to connect to libvirt'</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.923</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> WARNING nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">driver </span><span class="pun">[</span><span class="pln">req</span><span class="pun">-</span><span class="lit">4678f654</span><span class="pun">-</span><span class="lit">469f</span><span class="pun">-</span><span class="lit">4085</span><span class="pun">-</span><span class="pln">a409</span><span class="pun">-</span><span class="lit">7a17b01d6674</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">-]</span><span class="pln"> </span><span class="typ">Cannot</span><span class="pln"> update service status on host </span><span class="str">"controller"</span><span class="pln"> since it </span><span class="kwd">is</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> registered</span><span class="pun">.</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host </span><span class="pun">[</span><span class="pln">req</span><span class="pun">-</span><span class="lit">4678f654</span><span class="pun">-</span><span class="lit">469f</span><span class="pun">-</span><span class="lit">4085</span><span class="pun">-</span><span class="pln">a409</span><span class="pun">-</span><span class="lit">7a17b01d6674</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="pun">-]</span><span class="pln"> </span><span class="typ">Connection</span><span class="pln"> to libvirt failed</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Failed</span><span class="pln"> to connect socket to </span><span class="str">'/var/run/libvirt/libvirt-sock'</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Permission</span><span class="pln"> denied
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host </span><span class="typ">Traceback</span><span class="pln"> </span><span class="pun">(</span><span class="pln">most recent call </span><span class="kwd">last</span><span class="pun">):</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host   </span><span class="typ">File</span><span class="pln"> </span><span class="str">"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/host.py"</span><span class="pun">,</span><span class="pln"> line </span><span class="lit">528</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> get_connection
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host     conn </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">_get_connection</span><span class="pun">()</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host   </span><span class="typ">File</span><span class="pln"> </span><span class="str">"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/host.py"</span><span class="pun">,</span><span class="pln"> line </span><span class="lit">515</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> _get_connection
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host     wrapped_conn </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">_get_new_connection</span><span class="pun">()</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host   </span><span class="typ">File</span><span class="pln"> </span><span class="str">"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/host.py"</span><span class="pun">,</span><span class="pln"> line </span><span class="lit">467</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> _get_new_connection
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host     wrapped_conn </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">_connect</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">_uri</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">_read_only</span><span class="pun">)</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host   </span><span class="typ">File</span><span class="pln"> </span><span class="str">"/usr/lib/python2.7/dist-packages/nova/virt/libvirt/host.py"</span><span class="pun">,</span><span class="pln"> line </span><span class="lit">321</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> _connect
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host     libvirt</span><span class="pun">.</span><span class="pln">openAuth</span><span class="pun">,</span><span class="pln"> uri</span><span class="pun">,</span><span class="pln"> auth</span><span class="pun">,</span><span class="pln"> flags</span><span class="pun">)</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host   </span><span class="typ">File</span><span class="pln"> </span><span class="str">"/usr/lib/python2.7/dist-packages/eventlet/tpool.py"</span><span class="pun">,</span><span class="pln"> line </span><span class="lit">144</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> proxy_call
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host     rv </span><span class="pun">=</span><span class="pln"> execute</span><span class="pun">(</span><span class="pln">f</span><span class="pun">,</span><span class="pln"> </span><span class="pun">*</span><span class="pln">args</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="pln">kwargs</span><span class="pun">)</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host   </span><span class="typ">File</span><span class="pln"> </span><span class="str">"/usr/lib/python2.7/dist-packages/eventlet/tpool.py"</span><span class="pun">,</span><span class="pln"> line </span><span class="lit">125</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> execute
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host     six</span><span class="pun">.</span><span class="pln">reraise</span><span class="pun">(</span><span class="pln">c</span><span class="pun">,</span><span class="pln"> e</span><span class="pun">,</span><span class="pln"> tb</span><span class="pun">)</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host   </span><span class="typ">File</span><span class="pln"> </span><span class="str">"/usr/lib/python2.7/dist-packages/eventlet/tpool.py"</span><span class="pun">,</span><span class="pln"> line </span><span class="lit">83</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> tworker
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host     rv </span><span class="pun">=</span><span class="pln"> meth</span><span class="pun">(*</span><span class="pln">args</span><span class="pun">,</span><span class="pln"> </span><span class="pun">**</span><span class="pln">kwargs</span><span class="pun">)</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host   </span><span class="typ">File</span><span class="pln"> </span><span class="str">"/usr/lib/python2.7/dist-packages/libvirt.py"</span><span class="pun">,</span><span class="pln"> line </span><span class="lit">105</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> openAuth
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host     </span><span class="kwd">if</span><span class="pln"> ret </span><span class="kwd">is</span><span class="pln"> </span><span class="kwd">None</span><span class="pun">:</span><span class="kwd">raise</span><span class="pln"> libvirtError</span><span class="pun">(</span><span class="str">'virConnectOpenAuth() failed'</span><span class="pun">)</span><span class="pln">
</span><span class="lit">2016</span><span class="pun">-</span><span class="lit">11</span><span class="pun">-</span><span class="lit">07</span><span class="pln"> </span><span class="lit">12</span><span class="pun">:</span><span class="lit">43</span><span class="pun">:</span><span class="lit">42.924</span><span class="pln"> </span><span class="lit">30047</span><span class="pln"> ERROR nova</span><span class="pun">.</span><span class="pln">virt</span><span class="pun">.</span><span class="pln">libvirt</span><span class="pun">.</span><span class="pln">host libvirtError</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Failed</span><span class="pln"> </span><span class="pun">...</span></code></pre><span class="expander"> <a>(more)</a></span></div></div><div style="display: none;"><div><div class="clearfix"></div><div class="wmd-container"><div id="wmd-button-bar-1" class="wmd-panel"></div><textarea id="editor-1"></textarea><pre class="mirror"></pre><div class="on-state wmd-previewer-toggle">Preview: (hide)</div><div id="previewer-1" class="wmd-preview"></div></div></div></div> <div class="js-editable-controls"><button style="display: none;">save</button><button style="display: none;">cancel</button></div> </div> </div> <div id="question-controls" class="post-controls">   <span id="question-offensive-flag-98662" class="offensive-flag" title="report as offensive (i.e containing spam, advertising, malicious text, etc.)">  </span>    <script type="text/javascript">
    askbot['functions']['renderPostControls']('98662');
</script> </div> <div class="comments empty ordering-forward" data-parent-post-type="question" data-parent-post-id="98662"><div class="content"></div><div class="controls"><a class="js-open-editor-btn">add a comment</a></div></div> </div> </div> <div class="clean"></div> <div class="tabBar tabBar-answer"> <h2 id="questionCount">
        1 answer
    </h2> <div class="tabsA"> <span class="label">
                    Sort by »
                    </span> <a id="oldest" href="https://ask.openstack.org/en/question/98662/connection-to-libvirt-failed/?sort=oldest#sort-top"><span>oldest</span></a> <a id="latest" href="https://ask.openstack.org/en/question/98662/connection-to-libvirt-failed/?sort=latest#sort-top"><span>newest</span></a> <a id="votes" href="https://ask.openstack.org/en/question/98662/connection-to-libvirt-failed/?sort=votes#sort-top" classname="on"><span>most voted</span></a> </div> </div> <div class="clean"></div> <div class="pager"> </div> <div class="clean"></div> <a name="98677"></a> <div id="post-id-98677" data-post-id="98677" class="post answer accepted-answer  answered-by-owner "> <div class="vote-buttons"> <div id="answer-img-upvote-98677" class="answer-img-upvote post-vote upvote"> </div> <div id="answer-vote-number-98677" class="vote-number" title="current number of votes">0</div> <div id="answer-img-downvote-98677" class="answer-img-downvote post-vote downvote"> </div> <script type="text/javascript">
    askbot['functions']['renderPostVoteButtons']('answer', '98677');
</script> <div id="answer-img-accept-98677" class="answer-img-accept" title="this answer has been selected as correct"></div> </div> <div class="post-content"> <div class="post-body"> <div class="js-editable-hide-post-body-98677"> <div class="post-update-info-container"> <div class="post-update-info"> <p style="line-height:12px;"> <a href="https://ask.openstack.org/en/answers/98677/revisions/">answered <strong><abbr class="timeago" title="2016-11-07 10:01:44 -0600" style="display: inline;">Nov 8 '16</abbr></strong></a> </p> <div class="user-card"> <a class="js-avatar-box" href="https://ask.openstack.org/en/users/8788/praveen-n/"><img class="js-avatar gravatar" width="32" height="32" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/18f6c0510e18f079ca4785f2cabc2f1b" title="Praveen N" alt="Praveen N gravatar image" style="max-width: 685px; height: auto;"></a> <div class="user-info"> <a href="https://ask.openstack.org/en/users/8788/praveen-n/">Praveen N</a> <img class="flag" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/in.gif" alt="flag of India" title="Praveen N is from India" style="max-width: 685px; height: auto;"> <br> <span class="reputation-score">415</span> <span class="badges" title="Praveen N has 12 gold badges, 19 silver badges and 25 bronze badges"> <span class="badge1">●</span><span class="badgecount">12</span> <span class="badge2">●</span><span class="badgecount">19</span> <span class="badge3">●</span><span class="badgecount">25</span> </span> </div> </div> </div> </div> </div> <div class="js-editable" id="js-post-body-98677" data-get-text-url="/en/get-post-body/?post_id=98677" data-save-text-url="/en/set-post-body/?post_id=98677" data-save-text-param-name="body_text" data-validated-text-param-name="body_html" data-min-lines="10" data-editor-type="markdown" data-validator="askbot.validators.answerValidator"><div class="js-error"></div> <div class="js-editable-content"><p>Phew, finally figured out my ansible playbook configured the nova-compute.conf with virt_type=kvm. I changed it to 
virt_type=qemu. The nova-compute.conf file was now as below.</p> <pre class="prettyprint"><code><span class="pun">[</span><span class="pln">DEFAULT</span><span class="pun">]</span><span class="pln">
compute_driver</span><span class="pun">=</span><span class="pln">libvirt</span><span class="pun">.</span><span class="typ">LibvirtDriver</span><span class="pln">
</span><span class="pun">[</span><span class="pln">libvirt</span><span class="pun">]</span><span class="pln">
virt_type </span><span class="pun">=</span><span class="pln"> qemu</span></code></pre> <p>After restarting libvirt-bin and nova-compute services, the provisioned instances were active !!</p> </div><div style="display: none;"><div><div class="clearfix"></div><div class="wmd-container"><div id="wmd-button-bar-2" class="wmd-panel"></div><textarea id="editor-2"></textarea><pre class="mirror"></pre><div class="on-state wmd-previewer-toggle">Preview: (hide)</div><div id="previewer-2" class="wmd-preview"></div></div></div></div> <div class="js-editable-controls"><button style="display: none;">save</button><button style="display: none;">cancel</button></div> </div> </div> <div class="answer-controls post-controls"> <span class="action-link">  </span> <span id="answer-offensive-flag-98677" class="action-link offensive-flag" title="report as offensive (i.e containing spam, advertising, malicious text, etc.)">  </span>  <span class="action-link"> <a class="permant-link" href="https://ask.openstack.org/en/question/98662/connection-to-libvirt-failed/?answer=98677#post-id-98677" title="permanent link">
        link
    </a> </span>  <script type="text/javascript">
    askbot['functions']['hideConvertAnswerLinks']('98677');
    askbot['functions']['hidePublishAnswerLink']('98677');
    askbot['functions']['renderPostControls']('98677');
</script> </div> <h2 class="comment-title">Comments</h2><div class="clean"></div><div class="comments ordering-forward" data-parent-post-type="answer" data-parent-post-id="98677"><div class="content"><div id="post-id-98682" class="comment js-comment" data-post-id="98682"><div class="comment-votes"><div id="comment-img-upvote-98682" class="upvote js-score"></div><script type="text/javascript">
                askbot['functions']['renderPostVoteButtons']('comment', '98682');
            </script></div><div class="comment-content"><div class="comment-body"><p>Does your VIRTHOST &amp;&amp; ubuntu guest allow nested KVM ?  It's pretty much standard thing when both
VIRTHOST and Guest are coming from RH. I mean nested KVM does improve performance on Guest. For instance on TripleO QuickStart heat deployment of "overcloud"  stack will most likely fail on undercloud.</p></div><div class="comment-controls"><a class="js-avatar-box" href="https://ask.openstack.org/en/users/2513/dbaxps/"><img class="js-avatar gravatar" width="16" height="16" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/1f438fad7dfbd840e6534b1b3406a5f5" title="dbaxps" alt="dbaxps gravatar image"></a><a class="author" href="https://ask.openstack.org/en/users/2513/dbaxps/">dbaxps</a><span class="age">&nbsp;(<abbr class="timeago" title="2016-11-07 11:13:52 -0600" style="display: inline;">Nov 8 '16</abbr>)</span></div></div></div><script type="text/javascript">
        askbot['functions']['hideConvertLinks']();
        askbot['functions']['renderPostControls']('98682');
    </script><div id="post-id-98699" class="comment js-comment" data-post-id="98699"><div class="comment-votes"><div id="comment-img-upvote-98699" class="upvote js-score"></div><script type="text/javascript">
                askbot['functions']['renderPostVoteButtons']('comment', '98699');
            </script></div><div class="comment-content"><div class="comment-body"><p>Hi dbaxps, Thanks for your response. In my case, I have Dell Server hardware with hypervisor as XenServer installed on it. And then i've my Ubuntu14 guest VM on which am deploying OpenStack mitaka via ansible playbooks.</p></div><div class="comment-controls"><a class="js-avatar-box" href="https://ask.openstack.org/en/users/8788/praveen-n/"><img class="js-avatar gravatar" width="16" height="16" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/18f6c0510e18f079ca4785f2cabc2f1b(1)" title="Praveen N" alt="Praveen N gravatar image"></a><a class="author" href="https://ask.openstack.org/en/users/8788/praveen-n/">Praveen N</a><span class="age">&nbsp;(<abbr class="timeago" title="2016-11-07 19:12:44 -0600" style="display: inline;">Nov 8 '16</abbr>)</span></div></div></div><script type="text/javascript">
        askbot['functions']['hideConvertLinks']();
        askbot['functions']['renderPostControls']('98699');
    </script><div id="post-id-98700" class="comment js-comment" data-post-id="98700"><div class="comment-votes"><div id="comment-img-upvote-98700" class="upvote js-score"></div><script type="text/javascript">
                askbot['functions']['renderPostVoteButtons']('comment', '98700');
            </script></div><div class="comment-content"><div class="comment-body"><p>So in the guest VM, for virt_type = kvm throws me an error during booting an openstack instance. When its modified to qemu, it supports next level for virtual machines.</p></div><div class="comment-controls"><a class="js-avatar-box" href="https://ask.openstack.org/en/users/8788/praveen-n/"><img class="js-avatar gravatar" width="16" height="16" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/18f6c0510e18f079ca4785f2cabc2f1b(1)" title="Praveen N" alt="Praveen N gravatar image"></a><a class="author" href="https://ask.openstack.org/en/users/8788/praveen-n/">Praveen N</a><span class="age">&nbsp;(<abbr class="timeago" title="2016-11-07 19:14:55 -0600" style="display: inline;">Nov 8 '16</abbr>)</span></div></div></div><script type="text/javascript">
        askbot['functions']['hideConvertLinks']();
        askbot['functions']['renderPostControls']('98700');
    </script><div id="post-id-110960" class="comment js-comment" data-post-id="110960"><div class="comment-votes"><div id="comment-img-upvote-110960" class="upvote js-score"></div><script type="text/javascript">
                askbot['functions']['renderPostVoteButtons']('comment', '110960');
            </script></div><div class="comment-content"><div class="comment-body"><p>How did you change the ansible playbook? Where was the playbook located? I am getting the smae error and I think I may be having the same problem. I deploy using kolla-ansible</p></div><div class="comment-controls"><a class="js-avatar-box" href="https://ask.openstack.org/en/users/21967/jcorkey/"><img class="js-avatar gravatar" width="16" height="16" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/324f061b4479b35a44ac8d79d192efec" title="jcorkey" alt="jcorkey gravatar image"></a><a class="author" href="https://ask.openstack.org/en/users/21967/jcorkey/">jcorkey</a><span class="age">&nbsp;(<abbr class="timeago" title="2017-11-02 08:45:33 -0600" style="display: inline;">Nov 2 '17</abbr>)</span></div></div></div><script type="text/javascript">
        askbot['functions']['hideConvertLinks']();
        askbot['functions']['renderPostControls']('110960');
    </script></div><div class="controls"><a class="js-open-editor-btn">add a comment</a></div></div> </div> <div class="clean"></div> </div> <div class="clean"></div> <div class="pager"> </div> <div class="clean"></div> <form id="fmanswer" action="https://ask.openstack.org/en/questions/98662/answer/" method="post"><input type="hidden" name="csrfmiddlewaretoken" value="Q6TFEv1bUUsXBcBNEkeKCgVRbcVwjp1O"> <div style="clear:both"></div> <div> <h2>
                        
                            Your Answer
                        
                    </h2> </div> <p class="message"> <span class="strong big">Please start posting anonymously</span> - your entry will be published after you log in or create a new account.
            
                
            </p> <div class="folded-editor" tabindex="6"> <p class="prompt"><a>Add Answer</a></p> <div class="editor-proper"> <div class="form-group editor-placeholder"> <div><div class="clearfix"></div><div class="wmd-container"><div id="wmd-button-bar" class="wmd-button-bar"><ul class="wmd-button-row" id="wmd-button-row"><li class="wmd-button wmd-bold-button" id="wmd-bold-button" title="bold &lt;strong&gt; Ctrl-B" style="background-position: 0px 0px;"></li><li class="wmd-button wmd-italic-button" id="wmd-italic-button" title="italic &lt;em&gt; Ctrl-I" style="background-position: -20px 0px;"></li><li class="wmd-spacer wmd-spacer1" id="wmd-spacer1"></li><li class="wmd-button wmd-link-button" id="wmd-link-button" title="link &lt;a&gt; Ctrl-L" style="background-position: -40px 0px;"></li><li class="wmd-button wmd-quote-button" id="wmd-quote-button" title="quote &lt;blockquote&gt; Ctrl-." style="background-position: -60px 0px;"></li><li class="wmd-button wmd-code-button" id="wmd-code-button" title="preformatted text &lt;pre&gt;&lt;code&gt; Ctrl-K" style="background-position: -80px 0px;"></li><li class="wmd-button wmd-image-button" id="wmd-image-button" title="image &lt;img&gt; Ctrl-G" style="background-position: -100px 0px;"></li><li class="wmd-button wmd-attachment-button" id="wmd-attachment-button" title="attachment Ctrl-F" style="background-position: -120px 0px;"></li><li class="wmd-spacer wmd-spacer2" id="wmd-spacer2"></li><li class="wmd-button wmd-olist-button" id="wmd-olist-button" title="numbered list &lt;ol&gt; Ctrl-O" style="background-position: -140px 0px;"></li><li class="wmd-button wmd-ulist-button" id="wmd-ulist-button" title="bulleted list &lt;ul&gt; Ctrl-U" style="background-position: -160px 0px;"></li><li class="wmd-button wmd-heading-button" id="wmd-heading-button" title="heading &lt;h1&gt;/&lt;h2&gt; Ctrl-H" style="background-position: -180px 0px;"></li><li class="wmd-button wmd-hr-button" id="wmd-hr-button" title="horizontal bar &lt;hr&gt; Ctrl-R" style="background-position: -200px 0px;"></li></ul></div><textarea id="editor" name="text"></textarea><pre class="mirror"></pre><div class="on-state wmd-previewer-toggle">Preview: (hide)</div><div id="previewer" class="wmd-preview"></div></div></div></div> <div class="answer-options"> </div> <input id="add-answer-btn" type="submit" class="submit" value="Login/Signup to Post"> <script type="text/javascript">
                        askbot['functions']['renderAddAnswerButton']();
                    </script> </div> </div> </form> </div> <div id="ContentRight"> <div class="box"> <h1>Get to know Ask OpenStack</h1> <a href="https://wiki.openstack.org/wiki/Community/AskModerators">Resources for moderators</a> </div> <div class="box vote-buttons"> <h2>Question Tools</h2> <button class="js-follow-question button large off-state" data-is-on="false" data-off-prompt-text="Unfollow" data-on-prompt-text="Follow" data-on-state-text="Following" data-off-state-text="Follow" data-toggle-url="/en/toggle-follow-question/">Follow</button> <div class="clearfix"></div> <div class="js-question-follower-count">
        
        
            1 follower
        
    </div> <div class="notify-sidebar"> <p class="rss"> <a href="https://ask.openstack.org/en/feeds/question/98662/" title="subscribe to the rss feed">subscribe to rss feed</a> </p> </div> </div> <div class="clearfix"></div> <div class="box statsWidget"> <div class="clearfix"></div> <h2>Stats</h2> <p>
        Asked: <strong><abbr class="timeago" title="2016-11-07 03:32:21 -0600" style="display: inline;">Nov 7 '16</abbr></strong> </p> <p> 
        Seen: <strong>771 times</strong> </p> <p>
        Last updated: <strong title="2016-11-07 10:01:44.798405">Nov 07 '16</strong> </p> </div> <div class="box"> <h2>Related questions</h2> <div class="questions-related"> <p> <a href="https://ask.openstack.org/en/question/85047/libvirt-driver-rescue-dead-code/">libvirt driver, rescue: dead code ?</a> </p> <p> <a href="https://ask.openstack.org/en/question/28863/openstack-havana-live-migration-libvirt-cgroup-issue-for-instances/">openstack havana live migration libvirt cgroup issue for instances</a> </p> <p> <a href="https://ask.openstack.org/en/question/50455/how-to-figure-out-which-type-of-virtual-nic-is-used-by-vm-either-virtio-or-e1000/">How to figure out which type of virtual nic is used by VM either virtio or e1000?</a> </p> <p> <a href="https://ask.openstack.org/en/question/10723/havananova-libvirterror-internal-error-kvm-binary-is-deprecated-on-compute-node-with-ceph/">[Havana][Nova] libvirtError: internal error: kvm binary is deprecated on compute node with ceph [closed]</a> </p> <p> <a href="https://ask.openstack.org/en/question/28734/instance-failed-to-spawn-you-must-call-aug-init-first-to-initialize-augeas/">Instance failed to spawn : you must call 'aug-init' first to initialize Augeas</a> </p> <p> <a href="https://ask.openstack.org/en/question/48459/overcommitting-of-cpus-on-qemu/">Overcommitting of CPUs on Qemu?</a> </p> <p> <a href="https://ask.openstack.org/en/question/97538/how-to-do-a-windows-vm-domain-join-in-openstack/">How to do a Windows VM domain Join in OpenStack</a> </p> <p> <a href="https://ask.openstack.org/en/question/80123/changing-resource-limits-of-running-instances/">Changing resource limits of running instances?</a> </p> <p> <a href="https://ask.openstack.org/en/question/22284/netapp-volume-configuration/">NetApp volume configuration</a> </p> <p> <a href="https://ask.openstack.org/en/question/23090/start-nova-compute-failure/">start nova-compute failure</a> </p> </div> </div> </div> </div> <!--
Copyright 2013 OpenStack Foundation

Licensed under the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License. You may obtain
a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.
--> <div class="clearfix"></div> <div class="content-wrapper"> <div id="footer"> <div class="span-8"> <h3>Feedback About This Page</h3> <ul> <li><a href="https://bugs.launchpad.net/openstack-community/+bugs?field.tag=askproject">Report a bug</a></li> </ul> </div> <div class="span-4"> <h3>OpenStack</h3> <ul> <li><a href="http://www.openstack.org/projects/">Projects</a></li> <li><a href="http://www.openstack.org/openstack-security/">OpenStack Security</a></li> <li><a href="http://www.openstack.org/projects/openstack-faq/">Common Questions</a></li> <li><a href="http://www.openstack.org/blog/">Blog</a></li> </ul> </div> <div class="span-4"> <h3>Community</h3> <ul> <li><a href="http://www.openstack.org/community/">User Groups</a></li> <li><a href="http://www.openstack.org/events/">Events</a></li> <li><a href="http://www.openstack.org/jobs/">Jobs</a></li> <li><a href="http://www.openstack.org/companies/">Companies</a></li> <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li> </ul> </div> <div class="span-4"> <h3>Documentation</h3> <ul> <li><a href="http://docs.openstack.org/">OpenStack Manuals</a></li> <li><a href="http://www.openstack.org/software/start/">Getting Started</a></li> <li><a href="http://api.openstack.org/">API Documentation</a></li> <li><a href="https://wiki.openstack.org/">Wiki</a></li> </ul> </div> <div class="span-4 last"> <h3>Branding &amp; Legal</h3> <ul> <li><a href="http://www.openstack.org/brand/">Logos &amp; Guidelines</a></li> <li><a href="http://www.openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li> <li><a href="http://www.openstack.org/privacy/">Privacy Policy</a></li> <li><a href="https://wiki.openstack.org/wiki/CLA">OpenStack CLA</a></li> </ul> </div> <div class="clearfix"></div> <p>OpenStack is a trademark of OpenStack Foundation. This site is powered by <a href="http://askbot.com/">Askbot</a>. (<a href="https://www.gnu.org/licenses/gpl-3.0.html">GPLv3</a> or later; <a href="https://github.com/ASKBOT/askbot-devel">source</a>). Content on this site is licensed under a <a href="http://creativecommons.org/licenses/by/3.0/">CC-BY 3.0</a> license.</p> </div> </div> <div id="no-javascript"> <noscript class="noscript" style="padding: 0px; background-color: transparent;">
        Please note: Ask OpenStack requires javascript to work properly, please enable javascript in your browser, &lt;a href="https://www.google.com/support/bin/answer.py?answer=23852"&gt;here is how&lt;/a&gt; </noscript> <script type="text/javascript">
        //IE fix to hide the red margin
        var noscript = document.getElementsByTagName('noscript')[0];
        noscript.style.padding = '0px';
        noscript.style.backgroundColor = 'transparent';
    </script> </div> <script type="text/javascript">
    askbot['urls']['mark_read_message'] = '/en/messages/markread/';
    askbot['urls']['get_tags_by_wildcard'] = '/en/get-tags-by-wildcard/';
    askbot['urls']['get_tag_list'] = '/en/get-tag-list/';
    askbot['urls']['follow_user'] = '/followit/follow/user/{{userId}}/';
    askbot['urls']['unfollow_user'] = '/followit/unfollow/user/{{userId}}/';
    askbot['urls']['user_signin'] = '/en/account/signin/';
    askbot['urls']['getEditor'] = '/en/get-editor/';
    
        askbot['urls']['translateUrl'] = '/en/translate-url/';
    
    askbot['urls']['apiGetQuestions'] = '/en/api/get_questions/';
    askbot['urls']['ask'] = '/en/questions/ask/';
	askbot['urls']['questions'] = '/en/questions/';
    askbot['settings']['groupsEnabled'] = false;
    askbot['settings']['static_url'] = '/m/';
    askbot['settings']['minSearchWordLength'] = 4;
    askbot['settings']['mathjaxEnabled'] = false;
    askbot['settings']['sharingSuffixText'] = '';
    askbot['settings']['errorPlacement'] = 'after-label';
    askbot['data']['maxCommentLength'] = 300;
    askbot['settings']['editorType'] = 'markdown';
    
    askbot['settings']['commentsEditorType'] = 'rich\u002Dtext';
    askbot['messages']['askYourQuestion'] = 'Ask Your Question';
    askbot['messages']['questionSingular'] = 'question';
    askbot['messages']['answerSingular'] = 'answer';
    askbot['messages']['acceptOwnAnswer'] = 'accept or unaccept your own answer';
    askbot['messages']['followQuestions'] = 'follow questions';
    
        askbot['settings']['allowedUploadFileTypes'] = [
            "jpg", "jpeg", "gif", "bmp", "png", "tiff"
        ];
    
    askbot['data']['haveFlashNotifications'] = false;
    askbot['data']['activeTab'] = 'questions';
    askbot['settings']['csrfCookieName'] = '_csrf';
    
        askbot['data']['searchUrl'] = '';
    
</script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/jquery-1.7.2.min.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/bootstrap.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/timeago.js.下载"></script> <!-- History.js --> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/jquery.history.js.下载"></script> <!-- Utils.js --> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/utils.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/q_sutils.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/wrapped_element.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/wait_icon.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/paginator.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/limited_width_image.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/one_shot_form.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/link.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/widget.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/tipped_input.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/flash_alert.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/alert_box.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/simple_content.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/simple_control.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/post_expander.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/edit_link.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/comment_convert_link.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/delete_icon.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/modal_dialog.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/file_upload_dialog.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/text_property_editor.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/toggle.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/ajax_toggle.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/dropdown_select.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/box_item_content.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/select_box_item.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/select_box.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/group_dropdown.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/tag.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/hover_card.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/perms_hover_card.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/show_perms_trigger.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/autocompleter.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/lang_nav.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/se_hilite.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/json.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/jquery-fieldselection.js.下载"></script> <!-- End Utils.js --> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/live_search.js.下载"></script> <script type="text/javascript">
    /*<![CDATA[*/
    $('.mceStatusbar').remove();//a hack to remove the tinyMCE status bar
    $(document).ready(function(){
        // focus input on the search bar endcomment
        var activeTab = askbot['data']['activeTab'];
        if (inArray(activeTab, ['users', 'questions', 'tags', 'badges'])) {
            var searchInput = $('#keywords');
        } else if (activeTab === 'ask') {
            var searchInput = $('#id_title');
        } else {
            var searchInput = undefined;
            animateHashes();
        }

        if (searchInput) {
            searchInput.focus();
            putCursorAtEnd(searchInput);
        }

        var haveFullTextSearchTab = inArray(activeTab, ['questions', 'badges', 'ask']);
        var haveUserProfilePage = $('body').hasClass('user-profile-page');
        if ((haveUserProfilePage || haveFullTextSearchTab) && searchInput && searchInput.length) {
            var search = new FullTextSearch();
            askbot['controllers'] = askbot['controllers'] || {};
            askbot['controllers']['fullTextSearch'] = search;
            search.setSearchUrl(askbot['data']['searchUrl']);
            if (activeTab === 'ask') {
                search.setAskButtonEnabled(false);
            }
            search.decorate(searchInput);
        } else if (activeTab === 'tags') {
            var search = new TagSearch();
            search.decorate(searchInput);
        }

        if (askbot['data']['userIsAdminOrMod']) {
            $('body').addClass('admin');
        }
        if (askbot['settings']['groupsEnabled']) {
            askbot['urls']['add_group'] = "/en/add-group/";
            var group_dropdown = new GroupDropdown();
            $('.groups-dropdown').append(group_dropdown.getElement());
        }
        var userRep = $('#userToolsNav .reputation');
        if (userRep.length) {
            var showPermsTrigger = new ShowPermsTrigger();
            showPermsTrigger.decorate(userRep);
        }
    });
    if (askbot['data']['haveFlashNotifications']) {
        $('#validate_email_alert').click(function(){notify.close(true)})
        notify.show();
    }

    var langNav = $('.lang-nav');
    if (langNav.length) {
        var nav = new LangNav();
        nav.decorate(langNav);
    }
    /*]]>*/
</script> <div class="js-templates" style="display: none;"><div id="post-id-0" class="comment js-comment" data-post-id="0"><div class="comment-votes"><div id="comment-img-upvote-0" class="upvote js-score"></div></div><div class="comment-content"><div id="post-0-delete" class="comment-delete"><span class="js-delete-icon" title="delete this comment"></span></div><div class="comment-body"></div><div class="comment-controls"><a class="js-avatar-box" href="https://ask.openstack.org/en/question/98662/connection-to-libvirt-failed/"><img class="js-avatar gravatar" width="16" height="16" src="https://ask.openstack.org/en/question/98662/connection-to-libvirt-failed/" title="" alt=" gravatar image"></a><a class="author" href="https://ask.openstack.org/en/question/98662/connection-to-libvirt-failed/"></a><span class="age">&nbsp;(<abbr class="timeago" title="2017-11-20 04:28:05 -0600">
        2017-11-20 04:28:05 -0600
    </abbr>)</span><a id="post-0-edit" class="js-edit">edit</a><form action="https://ask.openstack.org/en/comment/convert/" method="POST" accept-charset="utf-8" class="convert-comment"><input type="hidden" name="csrfmiddlewaretoken" value="None"><input type="hidden" value="0" name="comment_id"><input type="submit" value="convert to answer"></form></div></div></div><div class="js-simple-editor"><textarea></textarea><pre class="mirror"></pre></div><div class="js-tag  js-deletable-tag"><a class="js-tag-name" rel="tag" href="https://ask.openstack.org/en/questions/scope:all/sort:activity-desc/tags:none/page:1/" data-tag-name="none">none</a><span class="js-delete-icon">×</span></div></div> <script type="text/javascript">
        
        askbot['urls']['postComments'] = '/en/post_comments/';
        askbot['urls']['editComment'] = '/en/edit_comment/';
        askbot['urls']['deleteComment'] = '/en/comment/delete/';
        askbot['urls']['convertComment'] = '/en/comment/convert/';
        askbot['urls']['getComment'] = '/en/comment/get-text/';
        askbot['urls']['saveDraftAnswer'] = '/en/save-draft-answer/';
        askbot['urls']['vote_url'] = '/en/vote'
        askbot['urls']['user_signin'] = '/en/account/signin/';
        askbot['urls']['swap_question_with_answer'] = '/en/swap-question-with-answer/';
        askbot['urls']['upvote_comment'] = '/en/comment/upvote/';
        askbot['urls']['delete_post'] = '/en/post/delete/';
        askbot['urls']['get_html_template'] = '/en/get-html-template/';
        askbot['urls']['getGroupsList'] = '/en/get-groups-list/';
        askbot['urls']['publishAnswer'] = '/en/answer/publish/';
        askbot['urls']['apiV1Questions'] = '/en/api/v1/questions/';
        askbot['urls']['mergeQuestions'] = '/en/merge-questions/';
        
        askbot['data']['questionAuthorId'] = 8788;
        askbot['data']['answersSortTab'] = 'votes';
        askbot['data']['questionId'] = 98662;
        askbot['data']['threadSlug'] = 'connection-to-libvirt-failed';
        askbot['messages']['addComment'] = 'add a comment';
        askbot['messages']['userNamePrompt'] = 'User name:';
        askbot['messages']['userEmailPrompt'] = 'Email address:';
        askbot['messages']['mergeQuestions'] = 'Merge duplicate questions';
        askbot['messages']['enterDuplicateQuestionId'] = 'Enter duplicate question ID';
        
        askbot['settings']['saveCommentOnEnter'] = false;
        askbot['settings']['tagSource'] = 'user-input';
        askbot['settings']['enableSharingGoogle'] = true;
        askbot['settings']['enableEmailAlerts'] = true;
    </script> <script type="text/javascript">
    
    askbot['settings']['tagsAreRequired'] = true
    askbot['settings']['maxTagLength'] = 20;
    askbot['messages']['maxTagLength'] = "each tag must be shorter than 20 characters";
    askbot['settings']['maxTagsPerPost'] = 5;
    askbot['messages']['maxTagsPerPost'] = "please use 5 tags or less";
    askbot['messages']['tagLimits'] = "please use up to 5 tags, less than 20 characters each";
    askbot['urls']['upload'] = '/en/upload/';
    askbot['settings']['minTitleLength'] = 10;
    askbot['settings']['minQuestionBodyLength'] = 10;
    askbot['settings']['minAnswerBodyLength'] = 10;
    askbot['settings']['minCommentBodyLength'] = 10;
    askbot['settings']['tag_editor'] = '{\u0022tag_forbidden_first_chars\u0022: \u0022#\u0022, \u0022max_tag_length\u0022: 20, \u0022force_lowercase_tags\u0022: true, \u0022max_tags_per_post\u0022: 5, \u0022messages\u0022: {\u0022wrong_first_char\u0022: \u0022# is not a valid character at the beginning of tags, use only letters and numbers\u0022, \u0022wrong_chars\u0022: \u0022please use letters, numbers and characters \u005C\u0022\u002D+.#\u005C\u0022\u0022, \u0022required\u0022: \u0022tags are required\u0022}, \u0022tags_are_required\u0022: true}';
    askbot['settings']['tinyMCEPlugins'] = JSON.parse('[]');
</script> <script type="text/javascript">
    (function() {
        askbot['settings']['commentsReversed'] = false;
        //make images always fit the screen
        var images = $('.question-page .post-body img');
        //these breakpoints must match those in css
        //for explanation see utils.js:LimitedWidthImage
        var breakpoints = [
            [980, undefined],
            [800, 55]
        ];
        var maxWidth = 685;
        images.each(function(idx, item) {
            var img = new LimitedWidthImage(breakpoints, maxWidth);
            img.decorate($(item));
        });
    })();
</script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/editor.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/bootstrap.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/Markdown.Converter.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/Markdown.Sanitizer.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/askbot_converter.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/wmd.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/jquery.validate.min.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/prettify.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/toggle.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/expander_toggle.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/post.js.下载"></script> <script type="text/javascript" src="./Connection to libvirt failed - Ask OpenStack_ Q&amp;A Site for OpenStack Users and Developers_files/editable.js.下载"></script> <script type="text/javascript">
    // define reputation needs for comments
    askbot['urls']['getPostHtml'] = '/en/get-post-html/';
    askbot['urls']['retag'] = "/en/questions/98662/retag/";

    
    
    askbot['settings']['commentAvatarSize'] = 16;

    $(document).ready(function(){
        $("#nav_questions").attr('className',"on");
        $("#" + askbot['data']['answersSortTab']).attr('className',"on");

        Vote.init(
            askbot['data']['questionId'],
            askbot['data']['threadSlug'],
            askbot['data']['questionAuthorId'],
            askbot['data']['userId']
        );

        if ((askbot['data']['threadIsClosed'] === false) && askbot['data']['userIsAuthenticated']) {
            initEditor();
        }

        lanai.highlightSyntax();
        $('#btLogin').bind('click', function(){
            window.location.href='/en/account/signin/';
        });
        if (window.location.hash === 'fmanswer'){
            $('#fmanswer textarea').focus();
        }

        if (askbot['settings']['enableSharingGoogle']) {
            $.getScript("//apis.google.com/js/plusone.js");
        }

        if (askbot['data']['userId'] === askbot['data']['questionAuthorId']) {
            $("#fmanswer_button").click(function() {
                $("#fmanswer").show();
                $("#fmanswer_button").hide();
            });
        }

        if (askbot['data']['userIsAuthenticated']) {
            var draftHandler = new DraftAnswer();
            draftHandler.setThreadId(40273);
            draftHandler.decorate($('body'));
        }

        var expanders = $('.expander');
        expanders.each(function(idx, item) {
            var expanderElement = $(item);
            var post = expanderElement.closest('.post,.comment');
            if (post.length === 1) {
                var expander = new PostExpander();
                expander.setPostId(post.data('postId'));
                expander.decorate(expanderElement);
            }
        });

        var followBtn = $('.js-follow-question');
        if (followBtn.length) {
            var toggle = new AjaxToggle();
            toggle.setPostData({'question_id': 98662 });
            toggle.decorate(followBtn);
            followBtn.bind('askbot.two-state-toggle.success', updateQuestionFollowerCount);
        }
    });

    $(window).bind('hashchange', animate_hashes);

    function animate_hashes(){
      var id_value = window.location.hash;
      if (id_value != ""){
        var previous_color = $(id_value).css('background-color');
        $(id_value).css('backgroundColor', '#FFF8C6');
        $(id_value).animate(
            {backgroundColor: '#ff7f2a'}, 1000
        ).animate({backgroundColor: '#FFF8C6'}, 1000, function(){
            $(id_value).css('backgroundColor', previous_color);
        });
      }
    }


    function initEditor(){
        $('#editor').TextAreaResizer();
        //highlight code synctax when editor has new text
        $("#editor").typeWatch({highlight: false, wait: 3000,
                         captureLength: 5, callback: lanai.highlightSyntax});

        var display = true;
        var txt = "[hide preview]";
        $('#pre-collapse').text(txt);
        $('#pre-collapse').bind('click', function(){
            txt = display ? "[show preview]" : "[hide preview]";
            display = !display;
            $('#previewer').toggle();
            $('#pre-collapse').text(txt);
        });
        setupFormValidation(
            $("#fmanswer"),
            CPValidator.getAnswerFormRules(),
            CPValidator.getAnswerFormMessages()
        );
    }
    (function() {
        var editorBox = $('.folded-editor');
        if (editorBox.length) {
            var foldedEditor = new FoldedEditor();
            foldedEditor.decorate(editorBox);
        }
    })();
</script> <script type="text/javascript">
            for (url_name in askbot['urls']){
                askbot['urls'][url_name] = cleanUrl(askbot['urls'][url_name]);
            }
        </script>  </body></html>