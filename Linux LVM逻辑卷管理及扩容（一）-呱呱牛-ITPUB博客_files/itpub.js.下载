window._BFD=window._BFD||{};_BFD.addEvent=function(e,d,f){if(e.addEventListener){e.addEventListener(d,f,false)}else{if(e.attachEvent){e.attachEvent("on"+d,function(){f.call(e)})}else{e["on"+d]=f}}};_BFD.removeEvent=function(e,d,f){if(e.removeEventListener){e.removeEventListener(d,f,false)}else{if(e.detachEvent){e.detachEvent("on"+d,function(){f.call(e)})}else{e["on"+d]=null}}};_BFD.createElement=function(g,f){var h=document.createElement(g);if(f){for(var e in f){if(f.hasOwnProperty(e)){if(e==="class"||e==="className"){h.className=f[e]}else{if(e==="style"){h.style.cssText=f[e]}else{h.setAttribute(e,f[e])}}}}}return h};_BFD.loadScript=function(d,c){setTimeout(function(){var a=_BFD.createElement("script",{src:d,type:"text/javascript"});if(a.readyState){_BFD.addEvent(a,"readystatechange",function(){if(a.readyState==="loaded"||a.readyState==="complete"){if(c){c()}_BFD.removeEvent(a,"readystatechange",arguments.callee)}})}else{_BFD.addEvent(a,"load",function(){if(c){c()}_BFD.removeEvent(a,"load",arguments.callee)})}document.getElementsByTagName("head")[0].appendChild(a)},0)};_BFD.getByAttribute=function(l,k,j){var i=[],j=(j)?j:document,n=j.getElementsByTagName("*"),o=new RegExp("\\b"+k+"\\b","i");for(var p=0;p<n.length;p++){var m=n[p];if(l==="className"||l==="class"){if(o.test(m.className)){i.push(m)}}else{if(m.getAttribute(l)===k){i.push(m)}}}return i};_BFD.getByClass=function(c,d){return _BFD.getByAttribute("className",c,d)};_BFD.getById=function(b){if(typeof b==="string"&&!!b){return document.getElementById(b)}};_BFD.loadCss=function(d){var c=_BFD.createElement("link",{href:d,rel:"stylesheet",type:"text/css"});document.getElementsByTagName("head")[0].appendChild(c)};_BFD.insertAfter=function(g,h){var e=h.parentNode;if(e.lastChild==h){e.appendChild(g)}else{var f=h.nextElementSibling||h.nextSibling;e.insertBefore(g,f)}};_BFD.Banner=function(b,d,c){this.callback=d;this.args=c;this.positionstr=b.pos_dom;this.bid=b.bid;if(b.json_args){this.json_str=a(b.json_args)}else{this.json_str="{}"}function a(f){var g=[];for(var e in f){g.push('"'+e+'":"'+f[e]+'"')}return"{"+g.join(",")+"}"}};_BFD.handleResults=function(h,j){if(j&&j[2]&&j[2].length>0){var g=j[2];for(var b=0;b<g.length;b++){var f=h[b];var a=g[b][3];var c=g[b][2];var e=f.bid;var d=f.args;if(a&&a.length>0){f.callback(a,c,e,d)}}}};_BFD.parseBanners=function(c,g,f){var e=[],b=[];for(var d=0,a;a=g[d++];){e.push(a.bid);if(a.json_str&&a.json_str.length>0&&a.json_str!="{}"){b.push("rec_"+a.bid+"$"+a.json_str)}else{b.push("rec_"+a.bid)}}if(g.length){c.bidlst=e.join("|");c.req=b.join("|");f.send(c,function(h){_BFD.handleResults(g,h)})}};_BFD.invoketime=0;_BFD.loadCss(("https:"==document.location.protocol?"https://ssl-static1":"http://static1")+".baifendian.com/service/it168/it168.css");_BFD.loadScript(("https:"==document.location.protocol?"https://ssl-static":"http://static")+".baifendian.com/api/2.0/bcore.min.js",function(){var a=(function(){function h(){var l=new $Core(function(){});_BFD.bfd_show=function(q,o,n,m){var p=_BFD.show_recommended(m,n);_BFD.show_template(q,p,o,n,m)};_BFD.show_recommended=function(o,q){var n=null;switch(o){case"dt":if(_BFD.getByClass("xiangguang",document)[0]){_BFD.getByClass("xiangguang",document)[0].innerHTML="";n=_BFD.getByClass("xiangguang",document)[0];var m=document.createElement("div");m.className="bfd_title";var p='<div class="bfd_title_dt">相关阅读</div><a href="http://www.baifendian.com" target="_blank" title="百分点推荐引擎" class="bfd_img_logo"></a><div class="bfd_dt_ul"><ul></ul></div>';m.innerHTML=p;n.appendChild(m);return m.getElementsByTagName("ul")[0]}break}};_BFD.show_content=function(t,n,q){switch(q){case"dt":var s=document.createElement("li");s.className="bfd_li_dt";var m=n.abs.substring(0,19);var o=n.pic;var p="";if(n.url.indexOf("http://m.it168.com/")==-1){p="http://m.it168.com/article_"+n.iid+".html"}else{p=n.url}var r='<div class="div_mess"><a href="'+p+'" target="_blank" title="'+n.title+'" style="display:block;"><img alt="'+n.title+'" src="'+o+'" class="bfd_img" style="vertical-align: middle; width:100%"/></a></div><div class="bfd_name"><a href="'+p+'" target="_blank" title="'+n.title+'" class = "bfd_title" style="font-size:17px;overflow:hidden;padding:13px 0px 0px 0px;color:#444444;font-weight:normal;">'+n.title+"</a></div>";s.innerHTML=r;t.appendChild(s);return s;break}};_BFD.show_template=function(m,t,s,r,o){if(t){BCore.exts.BannerShow.prototype.push(t,r)}for(var q=0;q<m.length;q++){var p=_BFD.show_content(t,m[q],o).getElementsByTagName("a");for(var n=0;n<p.length;n++){_BFD.addEvent(p[n],"click",(function(u,v){return function(){var w=new $Core.inputs.FeedBack(s);w.p_on=u+1;w.p_bid=r;w.iid=v;if(_BFD.BFD_INFO.id){w.s_iid=_BFD.BFD_INFO.id}l.send(w)}})(q,m[q].iid))}}};_BFD.banners={dt:[],"default":[]};if(!_BFD.BFD_INFO){_BFD.BFD_INFO={user_id:"",page_type:"dft"}}this.Tools=$Core.tools.Tools;var k=_BFD.client_id;l.options.cid="Citpub";l.options.uid=l.options.sid;l.options.d_s="pc";this.info=_BFD.BFD_INFO;var i=this[this.info.page_type];if(i&&typeof i==="function"){i.call(this,l)}}if(document.charset){var e=document.charset.toLowerCase()}if(document.characterSet){var c=document.characterSet.toLowerCase()}var g=document.getElementsByTagName("meta");var b="";var f="";for(var d=0;d<g.length;d++){if(g[d].getAttribute("charset")!=null){f+=g[d].getAttribute("charset")}if(g[d].content!=""){b+=g[d].content;if(b.indexOf("gb2312")!=-1){b="gb2312"}if(b.indexOf("utf-8")!=-1){b="utf-8"}if(b.indexOf("gbk")!=-1){b="gbk"}}}var j="false";if(f!=""){if(f==e||f==c){j="true"}else{if(f=="gb2312"){if(e=="utf-8"||c=="utf-8"){j="true"}}else{if(f=="gbk"){if(e=="gb18030"||c=="gb18030"){j="true"}}}}}else{if(b==e||b==c){j="true"}else{if(b=="gb2312"){if(e=="utf-8"||c=="utf-8"){j="true"}}else{if(b=="gbk"){if(e=="gb18030"||c=="gb18030"){j="true"}}else{if(f==""&&b.indexOf("gb2312")==-1&&b.indexOf("utf-8")==-1){if(e=="utf-8"||c=="utf-8"){j="true"}}}}}}h.prototype={detail_bbs:function(k){k.options.p_t="dt";var i=new $Core.inputs.PageView();i.p_p="";i.p_s=document.title;k.send(i)},detail_blog:function(k){k.options.p_t="dt";var i=new $Core.inputs.PageView();i.p_p="";i.p_s=document.title;k.send(i)},detail_selftest:function(k){k.options.p_t="dt";var i=new $Core.inputs.PageView();i.p_p="";i.p_s=document.title;k.send(i)},homepage:function(k){k.options.p_t="hp";var i=new $Core.inputs.PageView();i.p_p="";i.p_s=document.title;k.send(i)},list_bbs:function(k){k.options.p_t="ls";var i=new $Core.inputs.PageView();i.p_p="";i.p_s=document.title;k.send(i)},list_blog:function(k){k.options.p_t="ls";var i=new $Core.inputs.PageView();i.p_p="";i.p_s=document.title;k.send(i)},list_selftest:function(k){k.options.p_t="ls";var i=new $Core.inputs.PageView();i.p_p="";i.p_s=document.title;k.send(i)},dft:function(k){k.options.p_t="dft";var i=new $Core.inputs.PageView();i.p_p="";i.p_s=document.title;k.send(i)}};return h})();new a()});