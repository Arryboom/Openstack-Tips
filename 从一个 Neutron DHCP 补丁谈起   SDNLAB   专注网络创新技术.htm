<!DOCTYPE html>
<html xmlns:wb="http://open.weibo.com/wb" lang="zh-CN"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta itemprop="inLanguage" content="zh-CN">
<meta property="wb:webmaster" content="edf9397ece8a1abe">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta property="qc:admins" content="725216167763464126375">
<meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1.0, maximum-scale=1, user-scalable=no">
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/iPhone/touch-57.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/iPhone/touch-72.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/iPhone/touch-114.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/iPhone/touch-144.png">
<meta charset="UTF-8">
<meta name="viewport" content="initial-scale=1.0,user-scalable=no">
<title>从一个 Neutron DHCP 补丁谈起 | SDNLAB | 专注网络创新技术</title><!-- 
<meta name="keywords" content="" />
 -->
<!-- xyz 42 queries in 0.242 seconds, using 12.87MB memory --><link rel="prefetch" href="https://www.sdnlab.com/">
<link rel="prerender" href="https://www.sdnlab.com/">
<link rel="stylesheet" id="wpzan-css" href="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/style_002.css" type="text/css" media="all">
<link rel="stylesheet" id="wpzan-css" href="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/common.css" type="text/css" media="all">
<link rel="pingback" href="https://www.sdnlab.com/my_sdnlab/xmlrpc.php">

<!-- SEO Ultimate (http://www.seodesignsolutions.com/wordpress-seo/) -->
	<meta name="description" content="本文从Neutron DHCP补丁谈起,到彻底解决问题,将这一过程所遇到的各种状况深入浅出的讲解出来.">
	<meta name="keywords" content="Neutron">
<!-- /SEO Ultimate -->

<link rel="stylesheet" id="validate-engine-css-css" href="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/validationEngine.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-css" href="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/crayon.css" type="text/css" media="all">
<link rel="stylesheet" id="cntctfrm_stylesheet-css" href="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="wpzan-css" href="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/wp-zan-0.css" type="text/css" media="all">
<script src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/hm.txt"></script><script src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/hm.txt"></script><script type="text/javascript" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/jquery.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.6.8","is_admin":"0","ajaxurl":"https:\/\/www.sdnlab.com\/my_sdnlab\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"\u4f7f\u7528 %s \u590d\u5236\uff0c\u4f7f\u7528 %s \u7c98\u8d34\u3002","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
/* ]]> */
</script>
<script type="text/javascript" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/crayon.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var wpzan_ajax_url = "https:\/\/www.sdnlab.com\/my_sdnlab\/wp-admin\/admin-ajax.php";
/* ]]> */
</script>
<script type="text/javascript" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/wp-zan.js"></script>
<script type="text/javascript" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/swfobject.js"></script>
<link rel="prev" title="国家863 SDN开源社区启动暨上海SDN产业技术创新战略联盟大会召开" href="https://www.sdnlab.com/12216.html">
<link rel="next" title="沃达丰聘请NFV专家制定集团虚拟化策略" href="https://www.sdnlab.com/12227.html">
<link rel="canonical" href="https://www.sdnlab.com/12221.html">
<link rel="shortlink" href="https://www.sdnlab.com/?p=12221">
<meta property="og:image" content="http://img1.sdnlab.com/wp-content/uploads/2015/06/pt-Neutron-DHCP-2015-06-26.jpg">

<meta name="twitter:image" content="http://img1.sdnlab.com/wp-content/uploads/2015/06/pt-Neutron-DHCP-2015-06-26.jpg">
		<style type="text/css">
			.wp-zan{
				color: #dd3333!important
			}
			.wp-zan:hover{
				color: #494949!important
			}
			.wp-zan.zaned{
				color: #353535!important
			}
		</style>
	<meta name="description" content="本文从Neutron DHCP补丁谈起,到彻底解决问题,将这一过程所遇到的各种状况深入浅出的讲解出来.">
<!--[if lt IE 9]>
<![endif]-->
<script src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/html5.js" type="text/javascript"></script>
<link rel="shortcut icon" href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/favicon.ico" type="image/x-icon">
<script>var local_url="https://www.sdnlab.com"</script>
<script src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/share.js"></script><script charset="UTF-8" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/query.txt"></script><script src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/share.js"></script></head><script type="text/javascript" id="useragent-switcher">navigator.__defineGetter__("userAgent", function() {return "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36 Edge/15.15063"})</script>
<body class="single single-post postid-12221 single-format-standard" itemtype="http://schema.org/WebPage" itemscope="itemscope"><nav id="menu" class="mm-menu mm-offcanvas mm-right"><div class="mm-panels"><div class="mm-panel mm-hasnavbar mm-opened mm-current" id="mm-1"><div class="mm-navbar"><a class="mm-title">Menu</a></div><ul class="mm-listview">
					<li style="margin-bottom:20px;border-bottom: 1px solid #666;padding: 0px 30px 20px 0px;">

                        <a href="#" style="width: 100%;" id="afterlogin_mobile">
                            <span style="display:inline-block;margin-left:-28px;">
                                <img id="user-head-img-mobile">
                            </span>
                            <span class="hoverpic-name" style="line-height:30px;display:inline-block;font-size:20px;height:30px;margin-left:15px;position: relative;top: 7px;" id="user-name-mobile"></span>
                        </a>

                        <span class="meun-login-m unlogin_mobile" style="display:inline-block;margin-left:90px;margin-top:30px;padding:0px 10px;font-size:20px;">
                            <a href="https://www.sdnlab.com/login?url_type=login&amp;url=https%3A%2F%2Fwww.sdnlab.com%2F12221.html">登录</a>
                        </span>
                        <span class="meun-login-m unlogin_mobile" style="display:inline-block;border-left:1px solid ;padding: 0px 10px;font-size:20px;">
                            <a href="https://www.sdnlab.com/register?url_type=register&amp;url=https%3A%2F%2Fwww.sdnlab.com%2F12221.html">注册</a>
                        </span>

					</li>
					<li><a href="https://www.sdnlab.com/"><span class="meun-m-pic1"></span><span style="font-size:20px;">首页</span></a></li>
					<li><a href="https://www.sdnlab.com/events/"><span class="meun-m-pic2"></span><span style="font-size:20px;">活动</span></a></li>
					<li><a href="https://www.sdnlab.com/zhaopin/"><span class="meun-m-pic10"></span><span style="font-size:20px;">招聘</span></a></li>
					<li><a href="https://www.sdnlab.com/sdn-guide"><span class="meun-m-pic6"></span><span style="font-size:20px;">入门集</span></a></li>
					<li><a href="https://edu.sdnlab.com/"><span class="meun-m-pic5"></span><span style="font-size:20px;">未来网络学院</span></a></li>
					<li><a target="_blank" href="https://www.sdnlab.com/community/"><span class="meun-m-pic7"></span><span style="font-size:20px;">知识社区</span></a></li>
					
				</ul></div></div>
				
			</nav>
	<div id="mm-0" class="mm-page mm-slideout"><div class="browser-tips" style="border-bottom:1px solid #fff;display:none;"><span><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/jinggao.png"></span>您正在使用IE低版浏览器，为了您的SDNLAB账号安全和更好的产品体验，强烈建议使用谷歌或者火狐浏览器 </div><div class="jntp-tips clearfix">
	<div class="jntp-tips2">
	<span class="jntp-tips-close"></span>
		<div id="container-ad" class="banner-ad">
		
			  <ol>
                  
			      
			     
			  <li style="margin-top: 0px;"><a target="_blank" class="jntp-tips-c" href="http://www.sdnlab.com/18669.html">SDN技能图谱强势降临，SDN应用开发工程师和NetDevOps工程师的制胜法宝，点我速览！</a>
			      
			      </li><li style="margin-top: 0px;"><a target="_blank" class="jntp-tips-c" href="http://www.sdnlab.com/community/article/help/944">知识社区“王者计划”发布，通过积分排名确定用户的不同段位，给予不同的奖励，共同打造活力社区！</a>

                  </li></ol>
		</div>
	</div>
	</div><div id="wrap" class="clearfix">
		<!--导航-->
		<div id="navigation-bg">
			<div class="nav-top">
				<div class="nav-top-left">
					<div class="logo">
						<a href="https://www.sdnlab.com/">
							<img alt="logo-lg2" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/sdnlablogo.svg" width="162" height="48">
						</a>
					</div>

				</div>
				<div class="nav-top-right" style="float:none;">

					<div id="nav-wrapper-bg" style="display:inline-block;">
						<div class="nav-wrapper clearfix" id="nav">
							<div class="menu-container">
														
																																		<ul id="menu-nav" class="fancy-rollovers"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16687"><a href="https://www.sdnlab.com/">首页</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10685"><a href="https://www.sdnlab.com/events">活动</a></li>
<li class="menu-item-guide menu-item menu-item-type-custom menu-item-object-custom menu-item-17897"><a target="_blank" href="https://edu.sdnlab.com/">未来网络学院</a><i class="g-item"></i></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12689"><a target="_blank" href="https://www.sdnlab.com/experimental-platform/">实验平台</a></li>
<li class="menu-item-seminar menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-18805 hover_line"><a>特色</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-18997"><a href="https://www.sdnlab.com/zhaopin/">招聘</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-18803"><a href="https://www.sdnlab.com/subject/">专题</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-14913"><a href="https://www.sdnlab.com/sdn-guide/">入门集</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16690"><a href="https://www.sdnlab.com/resource/">资料库</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16689"><a href="https://www.sdnlab.com/book">书籍</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16156"><a href="https://www.sdnlab.com/products">产品库</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-16705"><a href="https://www.sdnlab.com/topic-auction/">话题竞拍</a></li>
</ul>
<div class="menu-item-after"></div></li>
<li class="menu-item-guide menu-item menu-item-type-custom menu-item-object-custom menu-item-16688"><a target="_blank" href="https://www.sdnlab.com/community">知识社区</a><i class="g-item"></i></li>
</ul>
							</div>
						</div>
					</div>
					<ul class="clearfix nav-top-right2" style="float:right;">
						<li>
							<form role="search" method="get" action="https://www.sdnlab.com">
								<a href="javascript:;" class="search_btn"><i class="icon-search"></i><span>搜索</span></a>
								<div class="nav-search">
									<button type="submit"><i class="icon-search"></i></button>
									<input name="s" id="s" placeholder="请输入您要查找的内容..." type="text">
								</div>
							</form>
						</li>
						<li class="nav-top-right-m"> 
						  <a href="https://www.sdnlab.com/%3C?//php%20bloginfo(%27url%27)?%3E/contributions" class="contribution-btn"><i class="icon-contribute"></i><span>投稿</span></a> 
						 </li> 
						
                        <li id="unlogin_pc">
                            <a href="https://www.sdnlab.com/login?url_type=login&amp;url=https%3A%2F%2Fwww.sdnlab.com%2F12221.html" class="login-trigger">
                                <i class="icon-login"></i>
                                <span>登录</span>
                            </a>
                            <span class="nav-line">|</span>
                            <a href="https://www.sdnlab.com/register?url_type=register&amp;url=https%3A%2F%2Fwww.sdnlab.com%2F12221.html" class="regist-trigger">
                                <span>注册</span>
                            </a>
                        </li>

                        <li class="afterlogin" id="afterlogin_pc" style="display: none;">

                            <div class="user-hover">
                                <div class="user-click">
                                    <img id="user-head-img-pc" alt="comment reply" class="avatar avatar-35 photo avatar-default " width="35" height="35">
                                    <span class="user-name">
                                        <span id="user-name-pc"></span>
                                        <i class="user-arrow"></i>
                                    </span>
                                </div>
                                <div class="user-hide">
                                    <div class="user-hide-li">
                                        <a href="https://www.sdnlab.com/info-center#setting/basic" data-href="#setting/basic">
                                            <i class="icon-baseinfo"></i><span class="user-hide-color">个人信息</span>
                                        </a>
                                    </div>
                                    <div class="user-hide-li">
                                        <a href="https://www.sdnlab.com/info-center#favorite" data-href="#favorite">
                                            <i class="icon-collect"></i><span class="user-hide-color">我的收藏</span>
                                        </a>
                                    </div>
                                    <div class="user-hide-li">
                                        <a href="https://www.sdnlab.com/info-center#setting/pwd" data-href="#setting/pwd">
                                            <i class="icon-lock"></i><span class="user-hide-color">账号设置</span>
                                        </a>
                                    </div>
                                    <div class="user-hide-li">
                                        <a href="https://edu.sdnlab.com/info-center-edu#" data-href="" target="_blank">
                                            <i class="icon-myvideo"></i><span class="user-hide-color">我的课程</span>
                                        </a>
                                    </div>
                                    <div class="user-hide-li">
                                        <a href="https://edu.sdnlab.com/info-center-edu?type=my_order" data-href="" target="_blank">
                                            <i class="icon-myorders"></i><span class="user-hide-color">我的订单</span>
                                        </a>
                                    </div>

                                    
                                    <div class="user-hide-li">
                                        <a href="https://www.sdnlab.com/?action=logout_platform&amp;url=https%3A%2F%2Fwww.sdnlab.com%2F12221.html">
                                            <i class="icon-esc"></i><span class="user-hide-color">注销账号</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                        </li>

					</ul>
				</div>
			</div>
		</div>

        

		<!--菜单栏-->
			<!--子菜单栏-->
		
		<!--end-->

		<!--悬浮固定菜单栏-->
		<div class="nav-wrapper-bg-fixed-hidden">
			<div id="nav-wrapper-bg-fixed" style="display: block;">
				<div class="nav-wrapper" id="nav-fixed">
					<!-- <div class="logo">
					<a href="https://www.sdnlab.com"> 
						<img alt="logo-lg2" width="162" height="48" src="https://http://7xnzbp.com2.z0.glb.qiniucdn.com/wp-content/uploads/2015/03/logo15320.png">
					</a>
		        </div> -->
					<div class="menu-container">
					<div class="nav-top-left" style="float:left;position: relative;top:-6px;margin-right:20px;">
					<div class="logo">
						<a href="https://www.sdnlab.com/">
							<img alt="logo-lg2" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/sdnlablogo.svg" width="162" height="48">
						</a>
					</div>

				</div>
																																<ul id="menu-nav" class="fancy-rollovers"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16687"><a href="https://www.sdnlab.com/">首页</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10685"><a href="https://www.sdnlab.com/events">活动</a></li>
<li class="menu-item-guide menu-item menu-item-type-custom menu-item-object-custom menu-item-17897"><a target="_blank" href="https://edu.sdnlab.com/">未来网络学院</a><i class="g-item"></i></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12689"><a target="_blank" href="https://www.sdnlab.com/experimental-platform/">实验平台</a></li>
<li class="menu-item-seminar menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-18805 hover_line"><a>特色</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-18997"><a href="https://www.sdnlab.com/zhaopin/">招聘</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-18803"><a href="https://www.sdnlab.com/subject/">专题</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-14913"><a href="https://www.sdnlab.com/sdn-guide/">入门集</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16690"><a href="https://www.sdnlab.com/resource/">资料库</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16689"><a href="https://www.sdnlab.com/book">书籍</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16156"><a href="https://www.sdnlab.com/products">产品库</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-16705"><a href="https://www.sdnlab.com/topic-auction/">话题竞拍</a></li>
</ul>
<div class="menu-item-after"></div></li>
<li class="menu-item-guide menu-item menu-item-type-custom menu-item-object-custom menu-item-16688"><a target="_blank" href="https://www.sdnlab.com/community">知识社区</a><i class="g-item"></i></li>
</ul>					</div>
				</div>
			</div>
		</div>
		<!--end-->
		<div class="nav-wrapper-bg-mobile">
			<div class="logo">
				<a href="https://www.sdnlab.com/">
					<img alt="logo-lg2" style="margin-left:-7px;" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/sdnlablogo.svg" width="162" height="48">
				</a>
				<span class="header-mm" style="display:inline-block;float:right;"><a class="nav-m-display" href="#menu" style="display:block;margin-top: 7px;"><img style="height: 30px;margin-right:7px;" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/meun-m.png"></a></span>
			</div>



			<!--  <div class="nav-mobile">
			<ul>
				
				<li id="news-mobile"><a href="/news">新闻</a></li>
				<li id="view-mobile"><a href="/view">观点</a></li>
				<li id="tech-mobile"><a href="/tech">技术</a></li>
				<li id="sdn-guide"><a href="/sdn-guide">入门集</a></li>
				<li id="odl-mobile"><a href="http://www.sdnlab.com/community/">专区</a></li>
			</ul>
		</div>-->



			<!-- The menu -->
			



			<!-- 		<div id="page" class="clearfix"> -->
			<!-- 			<nav id="menu"> -->
			<!-- 				<ul> -->

			<!-- 				<li id="odl-mobile"><a href="http://www.sdnlab.com/community/">专区</a></li> -->
			<!-- 				</ul> -->

			<!-- 			</nav> -->

			<!-- 	   </div> -->

		</div>
		
	</div><div class="title_defind-newhead">
			<div class="title-content-head title-content1">
				                            
                                <a class="title-content-c title-content-chead" href="http://www.sdnlab.com/tag/SDN/">
                                    SDN                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="http://www.sdnlab.com/tag/nfv/">
                                    NFV                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="http://www.sdnlab.com/tag/NetDevOps/">
                                    NetDevOps                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="http://www.sdnlab.com/tag/5G/">
                                    5G                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="http://www.sdnlab.com/tag/iot">
                                    物联网                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="http://www.sdnlab.com/tag/network-security/">
                                    网络安全                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="http://www.sdnlab.com/tag/cloud-computing/">
                                    云计算                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="http://www.sdnlab.com/tag/big-data/">
                                    大数据                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="http://www.sdnlab.com/tag/AI/">
                                    人工智能                                </a>
                            
                        			</div>
		</div><div class="per-center-right-content-no-info" style="display: block;">
            <div class="account-msg-succ-no-info" style="display: none;">
                <div class="msg-detail"> 手机设置成功！</div>
                <button class="bt-cleart msg-clear-btn" type="button" style="display: inline-block;"></button>
            </div>
        </div><div id="container">
	<div class="container-add">
	<div id="content" role="main" class="content-padleft10">
				<article id="12221" class="entry-common entry-common-add" itemtype="http://schema.org/Article" itemscope="itemscope" data-id="12221">
			<meta itemprop="inLanguage" content="zh-CN">

			<header class="entry-header">
				<div class="entry-name" itemprop="headline">
					从一个 Neutron DHCP 补丁谈起				</div>
			</header>
			<div class="entry-meta">
				<span itemprop="author"> 
					<a href="https://www.sdnlab.com/author/1/" rel="author"> 
					SDNLAB君					</a>
				</span>
				<span itemprop="datePublished"> 
					<span>•</span>
					15-06-26				</span>
				<span itemprop="interactionCount"><span>•</span>3925 人围观</span>

			</div>
			<!--.postMeta-->

			<div class="entry-content" itemprop="description">
				<div class="content_defind">
										<p class="notice-body">
											</p>
										<p><strong>前言</strong></p>
<p>前几个星期，社区通过了一个 Patch 来解决一个遗留很久的 DHCP 相关的问题，这个 Patch 并不复杂（review 地址是 
https://review.openstack.org/#/c/185486/），但为什么这么做却有一点故事，拿出和大家聊一聊。</p>
<div class="imgex"><a href="http://7xnzbp.com2.z0.glb.qiniucdn.com/wp-content/uploads/2015/06/pt-Neutron-DHCP-2015-06-26.jpg" class="fancybox bigfa-showbox" rel="fancybox" id="bigfa-0"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/pt-Neutron-DHCP-2015-06-26.jpg" alt="从一个 Neutron DHCP 补丁谈起" class="alignnone size-full wp-image-12226" width="668" height="435"></a></div>
<p>事情从 DHCP HA 说起。我们知道 Neutron 的架构是每个“网络”（Network），都会有一个相应的 namespace 名为
 qdhco-XXX（XXX 为网络的 UUID）运行在网络节点上。这个网络命名空间内会有一个 tuntap 设备，名为 tapXXX（XXX 为
 port 的 ID），然后有一个 dnsmasq 进程与之绑定。</p>
<div class="imgex"><a href="http://7xnzbp.com2.z0.glb.qiniucdn.com/wp-content/uploads/2015/06/%E4%BB%8E%E4%B8%80%E4%B8%AA-Neutron-DHCP-%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7-%E5%9B%BE1.png" class="fancybox bigfa-showbox" rel="fancybox" id="bigfa-1"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/-Neutron-DHCP--1.png" alt="从一个 Neutron DHCP 补丁谈起 图1" class="alignnone size-full wp-image-12222" width="613" height="353"></a></div>
<p>这样，每当新的虚拟机启动，自动广播 DHCP 请求，namespace 下的 dnsmasq 将收到这个广播包并根据 
dhcp-hostfile 里的内容对 VM 给予回应，分配并确认其 IP 地址。这一切都挺好的，先不考虑网络规模很大时 dnsmasq 
的承载能力， 不考虑将 dhcp 分布式时，it works。</p>
<p>DHCP HA<br>
但如果我们想尝试将 DHCP 做 HA 呢？考虑到如果这个 dnsmasq 进程挂掉了，或者这个网络节点上的 ovs 异常了，甚至网络节点挂掉了…… 嗯，让我们先从 DHCP 的流程说起。</p>
<p>IPv4 版的 DHCP 是按照 RFC 2131 Dynamic Host Configuration Protocol 标准的，先撇开其具体细节，大概的 DHCP 流程是这样的：</p>
<div class="imgex"><a href="http://7xnzbp.com2.z0.glb.qiniucdn.com/wp-content/uploads/2015/06/%E4%BB%8E%E4%B8%80%E4%B8%AA-Neutron-DHCP-%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7-%E5%9B%BE2.png" class="fancybox bigfa-showbox" rel="fancybox" id="bigfa-2"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/-Neutron-DHCP--2.png" alt="从一个 Neutron DHCP 补丁谈起 图2" class="alignnone size-full wp-image-12223" width="425" height="578"></a></div>
<p>首先在 DHCP 发现阶段，客户端发送目的地址为 255.255.255.255 的 UDP 广播包，然后服务端回复 DHCP 
OFFER，包含分配的 IP、默认路由、租约有效期等等。为了避免同一个网络下有多个 DHCP 服务端，而客户端只接受一个 DHCP 
结果，所以客户端需要再发广播通知所有 DHCP 服务端自己接受了哪个 DHCP 分配结果，这个包里含有它自己给自己确定的 IP 地址，这个 IP
 地址来自于哪个 DHCP 服务端（服务端的 IP 地址）。最后服务端广播一条 ACK 作为结束。</p>
<p>看这个过程，我们不难发现“先民”已经考虑了一个三层网络下有多个 DHCP Server 的情况，那我们做 HA 
应该很好做了，只要在一个网络下起两个一摸一样的 DHCP Server，两个 Server 对 Client 争抢，谁抢答成功 Client 
将会把谁的地址填充到 DHCP Request 中，那么另一个没抢到的 DHCP Server 收到不是自己的 DHCP Request 
自然就放弃了。因为 dnsmasq 的地址分配依赖于 dhcp-hostfile，而这个文件又依赖于 
DB（Neutron）的控制，所以最终的状态必然是一致的，</p>
<p>OK，到现在为止皆大欢喜，只需要简单的多启一个 agent 就能解决企业级应用和生产系统常常头痛的 HA 问题，是不是故事就这么结束了呢？</p>
<p><strong>问题</strong></p>
<p>很快我们就发现了一个问题，就是续租。</p>
<p>这个问题怎么产生的呢？我们知道 DHCP 
只是一个租约，也就是说它是有有效期的，那么客户端需要定时发送续约的申请，否则按照协议，它将自己解除自己的 IP 
地址。既然是个租约，就存在状态（客户端 IP、MAC、租约有效期、上次续约时间……），那么这些状态对于服务端来说存在在哪里？返回头看我们截下来的
 shell 界面，里面有一个参数是 
“–leasefile-ro”，这个参数是什么意思呢？就是说租约信息不会写入文件，官方建议是如果你不需要我来帮你做状态的存储，那么你可以通过 
dhcp-script 来用一个外部存储维护。可是 Neutron 
默认可不是这么用的，因为如果有文件存在在硬盘的话，维护起来需要成本，如果我们想做迁移更是还要考虑这些本地状态，所以 Neutron 一直都使用了
 leasefile-ro 参数。</p>
<p>但是这样的话如果一旦 dnsmasq 重启了，或者该 dnsmasq 挂掉了呢？结果将是一个没有该租约信息的 DHCP Server 
或者一个 request 内服务器地址不吻合的 DHCP Server 将需要回复这个续约请求，不出意料的，这次续约请求将会以失败告终，如果 
Client 的实现并没有在续约失败后重新做 DHCP 发现，那么这个客户端将丢掉自己的 IP。</p>
<p>怎么解决呢？首先 dnsmasq 一般是不怎么出问题的，进程重启往往是因为 agent 重启而导致的，所以我们首先可以尝试让 DHCP 
agent 重启时不要重启 dnsmasq 进程。然而这样只是治标不治本啊，还好 dnsmasq 
还留下了一个选项叫“dhcp-authoritative”。</p>
<p>官方的 man 文档是这么介绍这个参数的：</p>
<p>-K, –dhcp-authoritative<br>
Should be set when dnsmasq is definitely the only DHCP server on a 
network. For DHCPv4, it changes the behaviour from strict RFC compliance
 so that DHCP requests on unknown leases from unknown hosts are not 
ignored. This allows new hosts to get a lease without a tedious timeout 
under all circumstances. It also allows dnsmasq to rebuild its lease 
database with-out each client needing to reacquire a lease, if the 
database is lost. For DHCPv6 it sets the priority in replies to 255 (the
 maximum) instead of 0 (the minimum).<br>
我们重点看黑体的那部分，这参数将允许租约信息不存在时重建这个信息！如果是这样，那我们确实就不怕一个 dnsmasq 进程重启活着挂掉了！真是完美的 active-active 模式啊，为了避免文档描述不准确，我们查 dnsmasq 的代码看下。</p>
<p>DHCPv4 的实现在 src/rfc2131.c 里，看里面的代码，整个逻辑都在 dhcp_reply 这一个函数里，先到 case 
DHCPREQUEST 里，再判断是不是续约，在注释里表达了文档一样的意思，在代码里我们可以看到如果没打开 OPT_AUTHORITATIVE 
（dhcp-authoritative）则回复 NAK，如果打开了呢，经过一系列繁琐的逻辑检查最终 dnsmasq 会回复 ACK。</p>
<div class="imgex"><a href="http://7xnzbp.com2.z0.glb.qiniucdn.com/wp-content/uploads/2015/06/%E4%BB%8E%E4%B8%80%E4%B8%AA-Neutron-DHCP-%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7-%E5%9B%BE3.png" class="fancybox bigfa-showbox" rel="fancybox" id="bigfa-3"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/-Neutron-DHCP--3.png" alt="从一个 Neutron DHCP 补丁谈起 图3" class="alignnone size-full wp-image-12224" width="580" height="268"></a></div>
<p><strong>新的问题</strong></p>
<p>嗯，到这里是不是圆满了呢？为了完整的了解这个选项的意义，避免副作用，我们不妨在这个逻辑里继续搜索 OPT_AUTHORITATIVE，看看它还会带来什么，比如这个：</p>
<div class="imgex"><a href="http://7xnzbp.com2.z0.glb.qiniucdn.com/wp-content/uploads/2015/06/%E4%BB%8E%E4%B8%80%E4%B8%AA-Neutron-DHCP-%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7-%E5%9B%BE4.png" class="fancybox bigfa-showbox" rel="fancybox" id="bigfa-4"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/-Neutron-DHCP--4.png" alt="从一个 Neutron DHCP 补丁谈起 图4" class="alignnone size-full wp-image-12225" width="632" height="232"></a></div>
<p>这里注释说，如果是在 auth mode，那么“should be faulted”，否则忽略。什么意思呢？代码告诉我们，如果没打开 
OPT_AUTHORITATIVE，那么直接 return，什么都不干，否则 meassage 为“wrong 
server-ID”，这最终将导致发送一条 DHCPNAK。</p>
<p>这是代码里的逻辑，实际上会有什么影响吗？假设我们的两个 DHCP Server 全部开启了 dhcp-authoritative，那么 
DHCP 发现时，两个 Server 都回复 Offer，但客户端只会选择一个发送 Request，两个 Server 都收到了 
Request，正确的（被选中的） Server 会发送一条 ACK，而错误的（未被选中的） Server 
过去会忽略，现在它将生命自己的存在感，发送一条 NAK……</p>
<p>这…… 不会酿成什么问题吧……</p>
<p>事实恰好相反，我们已经确认一部分版本的 dhcpd 和 dhclient 均有可能不恰当地处理 DHCPNAK，将导致 Client 反复释放并重新获取 IP，Cirros 和部分 RH 系的系统可能受到影响。</p>
<p><strong>最终解决</strong></p>
<p>下面再返回到这个 Patch 上，如果说我们不能再用 dhcp-authoritative 来解决 dnsmasq 
重启的问题，那该怎么办？社区最终选择的方案是返回来继续用 leasefile，那么如果迁移或者原 dnsmasq 挂掉呢？那么 agent 
会生成一个假的 leasefile 来骗过 dnsmasq。</p>
<p>最终的解决花了很长时间，而且方法还是有些 hack，更好的方案还是要期待各位的思路啦！</p>
<p>作者简介：王为，UnitedStack有云SDN 工程师，专注于虚拟网络和 SDN 方向，OpenStack 等多个开源社区的活跃贡献者。<br>
&nbsp;<br>
转载自：UnitedStack有云</p>
									</div>
			</div>

						<p class="notice-body" style="text-align: center; margin: 0 auto;">
				<a href="https://edu.sdnlab.com/openstack-neutron" target="_blank"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/980x90-Openstack-Neutron.jpg"></a>
<a href="http://edu.sdnlab.com/training/887.html" target="_blank"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/980x90OpenDaylight.jpg"></a>

			</p>
						<br>
			<ul class="art_attachment">
				<li class="station-declaration">本站原创文章仅代表作者观点，不代表SDNLAB立场。所有原创内容版权均属SDNLAB，欢迎大家转发分享。但未经授权，严禁任何媒体（平面媒体、网络媒体、自媒体等）以及微信公众号复制、转载、摘编或以其他方式进行使用，转载须注明来自 SDNLAB并附上本文链接。
				</li>
				<li>本文链接<strong>：</strong><a href="https://www.sdnlab.com/12221.html">https://www.sdnlab.com/12221.html</a></li>
			</ul>
		</article>
		<div class="sharebox">
			<div class="bdsharebuttonbox" style="display: inline-block;">
					<span>分享到：</span>
					<a href="#" class="bds_tsina bds_width" data-cmd="tsina" title="分享到新浪微博">
					</a>
<!--					<a href="#" class="bds_tqq bds_width" data-cmd="tqq" title="分享到腾讯微博">-->
<!--					</a>-->
					<a href="#" class="bds_weixin bds_width" data-cmd="weixin" title="分享到朋友圈">
					</a>
			</div>
			
			<div class="zan_defind" title="点赞">
				<a title="赞" class="wp-zan-12221 wp-zan" onclick="wpzan(12221, 0)" href="javascript:;"><i class="wp"></i><i class="wp-click" style="display: none;"></i>
<span>1</span></a>				
			</div>
				<div class="share_defind" title="收藏">
				<div class="collect-tips" style="display:none;"><span></span>只对登录用户开放收藏功能</div>
				<a title="请登录，再收藏" data-post="12221" class="wps-share wp_favorited share_defind_unlogin" href="javascript:;"><i class="wps"></i><i class="wps-click" style="display: none;"></i><span class="favorite_count">0</span></a></div>
			
		</div>

		<div class="related_event_posts_pc entry-common-add">
	        		<div class="rlt-post" id="rlt-post">
	            		<div class="comments-title title_defind" style="text-align: center;border-bottom:2px solid #F95B39">
	                		<div><span style="color:#F95B39">相关文章</span></div>
	            		</div>
	            		<div class="bfd_content">
			                <div class="rel_art_list">			<a class="rel_article   rel_article_0" href="https://www.sdnlab.com/20544.html" target="_blank">
				<div class="single_article">
					<div style="overflow: hidden;text-align: center;"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/secure-multi-cloud-400x280.jpg" class="thumb" title=""></div>
		            <span class="title">保护多云网络的挑战 </span>
		        </div>
			</a>
						<a class="rel_article   rel_article_1" href="https://www.sdnlab.com/20506.html" target="_blank">
				<div class="single_article">
					<div style="overflow: hidden;text-align: center;"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/openstack-restful-api-400x280.jpg" class="thumb" title=""></div>
		            <span class="title">OpenStack操作之Restful API </span>
		        </div>
			</a>
						<a class="rel_article   rel_article_2" href="https://www.sdnlab.com/20491.html" target="_blank">
				<div class="single_article">
					<div style="overflow: hidden;text-align: center;"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/OpenStack400x2802018-01-31.jpg" class="thumb" title=""></div>
		            <span class="title">边缘计算新赛道，OpenStack抢跑抢对了 </span>
		        </div>
			</a>
						<a class="rel_article   rel_article_3" href="https://www.sdnlab.com/20475.html" target="_blank">
				<div class="single_article">
					<div style="overflow: hidden;text-align: center;"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/cloud-leader-400x280.jpg" class="thumb" title=""></div>
		            <span class="title">未来，云计算市场将不存在绝对领导者 </span>
		        </div>
			</a>
						<a class="rel_article   rel_article_4" href="https://www.sdnlab.com/20440.html" target="_blank">
				<div class="single_article">
					<div style="overflow: hidden;text-align: center;"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/syscloud-400x280.jpg" class="thumb" title=""></div>
		            <span class="title">浅析云交换的“前世今生” </span>
		        </div>
			</a>
						<a class="rel_article   rel_article_5" href="https://www.sdnlab.com/20427.html" target="_blank">
				<div class="single_article">
					<div style="overflow: hidden;text-align: center;"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/OpenStack%2520VM-400x2802017-12-01.jpg" class="thumb" title=""></div>
		            <span class="title">OpenStack版本更新，或将从六个月一次改为1年一次 </span>
		        </div>
			</a>
			</div></div></div></div><div class="related_event_posts_m">
        	<div class="title_defind" style="margin-bottom:15px;">					    
	         	<div class="title_color">							  
	         		<p style="color:#000">相关文章</p>						     
	         	</div>
			</div>
        	<ul>			<li class="clearfix activities-xgwz-m">
				<div class="list-wm-content-pic">
					<a href="https://www.sdnlab.com/20544.html" target="_blank"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/secure-multi-cloud-400x280.jpg" class="thumb" title=""></a>
                </div>
                <div class="list-wm-text-activities">
                    <a href="https://www.sdnlab.com/20544.html" target="_blank">保护多云网络的挑战</a>
                </div>
			</li>
						<li class="clearfix activities-xgwz-m">
				<div class="list-wm-content-pic">
					<a href="https://www.sdnlab.com/20506.html" target="_blank"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/openstack-restful-api-400x280.jpg" class="thumb" title=""></a>
                </div>
                <div class="list-wm-text-activities">
                    <a href="https://www.sdnlab.com/20506.html" target="_blank">OpenStack操作之Restful API</a>
                </div>
			</li>
						<li class="clearfix activities-xgwz-m">
				<div class="list-wm-content-pic">
					<a href="https://www.sdnlab.com/20491.html" target="_blank"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/OpenStack400x2802018-01-31.jpg" class="thumb" title=""></a>
                </div>
                <div class="list-wm-text-activities">
                    <a href="https://www.sdnlab.com/20491.html" target="_blank">边缘计算新赛道，OpenStack抢跑抢对了</a>
                </div>
			</li>
						<li class="clearfix activities-xgwz-m">
				<div class="list-wm-content-pic">
					<a href="https://www.sdnlab.com/20475.html" target="_blank"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/cloud-leader-400x280.jpg" class="thumb" title=""></a>
                </div>
                <div class="list-wm-text-activities">
                    <a href="https://www.sdnlab.com/20475.html" target="_blank">未来，云计算市场将不存在绝对领导者</a>
                </div>
			</li>
						<li class="clearfix activities-xgwz-m">
				<div class="list-wm-content-pic">
					<a href="https://www.sdnlab.com/20440.html" target="_blank"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/syscloud-400x280.jpg" class="thumb" title=""></a>
                </div>
                <div class="list-wm-text-activities">
                    <a href="https://www.sdnlab.com/20440.html" target="_blank">浅析云交换的“前世今生”</a>
                </div>
			</li>
						<li class="clearfix activities-xgwz-m">
				<div class="list-wm-content-pic">
					<a href="https://www.sdnlab.com/20427.html" target="_blank"><img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/OpenStack%2520VM-400x2802017-12-01.jpg" class="thumb" title=""></a>
                </div>
                <div class="list-wm-text-activities">
                    <a href="https://www.sdnlab.com/20427.html" target="_blank">OpenStack版本更新，或将从六个月一次改为1年一次</a>
                </div>
			</li>
			</ul></div>		
		<div class="clear"></div>
		<nav class="single-nav">
			<span class="left"><strong>上篇: </strong><a target="_blank" href="https://www.sdnlab.com/12210.html" title="思科继续增强SDN领导地位" rel="prev"><span class="meta-nav"></span> 思科继续增强SDN领导地位</a>			</span> <span class="right right_ex"><strong>下篇: </strong> <a target="_blank" href="https://www.sdnlab.com/12227.html" title="沃达丰聘请NFV专家制定集团虚拟化策略" rel="next">沃达丰聘请NFV专家制定集团虚拟化策略 <span class="meta-nav"></span></a>			</span>
		</nav>
		<div class="clear"></div>
		<div id="review" style="display:block;"></div>
		<!-- <div id="comments" class="comments-box">
<wb:comments url="auto" width="auto" appkey="2887376896" ralateuid="5247527310" ></wb:comments>
</div>  -->

<div id="comments" class="comments-box entry-common-add">
    		<div id="reply-title" class="comments-title title_defind"> 
			<div class="title_color">
							<span><span id="num_comment">0</span>条评论</span>
			</div>
			<small>
                		                	</small> 
					</div>
        <div id="respond" class="respond" role="form" style="position:relative;">
		  
		
           	                <form name="comment-form" action="https://www.sdnlab.com/wp-comments-post.php" method="post" id="commentform">
                    <p class="comment-form-comment">
                        <textarea placeholder="有话不说，憋着多难受啊!" disabled="disabled" name="comment" id="comment" rows="10" tabindex="4" onkeydown="if(event.ctrlKey&amp;&amp;event.keyCode==13){document.getElementById('submit').click();return false};"></textarea>
                    </p>
                    <input name="at_uid" value="{{at_uid}}" type="hidden">
                    <input class="sdnlab-comments" name="submit" id="submit" tabindex="5" onclick="return checkRealNameAndPhone()" value="评论" disabled="disabled" type="submit">
					
                    <input name="comment_post_ID" value="12221" id="comment_post_ID" type="hidden">
<input name="comment_parent" id="comment_parent" value="0" type="hidden">
                                    </form>
                <div id="aw-ajax-box" class="aw-ajax-box" style="position:absolute;top:40px;left:60px;"></div>
                                        <p style="margin: 0px; font-size: 14px; width: 200px;" id="comment_need_login_tips">
                    请<a href="https://www.sdnlab.com/my_sdnlab/login?url_type=login&amp;url=http%3A%2F%2Fwww.sdnlab.com%2F12221.html" style="color:#F9734D;">登录</a>后才可以评论
                </p>
        </div>
        <div class="clearfix"></div>
            <div class="commentshow" id="comments_content"><div id="comment-ajax"></div>
                             <nav class="commentnav"><ol class="comment-list"></ol></nav>        
            </div>
</div>


				<div class="article-bar" id="article-bar" style="display: block;">
		     <div class="article-bar-middle">
			<div class="authors-info">
				<a href="https://www.sdnlab.com/author/1/">
					<img class="poto" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/1.png">
					<span> 
						SDNLAB君					</span>
				</a>
				<span class="authors-info-time">发表于15-06-26</span>
			</div>
			<div class="comment-info">
			
			<div class="share_defind" style="float: left; margin-top: 10px;margin-right:0px;" title="分享">
			<div class="collect-tips" style="display:none;"><span></span>只对登录用户开放收藏功能</div>
			<a title="请登录，再收藏" data-post="12221" class="wps-share wp_favorited share_defind_unlogin" href="javascript:;"><i class="wps"></i><i class="wps-click" style="display: none;"></i><span class="favorite_count">0</span></a></div>
				<div class="article-bar-zan" title="点赞"><a title="赞" class="wp-zan-12221 wp-zan" onclick="wpzan(12221, 0)" href="javascript:;"><i class="wp"></i><i class="wp-click" style="display: none;"></i>
<span>1</span></a></div>
				<a class="article-bar-comment" href="javascript:void(0);" title="评论"></a>
				<div class="dropdown-menu-part">
					<a class="article-bar-share" href="javascript:void(0);" title="分享"></a>
					<div class="bdsharebuttonbox share-list" style="display:none;">
						<div class="share-list-li"><a href="javascript:void(0);" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">分享到新浪微博</a></div>
<!--						<div class="share-list-li"><a href="javascript:void(0);" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博">分享到腾讯微博</a></div>-->
						<div class="share-list-li"><a href="javascript:void(0);" class="bds_weixin" data-cmd="weixin" title="分享到朋友圈">分享到朋友圈</a></div>
						<i class="dropdown-menu-img"></i>
					</div>
				</div>
			</div>
		     </div>
		</div>
		</div>
	</div>
	<div id="sidebar" role="complementary">	
	<aside class="widget widget-notice">
<ul>
	<li>@matthewyin，可以在这里购买https://store.netgate.com/DPDK-2340.aspx；
或者买这个裸板，自己下载DPDK进去，购买链接：http://www.mouser.cn/productdetail/adi-
engineering/mbt-4220?qs=sGAEpiMZZMtTz4c6chlxkC5CvsxL5IUDXYr8s0io2IncjuhjY3N3Ag%3D%3D
 <span style="color:#999;">(2018/02/27 13:29)</span></li><li>@xiaolanxia 那你就正常加端口吧。注意下面几点
(1)跑oftest需要操作端口收发报文，因此需要sudo权限。
(2)可以抓一下交互报文，分析一下到底在哪里startup failed <span style="color:#999;">(2018/02/27 07:38)</span></li><li>@ljyfree 日志输出如下，端口映射置空不可以？
 CRITICAL: Interface port map was not defined by the platform. Exiting. <span style="color:#999;">(2018/02/26 20:18)</span></li></ul>
</aside>
        
    	<aside id="bigfa_widget28-4" class="widget widget_bigfa_widget28">		<div id="recommend-subject" class="sidebar-recommend">
	         <div class="title_defind">					    
	         	<div class="title_color">							  
	         		<p>热门技术</p>						     
	         	</div>
	         	<i class="sprite-img spri-hot"></i>
			</div>		
       
        <ul><li><h4><a target="_blank" href="https://www.sdnlab.com/20412.html" title="话说VLAN Tag 的“来龙去脉”"><i class="sprite-img spri-square"></i>
							话说VLAN Tag 的“来龙去脉”</a></h4><p>本文主要来阐述TCP/IP中Vlan的基本原理—Vl…</p></li><li><h4><a target="_blank" href="https://www.sdnlab.com/20400.html" title="数据中心SDN技术发展应用之MP-BGP"><i class="sprite-img spri-square"></i>
							数据中心SDN技术发展应用之MP…</a></h4><p>MP-BGP EVPN控制平面利用一组路由信息同步…</p></li><li><h4><a target="_blank" href="https://www.sdnlab.com/20420.html" title="Segment  Routing将助力SDN重塑新型网络"><i class="sprite-img spri-square"></i>
							Segment  Routing将助力SDN重…</a></h4><p>Segment Routing技术，让我想起杨过断臂之…</p></li><li><h4><a target="_blank" href="https://www.sdnlab.com/20403.html" title="运营商SD-WAN部署的难点分析"><i class="sprite-img spri-square"></i>
							运营商SD-WAN部署的难点分析</a></h4><p>通过分析Google SD-WAN在其B4 网络上的部…</p></li><li><h4><a target="_blank" href="https://www.sdnlab.com/20441.html" title="EVPN，你真的理解了吗？"><i class="sprite-img spri-square"></i>
							EVPN，你真的理解了吗？</a></h4><p>EVPN技术对客户而言是有价值的，对于运营…</p></li></ul>        </div>
        </aside><aside id="bigfa_widget17-4" class="widget widget_bigfa_widget17"><div class="title_defind"><div class="title_color"><p>最新评论</p></div></div>        <ul class="sider-comment">
            <li><img alt="comment reply" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/100.jpg" class="avatar avatar-35 photo avatar-default" width="35" height="35"><div class="sider-comment-right"><p>cool</p>
				
				<a target="_blank" href="https://www.sdnlab.com/20524.html#comment-3346">@matthewyin，可以在这里购买https://store.netgate.com/DPDK-2340.aspx；
或者买这个裸板，自己下载DPDK进去，购买…</a></div></li>
<li><img alt="comment reply" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/a03d055f.jpg" class="avatar avatar-35 photo avatar-default" width="35" height="35"><div class="sider-comment-right"><p>ljyfree</p>
				
				<a target="_blank" href="https://www.sdnlab.com/17103.html#comment-3345">@xiaolanxia 那你就正常加端口吧。注意下面几点
(1)跑oftest需要操作端口收发报文，因此需要sudo权限。
(2)可以抓…</a></div></li>
<li><img alt="comment reply" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/4.png" class="avatar avatar-35 photo avatar-default" width="35" height="35"><div class="sider-comment-right"><p>xiaolanxia</p>
				
				<a target="_blank" href="https://www.sdnlab.com/17103.html#comment-3344">@ljyfree 日志输出如下，端口映射置空不可以？
 CRITICAL: Interface port map was not defined by the platform. E…</a></div></li>
<li><img alt="comment reply" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/a03d055f.jpg" class="avatar avatar-35 photo avatar-default" width="35" height="35"><div class="sider-comment-right"><p>ljyfree</p>
				
				<a target="_blank" href="https://www.sdnlab.com/17103.html#comment-3343">@xiaolanxia 设置remote_port_map为空好了。</a></div></li>
<li><img alt="comment reply" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/4.png" class="avatar avatar-35 photo avatar-default" width="35" height="35"><div class="sider-comment-right"><p>xiaolanxia</p>
				
				<a target="_blank" href="https://www.sdnlab.com/17103.html#comment-3342">@miracle李明轩 请问OFTest只连接远程物理交换机的管理端口，不连接数据平面端口，port_map应该怎么写？ 我的一直报…</a></div></li>
<li><img alt="comment reply" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/4.png" class="avatar avatar-35 photo avatar-default" width="35" height="35"><div class="sider-comment-right"><p>sdn-melody</p>
				
				<a target="_blank" href="https://www.sdnlab.com/19208.html#comment-3341">请教一个问题：ovs-vsctl set port eth1 qos=@newqos --  
--id=@newqos create qos type=linux-htb queues=0=@q0 -…</a></div></li>
<li><img alt="comment reply" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/4.png" class="avatar avatar-35 photo avatar-default" width="35" height="35"><div class="sider-comment-right"><p>xiaolanxia</p>
				
				<a target="_blank" href="https://www.sdnlab.com/3390.html#comment-3340">@1551906128 请问能否私聊请教，我邮箱 woshixiaolanxia@163.com</a></div></li>
<li><img alt="comment reply" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/4.png" class="avatar avatar-35 photo avatar-default" width="35" height="35"><div class="sider-comment-right"><p>xiaolanxia</p>
				
				<a target="_blank" href="https://www.sdnlab.com/3390.html#comment-3339">@1551906128 我连接远程物理交换机一直报错，请问如何解决， File "/home/ubuntu/oftest/src/python/oftest/bas…</a></div></li>
<li><img alt="comment reply" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/4_002.png" class="avatar avatar-35 photo avatar-default" width="35" height="35"><div class="sider-comment-right"><p>1551906128</p>
				
				<a target="_blank" href="https://www.sdnlab.com/3390.html#comment-3338">@xiaolanxia 已解决，是因为没有设置虚拟端口，第一次运行OFtest前先启动run_switch就好了</a></div></li>
<li><img alt="comment reply" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/4.png" class="avatar avatar-35 photo avatar-default" width="35" height="35"><div class="sider-comment-right"><p>xiaolanxia</p>
				
				<a target="_blank" href="https://www.sdnlab.com/3390.html#comment-3337">@1551906128 问题是否解决</a></div></li>
        </ul>

        </aside>  
   	
	
<aside class="show_social" style="padding-bottom: 10px;">
	
</aside>
<div id="float" class="float" style="position: fixed; top: 25px;">
     <p class="notice-body" style="text-align: center; margin:0 auto;">
            </p></div>
</div></div><div class="login_overlay_email_foot" style="overflow-y: scroll; overflow-x: hidden; background: rgba(0, 0, 0, 0.5) !important;display:none;" id="container_bind_email">
    <div class="per-center-main2 per-center-main2-email_foot" id="dialog_bind_email">
        <p class="zp-content-head" style="margin-bottom:35px;"> 验证邮箱
            <span class="zp-closebtn" onclick="close_bind_email_dialog()"></span></p>
        <p style="text-align:center;margin-top:25px;font-size:20px;" id="upload_title"></p>
        <p class="message-conform message-conform-add mcaa">绑定邮箱后，您可以正常使用知识社区、实验平台、未来网络学院等服务</p>
        <div class="form-group-reg form-group-add">
            <div class="form-group-email"></div>
            <input placeholder="邮箱" id="dialog_bind_email_text" type="email">
        </div>
        <div class="verifycode-none1 verifycode-add" style="display:block;" id="container_bind_email_tips">
            <span class="verifycode-none captcha-none verifycode-n1" style="display:none;" id="container_bind_email_tips_content"></span>
        </div>
        <div>
                <div class="reg-verifycode clearfix form-group-add login-IC1" style="margin-top:20px;text-align:center">
                    <div class="form-group-reg2 form-group-reg21 form-group-reg-foot">
                        <div class="form-group-message"></div>
                        <input maxlength="6" id="dialog_bind_email_captcha" placeholder="请输入邮箱验证码" type="text">
                    </div>
                    <div style="position:absolute;right:0px;">
                        <button type="button" value="获取验证码" class="reg-button captcha-button" id="btn_dialog_bind_email_register_code">获取验证码</button>
                    </div>
                </div>

                <div class="verifycode-none1 verifycode-add" style="display:block;" id="container_bind_emai_captcha_tips">
                    <span class="verifycode-none captcha-none verifycode-n1" style="display:none;" id="container_bind_email_captcha_tips_content"></span>
                </div>
        </div>

        <div class="per-btn-login " style="margin-top:55px;">
            <button class="per-btn-primary2" style="margin: auto;margin-top: -30px;" id="btn_confirn_dialog_bind_email">确定</button>
        </div>
    </div>
</div><div class="login_overlay_num_foot" style="overflow-y: scroll; overflow-x: hidden; background: rgba(0, 0, 0, 0.5) !important;display: none;" id="container_bind_phone">
    <div class="per-center-main2 per-center-main2-num_foot" style="display: none;" id="dialog_bind_phone">
        <p class="zp-content-head" style="margin-bottom:35px;"> 绑定手机
            <span class="zp-closebtn" onclick="close_real_name_certification_dialog()"></span></p>
        <p style="text-align:center;margin-top:25px;font-size:20px;"></p>
        <p class="message-conform message-conform-add mcaa">应国家法规对于账号实名的要求，进行下一步操作前，需要先完成手机绑定。</p>
        <p class="message-conform-add mcaa">绑定手机后，您可以正常使用知识社区、实验平台、未来网络学院等服务</p>
        <div class="form-group-reg form-group-add">
            <div class="form-group-number"></div>
            <input placeholder="手机号" maxlength="11" id="dialog_bind_phone_text" type="text">
        </div>
        <div class="verifycode-none1 verifycode-add" style="display:block;" id="dialog_bind_phone_tips">
            <span class="verifycode-none captcha-none verifycode-n1" style="display:none;" id="dialog_bind_phone_tips_content"></span>
        </div>
        <div>
            <div class="reg-verifycode clearfix form-group-add login-IC1" style="margin-top:20px;text-align:center">
                <div class="form-group-reg2 form-group-reg21 form-group-reg-foot">
                    <div class="form-group-message"></div>
                    <input maxlength="6" placeholder="请输入手机验证码" id="dialog_bind_phone_captcha" type="text">
                </div>
                <div style="position:absolute;right:0px;">
                    <button type="button" value="获取验证码" class="reg-button captcha-button" id="btn_bind_phone_dialog_register_code">获取验证码</button>
                </div>
            </div>

            <div class="verifycode-none1 verifycode-add" style="display:block;" id="dialog_bind_phone_captcha_tips">
                <span class="verifycode-none captcha-none verifycode-n1" style="display:none;" id="dialog_bind_phone_captcha_tips_content"></span>
            </div>
        </div>

        <div class="per-btn-login " style="margin-top:55px;">
            <button class="per-btn-primary2" style="margin: auto;margin-top: -30px;" id="btn_dialog_confirm_bind_phone">确定</button>
        </div>
    </div>
</div><div class="scroll_fixed">
	 <div class="qr_codes">
	    <div class="qr_codes_btn"></div>
	    <div class="codeimg">
	       <img alt="weibo" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/weibo.png">
	       <p>微信公众号：搜索"SDNLAB"<br>或扫描上面的二维码。</p>
       </div>
	</div>
	<div id="back_to_top" style="display: block;"></div>
</div><div id="su-footer-links" style="text-align: center;"></div><div class="statistic">
	</div><div style="display: none;">
	

<!-- <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	  ga('create', 'UA-56814233-1', 'auto');
	  ga('send', 'pageview');
	</script> 
-->	
</div><div class="loginmodal" id="loginmodal" style="display:none;">
		<div class="login-head">
		    <h1><span>SDN</span>LAB</h1>
		    <div class="closeBtn normalcloseBtn" title="点击关闭"></div>
	    </div>
	    <div id="loginform">
	    	

<div id="login-container">
<br>
  <div class="login-form">
	<form name="loginform" method="post" action="https://www.sdnlab.com/my_sdnlab/wp-login.php" onsubmit='return check_login("log","pwd","login-none-activate-label","login-error-label",0)' class="ludou-login">
	        <input name="log" id="log" class="txtfield" maxlength="40" size="20" placeholder="用户名或邮箱" type="text">
		<p class="reg_wran">
   		</p>
	        <input id="pwd" class="txtfield input" maxlength="20" size="25" value="" name="pwd" placeholder="密码" type="password">
		<p class="reg_wran">
        		<span style="display:none;" id="login-error-label">用户名或密码错误</span>
   		</p>
   		<p class="reg_wran">
        		<span style="display:none;color:#000;" id="login-none-activate-label">您的账户尚未激活<a style="cursor: pointer;color:red;" onclick="re_post_email()">激活账户</a></span>
   		</p>
	     <div class="loginpassword">
	      <label for="rememberme">
	        <input name="rememberme" id="rememberme" value="1" type="checkbox">
	        	记住我
	      </label>
	      
	      <a href="https://www.sdnlab.com/account/find_password" class="password-forget" target="_blank" hidefocus="true">忘记密码？ </a>
         </div>
	   <div class="loginbuttom">
	       <p>没有帐号？<a id="login-register-btn" href="#">注册</a></p>
	      <input style="display:none;" type="reset"> 
	      <input name="redirect_to" value="" type="hidden">
	      <input name="ludou_token" value="52100e1efed300eaeeb66063f90df439" type="hidden">
	      <input name="wp-submit" id="wp-submit" value="登录" class="submit button floatbtn" type="submit">
	 </div>
	</form>
  </div>
 <!-- <p class="ludou-error">您已登录！</p> -->
</div>
	    </div>
	    <div id="signinform" style="display:none">
	    	
  <div class="login-form">
	<form name="registerform" method="post" action="https://www.sdnlab.com/my_sdnlab/account/RegisterAction.class" class="ludou-reg" onsubmit="return check_regist(1)">
    <input class="txtfield" name="user_login" id="user_login" maxlength="18" size="20" placeholder="用户名" onblur="reg_onblur_username('user_login','reg_name_placeholder','reg_name_wrong',1)" onfocus="registeErrorRemove('user_login','reg_name_placeholder','reg_name_wrong')" type="text">

    <p class="reg_wran">
        <span id="reg_name_placeholder" style="display:none;">长度3-18位</span>
        <span id="reg_name_wrong" style="display:none;color:red;"></span>
    </p>
    <input class="txtfield" name="user_email" id="user_email" size="25" placeholder="邮箱" onblur="reg_onblur_email('user_login','user_email','reg_email_placeholder','reg_email_wrong',1)" onfocus="registeErrorRemove('user_email','reg_email_placeholder','reg_email_wrong')" type="text">

    <p class="reg_wran">
        <span id="reg_email_placeholder" style="display:none;">请输入有效邮箱地址</span>
        <span id="reg_email_wrong" style="display:none;color:red;"></span>
    </p>
    
    <input class="txtfield" id="user_pwd1" maxlength="16" size="25" value="" name="user_pass" placeholder="密码" onblur="reg_onblur_pass('user_pwd1','reg_pass_placeholder','reg_pass_wrong')" onfocus="registeErrorRemove('user_pwd1','reg_pass_placeholder','reg_pass_wrong')" type="password">

    <p class="reg_wran">
         <span id="reg_pass_placeholder" style="display:none;">请输入6-16位密码，区分大小写</span>
         <span id="reg_pass_wrong" style="display:none;color:red;"></span>
    </p>

    <p id="reg_passmail"></p>
    <input name="ludou_reg" value="ok" type="hidden">
    <input style="display:none;" type="reset"> 
   <div class="loginbuttom">
     <p>已有帐号？<a id="login-btn" href="#">登录</a></p>
      <input name="wp-submit" id="wp-submit" class="floatbtn" value="注册" type="submit">
   </div>
</form>
</div>
<!--底部-->	    </div>
		<div class="login-footer">
	    	<div class="login-footer-content">
		        <ul class="clearfix">
		      	   <li><span>快速登录：</span></li>
		           <li><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/qq-oauth2/qq-login"><i class="sprite-img qq-login"></i></a></li>
		           <li><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/weibo-oauth2/weibo-login"><i class="sprite-img weibo-login"></i></a></li>
		           <li><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/baidu-oauth2/baidu-login"><i class="sprite-img baidu-login"></i></a></li>
		           <li><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/github-oauth2/github-login"><i class="sprite-img github-login"></i></a></li>
		        </ul>
	        </div>
	    </div>
  </div><div class="comments-text" style="display:none;">
	<div class="comments-text-back"></div>
	<div class="comments-text-content">
		<div class="comments-text-head">系统提示</div>
		<div class="comments-text-detail">
			<p class="comments-text-detail-p">请输入评论内容</p>
			<input class="comments-close" style="cursor:pointer;" value="知道了" type="button">
		</div>
	</div>
</div></div>
	
	
	
	
	
	
	


            

        

        

        	<script type="text/javascript">
		$(function(){
			$('#mm-blocker').click(function(){
				$('.footer-wh').show();
			});
		});
	</script>
	<script type="text/javascript">
			$(".title-content-chead").click(function(){ 
			  	$(this).addClass('title-content-chead1');
			  
		  });
            $(".network-tips-close").click(function(){
                $(".network-tips").fadeOut();

            });

    </script>
	<!--end -->



<script type="text/javascript" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/single.js">
</script>
<!--邮箱弹框-->



<!--绑定手机-->

<footer id="footer" class="clearfix">
<!-- <div class="FriendLinkBottom footerNone">
		<div class="FooterFriendLink">
		    <div style="overflow:hidden;">
			<h3>友情链接</h3>
			<ul style=" overflow: hidden;">
						</ul>
		    </div>
		</div>
		<div class="clearfix"></div>
	</div>
 -->	
	<div class="footer-wh">
		<!--friend link -->
		<div class="footer-col-ms1">
			<ul class="footer-col-ms1-mobile-hide">
				<li class="footerNone footerNone-pic">
				<a target="_blank" href="https://www.sdnlab.com/">
					<i class="sprite-img spri-f-logo"></i>
				</a>
				</li>
			</ul>
			<ul class="footer-col-ms1-mobile">
				<li>
					<a href="https://www.sdnlab.com/monthly/page/201709" target="_blank">每月精选</a>
					<span>|&nbsp;</span><a href="https://www.sdnlab.com/weekly/page/125">每周回顾</a>
				</li>
				<li>Copyright ©&nbsp;2014-2018&nbsp;南京优速网络科技有限公司</li>
				<li>版权所有 &nbsp;<a href="http://www.miitbeian.gov.cn/" target="_blank">苏ICP备13052757号-3</a></li>
			</ul>
		</div>

		<div class="footer-col-ms4 footerNone" style="position:relative;">
			<a href="http://www.sdnlab.com/about-us/">关于我们</a> <span>|</span><a href="http://www.sdnlab.com/join-us/">加入我们</a><span>|</span><a href="http://www.sdnlab.com/business/">商务合作</a><span>|</span><a href="http://www.sdnlab.com/disclaimer/">免责申明</a><span>|</span><a href="https://www.sdnlab.com/weekly/page/117">周报</a><span>|
            </span><a href="https://www.sdnlab.com/monthly/page/201709">月刊</a>
			<div style="padding-left:2px;color: #ddd;margin-top:20px;">Copyright ©2014-2018 南京优速网络科技有限公司 &nbsp; 版权所有 <a href="http://www.miitbeian.gov.cn/">苏ICP备13052757号-3</a></div>
		</div>
		
		<div class="footer-col-ms3">
			<ul class="footer-col-ms1-mobile-hide">
<!-- 				<li class="footerNone"> -->
<!-- 				<a target="_blank" href="http://www.sdnlab.com/feed"> -->
<!-- 					<i class="sprite-wx sprite-wx-log1"></i> -->
<!-- 				</a> -->
<!-- 				</li> -->
				<li class="footerNone " style="position:relative;">
				<img src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/wx-tou.png" class="footer-wh-wxpic">
				<span style="cursor:pointer;">
					<i class="sprite-wx sprite-wx-log2"></i>
				</span>
				</li>
				<li class="footerNone">
				<a target="_blank" href="http://weibo.com/sdnlab/">
					<i class="sprite-wx sprite-wx-log5"></i>
				</a>
				</li>
				<li class="footerNone">
				<a href="mailto:service@sdnlab.com">
					<i class="sprite-wx sprite-wx-log4"></i>
				</a>
				</li>
			</ul>
		</div>

	</div>
</footer>
<!--  Rocket to top begin-->
 
<script type="text/javascript" src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/comment-reply.js"></script>
<!-- xyz 962 queries in 2.160 seconds, using 57.09MB memory --><script src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/common.js" type="text/javascript"></script>
<script src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/account.js" type="text/javascript"></script>
<script src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/jquery_002.js" type="text/javascript"></script>

<script src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/jquery_003.js" type="text/javascript"></script>

<script type="text/javascript">

       
        var account_setting_set_email = true;
        var account_setting_set_phone = true;

        
		$(document).ready(function() {
            $("#menu").mmenu({
               "offCanvas": {
                  "position": "right"
               }
            });
         });
		</script>
<script src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/wb.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
$(document).on("click", ".btn-primary-reg", function(){
    
    var nn = 30; 
    var tipId; 
    function show() { 
    tipId = window.setInterval("start()", 1000); //每隔1秒调用一次start()方法 
    } 

    function start() { 
    if (nn > 0) { 
    var vv = "点下我(" + nn + ")"; 
    $(".btn-primary-reg").attr("disabled", "disabled"); //使按钮不能被点击 
    $(".btn-primary-reg").attr("value", vv); //更改按钮上的文字 
    nn--; 
    } else { 
    nn = 30; 
    $(".btn-primary-reg").removeAttr("disabled"); //使按钮能够被点击 
    $(".btn-primary-reg").attr("value", "点下我"); //更改按钮上的文字 
    window.clearInterval(tipId); //清除循环事件 
    } 
    } 
});
</script>
<script type="text/javascript">


    $(".jntp-tips-close").click(function(){
    	$(".jntp-tips").fadeOut();
        
        });
    
</script>
<script type="text/javascript">
$(function(){var 
e=$("#rocket-to-top"),t=$(document).scrollTop(),n,r,i=!0;$(window).scroll(function(){var
 t=$(document).scrollTop();t==0?e.css("background-position")=="0px 
0px"?e.fadeOut("slow"):i&&(i=!1,$(".level-2").css("opacity",1),e.delay(100).animate({marginTop:"-1000px"},"normal",function(){e.css({"margin-top":"-125px",display:"none"}),i=!0})):e.fadeIn("slow")}),e.hover(function(){$(".level-2").stop(!0).animate({opacity:1})},function(){$(".level-2").stop(!0).animate({opacity:0})}),$(".level-3").click(function(){function
 t(){var 
t=e.css("background-position");if(e.css("display")=="none"||i==0){clearInterval(n),e.css("background-position","0px
 0px");return}switch(t){case"0px 
0px":e.css("background-position","-298px 0px");break;case"-298px 
0px":e.css("background-position","-447px 0px");break;case"-447px 
0px":e.css("background-position","-596px 0px");break;case"-596px 
0px":e.css("background-position","-745px 0px");break;case"-745px 
0px":e.css("background-position","-298px 
0px")}}if(!i)return;n=setInterval(t,50),$("html,body").animate({scrollTop:0},"slow")})})

$(function(){

    //搜索
    $(".search_btn").click(function(){
    	$(".nav-wrapper").fadeOut();
        $(this).fadeOut(function(){
            $(this).siblings(".nav-search").fadeIn();
            
$(this).siblings(".nav-search").find("input[type='text']").animate({
                "width":"300px"
            }).focus();
        });
    });
    $(document).click(function(event){
        if($(".nav-search").is(":visible") && 
!$(event.target).is(".nav-search")) {
            $(".nav-search").find("input[type='text']").animate({
                "width":"50px"
            });
            $(".nav-search").fadeOut(function(){
            	$(".nav-wrapper").fadeIn();
                $(".search_btn").fadeIn();
            });
        }
    });


    
    //回到顶部
    var scrollDefault = 500;    
    $(window).scroll(function(){       
        var winTop = $(this).scrollTop();       
        if(winTop > scrollDefault) { 
          $("#back_to_top").fadeIn();
        } else {    
          $("#back_to_top").fadeOut();
        }       
    });   
    $("#back_to_top").click(function(){
        $("html, body").animate({scrollTop : "0"});
    });
    
    //二维码
    $(".qr_codes_btn").hover(function(){ 
        $(this).siblings(".codeimg").stop(false, true).fadeIn();
    }, function(){
        $(this).siblings(".codeimg").stop(false, true).fadeOut();
    });
});


</script>
<script type="text/javascript"> 
if(navigator.appName == "Microsoft Internet Explorer" && 
navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE6.0") 
{ 
	$(".browser-tips").fadeIn();
} 
else if(navigator.appName == "Microsoft Internet Explorer" && 
navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE7.0") 
{ 
	$(".browser-tips").fadeIn();
} 
else if(navigator.appName == "Microsoft Internet Explorer" && 
navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE8.0") 
{ 
$(".browser-tips").fadeIn();
} 
else if(navigator.appName == "Microsoft Internet Explorer" && 
navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE9.0") 
{ 
$(".browser-tips").fadeIn();
} 
</script>

<!--  Rocket to top end-->
<script type="text/javascript">
//var slider = document.getElenmentById('slider');
if($('#slider').length){
	Effect.slider({
	    'targetElement': 'slider',
	    'showMarkers': true,
	    'showControls': true
	});
}

</script>

<script type="text/javascript">

    function getNowFormatDate() {
        var date = new Date();
        var seperator1 = "-";
        var seperator2 = ":";
        var month = date.getMonth() + 1;
        var strDate = date.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
//            var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate
//                + " " + date.getHours() + seperator2 + date.getMinutes()
//                + seperator2 + date.getSeconds();
        var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate;
        return currentdate;
    }

    function getCurrentTimeStamp() {
        var date = new Date();
        var seperator1 = "-";
        var seperator2 = ":";
        var month = date.getMonth() + 1;
        var strDate = date.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
        var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate
            + " " + date.getHours() + seperator2 + date.getMinutes()
            + seperator2 + date.getSeconds();
        return currentdate;
    }

    function trim(str){ //删除左右两端的空格
        return str.replace(/(^s*)|(s*$)/g, "");
    }
    function ltrim(str){ //删除左边的空格
        return str.replace(/(^s*)/g,"");
    }
    function rtrim(str){ //删除右边的空格
        return str.replace(/(s*$)/g,"");
    }

    function is_variable_null(variable){
        if (variable === null || variable === undefined || variable === '') {
            return true;
        } else {
            return false;
        }
    }

    function is_string_null(str) {

        if (str === null || str === undefined || str === '') {
            return true;
        } else {
            return is_variable_null(trim(str));
        }

    }

</script>

<script type="text/javascript">
var is_home="";
var comments_open="true";
var home_url="https://www.sdnlab.com/";
var is_mobile="";
var fspostid ="12221";
var fsajaxurl ="https://www.sdnlab.com";
//rss


$(function(){
	$(".sprite-wx-log2").hover(function(){
		$(".footer-wh-wxpic").fadeIn(0);
        	
		},
		function(){
			$(".footer-wh-wxpic").fadeOut(0);
			
		});

});


function drop_mouseout(pos){
 var posSel=document.getElementById(pos+"Sel").style.display;
 if(posSel=="block"){
  timer = setTimeout("drop_hide('"+pos+"')", 1000);
 }
}
function drop_hide(pos){
 document.getElementById(pos+"Sel").style.display="none";
}
function search_show(pos,searchType,href){
    document.getElementById(pos+"SearchType").value=searchType;
    document.getElementById(pos+"Sel").style.display="none";
    document.getElementById(pos+"Slected").innerHTML=href.innerHTML;
    document.getElementById(pos+'q').focus();
    var sE = document.getElementById("searchExtend");
    if(sE != undefined  &&  searchType == "bar"){
     sE.style.display="block";
    }else if(sE != undefined){
     sE.style.display="none";
    }
 try{window.clearTimeout(timer);}catch(e){}
 return false;
}	
<!--end-->
$(document).ready(function(){
$('#select-bar').hover(function(){$('#search-down').show();},function(){$('#search-down').hide();});
$('#select-bar-fixed').hover(function(){$('#search-down-fixed').show();},function(){$('#search-down-fixed').hide();});
});

$(function(){
	$("#bigfa_widget3-2 .rc_excerpt").each(function(){
			var str=$(this).text(); 
			var s = str;
			if(str.length>40){
			  s=str.substring(0,40)+"...";
			}
			$(this).html(s);
		});
});
	
</script>


<!--  
<script src="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/js/global.js?20130801"></script>
<script id="bdlike_shell"></script>
<script>
var bdShare_config = {
	"type":"small",
	"color":"blue",
	"uid":"6729407"
};
document.getElementById("bdlike_shell").src="http://bdimg.share.baidu.com/static/js/like_shell.js?t=" + Math.ceil(new Date()/3600000);
</script>
-->
<script src="%E4%BB%8E%E4%B8%80%E4%B8%AA%20Neutron%20DHCP%20%E8%A1%A5%E4%B8%81%E8%B0%88%E8%B5%B7%20%20%20SDNLAB%20%20%20%E4%B8%93%E6%B3%A8%E7%BD%91%E7%BB%9C%E5%88%9B%E6%96%B0%E6%8A%80%E6%9C%AF_files/jweixin-1.js"></script>
<script type="text/javascript">
// <![CDATA[
$.fn.smartFloat=function(){var e=function(e){var 
t=e.position().top,n=e.css("position");$(window).scroll(function(){var 
r=$(this).scrollTop();r>t?window.XMLHttpRequest?e.css({position:"fixed",top:25}):e.css({top:r}):e.css({position:n,top:t})})};return
 $(this).each(function(){e($(this))})},$("#float").smartFloat()
//  ]]>
</script>
<!-- As you see here, I probably already know what you want to do it. Well, this theme has been free to share, please visit http://ikx.me/2675.html  Thank you By:Ac December 25 Christmas Day -->



 <!-- END wrap  请勿删除-->
<!-- 登录注册 -->
	
<!-- 评论弹出框-->
  


  
<!-- login script-->
<script type="text/javascript">


$(function(){
	 <!--end-->
	 var $userClick=$(".user-click");
         var $userHide=$(".user-hide");
	$(".menu-item-activity").append($(".nav-activity"));
	<!-- $(".menu-item-browse").append($(".sub-menu-view")); -->
	$(".sub-menu").append($(".sub-menu-before"));
	$(".menu-item-seminar").append($(".sub-menu-seminar"));
	
$(".menu-item-browse,.menu-item-activity,.menu-item-seminar,.menu-item-discovery").append($('<div
 class="menu-item-after"></div>')).addClass("hover_line");
	$(".menu-item-guide").append("<i class='g-item'></i>");
	$('.article-bar-share').click(function(e){
			$('.share-list').fadeToggle();
			e.stopPropagation();
	});	
	$('#menu-nav>li').mouseover(function(){
		var This=$(this);
		
smenu=setTimeout(function(){This.children(".sub-menu").fadeIn();},200);
		}).mouseout(function(){
				clearTimeout(smenu);
	});
	$('#menu-nav>li').mouseleave(function(){
		$(this).children(".sub-menu").hide();
	});
	$('.nav-search').click(function(e){
		$("#search-bar").fadeToggle();
		$("#search-input").focus();
		e.stopPropagation();
	});
	
	//热门标签交互
	$('.tagcloud-down').mouseover(function(){
		b=setTimeout(function(){
					$(".tagcloud_hide").slideDown();},200) ;
					}).mouseout(function(){
               				clearTimeout(b);
	});
	$('#popular-tags').mouseleave(function(){
		$(".tagcloud_hide").slideUp();	
	});
	
$('#comment,.aw-invite-dropdown,.share-list,#search-bar').on("click",function(e){

		e.stopPropagation();
	});
	$('body').click(function(){
		if($(".comments-text-content").is(":visible")==true){
			$(".comments-text").hide();
		}
		
$(".sub-menu-view,.aw-invite-dropdown,.share-list,#search-bar,").hide();
	});	
        //注销账号向下滑动交互
	$(".user-hover").mouseover(function(){
               b=setTimeout(function(){
					$(".user-click").css("background","#F93F17");    
					$(".user-hide").slideDown();},200) ;
              			}).mouseout(function(){
               				clearTimeout(b);
	});
	$('.user-hover').mouseleave(function(){
					$(".user-click").css("background","none");
					$(".user-hide").css("display","none");
	});
	$('.user-hover-fixed').mouseover(function(){
		 b=setTimeout(function(){
					
$('.user-hover-fixed').children(".user-click").css("background","#F7F7F7");
    
					$(".user-hide-fixed").slideDown();},200) ;
				}).mouseout(function(){
					 clearTimeout(b);
	});
	$('.user-hover-fixed').mouseleave(function(){
			$(this).children(".user-click").css("background","none");
			$(".user-hide-fixed").css("display","none");
		});
	$('.video-info-hide a').click(function(){
			$('.video-info-hide .info-hide').slideToggle();
			if($(this).hasClass('hw-on')) 
			{
				$(this).removeClass('hw-on');
				$(this).text("查看详情");
			}else{
				$(this).addClass('hw-on');
				$(this).text("收起");
			}						
	});
});
//评论跳转链接
$(function(){ 
	var url = window.location.toString(); 
	var id = url.split("#")[1]; 
	if($("#"+id).size()){ 
		$("body,html").animate({scrollTop:$("#"+id).offset().top-100});
	}
});
<!--end-->

	function logged_out(){
		}
	function load_tc_overlay(){
		if($.cookie('tc_overlay')){
			$('#tc_overlay').hide();
			$('.tc-ad').hide();
		}
		else{
			$('#tc_overlay').show();
			$('.tc-ad').show();
		}
	}
	function disabledMouseWheel() { 
		console.log("HHHHH"); 
		  if (document.addEventListener) {  
		    document.addEventListener('DOMMouseScroll', scrollFunc, false);  
		  }//W3C  
		  window.onmousewheel = document.onmousewheel = 
scrollFunc;//IE/Opera/Chrome  
		}  
		function scrollFunc(evt) {  
		  return false;  
		}
	$(function(){
		$('.nav-m-display').click(function(){

			$('#nav-mobile-sdnlab').show();
			$('.nav-m-sdnlab').show();
			$('.nav-m-sdnlab-meun').show();
			$('.nav-m-sdnlab-meun').animate({right:'200px'});
			$('.nav-m-sdnlab-meun').css("position","relative");
			$('.footer-wh').hide();
		});
	});
	
	
	$(function(){
		$('.tc-closebtn,.tc-link').click(function(){
			$('#tc_overlay').hide();
			$('#nav-mobile-sdnlab').hide();
			$('.nav-m-sdnlab').hide();
			$('.nav-m-sdnlab-meun').hide();
			$('body').css("height","100%");
			$('body').css("position","relative");
			$('.tc-ad').hide();
			var expiresDate= new Date();
				expiresDate.setTime(expiresDate.getTime() + (48*60 * 60 * 1000));
				$.cookie('tc_overlay',expiresDate,{ expires: expiresDate });
		});
	});
	window.onload=window_load_func;
	 function window_load_func(){
		logged_out();
		set_curennt_cat_style_mobile();
		XXXX();
		try{ 
			if(get_account_templates&&typeof(get_account_templates)=="function"){
				get_account_templates(window.location.hash);
			}
		}catch(e){ 
		} 
		load_tc_overlay();
	 }
	 function XXXX (){
		 $("#main-reg-register input").attr("value","");
		 }
	 
	function set_curennt_cat_style_mobile(){
        			$("#news-mobile").removeClass("curren-mobile");
			$("#view-mobile").removeClass("curren-mobile");
			$("#index-mobile").removeClass("curren-mobile");
			$("#sdn-guide").removeClass("curren-mobile");
			$("#tech-mobile").addClass("curren-mobile");
			
	  	}
	
	function logged_in(){
			}

	function contest_logged_in(){
			}
</script>
<script type="text/javascript">
if( !('placeholder' in document.createElement('input')) ){   
    $('input[placeholder],textarea[placeholder]').each(function(){    
      var that = $(this),    
          text= that.attr('placeholder'),
          $pwdText = $("<input type='text' cname='password' class='pwdtext txtfield user_pwd1' />");    
      if(that.val()===""){    
          if(that.attr("type")==="password") {
              $pwdText.val(text).insertAfter(that);
              that.hide();
          } else {
              that.val(text);     
          }                      
      } 
      $(".pwdtext").focus(function(){
          $(this).hide();
          $(this).prev("input[type='password']").show().focus();
          
      });   
      that.focus(function(){    
            if(that.val()===text){                                      
                that.val("");    
            }    
      })  
      .blur(function(){    
            if(that.val()===""){   
                  if(that.attr("type")==="password") {
                           that.next().show();
                           that.hide();
                        }     
                  that.val(text);    
            }    
      });        
    });    
  }   
</script>
<script type="text/javascript"> 
	$(document).ready(function(){	
		$('#slides').slides({
			//preload: true,
			//preloadImage: 'images/ajax-loader.gif',
			effect: 'slide',
			play: 5000,
			pause: 2500,
			hoverPause: true,
			
		});
	});
	
</script>
<script type="text/javascript">
$(function(){
	$(".slides li .caption-wrap").each(function(){
		var caption = $(this).children().html();
		if(caption == null){
			$(this).css("display","none");
		}
	});
});//首页滑块无标题与围观数时的显示方式
</script> 
<script type="text/javascript">
(function($){
	$.getUrlParam = function(name){
		var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
		var r = window.location.search.substr(1).match(reg);
		if (r!=null) return unescape(r[2]); return null;
		}
	})(jQuery);
	$(document).ready(function(){
		var itemValue=$.getUrlParam("item");
		var cityValue=$.getUrlParam("city");
		$('.item-menu li').removeClass('city-current');
		$('.city-menu li').removeClass('city-current');
		if (itemValue==null){
			$('.all-data').addClass('city-current');
		}else if(itemValue=='control-plane'){
			$('.control-plane').addClass('city-current');
		}else if(itemValue=='data-plane'){
			$('.data-plane').addClass('city-current');
		}else if(itemValue=='application'){
			$('.application').addClass('city-current');
		}else if(itemValue=='nfv'){
			$('.nfv').addClass('city-current');
		}else if(itemValue=='network-virtualization'){
			$('.virtualization').addClass('city-current');
		}
		if (cityValue==null){
			$('.all-city').addClass('city-current');
		}else if(cityValue=='beijing'){
			$('.beijing').addClass('city-current');
		}else if(cityValue=='shanghai'){
			$('.shanghai').addClass('city-current');
		}else if(cityValue=='guangzhou'){
			$('.guangzhou').addClass('city-current');
		}else if(cityValue=='shenzhen'){
			$('.shenzhen').addClass('city-current');
		}else if(cityValue=='nanjing'){
			$('.nanjing').addClass('city-current');
		}else if(cityValue=='hangzhou'){
			$('.hangzhou').addClass('city-current');
		}else if(cityValue=='chengdu'){
			$('.chengdu').addClass('city-current');
		}else if(cityValue=='wuhan'){
			$('.wuhan').addClass('city-current');
		}else if(cityValue=='suzhou'){
			$('.suzhou').addClass('city-current');
		}else if(cityValue=='other'){
			$('.other').addClass('city-current');
		}	
});
function account_favorite_action(){
	id=$('.wps-share').attr('data-user');
	post=$('.wps-share').attr('data-post');
	if(id!=0)
		$.ajax({
			url: '?action=account_favorite_action',
			type: 'post',
			data : {'post':post},
			success: function(a) {
				if(a.status==1){
					if(a.favorited){
						$('.wps').show();
						$('.wps-click').hide();
						$('.wps-share').addClass('wp_favorite');
						$('.wps-share').removeClass('wp_favorited');
						$('.wps-share').attr('title','收藏');
					}
					else{
						$('.wps').hide();
						$('.wps-click').show();
						$('.wps-share').addClass('wp_favorited');
						$('.wps-share').removeClass('wp_favorite');
						$('.wps-share').attr('title','取消收藏');
					}
					$('.favorite_count').text(a.count);
				}
				else{
					alert('收藏失败');
				}
			}
		});
}

</script>
<script type="text/javascript"> 


$('.nav-m-display').click(function(){
	$('#article-bar').hide();
});

$(document).ready(function(){
		/* $('#s').focusin(function(){
			var val = $(this).val();
			if(val == '请输入搜索内容...'){
				$(this).val('');
			}
		}); */
		
		/* $('#s').focusout(function(){
			var val = $(this).val();
			if(val == ''){
				$(this).val('请输入搜索内容...');
			}
		}); */
		
		$('#weeknews_triger').click(function(){
			$('#weeknews').animate({
				height: '293'
			});
			$('#medianews').animate({
				height: '40'
			});
		});
		
		$('#medianews_triger').click(function(){
			$('#weeknews').animate({
				height: '40'
			});
			$('#medianews').animate({
				height: '293'
			});
		});
		
		$('.link2home').hover(function(){
			$(this).css('background-position','0 -30px');
			$('body').animate({backgroundPosition: '0 0'});
                        $('#header_top_nav a').hide();
                        $('#header_top_nav a.more').show();
			$('#header_top_nav').animate({height: 20});
		});
                
         $('.imp_news').hover(function(){
			$('body').animate({backgroundPosition: '0 0'});
                        $('#header_top_nav a').hide();
                        $('#header_top_nav a.inews').show();
			$('#header_top_nav').animate({height: 20});
		});
                
         $('.camp_news').hover(function(){
			$('body').animate({backgroundPosition: '0 0'});
                        $('#header_top_nav a').hide();
                        $('#header_top_nav a.cnews').show();
			$('#header_top_nav').animate({height: 20});
		});
	
		$('#ad-slides').slides({
			//preload: true,
			//preloadImage: 'images/ajax-loader.gif',
			effect: 'slide',
			play: 4000,
			pause: 2500,
			hoverPause: true,
			
			/* play: {
		          active: true,
		          auto: true,
		          interval: 4000,
		          swap: true
		        } */
			
		});

    $('#ad-slides-conf').slides({
        //preload: true,
        //preloadImage: 'images/ajax-loader.gif',
        effect: 'slide',
        play: 4000,
        pause: 2500,
        hoverPause: true,

        /* play: {
              active: true,
              auto: true,
              interval: 4000,
              swap: true
            } */

    });
		
// 		 $('#ad-slides').hover(function(){
// 			$('.ad-hide').fadeToggle("slow");
// 		});

    $('#ad-slides-adv').slides({
        //preload: true,
        //preloadImage: 'images/ajax-loader.gif',

        effect: 'slide',
        play: 4000,
        pause: 2500,
        hoverPause: true,

        /* play: {
         active: true,
         auto: true,
         interval: 4000,
         swap: true
         } */

    });
//     $('#ad-slides-adv').hover(function(){
//         $('.ad-hide1').fadeToggle("slow");
//     });

		 $('#ad-slides1').slides({
				//preload: true,
				//preloadImage: 'images/ajax-loader.gif',
				
				effect: 'slide',
				play: 4000,
				pause: 2500,
				hoverPause: true,

				/* play: {
			          active: true,
			          auto: true,
			          interval: 4000,
			          swap: true
			        } */
				
			});
// 			 $('#ad-slides1').hover(function(){
// 				$('.ad-hide1').fadeToggle("slow");
// 			});
		$('#slider').hover(function(){
			$('.prev').fadeToggle("slow");
			$('.next').fadeToggle("slow");
		}); 
		  
		$('.news-row-article').children("h4").click(function(){
			$(this).siblings(".news-row-article-hidden").slideToggle("fast");
		});
		$('.news-row-article-up').click(function(){
			$(this).parents(".news-row-article-hidden").slideUp("fast");
		});
 });	
</script> 
<!-- END login script-->

<script type="text/javascript">
function request_testbed() {
}

$(function(){

    function sync_login_page_metadata(){

        $.ajax({
            
url:"https://www.sdnlab.com/my_sdnlab/cache-refresh/issuance",
            data:{},
            type:'post',
            async: false,
            beforeSend: function() {},
            error: function(a) {},
            success: function(result) {

                if(result.succeed){

                    sms_send_token = result.token;
                    account_setting_set_phone = result.set_phone;
                    account_setting_set_email = result.set_email;

                } else {

                    alert(result.error_msg);

                }

            }

        });

    }

    if(is_user_logged_in()){
        sync_login_page_metadata();
    }

});


function saveToken(options){

    $.ajax({
        url:"?action=save_token",
        data:{},
        type:'post',
        async: false,
        beforeSend: function() {},
        error: function(a) {},
        success: function(result) {

            if(result.succeed){

                window.open(result.url);

            } else {
                alert(result.error_msg);
            }

        }

    });
}

function start_2C_experiment(){

    $.ajax({
        url:"?action=start_experiment_2C",
        data:{},
        type:'post',
        async: false,
        beforeSend: function() {},
        error: function(a) {},
        success: function(result) {

            if(result.succeed){

                window.open(result.url);

            } else {
                alert(result.msg);
            }

        }

    });
}

function ajaxRequestTestbed(options){
		$.ajax({
		url: "http://58.213.119.21:8090/knock/",
		data : {"username": 
options.username,"userlogin":options.userlogin,"userpass":options.userpass,"useremail":options.useremail,"token":options.token},

		type: 'post',
		dataType: 'jsonp',
		jsonp: "callback",
		beforeSend: function() {
		},
		error: function(a) {
			console.log(a);
			//alert(a.result.code);
			//if(a.result.code == -1)
			{
				//window.location.href="http://www.guokr.com/";
			}
		}, 
		success: function(a) {
			console.log(a);
			//alert(a.result.code);//alert(a['result']['code']);
			//if(a.result.code == -1)
			{
				//window.location.href="http://www.baidu.com";
				//callback();
				//ajaxRequestTestbedSec();
			}
			
		}
	});
}

<!-- SYNC_PWD-->
	function sync_pwd(a) {
		console.log('func sync begin');
			
		saveTokenSyncPwd({
			username:a.username,
			token:"e2d2c7a8-d364-7fb7-2242-181d11adfc0b",
			newpara:a.newpara,
			userlogin:a.userlogin,
			useremail:a.useremail,
		});
	}

	function saveTokenSyncPwd(options){
		$.ajax({
			url:"?action=save_token",
			data:{"username": options.username,"token":options.token},
			type:'post',
			beforeSend: function() {
			},
			error: function(a) {
			}, 
			success: function(a) {
				requestSyncPwd({
					username:options.username,
					userlogin:options.userlogin,
					userpass:options.newpara,
					useremail:options.useremail,
					token:options.token
					});
				}
			});
	}

	function requestSyncPwd(options){
				
		$.ajax({
			url: "http://58.213.119.21:8090/sync_pwd/",
			data : {"username": 
options.username,"userlogin":options.userlogin,"userpass":options.userpass,"useremail":options.useremail,"token":options.token},

			type: 'post',
			dataType: 'jsonp',
			jsonp: "callback",
			jsonpCallback : "sync_pwd_callback",
			beforeSend: function() {
			},
			error: function(a) {
			}, 
			success: function(a) {
			}
		});
	}

	function sync_pwd_callback(a){
		console.log('func sync_callback');
		console.log(a.result.code);
	}

	
<!-- Flooat start by MXj-->
		var nav = document.getElementById('nav-wrapper-bg');
		var navFixed = document.getElementById('nav-wrapper-bg-fixed');
		var ArticleBar = document.getElementById('article-bar');
		var Comments = document.getElementById('comments');
		var WindowHeight = $(window).height();
		if ($("#code").size()){var codeTop = $("#code").offset().top;}
window.onscroll = function () {
        var scrollTop = document.documentElement.scrollTop || 
document.body.scrollTop;
        if (nav != null && scrollTop > nav.offsetTop+80) {
                 navFixed.style.display = 'block';
             } else if ( nav != null && scrollTop < nav.offsetTop+10) {
                 navFixed.style.display = 'none';
             }
	    if (scrollTop >= codeTop -65) {
			$("#code").parents(".textwidget").addClass("codefixed");
	     }else{
			$("#code").parents(".textwidget").removeClass("codefixed");
	     }
	     if (ArticleBar&&Comments!=null && scrollTop > 
Comments.offsetTop-WindowHeight) {
		 	ArticleBar.style.display= 'none';
		} else if (ArticleBar&&Comments!=null && scrollTop < 
Comments.offsetTop-WindowHeight){
			ArticleBar.style.display= 'block';
		}
}
        var cac=setTimeout(function(){
	$("#ueditor_0").load(function() { 
		$("#ueditor_0").contents().find("body.view").click(function(){
                        $(".cntctfrm_error_text_message").val("");
			$('.cntctfrm_error_text_message').hide();
		});
	});
       },100);
	if($.browser.msie && parseInt($.browser.version) == 8){
        $(".premp-ul li:nth-child(even)").css("float", "right");
     }
<!-- Flooat end -->

<!-- 统计slide点击次数-->
function countClickNumReq(options){
	$.ajax({
		url: "?action=count_slide_clicknum",
		data : {"sid":options.sid},
		type: 'get',
		beforeSend: function() {
			
		},
		error: function(a) {
		},
		success: function(a) {
		}
	});
}
(function($){ 
	jQuery(".sidebar-top-article-head").click(function(){
		$('.sidebar-top-article-head').removeClass('current');
		$(this).addClass('current');
		
		$('.articlelist').hide();
		$("."+$(this).attr("data-stat-click")).show();
	});
	
})(jQuery); 


//菜单内容更新提示
(function($){
	
	var className='ringing';
	$('.sub-menu li').each(function(index){
		if($(this).children('a').hasClass(className)){
			if(!$(this).parent().siblings('a').hasClass(className)){
				$(this).parent().siblings('a').addClass(className)
			}
		}
	});
})(jQuery); 
</script>

		<script type="text/javascript">
			$(".share_defind_unlogin").click(function(){ 
			  	$(".collect-tips").fadeIn();
			  	timedMsg();  
		   
		  });

			function timedMsg()
			  {
			  var t=setTimeout("$('.collect-tips').fadeOut()",2000)
			  }
</script>

<script type="text/javascript">
		$(function() {
		    var index = 0;
		    var adtimer;
		    var _wrap = $("#container-ad ol"); //
		    var len = $("#container-ad ol li").length;
		    //len=1;
		    if (len > 1) {
		        $("#container-ad").hover(function() {
		            clearInterval(adtimer);
		        },
		        function() {
		            adtimer = setInterval(function() {
		
		                var _field = _wrap.find('li:first'); //此变量不可放置于函数起始处,li:first取值是变化的
		                var _h = _field.height(); //取得每次滚动高度(多行滚动情况下,此变量不可置于开始处,否则会有间隔时长延时)
		                _field.animate({
		                    marginTop: -_h + 'px'
		                },
		                500,
		                function() { //通过取负margin值,隐藏第一行
		                    _field.css('marginTop', 0).appendTo(_wrap); //隐藏后,将该行的margin值置零,并插入到最后,实现无缝滚动
		                })
		
		            },
		            5000);
		        }).trigger("mouseleave");
		        function showImg(index) {
		            var Height = $("#container-ad").height();
		            $("#container-ad ol").stop().animate({
		                marginTop: -_h + 'px'
		            },
		            1000);
		        }
		    }
		});
</script>	
		
	
<script type="text/javascript">
		//$(document).ready(function(){//页面加载完之后，自动执行该方法
		//setTimeout(function(){$(".tc-banner-adphone").slideUp(1500);},10000);//手机端几秒消失
		//});
		$(function(){
		$(".title-content-c").click(function(e){
		$(".title-content-c").removeClass("title-content-click");
		$(this).addClass("title-content-click");
		
	})
});
</script>



		<script type="text/javascript">
			$(document).ready(function(){

				var isMobile = {
					Android: function() {
						return navigator.userAgent.match(/Android/i) ? true : false;
					},
					BlackBerry: function() {
						return navigator.userAgent.match(/BlackBerry/i) ? true : false;
					},
					iOS: function() {
						return navigator.userAgent.match(/iPhone|iPad|iPod/i) ? true : false;
					},
					Windows: function() {
						return navigator.userAgent.match(/IEMobile/i) ? true : false;
					},
					any: function() {
						return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Windows());
					}
				};
				 if(isMobile.any()){
					 $('.scroll_fixed .qr_codes').css('display','none');
				 }
			});
		</script>

	
        
                <script type="text/javascript">

                    $(document).ready(function(){//页面加载完之后，自动执行该方法
                        loadSingePostView();
                    });

                    function loadSingePostView(){

                        $.ajax({
                            cache: false,
                            type: "POST",
                            url:'https://www.sdnlab.com/my_sdnlab/cache-refresh/post-views',
                            data:{
                                type : 'single',
                                post_id : 12221                            },
                            async: true,
                            error: function(request) {
                            },
                            success: function(data) {

                                
                                var postView = "<span>•</span>"+(data.post_views+1)+" 人围观";
                                $('.entry-meta').children('span[itemprop=interactionCount]').html(postView);

                                
                            }
                        });
                    }
                </script>

            
        


    <script type="text/javascript">

        $(document).ready(function(){

            if($('.list-week').length > 0){
                flushTopArtViews();
            }

        });

        function getTopArtViewsIds(){

            /** 热门统计-周排行 **/
            var week_top = $('.list-week');
            var week_top_data = new Array();
            week_top.children().each(function (index,element) {

                if($(element).html()=='没有数据') return;
                var child_id = parseInt($(element).find('a').attr('href').match(/(\d+)\.html/)[1]);
                week_top_data[index] = child_id;

            });

            /** 热门统计-月排行 **/
            var month_top = $('.list-month');
            var month_top_data = new Array();
            month_top.children().each(function (index,element) {

                if($(element).html()=='没有数据') return;
                var child_id = parseInt($(element).find('a').attr('href').match(/(\d+)\.html/)[1]);
                month_top_data[index] = child_id;

            });

            /** 热门统计-总排行 **/
            var year_top = $('.list-year');
            var year_top_data = new Array();
            year_top.children().each(function (index,element) {

                if($(element).html()=='没有数据') return;
                var child_id = parseInt($(element).find('a').attr('href').match(/(\d+)\.html/)[1]);
                year_top_data[index] = child_id;

            });

            var obj= new Object();
            obj.list_week = week_top_data;
            obj.list_month = month_top_data;
            obj.list_year = year_top_data;

            return obj;
        }

        function flushTopViews(topviews_class,postview_data){

            $(topviews_class).children().each(function (index,element) {

                if($(element).html()=='没有数据') return;

                var item_id = parseInt($(element).find('a').attr('href').match(/(\d+)\.html/)[1]);
                var viewDisplay = $(element).find('span:eq(2)');

                $(postview_data).each(function (i,e) {
                    if(item_id == e.post_id){
                        viewDisplay.html(e.post_views);
                        return;
                    }
                });

            });
        }

        function loadTopArtViewsIds(data){
            flushTopViews('.list-week',data.week_top_data);
            flushTopViews('.list-month',data.month_top_data);
            flushTopViews('.list-year',data.year_top_data);
        }

        function flushTopArtViews(){

            var ids = getTopArtViewsIds();

            $.ajax({
                cache: false,
                type: "POST",
                url:'https://www.sdnlab.com/my_sdnlab/cache-refresh/post-views',
                data:{
                    type : 'group',
                    group_posts : {
                        week_top_data:ids.list_week,
                        month_top_data:ids.list_month,
                        year_top_data:ids.list_year
                    }
                },
                async: true,
                error: function(request) {
                },
                success: function(data) {
                    loadTopArtViewsIds(data);
                }

            });
        }

    </script>



<script type="text/javascript">

    //读取cookies
    function getCookieValue(name) {
        var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)");
        if(arr=document.cookie.match(reg))
            return (unescape(arr[2]));
        else
            return null;
    }

    //获取当前日期 年-月-日
    function getNowFormatDate() {
        var date = new Date();
        var seperator1 = "-";
        var seperator2 = ":";
        var month = date.getMonth() + 1;
        var strDate = date.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
//            var currentdate = date.getFullYear() + seperator1 + month +
 seperator1 + strDate
//                + " " + date.getHours() + seperator2 + 
date.getMinutes()
//                + seperator2 + date.getSeconds();
        var currentdate = date.getFullYear() + seperator1 + month + 
seperator1 + strDate;
        return currentdate;
    }

    //获取当前时间戳 年-月-日 时:分:秒
    function getCurrentTimeStamp() {
        var date = new Date();
        var seperator1 = "-";
        var seperator2 = ":";
        var month = date.getMonth() + 1;
        var strDate = date.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
        var currentdate = date.getFullYear() + seperator1 + month + 
seperator1 + strDate
            + " " + date.getHours() + seperator2 + date.getMinutes()
            + seperator2 + date.getSeconds();
        return currentdate;
    }

    //删除左右两端的空格
    function trim(str){
        return str.replace(/(^s*)|(s*$)/g, "");
    }

    //删除左边的空格
    function ltrim(str){
        return str.replace(/(^s*)/g,"");
    }

    //删除右边的空格
    function rtrim(str){
        return str.replace(/(s*$)/g,"");
    }

    //变量是否为空
    function is_variable_null(variable){
        if (variable === null || variable === undefined || variable === 
'') {
            return true;
        } else {
            return false;
        }
    }

    //判断字符串是否为空
    function is_string_null(str){
        return is_variable_null(trim(str));
    }

    //判断用户是否登录
    function is_user_logged_in(){

        var  logged_token = getCookieValue('logged_in_token');
        var  logged_info = getCookieValue('logged_info');

        if(!is_variable_null(logged_token) && 
!is_variable_null(logged_info)
        && !is_string_null(logged_token) && 
!is_string_null(logged_info)){

            logged_info = $.parseJSON(new Base64().decode(logged_info));

            //如果用户头像为空，则使用默认头像
            if(is_string_null(logged_info.head_img)){

                logged_info.head_img = 
'https://www.www.sdnlab.com.com/my_sdnlab/wp-content/themes/presscore-pro/img/users_logo/1.png';


            }

            return logged_info;

        } else {

            return false;

        }
    }

    //当前登录用户登陆状态是否有效
    function is_user_login_valid(){

        var is_valid = false;

        if(is_user_logged_in()){

            var  logged_token = getCookieValue('logged_in_token');
            var  logged_info = getCookieValue('logged_info');
            logged_info = $.parseJSON(new Base64().decode(logged_info));

            $.ajax({
                cache: false,
                type: "POST",
                
url:'https://www.sdnlab.com/my_sdnlab/cache-refresh/login-auth',
                data:{
                    user_id : logged_info.user_id,
                    token : logged_token
                },
                async: false,
                error: function(request) {},
                success: function(data) {

                    if(!data.auth_result){
                        console.log(data.error_msg);
                    } else {
                        is_valid = true;
                    }
                }
            });

        }

        return is_valid;

    }

    function Base64() {

        // private property
        _keyStr = 
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";

        // public method for encoding
        this.encode = function (input) {
            var output = "";
            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
            var i = 0;
            input = _utf8_encode(input);
            while (i < input.length) {
                chr1 = input.charCodeAt(i++);
                chr2 = input.charCodeAt(i++);
                chr3 = input.charCodeAt(i++);
                enc1 = chr1 >> 2;
                enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
                enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
                enc4 = chr3 & 63;
                if (isNaN(chr2)) {
                    enc3 = enc4 = 64;
                } else if (isNaN(chr3)) {
                    enc4 = 64;
                }
                output = output +
                    _keyStr.charAt(enc1) + _keyStr.charAt(enc2) +
                    _keyStr.charAt(enc3) + _keyStr.charAt(enc4);
            }
            return output;
        }

        // public method for decoding
        this.decode = function (input) {
            var output = "";
            var chr1, chr2, chr3;
            var enc1, enc2, enc3, enc4;
            var i = 0;
            input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");
            while (i < input.length) {
                enc1 = _keyStr.indexOf(input.charAt(i++));
                enc2 = _keyStr.indexOf(input.charAt(i++));
                enc3 = _keyStr.indexOf(input.charAt(i++));
                enc4 = _keyStr.indexOf(input.charAt(i++));
                chr1 = (enc1 << 2) | (enc2 >> 4);
                chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
                chr3 = ((enc3 & 3) << 6) | enc4;
                output = output + String.fromCharCode(chr1);
                if (enc3 != 64) {
                    output = output + String.fromCharCode(chr2);
                }
                if (enc4 != 64) {
                    output = output + String.fromCharCode(chr3);
                }
            }
            output = _utf8_decode(output);
            return output;
        }

        // private method for UTF-8 encoding
        _utf8_encode = function (string) {
            string = string.replace(/\r\n/g,"\n");
            var utftext = "";
            for (var n = 0; n < string.length; n++) {
                var c = string.charCodeAt(n);
                if (c < 128) {
                    utftext += String.fromCharCode(c);
                } else if((c > 127) && (c < 2048)) {
                    utftext += String.fromCharCode((c >> 6) | 192);
                    utftext += String.fromCharCode((c & 63) | 128);
                } else {
                    utftext += String.fromCharCode((c >> 12) | 224);
                    utftext += String.fromCharCode(((c >> 6) & 63) | 
128);
                    utftext += String.fromCharCode((c & 63) | 128);
                }

            }
            return utftext;
        }

        // private method for UTF-8 decoding
        _utf8_decode = function (utftext) {
            var string = "";
            var i = 0;
            var c = c1 = c2 = 0;
            while ( i < utftext.length ) {
                c = utftext.charCodeAt(i);
                if (c < 128) {
                    string += String.fromCharCode(c);
                    i++;
                } else if((c > 191) && (c < 224)) {
                    c2 = utftext.charCodeAt(i+1);
                    string += String.fromCharCode(((c & 31) << 6) | (c2 &
 63));
                    i += 2;
                } else {
                    c2 = utftext.charCodeAt(i+1);
                    c3 = utftext.charCodeAt(i+2);
                    string += String.fromCharCode(((c & 15) << 12) | 
((c2 & 63) << 6) | (c3 & 63));
                    i += 3;
                }
            }
            return string;
        }
    }

</script>


<script type="text/javascript">

    $('#nav-pc-platform-inlet').hide();
    $('#nav-mobile-platform-inlet').hide();
    $('.nav-m-displayb').show();

    $(document).ready(function(){

        var logged_info = is_user_logged_in();

        if(logged_info != false){//已登陆

            $('#unlogin_pc').remove();
            $('.unlogin_mobile').remove();

            $('#user-head-img-pc').attr('src',logged_info.head_img);
            $('#user-name-pc').text(logged_info.display_name);
            $('#afterlogin_pc').show();

            $('#user-head-img-mobile').attr('src',logged_info.head_img);
            $('#user-name-mobile').text(logged_info.display_name);
            $('#afterlogin_mobile').css('display','inline-block');
            $('#logout_mobile').show();

            $('#nav-pc-video-inlet').show();

            if(logged_info.is_platform){// 实验平台用户，显示高校入口

                $('#nav-pc-platform-inlet').attr('href', logged_info.platform_inlet_url);
                $('#nav-mobile-platform-inlet').attr('href', logged_info.platform_inlet_url);

//                $('#nav-pc-platform-inlet').html('高校入口');
//                $('#nav-mobile-platform-inlet').html('高校入口');

                $('#nav-pc-platform-inlet').show();
                $('#nav-mobile-platform-inlet').show();

            } else {//不是实验平台用户，隐藏高校入口

                $('#nav-pc-platform-inlet').remove();
                $('#nav-mobile-platform-inlet').remove();
            }


            if(account_setting_set_phone == false){
                $('#real_name_certification_top_tips').show();
            } else {
                $('#real_name_certification_top_tips').remove();
            }



        }else {//未登录

            $('#afterlogin_pc').hide();

            $('#afterlogin_mobile').show();
            $('#logout_mobile').hide();

            // 高校入口
            $('#nav-pc-video-inlet').parent().parent().parent().remove();
            $('#nav-pc-platform-inlet').parent().remove();
            $('#nav-mobile-platform-inlet').remove();

//            $('#nav-pc-platform-inlet').remove();


            //实名认证提示条 去除
            $('#real_name_certification_top_tips').remove();

        }

    });
</script>



    <script type="text/javascript">

        wx.config({

            debug: false, // 
开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会
打印。

            appId: 'wxd1393abc52fbb9fd', // 必填，公众号的唯一标识

            timestamp: 1519715887, // 必填，生成签名的时间戳

            nonceStr: 'KvlWYgQcJLNsdvow', // 必填，生成签名的随机串

            signature: 'be7154f92357c60e73508ef1161dfdfa4f3cb866',// 
必填，签名，见附录1

            jsApiList: [
                'onMenuShareTimeline',//分享到朋友圈
                'onMenuShareAppMessage',//分享给朋友
                'onMenuShareQQ',//分享到QQ
                'onMenuShareWeibo',//分享到腾讯微博
                'onMenuShareQZone'//分享到QQ空间
            ]

        });


    wx.ready(function() {

        //分享到朋友圈
        wx.onMenuShareTimeline({

            title: '从一个 Neutron DHCP 补丁谈起', // 分享标题

            link: 'https://www.sdnlab.com/12221.html', // 
分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致

            imgUrl: 
'https://http://7xnzbp.com2.z0.glb.qiniucdn.com/wp-content/uploads/2015/06/pt-Neutron-DHCP-2015-06-26.jpg',
 // 分享图标

            success: function () {
                // 用户确认分享后执行的回调函数
            },

            cancel: function () {
                // 用户取消分享后执行的回调函数
            }

        });

        //分享给朋友
        wx.onMenuShareAppMessage({

            title: '从一个 Neutron DHCP 补丁谈起', // 分享标题

            desc: '本文从Neutron DHCP补丁谈起，到彻底解决问题，将这一过程所遇到的各种状况深入浅出的讲解出来。',
 // 分享描述

            link: 'https://www.sdnlab.com/12221.html', // 
分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致

            imgUrl: 
'https://http://7xnzbp.com2.z0.glb.qiniucdn.com/wp-content/uploads/2015/06/pt-Neutron-DHCP-2015-06-26.jpg',
 // 分享图标

            type: 'link', // 分享类型,music、video或link，不填默认为link

            dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空

            success: function () {

                // 用户确认分享后执行的回调函数

            },

            cancel: function () {

                // 用户取消分享后执行的回调函数

            }

        });

        //分享到QQ
        wx.onMenuShareQQ({

            title: '从一个 Neutron DHCP 补丁谈起', // 分享标题

            desc: '本文从Neutron DHCP补丁谈起，到彻底解决问题，将这一过程所遇到的各种状况深入浅出的讲解出来。',
 // 分享描述

            link: 'https://www.sdnlab.com/12221.html', // 分享链接

            imgUrl: 
'https://http://7xnzbp.com2.z0.glb.qiniucdn.com/wp-content/uploads/2015/06/pt-Neutron-DHCP-2015-06-26.jpg',
 // 分享图标

            success: function () {

                // 用户确认分享后执行的回调函数

            },

            cancel: function () {

                // 用户取消分享后执行的回调函数

            }

        });

        //分享到腾讯微博
        wx.onMenuShareWeibo({

            title: '从一个 Neutron DHCP 补丁谈起', // 分享标题

            desc: '本文从Neutron DHCP补丁谈起，到彻底解决问题，将这一过程所遇到的各种状况深入浅出的讲解出来。',
 // 分享描述

            link: 'https://www.sdnlab.com/12221.html', // 分享链接

            imgUrl: 
'https://http://7xnzbp.com2.z0.glb.qiniucdn.com/wp-content/uploads/2015/06/pt-Neutron-DHCP-2015-06-26.jpg',
 // 分享图标

            success: function () {

                // 用户确认分享后执行的回调函数

            },

            cancel: function () {

                // 用户取消分享后执行的回调函数

            }

        });

        //分享到QQ空间
        wx.onMenuShareQZone({

            title: '从一个 Neutron DHCP 补丁谈起', // 分享标题

            desc: '本文从Neutron DHCP补丁谈起，到彻底解决问题，将这一过程所遇到的各种状况深入浅出的讲解出来。',
 // 分享描述

            link: 'https://www.sdnlab.com/12221.html', // 分享链接

            imgUrl: 
'https://http://7xnzbp.com2.z0.glb.qiniucdn.com/wp-content/uploads/2015/06/pt-Neutron-DHCP-2015-06-26.jpg',
 // 分享图标

            success: function () {

                // 用户确认分享后执行的回调函数

            },

            cancel: function () {

                // 用户取消分享后执行的回调函数

            }

        });

    });

    </script>


<script type="text/javascript">

    $(document).ready(function(){

        var logged_info = is_user_logged_in();

        // 判断用户是否登录，根据登录状态进行局部刷新

        // 根据登录态刷新登录提示
        if(logged_info != false){ //已登录

            //移除登录提示
            $('#comment_need_login_tips').remove();
            //启用评论添加框
            $('#comment').removeAttr('disabled');
            //启用评论添加按钮
            $('#submit').removeAttr('disabled','');

        } else { //未登录

            //显示登录提示
            $('#comment_need_login_tips').show();
            //禁用评论添加框
            $('#comment').attr('disabled','');
            //禁用评论添加按钮
            $('#submit').attr('disabled','');

        }


        //加载文章底部评论列表
        loadFlushSingleComments();

    });

    //加载文章评论并刷新dom元素
    function loadFlushSingleComments(){

        //加载文章评论
        $.ajax({
            cache: false,
            type: "POST",
            url:'https://www.sdnlab.com/my_sdnlab/cache-refresh/comments-refresh',
            data:{
                type : 'single',
                post_id : 12221            },
            async: true,
            error: function(request) {
            },
            success: function(data) {

                data = $.parseJSON(data);

                $('#num_comment').html(data.count);
                $('#comments_content').html(data.html);

            }
        });

    }



</script>


<script type="text/javascript">

    $(document).ready(function(){

        //加载文章收藏按钮
        loadPostFavoriteStatus();

    });

    //加载文章收藏按钮
    function loadPostFavoriteStatus(){

        //加载文章收藏按钮html
        $.ajax({
            cache: false,
            type: "POST",
            url:'https://www.sdnlab.com/my_sdnlab/cache-refresh/favorite-refresh',
            data:{
                type : 'single',
                post_id : 12221            },
            async: true,
            error: function(request) {
            },
            success: function(data) {

                $('.share_defind').append(data);

            }
        });

    }



</script>




<div id="mm-blocker" class="mm-slideout"></div></body></html>