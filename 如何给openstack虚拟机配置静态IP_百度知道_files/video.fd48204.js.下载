define("question:widget/js/video/video",function(i,t,a){function e(i,t){var a=null;return a="baidu"===i?['<iframe src="',t,'" frameborder=0 scrolling="no" width="500" height="450" class="ikqb-vedio-iframe"></iframe>']:['<embed type="application/x-shockwave-flash" class="BDE_Flash"',' src="',t,'"',' width="500" height="450" scale="noborder" allowscriptaccess="never" menu="false" loop="loop" play="true" womode="transparent"',' pluginspage="http://www.macromedia.com/go/getflashplayer"',' allowfullscreen="true" flashvars="playMovie=true&amp;auto=1&amp;adss=0&amp;isAutoPlay=true" style="visibility: visible; display: block;">'],a.join("")}function o(){r.addKey({"video-count":s("video.edui-faked-video").length}),s("body").on("click",".video-img",function(){if("https:"===location.protocol){var i=location.href;return r.send({type:2014,page:"question",area:"video-img",action:"click",play:"click"}),void(location.href=i.replace("https:","http:")+(~i.indexOf("?")?"&":"?")+"http_skip=1&iconplay="+s(this).data("index"))}var t=s(this),a=t.parent(),o=a.data("type"),d=a.data("swf"),l=e(o,d);t.replaceWith(l),r.send({type:2014,page:"question",area:"video-img",action:"click"})}),s("body").on("click",".video-wp .video-fr a",function(){r.send({type:2014,page:"question",area:"video-fr",action:"click"})}),s("video.edui-faked-video").each(function(i){$this=s(this);var t=$this.attr("data_img"),a=$this.attr("data_src"),e=$this.attr("data_type"),o=$this.attr("data_swf"),c=$this.attr("data_title"),n=($this.attr("data_time"),$this.attr("data_def")),p=(Number(n)?"show":"",['<div class="video-wp" data-src="',a,'" data-type="',e,'" data-swf="',o,'">','<div class="video-img video-img-'+i+'" data-index="'+i+'">','<a href="javascript:void(0);" class="icon-play"></a>','<div class="video-maxheight"><img src="',t,'"><div class="video-title">',d(c,20),"</div></div>","</div>",'<div class="video-fr"><b></b>视频来自：<a target="_blank" href="',a,'">',l[e],"</a></div>","</div>"]);$this.replaceWith(p.join("")),"http:"===location.protocol&&~location.href.indexOf("iconplay=")&&s(function(){var i=location.href.split("iconplay=")[1];i=parseInt(i,10),s(".video-img-"+i).trigger("click"),r.send({type:2014,page:"question",area:"video-fr",action:"click",play:"auto"})})})}var s=i("common:widget/js/util/tangram/tangram"),d=i("common:widget/js/util/suffix-str/suffix-str"),r=i("common:widget/js/util/log/log"),l={tudou:"土豆",iqiyi:"爱奇艺",youku:"优酷",sohu:"搜狐视频",qq:"腾讯视频",letv:"乐视网",baidu:"百度视频"};a.exports.init=o});