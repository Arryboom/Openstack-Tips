define("question:widget/read-opt/img-preview/preview",function(e,t,o){function s(e){this.options={xOffset:20,yOffset:-20,maxWidth:"100",maxHeight:"100"},i.extend(this.options,e),this.$el=i(e.$el),this.init()}{var i=e("common:widget/lib/jquery/jquery");e("common:widget/js/ui/dialog/dialog"),e("common:widget/js/logic/category/category"),e("common:widget/js/util/log/log")}s.prototype.init=function(){var e=this;e.$el.each(function(){i(this).hover(function(t){t.preventDefault();var o=i(this),s=e.options.imgAttr,a="",n=e.options.xOffset,p=e.options.yOffset,r=i(window).width();/^\s*data-/.test(s)?(s=i.trim(s.replace(/^\s*data-/g,function(){return""})),a=o.data(s)):a=o.attr(s);var g=new Image;g.onload=function(){var e=i('<div class="preImg-mask"><img src="'+a+'"/></div>');i("body").append(e),i(".preImg-mask").css({position:"absolute",padding:"4px",border:"1px solid #f3f3f3",backgroundColor:"#e8ecee",top:t.pageY-p+"px",zIndex:1e3}),t.pageX<r/2?i(".preImg-mask").css({left:t.pageX+n+"px",right:"auto"}).fadeIn("slow"):i(".preImg-mask").css("right",r-t.pageX+n+"px").css("left","auto").fadeIn("slow"),g.onload=null,g=null},g.src=a,o.mousemove(function(e){i(".preImg-mask").css("top",e.pageY-p+"px"),e.pageX<r/2?i(".preImg-mask").css("left",e.pageX+n+"px").css("right","auto"):i(".preImg-mask").css("right",r-e.pageX+n+"px").css("left","auto")})},function(){i(".preImg-mask").remove(),i(this).mousemove=null})})},o.exports=s});